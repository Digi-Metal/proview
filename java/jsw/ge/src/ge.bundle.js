!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=30)}([function(t,e,r){"use strict";function i(t){return t%2==0}function o(t){return t%2==1}function n(t,e,r){return t>r?r:t<e?e:t}var s,a,l,_,c,h,u,d,m,f,w;r.d(e,"o",function(){return i}),r.d(e,"p",function(){return o}),r.d(e,"n",function(){return n}),r.d(e,"j",function(){return s}),r.d(e,"a",function(){return l}),r.d(e,"b",function(){return _}),r.d(e,"k",function(){return c}),r.d(e,"m",function(){return h}),r.d(e,"l",function(){return u}),r.d(e,"h",function(){return p}),r.d(e,"g",function(){return b}),r.d(e,"c",function(){return g}),r.d(e,"e",function(){return m}),r.d(e,"d",function(){return f}),r.d(e,"f",function(){return y}),r.d(e,"i",function(){return x}),function(t){t[t.Bit=32769]="Bit",t[t.Boolean=98305]="Boolean",t[t.Float32=98306]="Float32",t[t.Float64=98307]="Float64",t[t.Char=98308]="Char",t[t.Int8=98309]="Int8",t[t.Int16=98310]="Int16",t[t.Int32=98311]="Int32",t[t.UInt8=98312]="UInt8",t[t.UInt16=98313]="UInt16",t[t.UInt32=98314]="UInt32",t[t.Objid=98315]="Objid",t[t.Buffer=98316]="Buffer",t[t.String=98317]="String",t[t.Enum=98318]="Enum",t[t.Struct=98319]="Struct",t[t.Mask=98320]="Mask",t[t.Array=98321]="Array",t[t.Time=98322]="Time",t[t.Text=98323]="Text",t[t.AttrRef=98324]="AttrRef",t[t.UInt64=98325]="UInt64",t[t.Int64=98326]="Int64",t[t.ClassId=98327]="ClassId",t[t.TypeId=98328]="TypeId",t[t.VolumeId=98329]="VolumeId",t[t.ObjectIx=98330]="ObjectIx",t[t.RefId=98331]="RefId",t[t.DeltaTime=98332]="DeltaTime",t[t.Status=98333]="Status",t[t.NetStatus=98334]="NetStatus",t[t.CastId=98335]="CastId",t[t.ProString=98336]="ProString",t[t.DisableAttr=98337]="DisableAttr",t[t.DataRef=98338]="DataRef"}(s||(s={})),function(t){t[t.RtRead=1]="RtRead",t[t.RtWrite=2]="RtWrite",t[t.System=4]="System",t[t.Maintenance=8]="Maintenance",t[t.Process=16]="Process",t[t.Instrument=32]="Instrument",t[t.Operator1=64]="Operator1",t[t.Operator2=128]="Operator2",t[t.Operator3=256]="Operator3",t[t.Operator4=512]="Operator4",t[t.Operator5=1024]="Operator5",t[t.Operator6=2048]="Operator6",t[t.Operator7=4096]="Operator7",t[t.Operator8=8192]="Operator8",t[t.Operator9=16384]="Operator9",t[t.Operator10=32768]="Operator10",t[t.RtEventsAck=262144]="RtEventsAck",t[t.RtPlc=524288]="RtPlc",t[t.RtNavigator=1048576]="RtNavigator",t[t.DevRead=2097152]="DevRead",t[t.DevPlc=4194304]="DevPlc",t[t.DevConfig=8388608]="DevConfig",t[t.DevClass=16777216]="DevClass",t[t.RtEventsBlock=33554432]="RtEventsBlock",t[t.Administrator=67108864]="Administrator",t[t.SevRead=134217728]="SevRead",t[t.SevAdmin=268435456]="SevAdmin"}(a||(a={})),function(t){t[t.RtRead=1]="RtRead",t[t.RtWrite=2]="RtWrite",t[t.System=4]="System",t[t.Maintenance=8]="Maintenance",t[t.Process=16]="Process",t[t.Instrument=32]="Instrument",t[t.RtEventsBlock=33554432]="RtEventsBlock",t[t.RtEventsAck=262144]="RtEventsAck",t[t.RtPlc=524288]="RtPlc",t[t.RtNavigator=1048576]="RtNavigator",t[t.AllRt=35454975]="AllRt",t[t.AllOperators=65472]="AllOperators",t[t.AllPwr=-1]="AllPwr"}(l||(l={})),function(t){t[t.Pointer=1]="Pointer",t[t.Array=2]="Array",t[t.Backup=4]="Backup",t[t.Changelog=8]="Changelog",t[t.State=16]="State",t[t.Const=32]="Const",t[t.Rtvirtual=64]="Rtvirtual",t[t.Devbodyref=128]="Devbodyref",t[t.Dynamic=256]="Dynamic",t[t.Publicwrite=512]="Publicwrite",t[t.Noedit=1024]="Noedit",t[t.Invisible=2048]="Invisible",t[t.Refdirect=4096]="Refdirect",t[t.Noinvert=8192]="Noinvert",t[t.Noremove=16384]="Noremove",t[t.Rtdbref=32768]="Rtdbref",t[t.Private=65536]="Private",t[t.Class=131072]="Class",t[t.Superclass=262144]="Superclass",t[t.Buffer=524288]="Buffer",t[t.Nowbl=1048576]="Nowbl",t[t.Alwayswbl=2097152]="Alwayswbl",t[t.Disableattr=4194304]="Disableattr",t[t.Rthide=8388608]="Rthide"}(_||(_={})),function(t){t[t.IsConfigured=1]="IsConfigured"}(c||(c={})),function(t){t[t.OpenGraph=1]="OpenGraph",t[t.OpenObjectGraph=2]="OpenObjectGraph",t[t.OpenTrend=4]="OpenTrend",t[t.OpenHistory=8]="OpenHistory",t[t.OpenFast=16]="OpenFast",t[t.Camera=32]="Camera",t[t.HistEvent=64]="HistEvent",t[t.BlockEvents=128]="BlockEvents",t[t.Help=256]="Help",t[t.Photo=512]="Photo",t[t.Note=1024]="Note",t[t.ParentObjectGraph=2048]="ParentObjectGraph"}(h||(h={})),function(t){t[t.OpenObject=1]="OpenObject",t[t.OpenTrace=2]="OpenTrace",t[t.RtNavigator=4]="RtNavigator",t[t.OpenCrossref=8]="OpenCrossref",t[t.HelpClass=16]="HelpClass",t[t.DataSheet=32]="DataSheet",t[t.CircuitDiagram=64]="CircuitDiagram",t[t.Simulate=-2147483648]="Simulate"}(u||(u={}));class p{constructor(t,e){this.oix=e,this.vid=t}}class b{}class g{constructor(t,e){this.value=t,this.sts=e}}!function(t){t[t.Min=65793]="Min",t[t.Max=16711422]="Max"}(d||(d={}));!function(t){t[t.Solid=0]="Solid",t[t.Dashed1=1]="Dashed1",t[t.Dashed2=2]="Dashed2",t[t.Dashed3=3]="Dashed3",t[t.Dotted=4]="Dotted",t[t.DotDashed1=5]="DotDashed1",t[t.DotDashed2=6]="DotDashed2"}(m||(m={})),function(t){t[t.No=0]="No",t[t.HorizontalUp=1]="HorizontalUp",t[t.HorizontalDown=2]="HorizontalDown",t[t.HorizontalTube1=3]="HorizontalTube1",t[t.HorizontalTube2=4]="HorizontalTube2",t[t.VerticalLeft=5]="VerticalLeft",t[t.VerticalRight=6]="VerticalRight",t[t.VerticalTube1=7]="VerticalTube1",t[t.VerticalTube2=8]="VerticalTube2",t[t.DiagonalUpperLeft=9]="DiagonalUpperLeft",t[t.DiagonalLowerLeft=10]="DiagonalLowerLeft",t[t.DiagonalUpperRight=11]="DiagonalUpperRight",t[t.DiagonalLowerRight=12]="DiagonalLowerRight",t[t.DiagonalUpTube=13]="DiagonalUpTube",t[t.DiagonalDownTube=14]="DiagonalDownTube",t[t.Globe=15]="Globe",t[t.RadialCenter=16]="RadialCenter",t[t.RadialUpperLeft=17]="RadialUpperLeft",t[t.RadialLowerLeft=18]="RadialLowerLeft",t[t.RadialUpperRight=19]="RadialUpperRight",t[t.RadialLowerRight=20]="RadialLowerRight"}(f||(f={}));!function(t){t[t._=0]="_",t[t.UserDefined=1]="UserDefined",t[t.OneSecond=2]="OneSecond",t[t.TenSeconds=3]="TenSeconds",t[t.OneMinute=4]="OneMinute",t[t.TenMinutes=5]="TenMinutes",t[t.OneHour=6]="OneHour",t[t.OneDay=7]="OneDay",t[t.OneWeek=8]="OneWeek",t[t.OneMonth=9]="OneMonth",t[t.OneYear=10]="OneYear",t[t.LastSecond=11]="LastSecond",t[t.LastTenSeconds=12]="LastTenSeconds",t[t.LastMinute=13]="LastMinute",t[t.LastTenMinutes=14]="LastTenMinutes",t[t.LastHour=15]="LastHour",t[t.Today=16]="Today",t[t.Yesterday=17]="Yesterday",t[t.ThisWeek=18]="ThisWeek",t[t.LastWeek=19]="LastWeek",t[t.ThisMonth=20]="ThisMonth",t[t.LastMonth=21]="LastMonth",t[t.ThisYear=22]="ThisYear",t[t.AllTime=23]="AllTime",t[t.__=24]="__"}(w||(w={}));class y{constructor(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}set(t){this.x=t.x,this.y=t.y}static add(t,e){return new y(t.x+e.x,t.y+e.y)}}class x{constructor(t=0,e=0,r=0,i=0){this.ll=new y(t,e),this.ur=new y(r,i)}set(t){this.ll.x=t.ll.x,this.ll.y=t.ll.y,this.ur.x=t.ur.x,this.ur.y=t.ur.y}width(){return this.ur.x-this.ll.x}height(){return this.ur.y-this.ll.y}static hit(t,e){return e.x>=t.ll.x&&e.x<=t.ur.x&&e.y>=t.ll.y&&e.y<=t.ur.y}static union(t,e){return new x(Math.min(t.ll.x,e.ll.x),Math.min(t.ll.y,e.ll.y),Math.max(t.ur.x,e.ur.x),Math.max(t.ur.y,e.ur.y))}}},,function(t,e,r){"use strict";r.d(e,"d",function(){return i}),r.d(e,"e",function(){return o}),r.d(e,"g",function(){return n}),r.d(e,"a",function(){return s}),r.d(e,"b",function(){return a}),r.d(e,"c",function(){return l}),r.d(e,"h",function(){return _}),r.d(e,"f",function(){return c});const i=9;var o,n,s,a,l,_,c;!function(t){t[t.Center=0]="Center",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.Up=3]="Up",t[t.Down=4]="Down"}(o||(o={})),function(t){t[t.Common=0]="Common",t[t.Document=1]="Document",t[t.Trace=2]="Trace",t[t.Safety=3]="Safety"}(n||(n={})),function(t){t[t.OneLine=0]="OneLine",t[t.MultiLine=1]="MultiLine"}(s||(s={})),function(t){t[t.Straight=0]="Straight",t[t.Fixed=1]="Fixed",t[t.AllFixed=2]="AllFixed",t[t.Routed=3]="Routed",t[t.StepDiv=4]="StepDiv",t[t.StepConv=5]="StepConv",t[t.TransDiv=6]="TransDiv",t[t.TransConv=7]="TransConv",t[t.StraightOneArrow=8]="StraightOneArrow",t[t.Reference=9]="Reference"}(a||(a={})),function(t){t[t.Rounded=0]="Rounded",t[t.Right=1]="Right"}(l||(l={})),function(t){t[t.Boolean=0]="Boolean",t[t.Int32=1]="Int32",t[t.Float32=2]="Float32",t[t.User=3]="User"}(_||(_={})),function(t){t[t.One=1]="One",t[t.Two=4]="Two",t[t.Three=8]="Three",t[t.Four=16]="Four",t[t.Five=32]="Five",t[t.Six=64]="Six"}(c||(c={}))},function(t,e,r){"use strict";var i;!function(t){t[t.Line=0]="Line",t[t.LineRed=1]="LineRed",t[t.LineGray=2]="LineGray",t[t.Color4=3]="Color4",t[t.Color5=4]="Color5",t[t.Color6=5]="Color6",t[t.Color7=6]="Color7",t[t.Color8=7]="Color8",t[t.Color9=8]="Color9",t[t.Color10=9]="Color10",t[t.Color11=10]="Color11",t[t.Color12=11]="Color12",t[t.Color13=12]="Color13",t[t.Color14=13]="Color14",t[t.Color15=14]="Color15",t[t.Color16=15]="Color16",t[t.Color17=16]="Color17",t[t.Color18=17]="Color18",t[t.Color19=18]="Color19",t[t.Color20=19]="Color20",t[t.Color21=20]="Color21",t[t.Color22=21]="Color22",t[t.Color23=22]="Color23",t[t.Color24=23]="Color24",t[t.Color25=24]="Color25",t[t.Color26=25]="Color26",t[t.Color27=26]="Color27",t[t.Color28=27]="Color28",t[t.Color29=28]="Color29",t[t.Color30=29]="Color30",t[t.Color31=30]="Color31",t[t.Color32=31]="Color32",t[t.Color33=32]="Color33",t[t.Color34=33]="Color34",t[t.Color35=34]="Color35",t[t.Color36=35]="Color36",t[t.Color37=36]="Color37",t[t.Color38=37]="Color38",t[t.Color39=38]="Color39",t[t.Color40=39]="Color40",t[t.Color41=40]="Color41",t[t.Color42=41]="Color42",t[t.Color43=42]="Color43",t[t.Color44=43]="Color44",t[t.Color45=44]="Color45",t[t.Color46=45]="Color46",t[t.Color47=46]="Color47",t[t.Color48=47]="Color48",t[t.Color49=48]="Color49",t[t.Color50=49]="Color50",t[t.Color51=50]="Color51",t[t.Color52=51]="Color52",t[t.Color53=52]="Color53",t[t.Color54=53]="Color54",t[t.Color55=54]="Color55",t[t.Color56=55]="Color56",t[t.Color57=56]="Color57",t[t.Color58=57]="Color58",t[t.Color59=58]="Color59",t[t.Color60=59]="Color60",t[t.Color61=60]="Color61",t[t.Color62=61]="Color62",t[t.Color63=62]="Color63",t[t.Color64=63]="Color64",t[t.Color65=64]="Color65",t[t.Color66=65]="Color66",t[t.Color67=66]="Color67",t[t.Color68=67]="Color68",t[t.Color69=68]="Color69",t[t.Color70=69]="Color70",t[t.Color71=70]="Color71",t[t.Color72=71]="Color72",t[t.Color73=72]="Color73",t[t.Color74=73]="Color74",t[t.Color75=74]="Color75",t[t.Color76=75]="Color76",t[t.Color77=76]="Color77",t[t.Color78=77]="Color78",t[t.Color79=78]="Color79",t[t.Color80=79]="Color80",t[t.Color81=80]="Color81",t[t.Color82=81]="Color82",t[t.Color83=82]="Color83",t[t.Color84=83]="Color84",t[t.Color85=84]="Color85",t[t.Color86=85]="Color86",t[t.Color87=86]="Color87",t[t.Color88=87]="Color88",t[t.Color89=88]="Color89",t[t.Color90=89]="Color90",t[t.Color91=90]="Color91",t[t.Color92=91]="Color92",t[t.Color93=92]="Color93",t[t.Color94=93]="Color94",t[t.Color95=94]="Color95",t[t.Color96=95]="Color96",t[t.Color97=96]="Color97",t[t.Color98=97]="Color98",t[t.Color99=98]="Color99",t[t.Color100=99]="Color100",t[t.Color101=100]="Color101",t[t.Color102=101]="Color102",t[t.Color103=102]="Color103",t[t.Color104=103]="Color104",t[t.Color105=104]="Color105",t[t.Color106=105]="Color106",t[t.Color107=106]="Color107",t[t.Color108=107]="Color108",t[t.Color109=108]="Color109",t[t.Color110=109]="Color110",t[t.Color111=110]="Color111",t[t.Color112=111]="Color112",t[t.Color113=112]="Color113",t[t.Color114=113]="Color114",t[t.Color115=114]="Color115",t[t.Color116=115]="Color116",t[t.Color117=116]="Color117",t[t.Color118=117]="Color118",t[t.Color119=118]="Color119",t[t.Color120=119]="Color120",t[t.Color121=120]="Color121",t[t.Color122=121]="Color122",t[t.Color123=122]="Color123",t[t.Color124=123]="Color124",t[t.Color125=124]="Color125",t[t.Color126=125]="Color126",t[t.Color127=126]="Color127",t[t.Color128=127]="Color128",t[t.Color129=128]="Color129",t[t.Color130=129]="Color130",t[t.Color131=130]="Color131",t[t.Color132=131]="Color132",t[t.Color133=132]="Color133",t[t.Color134=133]="Color134",t[t.Color135=134]="Color135",t[t.Color136=135]="Color136",t[t.Color137=136]="Color137",t[t.Color138=137]="Color138",t[t.Color139=138]="Color139",t[t.Color140=139]="Color140",t[t.Color141=140]="Color141",t[t.Color142=141]="Color142",t[t.Color143=142]="Color143",t[t.Color144=143]="Color144",t[t.Color145=144]="Color145",t[t.Color146=145]="Color146",t[t.Color147=146]="Color147",t[t.Color148=147]="Color148",t[t.Color149=148]="Color149",t[t.Color150=149]="Color150",t[t.Color151=150]="Color151",t[t.Color152=151]="Color152",t[t.Color153=152]="Color153",t[t.Color154=153]="Color154",t[t.Color155=154]="Color155",t[t.Color156=155]="Color156",t[t.Color157=156]="Color157",t[t.Color158=157]="Color158",t[t.Color159=158]="Color159",t[t.Color160=159]="Color160",t[t.Color161=160]="Color161",t[t.Color162=161]="Color162",t[t.Color163=162]="Color163",t[t.Color164=163]="Color164",t[t.Color165=164]="Color165",t[t.Color166=165]="Color166",t[t.Color167=166]="Color167",t[t.Color168=167]="Color168",t[t.Color169=168]="Color169",t[t.Color170=169]="Color170",t[t.Color171=170]="Color171",t[t.Color172=171]="Color172",t[t.Color173=172]="Color173",t[t.Color174=173]="Color174",t[t.Color175=174]="Color175",t[t.Color176=175]="Color176",t[t.Color177=176]="Color177",t[t.Color178=177]="Color178",t[t.Color179=178]="Color179",t[t.Color180=179]="Color180",t[t.Color181=180]="Color181",t[t.Color182=181]="Color182",t[t.Color183=182]="Color183",t[t.Color184=183]="Color184",t[t.Color185=184]="Color185",t[t.Color186=185]="Color186",t[t.Color187=186]="Color187",t[t.Color188=187]="Color188",t[t.Color189=188]="Color189",t[t.Color190=189]="Color190",t[t.Color191=190]="Color191",t[t.Color192=191]="Color192",t[t.Color193=192]="Color193",t[t.Color194=193]="Color194",t[t.Color195=194]="Color195",t[t.Color196=195]="Color196",t[t.Color197=196]="Color197",t[t.Color198=197]="Color198",t[t.Color199=198]="Color199",t[t.Color200=199]="Color200",t[t.Color201=200]="Color201",t[t.Color202=201]="Color202",t[t.Color203=202]="Color203",t[t.Color204=203]="Color204",t[t.Color205=204]="Color205",t[t.Color206=205]="Color206",t[t.Color207=206]="Color207",t[t.Color208=207]="Color208",t[t.Color209=208]="Color209",t[t.Color210=209]="Color210",t[t.Color211=210]="Color211",t[t.Color212=211]="Color212",t[t.Color213=212]="Color213",t[t.Color214=213]="Color214",t[t.Color215=214]="Color215",t[t.Color216=215]="Color216",t[t.Color217=216]="Color217",t[t.Color218=217]="Color218",t[t.Color219=218]="Color219",t[t.Color220=219]="Color220",t[t.Color221=220]="Color221",t[t.Color222=221]="Color222",t[t.Color223=222]="Color223",t[t.Color224=223]="Color224",t[t.Color225=224]="Color225",t[t.Color226=225]="Color226",t[t.Color227=226]="Color227",t[t.Color228=227]="Color228",t[t.Color229=228]="Color229",t[t.Color230=229]="Color230",t[t.Color231=230]="Color231",t[t.Color232=231]="Color232",t[t.Color233=232]="Color233",t[t.Color234=233]="Color234",t[t.Color235=234]="Color235",t[t.Color236=235]="Color236",t[t.Color237=236]="Color237",t[t.Color238=237]="Color238",t[t.Color239=238]="Color239",t[t.Color240=239]="Color240",t[t.Color241=240]="Color241",t[t.Color242=241]="Color242",t[t.Color243=242]="Color243",t[t.Color244=243]="Color244",t[t.Color245=244]="Color245",t[t.Color246=245]="Color246",t[t.Color247=246]="Color247",t[t.Color248=247]="Color248",t[t.Color249=248]="Color249",t[t.Color250=249]="Color250",t[t.Color251=250]="Color251",t[t.Color252=251]="Color252",t[t.Color253=252]="Color253",t[t.Color254=253]="Color254",t[t.Color255=254]="Color255",t[t.Color256=255]="Color256",t[t.Color257=256]="Color257",t[t.Color258=257]="Color258",t[t.Color259=258]="Color259",t[t.Color260=259]="Color260",t[t.Color261=260]="Color261",t[t.Color262=261]="Color262",t[t.Color263=262]="Color263",t[t.Color264=263]="Color264",t[t.Color265=264]="Color265",t[t.Color266=265]="Color266",t[t.Color267=266]="Color267",t[t.Color268=267]="Color268",t[t.Color269=268]="Color269",t[t.Color270=269]="Color270",t[t.Color271=270]="Color271",t[t.Color272=271]="Color272",t[t.Color273=272]="Color273",t[t.Color274=273]="Color274",t[t.Color275=274]="Color275",t[t.Color276=275]="Color276",t[t.Color277=276]="Color277",t[t.Color278=277]="Color278",t[t.Color279=278]="Color279",t[t.Color280=279]="Color280",t[t.Color281=280]="Color281",t[t.Color282=281]="Color282",t[t.Color283=282]="Color283",t[t.Color284=283]="Color284",t[t.Color285=284]="Color285",t[t.Color286=285]="Color286",t[t.Color287=286]="Color287",t[t.Color288=287]="Color288",t[t.Color289=288]="Color289",t[t.Color290=289]="Color290",t[t.Color291=290]="Color291",t[t.Color292=291]="Color292",t[t.Color293=292]="Color293",t[t.Color294=293]="Color294",t[t.Color295=294]="Color295",t[t.Color296=295]="Color296",t[t.Color297=296]="Color297",t[t.Color298=297]="Color298",t[t.Color299=298]="Color299",t[t.Color300=299]="Color300",t[t.LineErase=300]="LineErase",t[t.LineDashed=301]="LineDashed",t[t.LineDashedRed=302]="LineDashedRed",t[t.TextHelvetica=303]="TextHelvetica",t[t.TextHelveticaBold=304]="TextHelveticaBold",t[t.TextHelveticaErase=305]="TextHelveticaErase",t[t.TextHelveticaEraseBold=306]="TextHelveticaEraseBold",t[t.Color__=307]="Color__",t[t.CustomColor1=310]="CustomColor1",t[t.CustomColor2=314]="CustomColor2",t[t.CustomColor3=318]="CustomColor3",t[t.CustomColor4=322]="CustomColor4",t[t.CustomColor5=326]="CustomColor5",t[t.CustomColor6=330]="CustomColor6",t[t.CustomColor7=334]="CustomColor7",t[t.CustomColor8=338]="CustomColor8",t[t.CustomColor9=342]="CustomColor9",t[t.CustomColor10=346]="CustomColor10",t[t.CustomColor11=350]="CustomColor11",t[t.CustomColor12=354]="CustomColor12",t[t.CustomColor13=358]="CustomColor13",t[t.CustomColor14=362]="CustomColor14",t[t.CustomColor15=366]="CustomColor15",t[t.CustomColor16=370]="CustomColor16",t[t.CustomColor17=374]="CustomColor17",t[t.CustomColor18=378]="CustomColor18",t[t.CustomColor19=382]="CustomColor19",t[t.CustomColor20=386]="CustomColor20",t[t.CustomColor21=390]="CustomColor21",t[t.CustomColor22=394]="CustomColor22",t[t.CustomColor23=398]="CustomColor23",t[t.CustomColor24=402]="CustomColor24",t[t.CustomColor25=406]="CustomColor25",t[t.CustomColor26=410]="CustomColor26",t[t.CustomColor27=414]="CustomColor27",t[t.CustomColor28=418]="CustomColor28",t[t.CustomColor29=422]="CustomColor29",t[t.CustomColor30=426]="CustomColor30",t[t.CustomColor31=430]="CustomColor31",t[t.CustomColor32=434]="CustomColor32",t[t.CustomColor33=438]="CustomColor33",t[t.CustomColor34=442]="CustomColor34",t[t.CustomColor35=446]="CustomColor35",t[t.CustomColor36=450]="CustomColor36",t[t.CustomColor37=454]="CustomColor37",t[t.CustomColor38=458]="CustomColor38",t[t.CustomColor39=462]="CustomColor39",t[t.CustomColor40=466]="CustomColor40",t[t.CustomColor41=470]="CustomColor41",t[t.CustomColor42=474]="CustomColor42",t[t.CustomColor43=478]="CustomColor43",t[t.CustomColor44=482]="CustomColor44",t[t.CustomColor45=486]="CustomColor45",t[t.CustomColor46=490]="CustomColor46",t[t.CustomColor47=494]="CustomColor47",t[t.CustomColor48=498]="CustomColor48",t[t.CustomColor49=502]="CustomColor49",t[t.CustomColor50=506]="CustomColor50",t[t.CustomColor51=510]="CustomColor51",t[t.CustomColor52=514]="CustomColor52",t[t.CustomColor53=518]="CustomColor53",t[t.CustomColor54=522]="CustomColor54",t[t.CustomColor55=524]="CustomColor55",t[t.CustomColor56=530]="CustomColor56",t[t.CustomColor57=534]="CustomColor57",t[t.CustomColor58=538]="CustomColor58",t[t.CustomColor59=542]="CustomColor59",t[t.CustomColor60=546]="CustomColor60",t[t.CustomColor61=550]="CustomColor61",t[t.CustomColor62=554]="CustomColor62",t[t.CustomColor63=558]="CustomColor63",t[t.CustomColor64=562]="CustomColor64",t[t.CustomColor65=566]="CustomColor65",t[t.CustomColor66=570]="CustomColor66",t[t.CustomColor67=574]="CustomColor67",t[t.CustomColor68=578]="CustomColor68",t[t.CustomColor69=582]="CustomColor69",t[t.CustomColor70=586]="CustomColor70",t[t.CustomColor71=590]="CustomColor71",t[t.CustomColor72=594]="CustomColor72",t[t.CustomColor73=598]="CustomColor73",t[t.CustomColor74=602]="CustomColor74",t[t.CustomColor75=606]="CustomColor75",t[t.CustomColor76=610]="CustomColor76",t[t.CustomColor77=614]="CustomColor77",t[t.CustomColor78=618]="CustomColor78",t[t.CustomColor79=622]="CustomColor79",t[t.CustomColor80=626]="CustomColor80",t[t.CustomColor81=630]="CustomColor81",t[t.CustomColor82=634]="CustomColor82",t[t.CustomColor83=638]="CustomColor83",t[t.CustomColor84=642]="CustomColor84",t[t.CustomColor85=646]="CustomColor85",t[t.CustomColor86=650]="CustomColor86",t[t.CustomColor87=654]="CustomColor87",t[t.CustomColor88=658]="CustomColor88",t[t.CustomColor89=662]="CustomColor89",t[t.CustomColor90=666]="CustomColor90",t[t.CustomColor__=670]="CustomColor__",t[t._=670]="_",t[t.Green=671]="Green",t[t.Yellow=672]="Yellow",t[t.Inherit=9999]="Inherit",t[t.No=1e4]="No",t[t.FillHighlight=173]="FillHighlight",t[t.LineHighlight=175]="LineHighlight",t[t.ColorYellow=114]="ColorYellow",t[t.ColorRed=176]="ColorRed",t[t.DarkGray=29]="DarkGray",t[t.MediumGray=24]="MediumGray",t[t.LightGray=20]="LightGray"}(i||(i={})),e.a=i},function(t,e,r){"use strict";r.d(e,"b",function(){return l}),r.d(e,"a",function(){return _});var i=r(0),o=r(8),n=r(3);class s{constructor(t,e,r,i){this.s=t,this.i_min=e,this.i_max=r,this.a=i}}class a{constructor(t,e,r){this.h=t,this.hk=e,this.s=r}}class l{constructor(t,e,r){this.r=Object(i.n)(t,0,1),this.g=Object(i.n)(e,0,1),this.b=Object(i.n)(r,0,1)}}class _{static is_shiftable(t){return t>=20&&t<=n.a.Color300}static is_custom(t){return t>=n.a.CustomColor1&&t<=n.a.CustomColor__}static shift_drawtype(t,e,r){let i;if(e=Math.floor(e),null!==r&&r.getColorInverse()&&(e=-e),this.is_shiftable(t)){let r=10*Math.floor(t/10),o=e+t-r;i=o<0?n.a.Color4:o>=10?n.a.Color30:r+o}else i=this.is_custom(t)?-1===e?t+3:e<0?t+2:e>0?t+1:t:t;return Math.floor(i)}static get_drawtype(t,e,r,i,s,a){let l,_=null===i?0:i.getColorLightness(),c=null===i?0:i.getColorIntensity();if(r&&!a)l=e;else if(r&&a&&!s&&t===n.a.Line)l=e;else{if(null!==i&&i.getColorTone()!==o.a.No){let e=i.getColorTone();t>30&&t<300?e===o.a.LightGrayHighSaturation?l=n.a.Color31:e===o.a.DarkGrayHighSaturation?l=n.a.Color30:(e>=o.a.GrayHighSaturation&&e<o.a.GrayLowSaturation?(e-=27,c+=2):e>=o.a.GrayLowSaturation&&(e-=54,c-=1),e>=o.a.DarkGray&&e<o.a.LightGray?(e-=9,_-=2):e>=o.a.LightGray&&(e-=18,_+=2),l=t-30*Math.floor(t/30)+30*e):l=t}else l=null!==i&&1===s&&i.getFillDrawtype()!==n.a.No?i.getFillDrawtype():null!==i&&2===s&&i.getTextDrawtype()!==n.a.No?i.getTextDrawtype():null!==i&&3===s&&i.getBackgroundDrawtype()!==n.a.No?i.getBackgroundDrawtype():null===i||s||i.getDrawtype()===n.a.No?t:i.getDrawtype();if(null!==i&&_&&t>=30&&l<300){let t=10*Math.floor(l/10),e=-_+l-t;l=e<0?n.a.Color4:e>=10?n.a.Color30:t+e}if(null!==i&&c&&l>=60){let t=30*Math.floor(l/30),e=l-t;(l+=10*Math.min(2-Math.floor(e/10),c))<t&&(l=n.a.Color41+e)}if(null!==i&&i.getColorShift()&&l>=60&&l<300){let t=i.getColorShift()-8*Math.floor(i.getColorShift()/8);t<0&&(t+=8),(t=l+30*t)>=300&&(t-=240),l=t}null!==i&&i.getColorInverse()&&(l>=30&&l<300?l=l+10-l%10*2-1:this.is_custom(l)&&((l-n.a.CustomColor1)%4==1?l+=1:(l-n.a.CustomColor1)%4==2?l-=1:(l-n.a.CustomColor1)%4==3&&(l-=2))),null!==i&&i.getDimmed()&&(0===l?l=25:l>=26&&l<=29?l-=4:l>=36&&l<=39?l-=4:l>=46&&l<=49?l-=4:l>=56&&l<=59?l-=4:this.is_custom(l)&&(l===n.a.CustomColor37&&(l=n.a.CustomColor40),l===n.a.CustomColor38&&(l=n.a.CustomColor39)))}return l>=0&&l<=n.a.Color__||l>=n.a.CustomColor1&&l<n.a.CustomColor__||(console.log("** Invalid drawtype : ",l),l=n.a.Line),l}static rgb_color(t,e){if(300===t&&(t=31),0===t)return new l(0,0,0);if(2===t)return new l(.75,.75,.75);if(1===t)return new l(1,0,0);if(3===t)return new l(1,1,1);if(t<20)return this.his_to_rgb(360*(t-4)/16,1,1.5);if(t<60){let e=_.gray_i0;(t<30||t>=50&&t<60)&&(e=.25);let r=e+(_.gray_i1-e)*Math.pow((9-t%10)/9,.9);return new l(r,r,r)}if(t<300){let e=Math.floor((t-60)/30),r=Math.floor((t-60-30*e)/10),i=9-(t-60-30*e-10*r);if(0===e&&2===r||2===e&&2===r&&i>5)return new l(this.rgbtab[10*e+i].r,this.rgbtab[10*e+i].g,this.rgbtab[10*e+i].b);{let t=this.ctab[e].s[r].s,o=this.ctab[e].s[r].i_min+(this.ctab[e].s[r].i_max-this.ctab[e].s[r].i_min)*Math.pow(i/9,this.ctab[e].s[r].a),n=this.ctab[e].h+this.ctab[e].hk*i/9;return this.his_to_rgb(n,o,t)}}return t>=n.a.CustomColor1&&t<n.a.CustomColor__?e?e.get_color(t):new l(1,1,1):new l(0,0,0)}static his_to_rgb(t,e,r){let i=r*Math.sin(t*Math.PI/180),o=r*Math.cos(t*Math.PI/180),n=e/Math.sqrt(3),s=2*i/Math.sqrt(6)+n/Math.sqrt(3),a=-i/Math.sqrt(6)+o/Math.sqrt(2)+n/Math.sqrt(3),_=-i/Math.sqrt(6)-o/Math.sqrt(2)+n/Math.sqrt(3);return new l(s/2+.5,a/2+.5,_/2+.5)}}_.gray_i0=.32,_.gray_i1=.95,_.ctab=[new a(18,-20,[new s(.2,-1.4,2.8,.9),new s(.5,-1.4,3,.9),new s(1.5,-3.5,5,1)]),new a(28,10,[new s(.2,-1.4,2.8,.9),new s(.5,-1.4,3,.9),new s(1.5,-3.5,5,1)]),new a(45,20,[new s(.2,-1.3,2.8,.9),new s(.5,-1.3,3,.9),new s(1.5,-3.5,4.5,1)]),new a(90,0,[new s(.2,-1.1,2.8,.9),new s(.5,-1.1,3,.9),new s(1.5,-4.5,4.5,.8)]),new a(150,0,[new s(.2,-1,2.8,.9),new s(.5,-1,3,.9),new s(1.5,-3.5,5.9,1)]),new a(240,0,[new s(.2,-1,2.8,.9),new s(.4,-1,3,.9),new s(1.5,-3.5,5.5,.8)]),new a(280,0,[new s(.2,-1,2.8,.9),new s(.4,-1,3,.9),new s(1.5,-3.5,5.5,1.2)]),new a(355,-20,[new s(.2,-1,2.8,.9),new s(.4,-1,3,.9),new s(1.5,-4.5,3.5,1)])],_.rgbtab=[new l(.254,.329,0),new l(.357,.459,0),new l(.498,.639,0),new l(.624,.8,0),new l(.764,.976,0),new l(.808,1,.129),new l(.847,1,.31),new l(.898,1,.537),new l(.933,1,.71),new l(.949,1,.776),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(0,0,0),new l(1,.725,.42),new l(1,.796,.569),new l(1,.886,.667),new l(1,.937,.82)]},function(t,e,r){"use strict";var i,o,n,s,a,l=r(0);class _{constructor(t){this.offset=0,this.dv=new DataView(t),this.tag=this.getUint8(),this.id=this.getUint32(),this.sts=this.getUint32()}getUint8(){return this.offset+=1,this.dv.getUint8(this.offset-1)}getUint16(){return this.offset+=2,this.dv.getUint16(this.offset-2)}getInt32(){return this.offset+=4,this.dv.getInt32(this.offset-4)}getUint32(){return this.offset+=4,this.dv.getUint32(this.offset-4)}getFloat32(){return this.offset+=4,this.dv.getFloat32(this.offset-4)}getString(){let t=this.getUint16(),e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.getUint8();return String.fromCharCode.apply(null,e)}}class c{constructor(t,e,r=null,i=null){this.ws=null,this.pending=[],this.pack8Bit=t=>this.reqData.push(255&t),this.ws=new WebSocket("ws://"+t+":"+String(e)),this.ws.binaryType="arraybuffer";let o=this;this.ws.onmessage=function(t){let e=new DataView(t.data).getUint32(1);(0,o.pending[e])(new _(t.data)),delete o.pending[e]},this.ws.onopen=function(){null!==r&&r()},this.ws.onclose=function(){o.reset()},this.ws.onerror=function(t){console.error("WebSocket error observed:",t),null!==i&&i()}}sendRequest(){let t=this;return new Promise((e,r)=>{t.pending[c.next_id]=e,c.next_id++,t.ws.send(Uint8Array.from(t.reqData))})}beginRequest(t){this.reqData=[t,0],this.pack32Bit(c.next_id)}reset(){this.pending=[]}pack16Bit(t){this.reqData.push(255&t),this.reqData.push(t>>8&255)}pack32Bit(t){this.reqData.push(255&t),this.reqData.push(t>>8&255),this.reqData.push(t>>16&255),this.reqData.push(t>>24&255)}packString(t){this.pack16Bit(t.length);for(let e=0;e<t.length;e++)this.reqData.push(t.charCodeAt(e))}}c.next_id=1234,r.d(e,"e",function(){return i}),r.d(e,"b",function(){return o}),r.d(e,"c",function(){return n}),r.d(e,"a",function(){return f}),r.d(e,"f",function(){return s}),r.d(e,"d",function(){return g}),function(t){t[t.Ack=1]="Ack",t[t.Block=2]="Block",t[t.Cancel=3]="Cancel",t[t.CancelBlock=4]="CancelBlock",t[t.Missing=5]="Missing",t[t.Reblock=6]="Reblock",t[t.Return=7]="Return",t[t.Unblock=8]="Unblock",t[t.InfoSuccess=32]="InfoSuccess",t[t.Alarm=64]="Alarm",t[t.MaintenanceAlarm=128]="MaintenanceAlarm",t[t.SystemAlarm=256]="SystemAlarm",t[t.UserAlarm1=512]="UserAlarm1",t[t.UserAlarm2=1024]="UserAlarm2",t[t.UserAlarm3=2048]="UserAlarm3",t[t.UserAlarm4=4096]="UserAlarm4",t[t.Info=8192]="Info"}(i||(i={})),function(t){t[t.D=64]="D",t[t.C=65]="C",t[t.B=66]="B",t[t.A=67]="A"}(o||(o={})),function(t){t[t.NotRet=1]="NotRet",t[t.NotAck=2]="NotAck",t[t.Block=4]="Block"}(n||(n={}));class h{}class u{}class d{}class m{}class f{}class w{}class p{constructor(){this.buttons=[]}}class b{}!function(t){t[t.GET_OP_SELF=1]="GET_OP_SELF",t[t.GET_OP_METHOD_PLC=2]="GET_OP_METHOD_PLC",t[t.GET_OP_METHOD_OBJECTGRAPH=3]="GET_OP_METHOD_OBJECTGRAPH",t[t.GET_OP_METHOD_GRAPH=4]="GET_OP_METHOD_GRAPH",t[t.GET_OP_METHOD_HELPCLASS=5]="GET_OP_METHOD_HELPCLASS"}(s||(s={})),function(t){t[t.SET_OBJECT_INFO_BOOLEAN=1]="SET_OBJECT_INFO_BOOLEAN",t[t.SET_OBJECT_INFO_FLOAT=2]="SET_OBJECT_INFO_FLOAT",t[t.SET_OBJECT_INFO_INT=3]="SET_OBJECT_INFO_INT",t[t.SET_OBJECT_INFO_STRING=4]="SET_OBJECT_INFO_STRING",t[t.GET_OBJECT_INFO_BOOLEAN=5]="GET_OBJECT_INFO_BOOLEAN",t[t.GET_OBJECT_INFO_FLOAT=6]="GET_OBJECT_INFO_FLOAT",t[t.GET_OBJECT_INFO_INT=7]="GET_OBJECT_INFO_INT",t[t.GET_OBJECT_INFO_STRING=8]="GET_OBJECT_INFO_STRING",t[t.TOGGLE_OBJECT_INFO=9]="TOGGLE_OBJECT_INFO",t[t.REF_OBJECT_INFO=10]="REF_OBJECT_INFO",t[t.GET_OBJECT_REF_INFO_BOOLEAN=11]="GET_OBJECT_REF_INFO_BOOLEAN",t[t.GET_OBJECT_REF_INFO_FLOAT=12]="GET_OBJECT_REF_INFO_FLOAT",t[t.GET_OBJECT_REF_INFO_INT=13]="GET_OBJECT_REF_INFO_INT",t[t.GET_OBJECT_REF_INFO_STRING=14]="GET_OBJECT_REF_INFO_STRING",t[t.UNREF_OBJECT_INFO=15]="UNREF_OBJECT_INFO",t[t.NAME_TO_OBJID=16]="NAME_TO_OBJID",t[t.OBJID_TO_NAME=17]="OBJID_TO_NAME",t[t.GET_ROOT_LIST=18]="GET_ROOT_LIST",t[t.GET_NEXT_OBJECT=19]="GET_NEXT_OBJECT",t[t.GET_CHILD=20]="GET_CHILD",t[t.GET_NEXT_SIBLING=21]="GET_NEXT_SIBLING",t[t.GET_OBJECT_CLASS=22]="GET_OBJECT_CLASS",t[t.GET_CLASS_LIST=23]="GET_CLASS_LIST",t[t.CLASS_ID_TO_OBJID=24]="CLASS_ID_TO_OBJID",t[t.GET_OBJECT_REF_INFO_ALL=25]="GET_OBJECT_REF_INFO_ALL",t[t.REF_OBJECT_INFO_LIST=26]="REF_OBJECT_INFO_LIST",t[t.POLL=27]="POLL",t[t.STATISTICS=28]="STATISTICS",t[t.CHECK_USER=29]="CHECK_USER",t[t.GET_NODE_OBJECT=30]="GET_NODE_OBJECT",t[t.LOG_STRING=31]="LOG_STRING",t[t.UNREF_OBJECT_INFO_ALL=32]="UNREF_OBJECT_INFO_ALL",t[t.CREATE_INSTANCE_FILE=33]="CREATE_INSTANCE_FILE",t[t.GET_ATTRIBUTE_CHAR=34]="GET_ATTRIBUTE_CHAR",t[t.GET_CLASS_ATTRIBUTE=35]="GET_CLASS_ATTRIBUTE",t[t.GET_ALL_CLASS_ATTRIBUTES=36]="GET_ALL_CLASS_ATTRIBUTES",t[t.GET_ALL_SIBLINGS=37]="GET_ALL_SIBLINGS",t[t.GET_ALL_XTT_SIBLINGS=38]="GET_ALL_XTT_SIBLINGS",t[t.GET_ALL_XTT_CHILDREN=39]="GET_ALL_XTT_CHILDREN",t[t.REF_OBJECT_INFO_VECTOR=40]="REF_OBJECT_INFO_VECTOR",t[t.GET_SUBSCRIPTIONS=41]="GET_SUBSCRIPTIONS",t[t.CRR_SIGNAL=42]="CRR_SIGNAL",t[t.CRR_OBJECT=43]="CRR_OBJECT",t[t.GET_PARENT=44]="GET_PARENT",t[t.GET_OBJECT_INFO_OBJID=45]="GET_OBJECT_INFO_OBJID",t[t.GET_OBJECT_REF_INFO_BOOLEAN_ARRAY=46]="GET_OBJECT_REF_INFO_BOOLEAN_ARRAY",t[t.GET_OBJECT_REF_INFO_FLOAT_ARRAY=47]="GET_OBJECT_REF_INFO_FLOAT_ARRAY",t[t.GET_OBJECT_REF_INFO_INT_ARRAY=48]="GET_OBJECT_REF_INFO_INT_ARRAY",t[t.GET_OBJECT_REF_INFO_STRING_ARRAY=49]="GET_OBJECT_REF_INFO_STRING_ARRAY",t[t.GET_MSG=50]="GET_MSG",t[t.GET_MSG_TEXT=51]="GET_MSG_TEXT",t[t.NAME_TO_ATTRREF=52]="NAME_TO_ATTRREF",t[t.ATTRREF_TO_NAME=53]="ATTRREF_TO_NAME",t[t.GET_ATTRREF_TID=54]="GET_ATTRREF_TID",t[t.GET_SUPER_CLASS=55]="GET_SUPER_CLASS",t[t.GET_ALL_CLASS_ATTRIBUTES_STRING=56]="GET_ALL_CLASS_ATTRIBUTES_STRING",t[t.GET_OBJECT_INFO_FLOAT_ARRAY=57]="GET_OBJECT_INFO_FLOAT_ARRAY",t[t.GET_OBJECT_INFO_INT_ARRAY=58]="GET_OBJECT_INFO_INT_ARRAY",t[t.GET_CIRCBUFF_INFO=59]="GET_CIRCBUFF_INFO",t[t.UPDATE_CIRCBUFF_INFO=60]="UPDATE_CIRCBUFF_INFO",t[t.GET_ATTRIBUTE_FLAGS=61]="GET_ATTRIBUTE_FLAGS",t[t.CLASSNAME_TO_ID=62]="CLASSNAME_TO_ID",t[t.GET_OBJECT=63]="GET_OBJECT",t[t.GET_OPWIND_MENU=64]="GET_OPWIND_MENU",t[t.GET_OBJECT_FROM_NAME=65]="GET_OBJECT_FROM_NAME",t[t.MH_SYNC=66]="MH_SYNC",t[t.MH_ACK=67]="MH_ACK",t[t.GET_OBJECT_FROM_AREF=68]="GET_OBJECT_FROM_AREF"}(a||(a={}));class g{static init(){return new Promise((t,e)=>{g.ws=new c(localStorage.getItem("HOST"),g.PORT,()=>{t()})})}static getObjectInfoBoolean(t){return g.ws.beginRequest(a.GET_OBJECT_INFO_BOOLEAN),g.ws.packString(t),g.ws.sendRequest().then(function(t){let e=t.getUint8();return{sts:t.sts,value:e}})}static getObjectInfoInt(t){return g.ws.beginRequest(a.GET_OBJECT_INFO_INT),g.ws.packString(t),g.ws.sendRequest().then(function(t){let e=t.getUint32();return{sts:t.sts,value:e}})}static getObjectInfoIntArray(t,e){return g.ws.beginRequest(a.GET_OBJECT_INFO_INT_ARRAY),g.ws.pack32Bit(e),g.ws.packString(t),g.ws.sendRequest().then(function(t){let e=t.getInt32();for(let r=0;r<e;r++)(void 0).push(t.getUint32());return{sts:t.sts,value:void 0}})}static getObjectInfoFloat(t){return g.ws.beginRequest(a.GET_OBJECT_INFO_FLOAT),g.ws.packString(t),g.ws.sendRequest().then(function(t){let e=t.getFloat32();return{sts:t.sts,value:e}})}static getObjectInfoFloatArray(t,e){return g.ws.beginRequest(a.GET_OBJECT_INFO_FLOAT_ARRAY),g.ws.pack32Bit(e),g.ws.packString(t),g.ws.sendRequest().then(function(t){let e=t.getInt32();for(let r=0;r<e;r++)(void 0).push(t.getFloat32());return{sts:t.sts,value:void 0}})}static refObjectInfo(t,e,r){let i=new d;return i.name=t,i.refid=g.subscriptionCount,i.type=e,i.elements=r,g.sub[g.subscriptionCount]=i,g.subscriptionCount++,g.ws.beginRequest(a.REF_OBJECT_INFO),g.ws.pack32Bit(i.refid),g.ws.pack32Bit(i.elements),g.ws.packString(i.name),g.ws.sendRequest(),i.refid}static unrefObjectInfo(t){g.ws.beginRequest(a.UNREF_OBJECT_INFO),g.ws.pack32Bit(t),delete g.sub[t],g.ws.sendRequest()}static getRefObjectInfoAll(t){g.ws.beginRequest(a.GET_OBJECT_REF_INFO_ALL),g.ws.sendRequest().then(function(e){let r=e.getUint32();for(let t=0;t<r;t++){let t=e.getUint32(),r=e.getUint32(),i=g.sub[t];if(void 0!==i){let o;switch(i.type){case l.j.Boolean:if(i.elements<=1)o=e.getUint8();else{let n=r;n!==i.elements&&console.log("Subscription size error",n,i.elements,t),o=new Array(n);for(let t=0;t<n;t++)o[t]=e.getUint8()}break;case l.j.Float32:if(i.elements<=1)o=e.getFloat32();else{let n=r/4;n!==i.elements&&console.log("Subscription size error",n,i.elements,t),o=new Array(n);for(let t=0;t<n;t++)o[t]=e.getFloat32()}break;case l.j.Int8:case l.j.Int16:case l.j.Int32:case l.j.UInt8:case l.j.UInt16:case l.j.UInt32:case l.j.Status:case l.j.NetStatus:case l.j.Mask:case l.j.Enum:case l.j.Bit:if(i.elements<=1)o=e.getInt32();else{let n=r/4;n!==i.elements&&console.log("Subscription size error",n,i.elements,t),o=new Array(n);for(let t=0;t<n;t++)o[t]=e.getInt32()}break;case l.j.String:case l.j.Time:case l.j.DeltaTime:case l.j.AttrRef:case l.j.Objid:if(i.elements<=1)o=e.getString();else{let r=i.elements;r!==i.elements&&console.log("Subscription size error",r,i.elements,t),o=new Array(r);for(let t=0;t<r;t++)o[t]=e.getString()}}g.sub[t].value=o}}t()})}static getObjectRefInfo(t){return g.sub[t].value}static setObjectInfoBoolean(t,e){g.ws.beginRequest(a.SET_OBJECT_INFO_BOOLEAN),g.ws.pack32Bit(e),g.ws.packString(t),g.ws.sendRequest()}static setObjectInfoInt(t,e){g.ws.beginRequest(a.SET_OBJECT_INFO_INT),g.ws.pack32Bit(e),g.ws.packString(t),g.ws.sendRequest()}static setObjectInfoFloat(t,e){g.ws.beginRequest(a.SET_OBJECT_INFO_FLOAT);let r=new ArrayBuffer(4);new Float32Array(r)[0]=e;let i=new Uint8Array(r);g.ws.reqData.push(i[0]),g.ws.reqData.push(i[1]),g.ws.reqData.push(i[2]),g.ws.reqData.push(i[3]),g.ws.packString(t),g.ws.sendRequest()}static setObjectInfoString(t,e){g.ws.beginRequest(a.SET_OBJECT_INFO_STRING),g.ws.packString(e),g.ws.packString(t),g.ws.sendRequest()}static setObjectInfo(t,e,r){r===l.j.Boolean?g.setObjectInfoBoolean(t,e):r===l.j.Float32||r===l.j.Float64?g.setObjectInfoFloat(t,e):r===l.j.String?g.setObjectInfoString(t,e):g.setObjectInfoInt(t,e)}static toggleObjectInfo(t){g.ws.beginRequest(a.TOGGLE_OBJECT_INFO),g.ws.packString(t),g.ws.sendRequest()}static getAllXttChildren(t){return g.ws.beginRequest(a.GET_ALL_XTT_CHILDREN),g.ws.pack32Bit(t.vid),g.ws.pack32Bit(t.oix),g.ws.sendRequest().then(function(t){let e=[],r=t.getUint32();for(let i=0;i<r;i++){let r=new m,i=t.getUint32(),o=t.getUint32();r.objid=new l.h(i,o),r.cid=t.getUint32(),r.has_children=0!==t.getUint16(),r.name=t.getString(),r.description=t.getString(),r.classname=t.getString(),e.push(r)}return{sts:t.sts,value:e}})}static getAllClassAttributes(t,e){return g.ws.beginRequest(a.GET_ALL_CLASS_ATTRIBUTES),g.ws.pack32Bit(t),g.ws.pack32Bit(e.vid),g.ws.pack32Bit(e.oix),g.ws.sendRequest().then(function(t){let e=[],r=t.getUint32();for(let i=0;i<r;i++){let r=new f;r.type=t.getUint32(),r.flags=t.getUint32(),r.size=t.getUint16(),r.elements=t.getUint16(),r.name=t.getString(),r.classname=t.getString(),e.push(r)}return{sts:t.sts,value:e}})}static unpackGetObject(t){let e=null;if(Object(l.p)(t.sts)){e=new m;let r=t.getUint32(),i=t.getUint32();e.objid=new l.h(r,i),e.cid=t.getUint32(),e.has_children=0!==t.getUint16(),e.name=t.getString(),e.fullname=t.getString(),e.classname=t.getString(),e.description=t.getString(),e.param1=t.getString()}return{sts:t.sts,value:e}}static getObject(t,e){return g.ws.beginRequest(a.GET_OBJECT),g.ws.pack16Bit(e),g.ws.pack32Bit(t.vid),g.ws.pack32Bit(t.oix),g.ws.sendRequest().then(g.unpackGetObject)}static getObjectFromAref(t,e){return g.ws.beginRequest(a.GET_OBJECT_FROM_AREF),g.ws.pack16Bit(e),g.ws.pack32Bit(t.objid.vid),g.ws.pack32Bit(t.objid.oix),g.ws.pack32Bit(t.offset),g.ws.pack32Bit(t.body),g.ws.pack32Bit(t.size),g.ws.pack32Bit(t.flags),g.ws.sendRequest().then(g.unpackGetObject)}static getObjectFromName(t,e){return g.ws.beginRequest(a.GET_OBJECT_FROM_NAME),g.ws.pack16Bit(e),g.ws.packString(t),g.ws.sendRequest().then(g.unpackGetObject)}static crrSignal(t){return g.ws.beginRequest(a.CRR_SIGNAL),g.ws.pack32Bit(t.vid),g.ws.pack32Bit(t.oix),g.ws.sendRequest().then(function(t){let e=[];if(Object(l.p)(t.sts)){let r=t.getUint16();for(let i=0;i<r;i++){let r=new b;r.type=t.getUint16();let i=t.getUint32(),o=t.getUint32();r.objid=new l.h(i,o),r.name=t.getString(),r.classname=t.getString(),e.push(r)}}return{sts:t.sts,value:e}})}static getOpwindMenu(t){return g.ws.beginRequest(a.GET_OPWIND_MENU),g.ws.packString(t),g.ws.sendRequest().then(function(t){let e=new p;if(Object(l.p)(t.sts)){e.title=t.getString(),e.text=t.getString(),e.enable_language=t.getUint32(),e.enable_login=t.getUint32(),e.enable_alarmlist=t.getUint32(),e.enable_eventlog=t.getUint32(),e.enable_navigator=t.getUint32(),e.disable_help=t.getUint32(),e.disable_proview=t.getUint32(),e.language=t.getUint32();let r=t.getUint16();for(let i=0;i<r;i++){let r=new w;r.type=t.getUint32(),r.text=t.getString(),r.name=t.getString(),r.url=t.getString(),e.buttons.push(r)}}return{sts:t.sts,value:e}})}static login(t,e){return g.ws.beginRequest(a.CHECK_USER),g.ws.packString(t),g.ws.packString(e),g.ws.sendRequest().then(function(t){let e=Object(l.p)(t.sts)?t.getUint32():0;return{sts:t.sts,value:e}})}static getMsg(t){return g.ws.beginRequest(a.GET_MSG),g.ws.pack32Bit(t),g.ws.sendRequest().then(function(t){let e=Object(l.p)(t.sts)?t.getString():"";return{sts:t.sts,value:e}})}static mhSync(t){return g.ws.beginRequest(a.MH_SYNC),g.ws.pack32Bit(t),g.ws.sendRequest().then(function(t){let e=[],r=t.getUint32();for(let i=0;i<r;i++){let r=new u;r.eventTime=t.getString(),r.eventText=t.getString(),r.eventName=t.getString(),r.eventFlags=t.getUint32(),r.eventStatus=t.getUint32(),r.eventPrio=t.getUint32(),r.eventId=new h,r.eventId.nix=t.getUint32(),r.eventId.idx=t.getUint32(),r.eventId.birthTime=t.getString(),r.targetId=new h,r.targetId.nix=t.getUint32(),r.targetId.idx=t.getUint32(),r.targetId.birthTime=t.getString(),r.eventType=t.getUint32();let i=new l.h(0,0);i.vid=t.getUint32(),i.oix=t.getUint32(),r.object=new l.g,r.object.objid=i,r.object.offset=t.getUint32(),r.object.body=t.getUint32(),r.object.size=t.getUint32(),r.object.flags=t.getUint32();let o=new l.h(0,0);o.vid=t.getUint32(),o.oix=t.getUint32(),r.supObject=new l.g,r.supObject.objid=o,r.supObject.offset=t.getUint32(),r.supObject.body=t.getUint32(),r.supObject.size=t.getUint32(),r.supObject.flags=t.getUint32(),r.eventMoreText=t.getString(),r.syncIdx=t.getUint32(),e.push(r)}return{sts:t.sts,value:e}})}static mhAcknowledge(t){return g.ws.beginRequest(a.MH_ACK),g.ws.pack32Bit(t.nix),g.ws.pack32Bit(t.idx),g.ws.packString(t.birthTime),g.ws.sendRequest().then(t=>t.sts)}}g.sub=[],g.PORT=4448,g.subscriptionCount=1},function(t,e,r){"use strict";function i(t,e){var r=function(t){for(var e=!1,r=!1,i="",o="",n="",s=0;s<t.length;s++){var a=t[s];"."===a?(r=!0,e=!1,n.length>0&&(n+=" ")):"#"===a?(e=!0,r=!1):e?o+=a:r?n+=a:i+=a}return{tag:i||"div",id:o,className:n}}(t),i=r.tag,o=r.id,n=r.className,s=e?document.createElementNS(e,i):document.createElement(i);return o&&(s.id=o),n&&(e?s.setAttribute("class",n):s.className=n),s}function o(t,e){var r=p(t),i=p(e);return e===i&&i.__redom_view&&(e=i.__redom_view),i.parentNode&&(n(e,i,r),r.removeChild(i)),e}function n(t,e,r){var i=e.__redom_lifecycle;if(s(i))e.__redom_lifecycle={};else{var o=r;for(e.__redom_mounted&&c(e,"onunmount");o;){var n=o.__redom_lifecycle||{};for(var a in i)n[a]&&(n[a]-=i[a]);s(n)&&(o.__redom_lifecycle=null),o=o.parentNode}}}function s(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}r.d(e,"a",function(){return x}),r.d(e,"b",function(){return _}),r.d(e,"c",function(){return C}),r.d(e,"d",function(){return m});var a=["onmount","onremount","onunmount"],l="undefined"!=typeof window&&"ShadowRoot"in window;function _(t,e,r,i){var o=p(t),s=p(e);e===s&&s.__redom_view&&(e=s.__redom_view),e!==s&&(s.__redom_view=e);var _=s.__redom_mounted,h=s.parentNode;return _&&h!==o&&n(0,s,h),null!=r?i?o.replaceChild(s,p(r)):o.insertBefore(s,p(r)):o.appendChild(s),function(t,e,r,i){for(var o=e.__redom_lifecycle||(e.__redom_lifecycle={}),n=r===i,s=!1,_=0,h=a;_<h.length;_+=1){var u=h[_];n||t!==e&&u in t&&(o[u]=(o[u]||0)+1),o[u]&&(s=!0)}if(!s)return void(e.__redom_lifecycle={});var d=r,m=!1;(n||d&&d.__redom_mounted)&&(c(e,n?"onremount":"onmount"),m=!0);for(;d;){var f=d.parentNode,w=d.__redom_lifecycle||(d.__redom_lifecycle={});for(var p in o)w[p]=(w[p]||0)+o[p];if(m)break;(d.nodeType===Node.DOCUMENT_NODE||l&&d instanceof ShadowRoot||f&&f.__redom_mounted)&&(c(d,n?"onremount":"onmount"),m=!0),d=f}}(e,s,o,h),e}function c(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var r=t.__redom_lifecycle;if(r){var i=t.__redom_view,o=0;for(var n in i&&i[e]&&i[e](),r)n&&o++;if(o)for(var s=t.firstChild;s;){var a=s.nextSibling;c(s,e),s=a}}}function h(t,e,r){t.style[e]=null==r?"":r}var u="http://www.w3.org/1999/xlink";function d(t,e,r,i){var o=p(t);if("object"==typeof e)for(var n in e)d(o,n,e[n],i);else{var s=o instanceof SVGElement,a="function"==typeof r;if("style"===e&&"object"==typeof r)!function(t,e,r){var i=p(t);if("object"==typeof e)for(var o in e)h(i,o,e[o]);else h(i,e,r)}(o,r);else if(s&&a)o[e]=r;else if("dataset"===e)!function t(e,r,i){if("object"==typeof r)for(var o in r)t(e,o,r[o]);else null!=i?e.dataset[r]=i:delete e.dataset[r]}(o,r);else if(!s&&(e in o||a)&&"list"!==e)o[e]=r;else{if(s&&"xlink"===e)return void function t(e,r,i){if("object"==typeof r)for(var o in r)t(e,o,r[o]);else null!=i?e.setAttributeNS(u,r,i):e.removeAttributeNS(u,r,i)}(o,r);i&&"class"===e&&(r=o.className+" "+r),null==r?o.removeAttribute(e):o.setAttribute(e,r)}}}function m(t){return document.createTextNode(null!=t?t:"")}function f(t,e,r){for(var i=0,o=e;i<o.length;i+=1){var n=o[i];if(0===n||n){var s=typeof n;"function"===s?n(t):"string"===s||"number"===s?t.appendChild(m(n)):b(p(n))?_(t,n):n.length?f(t,n,r):"object"===s&&d(t,n,null,r)}}}function w(t){return"string"==typeof t?y(t):p(t)}function p(t){return t.nodeType&&t||!t.el&&t||p(t.el)}function b(t){return t&&t.nodeType}var g={};function y(t){for(var e,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];var o=typeof t;if("string"===o)e=v(t).cloneNode(!1);else if(b(t))e=t.cloneNode(!1);else{if("function"!==o)throw new Error("At least one argument required");var n=t;e=new(Function.prototype.bind.apply(n,[null].concat(r)))}return f(p(e),r,!0),e}var x=y;function v(t){return g[t]||(g[t]=i(t))}function C(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var i=function t(e,r,i){var o=i;var n=new Array(r.length);for(var s=0;s<r.length;s++)n[s]=r[s]&&p(r[s]);for(var a=0;a<r.length;a++){var l=r[a];if(l){var c=n[a];if(c!==o)if(b(c)){var h=o&&o.nextSibling,u=null!=l.__redom_index,d=u&&h===n[a+1];_(e,l,o,d),d&&(o=h)}else null!=l.length&&(o=t(e,l,o));else o=o.nextSibling}}return o}(t,e,p(t).firstChild);i;){var n=i.nextSibling;o(t,i),i=n}}y.extend=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var i=v(t);return y.bind.apply(y,[this,i].concat(e))};var G=function(t,e,r){this.View=t,this.initData=r,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};G.prototype.update=function(t,e){for(var r=this.View,i=this.key,o=this.initData,n=null!=i,s=this.lookup,a={},l=new Array(t.length),_=this.views,c=0;c<t.length;c++){var h=t[c],u=void 0;if(n){var d=i(h);u=s[d]||new r(o,h,c,t),a[d]=u,u.__redom_id=d}else u=_[c]||new r(o,h,c,t);u.update&&u.update(h,c,t,e),p(u.el).__redom_view=u,l[c]=u}this.oldViews=_,this.views=l,this.oldLookup=s,this.lookup=a};var k=function(t,e,r,i){this.__redom_list=!0,this.View=e,this.initData=i,this.views=[],this.pool=new G(e,r,i),this.el=w(t),this.keySet=null!=r};k.prototype.update=function(t,e){void 0===t&&(t=[]);var r=this.keySet,i=this.views;this.pool.update(t,e);var n=this.pool,s=n.views,a=n.lookup;if(r)for(var l=0;l<i.length;l++){var _=i[l];null==a[_.__redom_id]&&(_.__redom_index=null,o(this,_))}for(var c=0;c<s.length;c++){s[c].__redom_index=c}C(this,s),r&&(this.lookup=a),this.views=s},k.extend=function(t,e,r,i){return k.bind(k,t,e,r,i)},k.extend;var T=function(t,e){this.el=m(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:t.el instanceof Node?(this._el=t,this.view=t):this._View=t,this._initData=e};T.prototype.update=function(t,e){var r=this._placeholder,i=this.el.parentNode;if(t){if(!this.visible)if(this._el)_(i,this._el,r),o(i,r),this.el=p(this._el),this.visible=t;else{var n=new(0,this._View)(this._initData);this.el=p(n),this.view=n,_(i,n,r),o(i,r)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return _(i,r,this._el),o(i,this._el),this.el=r,void(this.visible=t);_(i,r,this.view),o(i,this.view),this.el=r,this.view=null}this.visible=t};var S=function(t,e,r){this.el=w(t),this.Views=e,this.initData=r};S.prototype.update=function(t,e){if(t!==this.route){var r=this.Views[t];this.route=t,r&&(r instanceof Node||r.el instanceof Node)?this.view=r:this.view=r&&new r(this.initData,e),C(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var I="http://www.w3.org/2000/svg",L={};function A(t){for(var e,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];var o=typeof t;if("string"===o)e=M(t).cloneNode(!1);else if(b(t))e=t.cloneNode(!1);else{if("function"!==o)throw new Error("At least one argument required");var n=t;e=new(Function.prototype.bind.apply(n,[null].concat(r)))}return f(p(e),r,!0),e}function M(t){return L[t]||(L[t]=i(t,I))}A.extend=function(t){var e=M(t);return A.bind(this,e)},A.ns=I},,function(t,e,r){"use strict";var i;!function(t){t[t.No=0]="No",t[t.Gray=1]="Gray",t[t.YellowGreen=2]="YellowGreen",t[t.Yellow=3]="Yellow",t[t.Orange=4]="Orange",t[t.Red=5]="Red",t[t.Magenta=6]="Magenta",t[t.Blue=7]="Blue",t[t.Seablue=8]="Seablue",t[t.Green=9]="Green",t[t.DarkGray=10]="DarkGray",t[t.DarkYellowGreen=11]="DarkYellowGreen",t[t.DarkYellow=12]="DarkYellow",t[t.DarkOrange=13]="DarkOrange",t[t.DarkRed=14]="DarkRed",t[t.DarkMagenta=15]="DarkMagenta",t[t.DarkBlue=16]="DarkBlue",t[t.DarkSeablue=17]="DarkSeablue",t[t.DarkGreen=18]="DarkGreen",t[t.LightGray=19]="LightGray",t[t.LightYellowGreen=20]="LightYellowGreen",t[t.LightYellow=21]="LightYellow",t[t.LightOrange=22]="LightOrange",t[t.LightRed=23]="LightRed",t[t.LightMagenta=24]="LightMagenta",t[t.LightBlue=25]="LightBlue",t[t.LightSeablue=26]="LightSeablue",t[t.LightGreen=27]="LightGreen",t[t.GrayHighSaturation=28]="GrayHighSaturation",t[t.YellowGreenHighSaturation=29]="YellowGreenHighSaturation",t[t.YellowHighSaturation=30]="YellowHighSaturation",t[t.OrangeHighSaturation=31]="OrangeHighSaturation",t[t.RedHighSaturation=32]="RedHighSaturation",t[t.MagentaHighSaturation=33]="MagentaHighSaturation",t[t.BlueHighSaturation=34]="BlueHighSaturation",t[t.SeablueHighSaturation=35]="SeablueHighSaturation",t[t.GreenHighSaturation=36]="GreenHighSaturation",t[t.DarkGrayHighSaturation=37]="DarkGrayHighSaturation",t[t.DarkYellowGreenHighSaturation=38]="DarkYellowGreenHighSaturation",t[t.DarkYellowHighSaturation=39]="DarkYellowHighSaturation",t[t.DarkOrangeHighSaturation=40]="DarkOrangeHighSaturation",t[t.DarkRedHighSaturation=41]="DarkRedHighSaturation",t[t.DarkMagentaHighSaturation=42]="DarkMagentaHighSaturation",t[t.DarkBlueHighSaturation=43]="DarkBlueHighSaturation",t[t.DarkSeablueHighSaturation=44]="DarkSeablueHighSaturation",t[t.DarkGreenHighSaturation=45]="DarkGreenHighSaturation",t[t.LightGrayHighSaturation=46]="LightGrayHighSaturation",t[t.LightYellowGreenHighSaturation=47]="LightYellowGreenHighSaturation",t[t.LightYellowHighSaturation=48]="LightYellowHighSaturation",t[t.LightOrangeHighSaturation=49]="LightOrangeHighSaturation",t[t.LightRedHighSaturation=50]="LightRedHighSaturation",t[t.LightMagentaHighSaturation=51]="LightMagentaHighSaturation",t[t.LightBlueHighSaturation=52]="LightBlueHighSaturation",t[t.LightSeablueHighSaturation=53]="LightSeablueHighSaturation",t[t.LightGreenHighSaturation=54]="LightGreenHighSaturation",t[t.GrayLowSaturation=55]="GrayLowSaturation",t[t.YellowGreenLowSaturation=56]="YellowGreenLowSaturation",t[t.YellowLowSaturation=57]="YellowLowSaturation",t[t.OrangeLowSaturation=58]="OrangeLowSaturation",t[t.RedLowSaturation=59]="RedLowSaturation",t[t.MagentaLowSaturation=60]="MagentaLowSaturation",t[t.BlueLowSaturation=61]="BlueLowSaturation",t[t.SeablueLowSaturation=62]="SeablueLowSaturation",t[t.GreenLowSaturation=63]="GreenLowSaturation",t[t.DarkGrayLowSaturation=64]="DarkGrayLowSaturation",t[t.DarkYellowGreenLowSaturation=65]="DarkYellowGreenLowSaturation",t[t.DarkYellowLowSaturation=66]="DarkYellowLowSaturation",t[t.DarkOrangeLowSaturation=67]="DarkOrangeLowSaturation",t[t.DarkRedLowSaturation=68]="DarkRedLowSaturation",t[t.DarkMagentaLowSaturation=69]="DarkMagentaLowSaturation",t[t.DarkBlueLowSaturation=70]="DarkBlueLowSaturation",t[t.DarkSeablueLowSaturation=71]="DarkSeablueLowSaturation",t[t.DarkGreenLowSaturation=72]="DarkGreenLowSaturation",t[t.LightGrayLowSaturation=73]="LightGrayLowSaturation",t[t.LightYellowGreenLowSaturation=74]="LightYellowGreenLowSaturation",t[t.LightYellowLowSaturation=75]="LightYellowLowSaturation",t[t.LightOrangeLowSaturation=76]="LightOrangeLowSaturation",t[t.LightRedLowSaturation=77]="LightRedLowSaturation",t[t.LightMagentaLowSaturation=78]="LightMagentaLowSaturation",t[t.LightBlueLowSaturation=79]="LightBlueLowSaturation",t[t.LightSeablueLowSaturation=80]="LightSeablueLowSaturation",t[t.LightGreenLowSaturation=81]="LightGreenLowSaturation",t[t._=82]="_"}(i||(i={})),e.a=i},function(t,e,r){"use strict";var i=r(6);class o{static byteToUnsigned(t){let e=Math.floor(t);return e>=0?e:e+256}static fourBytesToInt(t,e){let r=o.byteToUnsigned(t[e++]);return r|=o.byteToUnsigned(t[e++])<<8,r|=o.byteToUnsigned(t[e++])<<16,r|=o.byteToUnsigned(t[e])<<24}static intToFourBytes(t,e){e.push(255&t),e.push(t>>>8&255),e.push(t>>>16&255),e.push(t>>>24&255)}static PERM_OP(t,e,r,i){let o=(t>>>r^e)&i;return[t^=o<<r,e^=o]}static HPERM_OP(t,e,r){let i=(t<<16-e^t)&r;return t^i^i>>>16-e}static des_set_key(t){let e=new Array(2*o.ITERATIONS),r=o.fourBytesToInt(t,0),i=o.fourBytesToInt(t,4);[i,r]=o.PERM_OP(i,r,4,252645135),r=o.HPERM_OP(r,-2,3435921408),i=o.HPERM_OP(i,-2,3435921408),[i,r]=o.PERM_OP(i,r,1,1431655765),[r,i]=o.PERM_OP(r,i,8,16711935),[i,r]=o.PERM_OP(i,r,1,1431655765),i=(255&i)<<16|65280&i|(16711680&i)>>>16|(4026531840&r)>>>4,r&=268435455;let n=0;for(let t=0;t<o.ITERATIONS;t++){o.shifts2[t]?(r=r>>>2|r<<26,i=i>>>2|i<<26):(r=r>>>1|r<<27,i=i>>>1|i<<27),r&=268435455,i&=268435455;let s=o.skb[0][63&r]|o.skb[1][r>>>6&3|r>>>7&60]|o.skb[2][r>>>13&15|r>>>14&48]|o.skb[3][r>>>20&1|r>>>21&6|r>>>22&56],a=o.skb[4][63&i]|o.skb[5][i>>>7&3|i>>>8&60]|o.skb[6][i>>>15&63]|o.skb[7][i>>>21&15|i>>>22&48];e[n++]=4294967295&(a<<16|65535&s),s=(s=s>>>16|4294901760&a)<<4|s>>>28,e[n++]=4294967295&s}return e}static D_ENCRYPT(t,e,r,i,n,s){let a,l,_;return l=(_=e^e>>>16)&i,_&=n,l=l^l<<16^e^s[r],a=(a=_^_<<16^e^s[r+1])>>>4|a<<28,t^=o.SPtrans[1][63&a]|o.SPtrans[3][a>>>8&63]|o.SPtrans[5][a>>>16&63]|o.SPtrans[7][a>>>24&63]|o.SPtrans[0][63&l]|o.SPtrans[2][l>>>8&63]|o.SPtrans[4][l>>>16&63]|o.SPtrans[6][l>>>24&63]}static body(t,e,r){let i=0,n=0,s=0;for(let a=0;a<25;a++){for(let s=0;s<2*o.ITERATIONS;s+=4)i=o.D_ENCRYPT(i,n,s,e,r,t),n=o.D_ENCRYPT(n,i,s+2,e,r,t);s=i,i=n,n=s}return s=n,n=i>>>1|i<<31,i=s>>>1|s<<31,i&=4294967295,n&=4294967295,[n,i]=o.PERM_OP(n,i,1,1431655765),[i,n]=o.PERM_OP(i,n,8,16711935),[n,i]=o.PERM_OP(n,i,2,858993459),[i,n]=o.PERM_OP(i,n,16,65535),[n,i]=o.PERM_OP(n,i,4,252645135),[i,n]}static crypt(t,e){for(;t.length<2;)t+="A";let r,i=t.charAt(0)+"",n=t.charAt(1)+"",s=i.charCodeAt(0),a=n.charCodeAt(0);r=i+n+" ";let l=o.con_salt[s],_=o.con_salt[a]<<4,c=[0,0,0,0,0,0,0,0];for(let t=0;t<c.length&&t<e.length;t++){let r=e.charCodeAt(t);c[t]=r<<1}let h=o.des_set_key(c),u=o.body(h,l,_),d=new Array(9);o.intToFourBytes(u[0],d),o.intToFourBytes(u[1],d),d.push(0);let m=0;for(let t=2,e=128;t<13;t++)for(let i=0,n=0;i<6;i++)n<<=1,0!=(d[m]&e)&&(n|=1),0===(e>>>=1)&&(m++,e=128),r=r.substring(0,t)+String.fromCharCode(o.cov_2char[n])+r.substring(t+1,r.length);return r}}o.ITERATIONS=16,o.con_salt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,0],o.shifts2=[!1,!1,!0,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],o.skb=[[0,16,536870912,536870928,65536,65552,536936448,536936464,2048,2064,536872960,536872976,67584,67600,536938496,536938512,32,48,536870944,536870960,65568,65584,536936480,536936496,2080,2096,536872992,536873008,67616,67632,536938528,536938544,524288,524304,537395200,537395216,589824,589840,537460736,537460752,526336,526352,537397248,537397264,591872,591888,537462784,537462800,524320,524336,537395232,537395248,589856,589872,537460768,537460784,526368,526384,537397280,537397296,591904,591920,537462816,537462832],[0,33554432,8192,33562624,2097152,35651584,2105344,35659776,4,33554436,8196,33562628,2097156,35651588,2105348,35659780,1024,33555456,9216,33563648,2098176,35652608,2106368,35660800,1028,33555460,9220,33563652,2098180,35652612,2106372,35660804,268435456,301989888,268443648,301998080,270532608,304087040,270540800,304095232,268435460,301989892,268443652,301998084,270532612,304087044,270540804,304095236,268436480,301990912,268444672,301999104,270533632,304088064,270541824,304096256,268436484,301990916,268444676,301999108,270533636,304088068,270541828,304096260],[0,1,262144,262145,16777216,16777217,17039360,17039361,2,3,262146,262147,16777218,16777219,17039362,17039363,512,513,262656,262657,16777728,16777729,17039872,17039873,514,515,262658,262659,16777730,16777731,17039874,17039875,134217728,134217729,134479872,134479873,150994944,150994945,151257088,151257089,134217730,134217731,134479874,134479875,150994946,150994947,151257090,151257091,134218240,134218241,134480384,134480385,150995456,150995457,151257600,151257601,134218242,134218243,134480386,134480387,150995458,150995459,151257602,151257603],[0,1048576,256,1048832,8,1048584,264,1048840,4096,1052672,4352,1052928,4104,1052680,4360,1052936,67108864,68157440,67109120,68157696,67108872,68157448,67109128,68157704,67112960,68161536,67113216,68161792,67112968,68161544,67113224,68161800,131072,1179648,131328,1179904,131080,1179656,131336,1179912,135168,1183744,135424,1184e3,135176,1183752,135432,1184008,67239936,68288512,67240192,68288768,67239944,68288520,67240200,68288776,67244032,68292608,67244288,68292864,67244040,68292616,67244296,68292872],[0,268435456,65536,268500992,4,268435460,65540,268500996,536870912,805306368,536936448,805371904,536870916,805306372,536936452,805371908,1048576,269484032,1114112,269549568,1048580,269484036,1114116,269549572,537919488,806354944,537985024,806420480,537919492,806354948,537985028,806420484,4096,268439552,69632,268505088,4100,268439556,69636,268505092,536875008,805310464,536940544,805376e3,536875012,805310468,536940548,805376004,1052672,269488128,1118208,269553664,1052676,269488132,1118212,269553668,537923584,806359040,537989120,806424576,537923588,806359044,537989124,806424580],[0,134217728,8,134217736,1024,134218752,1032,134218760,131072,134348800,131080,134348808,132096,134349824,132104,134349832,1,134217729,9,134217737,1025,134218753,1033,134218761,131073,134348801,131081,134348809,132097,134349825,132105,134349833,33554432,167772160,33554440,167772168,33555456,167773184,33555464,167773192,33685504,167903232,33685512,167903240,33686528,167904256,33686536,167904264,33554433,167772161,33554441,167772169,33555457,167773185,33555465,167773193,33685505,167903233,33685513,167903241,33686529,167904257,33686537,167904265],[0,256,524288,524544,16777216,16777472,17301504,17301760,16,272,524304,524560,16777232,16777488,17301520,17301776,2097152,2097408,2621440,2621696,18874368,18874624,19398656,19398912,2097168,2097424,2621456,2621712,18874384,18874640,19398672,19398928,512,768,524800,525056,16777728,16777984,17302016,17302272,528,784,524816,525072,16777744,16778e3,17302032,17302288,2097664,2097920,2621952,2622208,18874880,18875136,19399168,19399424,2097680,2097936,2621968,2622224,18874896,18875152,19399184,19399440],[0,67108864,262144,67371008,2,67108866,262146,67371010,8192,67117056,270336,67379200,8194,67117058,270338,67379202,32,67108896,262176,67371040,34,67108898,262178,67371042,8224,67117088,270368,67379232,8226,67117090,270370,67379234,2048,67110912,264192,67373056,2050,67110914,264194,67373058,10240,67119104,272384,67381248,10242,67119106,272386,67381250,2080,67110944,264224,67373088,2082,67110946,264226,67373090,10272,67119136,272416,67381280,10274,67119138,272418,67381282]],o.SPtrans=[[8520192,131072,2155872256,2156003840,8388608,2147615232,2147614720,2155872256,2147615232,8520192,8519680,2147484160,2155872768,8388608,0,2147614720,131072,2147483648,8389120,131584,2156003840,8519680,2147484160,8389120,2147483648,512,131584,2156003328,512,2155872768,2156003328,0,0,2156003840,8389120,2147614720,8520192,131072,2147484160,8389120,2156003328,512,131584,2155872256,2147615232,2147483648,2155872256,8519680,2156003840,131584,8519680,2155872768,8388608,2147484160,2147614720,0,131072,8388608,2155872768,8520192,2147483648,2156003328,512,2147615232],[268705796,0,270336,268697600,268435460,8196,268443648,270336,8192,268697604,4,268443648,262148,268705792,268697600,4,262144,268443652,268697604,8192,270340,268435456,0,262148,268443652,270340,268705792,268435460,268435456,262144,8196,268705796,262148,268705792,268443648,270340,268705796,262148,268435460,0,268435456,8196,262144,268697604,8192,268435456,270340,268443652,268705792,8192,0,268435460,4,268705796,270336,268697600,268697604,262144,8196,268443648,268443652,4,268697600,270336],[1090519040,16842816,64,1090519104,1073807360,16777216,1090519104,65600,16777280,65536,16842752,1073741824,1090584640,1073741888,1073741824,1090584576,0,1073807360,16842816,64,1073741888,1090584640,65536,1090519040,1090584576,16777280,1073807424,16842752,65600,0,16777216,1073807424,16842816,64,1073741824,65536,1073741888,1073807360,16842752,1090519104,0,16842816,65600,1090584576,1073807360,16777216,1090584640,1073741824,1073807424,1090519040,16777216,1090584640,65536,16777280,1090519104,65600,16777280,0,1090584576,1073741888,1090519040,1073807424,64,16842752],[1049602,67109888,2,68158466,0,68157440,67109890,1048578,68158464,67108866,67108864,1026,67108866,1049602,1048576,67108864,68157442,1049600,1024,2,1049600,67109890,68157440,1024,1026,0,1048578,68158464,67109888,68157442,68158466,1048576,68157442,1026,1048576,67108866,1049600,67109888,2,68157440,67109890,0,1024,1048578,0,68157442,68158464,1024,67108864,68158466,1049602,1048576,68158466,2,67109888,1049602,1048578,1049600,68157440,67109890,1026,67108864,67108866,68158464],[33554432,16384,256,33571080,33570824,33554688,16648,33570816,16384,8,33554440,16640,33554696,33570824,33571072,0,16640,33554432,16392,264,33554688,16648,0,33554440,8,33554696,33571080,16392,33570816,256,264,33571072,33571072,33554696,16392,33570816,16384,8,33554440,33554688,33554432,16640,33571080,0,16648,33554432,256,16392,33554696,256,0,33571080,33570824,33571072,264,16384,16640,33570824,33554688,264,8,16648,33570816,33554440],[536870928,524304,0,537397248,524304,2048,536872976,524288,2064,537397264,526336,536870912,536872960,536870928,537395200,526352,524288,536872976,537395216,0,2048,16,537397248,537395216,537397264,537395200,536870912,2064,16,526336,526352,536872960,2064,536870912,536872960,526352,537397248,524304,0,536872960,536870912,2048,537395216,524288,524304,537397264,526336,16,537397264,526336,524288,536872976,536870928,537395200,526352,0,2048,536870928,536872976,537397248,537395200,2064,16,537395216],[4096,128,4194432,4194305,4198529,4097,4224,0,4194304,4194433,129,4198400,1,4198528,4198400,129,4194433,4096,4097,4198529,0,4194432,4194305,4224,4198401,4225,4198528,1,4225,4198401,128,4194304,4225,4198400,4198401,129,4096,128,4194304,4198401,4194433,4225,4224,0,128,4194305,1,4194432,0,4194433,4194432,4224,129,4096,4198529,4194304,4198528,1,4097,4198529,4194305,4198528,4198400,4097],[136314912,136347648,32800,0,134250496,2097184,136314880,136347680,32,134217728,2129920,32800,2129952,134250528,134217760,136314880,32768,2129952,2097184,134250496,136347680,134217760,0,2129920,134217728,2097152,134250528,136314912,2097152,32768,136347648,32,2097152,32768,134217760,136347680,32800,134217728,0,2129920,136314912,134250528,134250496,2097184,136347648,32,2097184,134250496,136347680,2097152,136314880,134217760,2129920,32800,134250528,136314880,32,136347648,2129952,0,134217728,136314912,32768,2129952]],o.cov_2char=[46,47,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122];var n=r(5);r.d(e,"a",function(){return s});class s{constructor(t=(()=>{}),e=(()=>{})){this.bc_success=t,this.bc_cancel=e,this.render()}static is_authorized(t,e=!1){return s.priv&t||e||window.alert("Not authorized for this operation"),!!(s.priv&t)}static fetchFromStore(){s.priv=Number(localStorage.getItem("pwr_privilege")),s.user=localStorage.getItem("pwr_user")}login_cb(t){1&t.sts?(s.priv=t.value,localStorage.setItem("pwr_privilege",String(s.priv)),document.title=s.user+" on "+window.location.hostname||"localhost",console.log("Login",s.user,"Priv",s.priv),this.bc_success&&this.bc_success()):(s.logout_cb(),console.log("Login failure","Priv",s.priv))}static logout_cb(){s.priv=0,s.user="",localStorage.setItem("pwr_privilege",String(s.priv)),document.title=window.location.hostname||"localhost"}render(){let t=Object(i.a)("div",{style:{backgroundColor:"#ddeeff",padding:"10px",display:"block",overflow:"hidden",margin:"auto",width:"max-content"}});Object(i.b)(t,Object(i.d)("Host")),Object(i.b)(t,Object(i.a)("br"));let e=localStorage.getItem("HOST")||"localhost",r=Object(i.a)("input",{value:e});Object(i.b)(t,r),Object(i.b)(t,Object(i.a)("br")),Object(i.b)(t,Object(i.d)("Username")),Object(i.b)(t,Object(i.a)("br"));let a=Object(i.a)("input",{autofocus:!0});Object(i.b)(t,a),Object(i.b)(t,Object(i.a)("br")),Object(i.b)(t,Object(i.d)("Password")),Object(i.b)(t,Object(i.a)("br"));let l=Object(i.a)("input",{type:"password"});Object(i.b)(t,l),Object(i.b)(t,Object(i.a)("br"));let _=Object(i.a)("input",{type:"button",value:"Apply"});Object(i.b)(t,_);let c=Object(i.a)("input",{type:"button",value:"Cancel",style:{cssFloat:"right"}});Object(i.b)(t,c),Object(i.c)(document.body,t);let h=this;_.addEventListener("click",()=>{let t=a.value,e=l.value;e=o.crypt("aa",e),s.user=t,localStorage.setItem("HOST",r.value),n.d.init().then(()=>{n.d.login(t,e).then(h.login_cb.bind(h))})}),c.addEventListener("click",this.bc_cancel)}static reduce_privilege(t){this.priv&=~t,localStorage.setItem("pwr_privilege",String(s.priv))}}s.priv=0,s.user=""},,function(t,e,r){"use strict";var i;!function(t){t[t.Helvetica=0]="Helvetica",t[t.Times=1]="Times",t[t.NewCenturySchoolbook=2]="NewCenturySchoolbook",t[t.Courier=3]="Courier",t[t.LucidaSans=4]="LucidaSans",t[t._=5]="_",t[t.No=9999]="No"}(i||(i={})),e.a=i},,,,function(t,e,r){(function(t,i){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var n,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",_="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",u=1,d=2,m=4,f=1,w=2,p=1,b=2,g=4,y=8,x=16,v=32,C=64,G=128,k=256,T=512,S=30,I="...",L=800,A=16,M=1,O=2,N=1/0,R=9007199254740991,j=1.7976931348623157e308,E=NaN,F=4294967295,D=F-1,P=F>>>1,z=[["ary",G],["bind",p],["bindKey",b],["curry",y],["curryRight",x],["flip",T],["partial",v],["partialRight",C],["rearg",k]],B="[object Arguments]",U="[object Array]",V="[object AsyncFunction]",H="[object Boolean]",q="[object Date]",X="[object DOMException]",Y="[object Error]",W="[object Function]",J="[object GeneratorFunction]",Q="[object Map]",$="[object Number]",Z="[object Null]",K="[object Object]",tt="[object Proxy]",et="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object Symbol]",nt="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",lt="[object ArrayBuffer]",_t="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ut="[object Int8Array]",dt="[object Int16Array]",mt="[object Int32Array]",ft="[object Uint8Array]",wt="[object Uint8ClampedArray]",pt="[object Uint16Array]",bt="[object Uint32Array]",gt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vt=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,Gt=RegExp(vt.source),kt=RegExp(Ct.source),Tt=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(Ot.source),Rt=/^\s+|\s+$/g,jt=/^\s+/,Et=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dt=/\{\n\/\* \[wrapped with (.+)\] \*/,Pt=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,Yt=/^0o[0-7]+$/i,Wt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Kt+"]",re="["+Zt+"]",ie="\\d+",oe="[\\u2700-\\u27bf]",ne="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+Kt+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",le="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ue="(?:"+ne+"|"+se+")",de="(?:"+he+"|"+se+")",me="(?:"+re+"|"+ae+")"+"?",fe="[\\ufe0e\\ufe0f]?"+me+("(?:\\u200d(?:"+[le,_e,ce].join("|")+")[\\ufe0e\\ufe0f]?"+me+")*"),we="(?:"+[oe,_e,ce].join("|")+")"+fe,pe="(?:"+[le+re+"?",re,_e,ce,te].join("|")+")",be=RegExp("['’]","g"),ge=RegExp(re,"g"),ye=RegExp(ae+"(?="+ae+")|"+pe+fe,"g"),xe=RegExp([he+"?"+ne+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+ue,"$"].join("|")+")",he+"?"+ue+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,we].join("|"),"g"),ve=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),Ce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ke=-1,Te={};Te[ct]=Te[ht]=Te[ut]=Te[dt]=Te[mt]=Te[ft]=Te[wt]=Te[pt]=Te[bt]=!0,Te[B]=Te[U]=Te[lt]=Te[H]=Te[_t]=Te[q]=Te[Y]=Te[W]=Te[Q]=Te[$]=Te[K]=Te[et]=Te[rt]=Te[it]=Te[st]=!1;var Se={};Se[B]=Se[U]=Se[lt]=Se[_t]=Se[H]=Se[q]=Se[ct]=Se[ht]=Se[ut]=Se[dt]=Se[mt]=Se[Q]=Se[$]=Se[K]=Se[et]=Se[rt]=Se[it]=Se[ot]=Se[ft]=Se[wt]=Se[pt]=Se[bt]=!0,Se[Y]=Se[W]=Se[st]=!1;var Ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Le=parseFloat,Ae=parseInt,Me="object"==typeof t&&t&&t.Object===Object&&t,Oe="object"==typeof self&&self&&self.Object===Object&&self,Ne=Me||Oe||Function("return this")(),Re=e&&!e.nodeType&&e,je=Re&&"object"==typeof i&&i&&!i.nodeType&&i,Ee=je&&je.exports===Re,Fe=Ee&&Me.process,De=function(){try{var t=je&&je.require&&je.require("util").types;return t||Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}(),Pe=De&&De.isArrayBuffer,ze=De&&De.isDate,Be=De&&De.isMap,Ue=De&&De.isRegExp,Ve=De&&De.isSet,He=De&&De.isTypedArray;function qe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Xe(t,e,r,i){for(var o=-1,n=null==t?0:t.length;++o<n;){var s=t[o];e(i,s,r(s),t)}return i}function Ye(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}function We(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Je(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(!e(t[r],r,t))return!1;return!0}function Qe(t,e){for(var r=-1,i=null==t?0:t.length,o=0,n=[];++r<i;){var s=t[r];e(s,r,t)&&(n[o++]=s)}return n}function $e(t,e){return!!(null==t?0:t.length)&&ar(t,e,0)>-1}function Ze(t,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;)if(r(e,t[i]))return!0;return!1}function Ke(t,e){for(var r=-1,i=null==t?0:t.length,o=Array(i);++r<i;)o[r]=e(t[r],r,t);return o}function tr(t,e){for(var r=-1,i=e.length,o=t.length;++r<i;)t[o+r]=e[r];return t}function er(t,e,r,i){var o=-1,n=null==t?0:t.length;for(i&&n&&(r=t[++o]);++o<n;)r=e(r,t[o],o,t);return r}function rr(t,e,r,i){var o=null==t?0:t.length;for(i&&o&&(r=t[--o]);o--;)r=e(r,t[o],o,t);return r}function ir(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}var or=hr("length");function nr(t,e,r){var i;return r(t,function(t,r,o){if(e(t,r,o))return i=r,!1}),i}function sr(t,e,r,i){for(var o=t.length,n=r+(i?1:-1);i?n--:++n<o;)if(e(t[n],n,t))return n;return-1}function ar(t,e,r){return e==e?function(t,e,r){var i=r-1,o=t.length;for(;++i<o;)if(t[i]===e)return i;return-1}(t,e,r):sr(t,_r,r)}function lr(t,e,r,i){for(var o=r-1,n=t.length;++o<n;)if(i(t[o],e))return o;return-1}function _r(t){return t!=t}function cr(t,e){var r=null==t?0:t.length;return r?mr(t,e)/r:E}function hr(t){return function(e){return null==e?n:e[t]}}function ur(t){return function(e){return null==t?n:t[e]}}function dr(t,e,r,i,o){return o(t,function(t,o,n){r=i?(i=!1,t):e(r,t,o,n)}),r}function mr(t,e){for(var r,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==n&&(r=r===n?s:r+s)}return r}function fr(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function wr(t){return function(e){return t(e)}}function pr(t,e){return Ke(e,function(e){return t[e]})}function br(t,e){return t.has(e)}function gr(t,e){for(var r=-1,i=t.length;++r<i&&ar(e,t[r],0)>-1;);return r}function yr(t,e){for(var r=t.length;r--&&ar(e,t[r],0)>-1;);return r}var xr=ur({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),vr=ur({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cr(t){return"\\"+Ie[t]}function Gr(t){return ve.test(t)}function kr(t){var e=-1,r=Array(t.size);return t.forEach(function(t,i){r[++e]=[i,t]}),r}function Tr(t,e){return function(r){return t(e(r))}}function Sr(t,e){for(var r=-1,i=t.length,o=0,n=[];++r<i;){var s=t[r];s!==e&&s!==h||(t[r]=h,n[o++]=r)}return n}function Ir(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Lr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function Ar(t){return Gr(t)?function(t){var e=ye.lastIndex=0;for(;ye.test(t);)++e;return e}(t):or(t)}function Mr(t){return Gr(t)?function(t){return t.match(ye)||[]}(t):function(t){return t.split("")}(t)}var Or=ur({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Nr=function t(e){var r,i=(e=null==e?Ne:Nr.defaults(Ne.Object(),e,Nr.pick(Ne,Ge))).Array,o=e.Date,Zt=e.Error,Kt=e.Function,te=e.Math,ee=e.Object,re=e.RegExp,ie=e.String,oe=e.TypeError,ne=i.prototype,se=Kt.prototype,ae=ee.prototype,le=e["__core-js_shared__"],_e=se.toString,ce=ae.hasOwnProperty,he=0,ue=(r=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",de=ae.toString,me=_e.call(ee),fe=Ne._,we=re("^"+_e.call(ce).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=Ee?e.Buffer:n,ye=e.Symbol,ve=e.Uint8Array,Ie=pe?pe.allocUnsafe:n,Me=Tr(ee.getPrototypeOf,ee),Oe=ee.create,Re=ae.propertyIsEnumerable,je=ne.splice,Fe=ye?ye.isConcatSpreadable:n,De=ye?ye.iterator:n,or=ye?ye.toStringTag:n,ur=function(){try{var t=Pn(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rr=e.clearTimeout!==Ne.clearTimeout&&e.clearTimeout,jr=o&&o.now!==Ne.Date.now&&o.now,Er=e.setTimeout!==Ne.setTimeout&&e.setTimeout,Fr=te.ceil,Dr=te.floor,Pr=ee.getOwnPropertySymbols,zr=pe?pe.isBuffer:n,Br=e.isFinite,Ur=ne.join,Vr=Tr(ee.keys,ee),Hr=te.max,qr=te.min,Xr=o.now,Yr=e.parseInt,Wr=te.random,Jr=ne.reverse,Qr=Pn(e,"DataView"),$r=Pn(e,"Map"),Zr=Pn(e,"Promise"),Kr=Pn(e,"Set"),ti=Pn(e,"WeakMap"),ei=Pn(ee,"create"),ri=ti&&new ti,ii={},oi=hs(Qr),ni=hs($r),si=hs(Zr),ai=hs(Kr),li=hs(ti),_i=ye?ye.prototype:n,ci=_i?_i.valueOf:n,hi=_i?_i.toString:n;function ui(t){if(Ia(t)&&!pa(t)&&!(t instanceof wi)){if(t instanceof fi)return t;if(ce.call(t,"__wrapped__"))return us(t)}return new fi(t)}var di=function(){function t(){}return function(e){if(!Sa(e))return{};if(Oe)return Oe(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function mi(){}function fi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function wi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function pi(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function bi(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function gi(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function yi(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new gi;++e<r;)this.add(t[e])}function xi(t){var e=this.__data__=new bi(t);this.size=e.size}function vi(t,e){var r=pa(t),i=!r&&wa(t),o=!r&&!i&&xa(t),n=!r&&!i&&!o&&Ea(t),s=r||i||o||n,a=s?fr(t.length,ie):[],l=a.length;for(var _ in t)!e&&!ce.call(t,_)||s&&("length"==_||o&&("offset"==_||"parent"==_)||n&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||Xn(_,l))||a.push(_);return a}function Ci(t){var e=t.length;return e?t[xo(0,e-1)]:n}function Gi(t,e){return ls(rn(t),Ni(e,0,t.length))}function ki(t){return ls(rn(t))}function Ti(t,e,r){(r===n||da(t[e],r))&&(r!==n||e in t)||Mi(t,e,r)}function Si(t,e,r){var i=t[e];ce.call(t,e)&&da(i,r)&&(r!==n||e in t)||Mi(t,e,r)}function Ii(t,e){for(var r=t.length;r--;)if(da(t[r][0],e))return r;return-1}function Li(t,e,r,i){return Di(t,function(t,o,n){e(i,t,r(t),n)}),i}function Ai(t,e){return t&&on(e,ol(e),t)}function Mi(t,e,r){"__proto__"==e&&ur?ur(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Oi(t,e){for(var r=-1,o=e.length,s=i(o),a=null==t;++r<o;)s[r]=a?n:Ka(t,e[r]);return s}function Ni(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function Ri(t,e,r,i,o,s){var a,l=e&u,_=e&d,c=e&m;if(r&&(a=o?r(t,i,o,s):r(t)),a!==n)return a;if(!Sa(t))return t;var h=pa(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!l)return rn(t,a)}else{var f=Un(t),w=f==W||f==J;if(xa(t))return Qo(t,l);if(f==K||f==B||w&&!o){if(a=_||w?{}:Hn(t),!l)return _?function(t,e){return on(t,Bn(t),e)}(t,function(t,e){return t&&on(e,nl(e),t)}(a,t)):function(t,e){return on(t,zn(t),e)}(t,Ai(a,t))}else{if(!Se[f])return o?t:{};a=function(t,e,r){var i,o=t.constructor;switch(e){case lt:return $o(t);case H:case q:return new o(+t);case _t:return function(t,e){var r=e?$o(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case ct:case ht:case ut:case dt:case mt:case ft:case wt:case pt:case bt:return Zo(t,r);case Q:return new o;case $:case it:return new o(t);case et:return function(t){var e=new t.constructor(t.source,Vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case rt:return new o;case ot:return i=t,ci?ee(ci.call(i)):{}}}(t,f,l)}}s||(s=new xi);var p=s.get(t);if(p)return p;if(s.set(t,a),Na(t))return t.forEach(function(i){a.add(Ri(i,e,r,i,t,s))}),a;if(La(t))return t.forEach(function(i,o){a.set(o,Ri(i,e,r,o,t,s))}),a;var b=h?n:(c?_?On:Mn:_?nl:ol)(t);return Ye(b||t,function(i,o){b&&(i=t[o=i]),Si(a,o,Ri(i,e,r,o,t,s))}),a}function ji(t,e,r){var i=r.length;if(null==t)return!i;for(t=ee(t);i--;){var o=r[i],s=e[o],a=t[o];if(a===n&&!(o in t)||!s(a))return!1}return!0}function Ei(t,e,r){if("function"!=typeof t)throw new oe(l);return os(function(){t.apply(n,r)},e)}function Fi(t,e,r,i){var o=-1,n=$e,a=!0,l=t.length,_=[],c=e.length;if(!l)return _;r&&(e=Ke(e,wr(r))),i?(n=Ze,a=!1):e.length>=s&&(n=br,a=!1,e=new yi(e));t:for(;++o<l;){var h=t[o],u=null==r?h:r(h);if(h=i||0!==h?h:0,a&&u==u){for(var d=c;d--;)if(e[d]===u)continue t;_.push(h)}else n(e,u,i)||_.push(h)}return _}ui.templateSettings={escape:Tt,evaluate:St,interpolate:It,variable:"",imports:{_:ui}},ui.prototype=mi.prototype,ui.prototype.constructor=ui,fi.prototype=di(mi.prototype),fi.prototype.constructor=fi,wi.prototype=di(mi.prototype),wi.prototype.constructor=wi,pi.prototype.clear=function(){this.__data__=ei?ei(null):{},this.size=0},pi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},pi.prototype.get=function(t){var e=this.__data__;if(ei){var r=e[t];return r===_?n:r}return ce.call(e,t)?e[t]:n},pi.prototype.has=function(t){var e=this.__data__;return ei?e[t]!==n:ce.call(e,t)},pi.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ei&&e===n?_:e,this},bi.prototype.clear=function(){this.__data__=[],this.size=0},bi.prototype.delete=function(t){var e=this.__data__,r=Ii(e,t);return!(r<0||(r==e.length-1?e.pop():je.call(e,r,1),--this.size,0))},bi.prototype.get=function(t){var e=this.__data__,r=Ii(e,t);return r<0?n:e[r][1]},bi.prototype.has=function(t){return Ii(this.__data__,t)>-1},bi.prototype.set=function(t,e){var r=this.__data__,i=Ii(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this},gi.prototype.clear=function(){this.size=0,this.__data__={hash:new pi,map:new($r||bi),string:new pi}},gi.prototype.delete=function(t){var e=Fn(this,t).delete(t);return this.size-=e?1:0,e},gi.prototype.get=function(t){return Fn(this,t).get(t)},gi.prototype.has=function(t){return Fn(this,t).has(t)},gi.prototype.set=function(t,e){var r=Fn(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this},yi.prototype.add=yi.prototype.push=function(t){return this.__data__.set(t,_),this},yi.prototype.has=function(t){return this.__data__.has(t)},xi.prototype.clear=function(){this.__data__=new bi,this.size=0},xi.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},xi.prototype.get=function(t){return this.__data__.get(t)},xi.prototype.has=function(t){return this.__data__.has(t)},xi.prototype.set=function(t,e){var r=this.__data__;if(r instanceof bi){var i=r.__data__;if(!$r||i.length<s-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new gi(i)}return r.set(t,e),this.size=r.size,this};var Di=an(Xi),Pi=an(Yi,!0);function zi(t,e){var r=!0;return Di(t,function(t,i,o){return r=!!e(t,i,o)}),r}function Bi(t,e,r){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(l===n?a==a&&!ja(a):r(a,l)))var l=a,_=s}return _}function Ui(t,e){var r=[];return Di(t,function(t,i,o){e(t,i,o)&&r.push(t)}),r}function Vi(t,e,r,i,o){var n=-1,s=t.length;for(r||(r=qn),o||(o=[]);++n<s;){var a=t[n];e>0&&r(a)?e>1?Vi(a,e-1,r,i,o):tr(o,a):i||(o[o.length]=a)}return o}var Hi=ln(),qi=ln(!0);function Xi(t,e){return t&&Hi(t,e,ol)}function Yi(t,e){return t&&qi(t,e,ol)}function Wi(t,e){return Qe(e,function(e){return Ga(t[e])})}function Ji(t,e){for(var r=0,i=(e=Xo(e,t)).length;null!=t&&r<i;)t=t[cs(e[r++])];return r&&r==i?t:n}function Qi(t,e,r){var i=e(t);return pa(t)?i:tr(i,r(t))}function $i(t){return null==t?t===n?nt:Z:or&&or in ee(t)?function(t){var e=ce.call(t,or),r=t[or];try{t[or]=n;var i=!0}catch(t){}var o=de.call(t);return i&&(e?t[or]=r:delete t[or]),o}(t):function(t){return de.call(t)}(t)}function Zi(t,e){return t>e}function Ki(t,e){return null!=t&&ce.call(t,e)}function to(t,e){return null!=t&&e in ee(t)}function eo(t,e,r){for(var o=r?Ze:$e,s=t[0].length,a=t.length,l=a,_=i(a),c=1/0,h=[];l--;){var u=t[l];l&&e&&(u=Ke(u,wr(e))),c=qr(u.length,c),_[l]=!r&&(e||s>=120&&u.length>=120)?new yi(l&&u):n}u=t[0];var d=-1,m=_[0];t:for(;++d<s&&h.length<c;){var f=u[d],w=e?e(f):f;if(f=r||0!==f?f:0,!(m?br(m,w):o(h,w,r))){for(l=a;--l;){var p=_[l];if(!(p?br(p,w):o(t[l],w,r)))continue t}m&&m.push(w),h.push(f)}}return h}function ro(t,e,r){var i=null==(t=es(t,e=Xo(e,t)))?t:t[cs(Cs(e))];return null==i?n:qe(i,t,r)}function io(t){return Ia(t)&&$i(t)==B}function oo(t,e,r,i,o){return t===e||(null==t||null==e||!Ia(t)&&!Ia(e)?t!=t&&e!=e:function(t,e,r,i,o,s){var a=pa(t),l=pa(e),_=a?U:Un(t),c=l?U:Un(e),h=(_=_==B?K:_)==K,u=(c=c==B?K:c)==K,d=_==c;if(d&&xa(t)){if(!xa(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new xi),a||Ea(t)?Ln(t,e,r,i,o,s):function(t,e,r,i,o,n,s){switch(r){case _t:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lt:return!(t.byteLength!=e.byteLength||!n(new ve(t),new ve(e)));case H:case q:case $:return da(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case et:case it:return t==e+"";case Q:var a=kr;case rt:var l=i&f;if(a||(a=Ir),t.size!=e.size&&!l)return!1;var _=s.get(t);if(_)return _==e;i|=w,s.set(t,e);var c=Ln(a(t),a(e),i,o,n,s);return s.delete(t),c;case ot:if(ci)return ci.call(t)==ci.call(e)}return!1}(t,e,_,r,i,o,s);if(!(r&f)){var m=h&&ce.call(t,"__wrapped__"),p=u&&ce.call(e,"__wrapped__");if(m||p){var b=m?t.value():t,g=p?e.value():e;return s||(s=new xi),o(b,g,r,i,s)}}return!!d&&(s||(s=new xi),function(t,e,r,i,o,s){var a=r&f,l=Mn(t),_=l.length,c=Mn(e).length;if(_!=c&&!a)return!1;for(var h=_;h--;){var u=l[h];if(!(a?u in e:ce.call(e,u)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var m=!0;s.set(t,e),s.set(e,t);for(var w=a;++h<_;){u=l[h];var p=t[u],b=e[u];if(i)var g=a?i(b,p,u,e,t,s):i(p,b,u,t,e,s);if(!(g===n?p===b||o(p,b,r,i,s):g)){m=!1;break}w||(w="constructor"==u)}if(m&&!w){var y=t.constructor,x=e.constructor;y!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(m=!1)}return s.delete(t),s.delete(e),m}(t,e,r,i,o,s))}(t,e,r,i,oo,o))}function no(t,e,r,i){var o=r.length,s=o,a=!i;if(null==t)return!s;for(t=ee(t);o--;){var l=r[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var _=(l=r[o])[0],c=t[_],h=l[1];if(a&&l[2]){if(c===n&&!(_ in t))return!1}else{var u=new xi;if(i)var d=i(c,h,_,t,e,u);if(!(d===n?oo(h,c,f|w,i,u):d))return!1}}return!0}function so(t){return!(!Sa(t)||(e=t,ue&&ue in e))&&(Ga(t)?we:Xt).test(hs(t));var e}function ao(t){return"function"==typeof t?t:null==t?Al:"object"==typeof t?pa(t)?mo(t[0],t[1]):uo(t):Pl(t)}function lo(t){if(!$n(t))return Vr(t);var e=[];for(var r in ee(t))ce.call(t,r)&&"constructor"!=r&&e.push(r);return e}function _o(t){if(!Sa(t))return function(t){var e=[];if(null!=t)for(var r in ee(t))e.push(r);return e}(t);var e=$n(t),r=[];for(var i in t)("constructor"!=i||!e&&ce.call(t,i))&&r.push(i);return r}function co(t,e){return t<e}function ho(t,e){var r=-1,o=ga(t)?i(t.length):[];return Di(t,function(t,i,n){o[++r]=e(t,i,n)}),o}function uo(t){var e=Dn(t);return 1==e.length&&e[0][2]?Kn(e[0][0],e[0][1]):function(r){return r===t||no(r,t,e)}}function mo(t,e){return Wn(t)&&Zn(e)?Kn(cs(t),e):function(r){var i=Ka(r,t);return i===n&&i===e?tl(r,t):oo(e,i,f|w)}}function fo(t,e,r,i,o){t!==e&&Hi(e,function(s,a){if(Sa(s))o||(o=new xi),function(t,e,r,i,o,s,a){var l=rs(t,r),_=rs(e,r),c=a.get(_);if(c)Ti(t,r,c);else{var h=s?s(l,_,r+"",t,e,a):n,u=h===n;if(u){var d=pa(_),m=!d&&xa(_),f=!d&&!m&&Ea(_);h=_,d||m||f?pa(l)?h=l:ya(l)?h=rn(l):m?(u=!1,h=Qo(_,!0)):f?(u=!1,h=Zo(_,!0)):h=[]:Ma(_)||wa(_)?(h=l,wa(l)?h=Ha(l):Sa(l)&&!Ga(l)||(h=Hn(_))):u=!1}u&&(a.set(_,h),o(h,_,i,s,a),a.delete(_)),Ti(t,r,h)}}(t,e,a,r,fo,i,o);else{var l=i?i(rs(t,a),s,a+"",t,e,o):n;l===n&&(l=s),Ti(t,a,l)}},nl)}function wo(t,e){var r=t.length;if(r)return Xn(e+=e<0?r:0,r)?t[e]:n}function po(t,e,r){var i=-1;return e=Ke(e.length?e:[Al],wr(En())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(ho(t,function(t,r,o){return{criteria:Ke(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,r){for(var i=-1,o=t.criteria,n=e.criteria,s=o.length,a=r.length;++i<s;){var l=Ko(o[i],n[i]);if(l){if(i>=a)return l;var _=r[i];return l*("desc"==_?-1:1)}}return t.index-e.index}(t,e,r)})}function bo(t,e,r){for(var i=-1,o=e.length,n={};++i<o;){var s=e[i],a=Ji(t,s);r(a,s)&&To(n,Xo(s,t),a)}return n}function go(t,e,r,i){var o=i?lr:ar,n=-1,s=e.length,a=t;for(t===e&&(e=rn(e)),r&&(a=Ke(t,wr(r)));++n<s;)for(var l=0,_=e[n],c=r?r(_):_;(l=o(a,c,l,i))>-1;)a!==t&&je.call(a,l,1),je.call(t,l,1);return t}function yo(t,e){for(var r=t?e.length:0,i=r-1;r--;){var o=e[r];if(r==i||o!==n){var n=o;Xn(o)?je.call(t,o,1):Do(t,o)}}return t}function xo(t,e){return t+Dr(Wr()*(e-t+1))}function vo(t,e){var r="";if(!t||e<1||e>R)return r;do{e%2&&(r+=t),(e=Dr(e/2))&&(t+=t)}while(e);return r}function Co(t,e){return ns(ts(t,e,Al),t+"")}function Go(t){return Ci(dl(t))}function ko(t,e){var r=dl(t);return ls(r,Ni(e,0,r.length))}function To(t,e,r,i){if(!Sa(t))return t;for(var o=-1,s=(e=Xo(e,t)).length,a=s-1,l=t;null!=l&&++o<s;){var _=cs(e[o]),c=r;if(o!=a){var h=l[_];(c=i?i(h,_,l):n)===n&&(c=Sa(h)?h:Xn(e[o+1])?[]:{})}Si(l,_,c),l=l[_]}return t}var So=ri?function(t,e){return ri.set(t,e),t}:Al,Io=ur?function(t,e){return ur(t,"toString",{configurable:!0,enumerable:!1,value:Sl(e),writable:!0})}:Al;function Lo(t){return ls(dl(t))}function Ao(t,e,r){var o=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(r=r>n?n:r)<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var s=i(n);++o<n;)s[o]=t[o+e];return s}function Mo(t,e){var r;return Di(t,function(t,i,o){return!(r=e(t,i,o))}),!!r}function Oo(t,e,r){var i=0,o=null==t?i:t.length;if("number"==typeof e&&e==e&&o<=P){for(;i<o;){var n=i+o>>>1,s=t[n];null!==s&&!ja(s)&&(r?s<=e:s<e)?i=n+1:o=n}return o}return No(t,e,Al,r)}function No(t,e,r,i){e=r(e);for(var o=0,s=null==t?0:t.length,a=e!=e,l=null===e,_=ja(e),c=e===n;o<s;){var h=Dr((o+s)/2),u=r(t[h]),d=u!==n,m=null===u,f=u==u,w=ja(u);if(a)var p=i||f;else p=c?f&&(i||d):l?f&&d&&(i||!m):_?f&&d&&!m&&(i||!w):!m&&!w&&(i?u<=e:u<e);p?o=h+1:s=h}return qr(s,D)}function Ro(t,e){for(var r=-1,i=t.length,o=0,n=[];++r<i;){var s=t[r],a=e?e(s):s;if(!r||!da(a,l)){var l=a;n[o++]=0===s?0:s}}return n}function jo(t){return"number"==typeof t?t:ja(t)?E:+t}function Eo(t){if("string"==typeof t)return t;if(pa(t))return Ke(t,Eo)+"";if(ja(t))return hi?hi.call(t):"";var e=t+"";return"0"==e&&1/t==-N?"-0":e}function Fo(t,e,r){var i=-1,o=$e,n=t.length,a=!0,l=[],_=l;if(r)a=!1,o=Ze;else if(n>=s){var c=e?null:Cn(t);if(c)return Ir(c);a=!1,o=br,_=new yi}else _=e?[]:l;t:for(;++i<n;){var h=t[i],u=e?e(h):h;if(h=r||0!==h?h:0,a&&u==u){for(var d=_.length;d--;)if(_[d]===u)continue t;e&&_.push(u),l.push(h)}else o(_,u,r)||(_!==l&&_.push(u),l.push(h))}return l}function Do(t,e){return null==(t=es(t,e=Xo(e,t)))||delete t[cs(Cs(e))]}function Po(t,e,r,i){return To(t,e,r(Ji(t,e)),i)}function zo(t,e,r,i){for(var o=t.length,n=i?o:-1;(i?n--:++n<o)&&e(t[n],n,t););return r?Ao(t,i?0:n,i?n+1:o):Ao(t,i?n+1:0,i?o:n)}function Bo(t,e){var r=t;return r instanceof wi&&(r=r.value()),er(e,function(t,e){return e.func.apply(e.thisArg,tr([t],e.args))},r)}function Uo(t,e,r){var o=t.length;if(o<2)return o?Fo(t[0]):[];for(var n=-1,s=i(o);++n<o;)for(var a=t[n],l=-1;++l<o;)l!=n&&(s[n]=Fi(s[n]||a,t[l],e,r));return Fo(Vi(s,1),e,r)}function Vo(t,e,r){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var l=i<s?e[i]:n;r(a,t[i],l)}return a}function Ho(t){return ya(t)?t:[]}function qo(t){return"function"==typeof t?t:Al}function Xo(t,e){return pa(t)?t:Wn(t,e)?[t]:_s(qa(t))}var Yo=Co;function Wo(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:Ao(t,e,r)}var Jo=Rr||function(t){return Ne.clearTimeout(t)};function Qo(t,e){if(e)return t.slice();var r=t.length,i=Ie?Ie(r):new t.constructor(r);return t.copy(i),i}function $o(t){var e=new t.constructor(t.byteLength);return new ve(e).set(new ve(t)),e}function Zo(t,e){var r=e?$o(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ko(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,s=ja(t),a=e!==n,l=null===e,_=e==e,c=ja(e);if(!l&&!c&&!s&&t>e||s&&a&&_&&!l&&!c||i&&a&&_||!r&&_||!o)return 1;if(!i&&!s&&!c&&t<e||c&&r&&o&&!i&&!s||l&&r&&o||!a&&o||!_)return-1}return 0}function tn(t,e,r,o){for(var n=-1,s=t.length,a=r.length,l=-1,_=e.length,c=Hr(s-a,0),h=i(_+c),u=!o;++l<_;)h[l]=e[l];for(;++n<a;)(u||n<s)&&(h[r[n]]=t[n]);for(;c--;)h[l++]=t[n++];return h}function en(t,e,r,o){for(var n=-1,s=t.length,a=-1,l=r.length,_=-1,c=e.length,h=Hr(s-l,0),u=i(h+c),d=!o;++n<h;)u[n]=t[n];for(var m=n;++_<c;)u[m+_]=e[_];for(;++a<l;)(d||n<s)&&(u[m+r[a]]=t[n++]);return u}function rn(t,e){var r=-1,o=t.length;for(e||(e=i(o));++r<o;)e[r]=t[r];return e}function on(t,e,r,i){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var l=e[s],_=i?i(r[l],t[l],l,r,t):n;_===n&&(_=t[l]),o?Mi(r,l,_):Si(r,l,_)}return r}function nn(t,e){return function(r,i){var o=pa(r)?Xe:Li,n=e?e():{};return o(r,t,En(i,2),n)}}function sn(t){return Co(function(e,r){var i=-1,o=r.length,s=o>1?r[o-1]:n,a=o>2?r[2]:n;for(s=t.length>3&&"function"==typeof s?(o--,s):n,a&&Yn(r[0],r[1],a)&&(s=o<3?n:s,o=1),e=ee(e);++i<o;){var l=r[i];l&&t(e,l,i,s)}return e})}function an(t,e){return function(r,i){if(null==r)return r;if(!ga(r))return t(r,i);for(var o=r.length,n=e?o:-1,s=ee(r);(e?n--:++n<o)&&!1!==i(s[n],n,s););return r}}function ln(t){return function(e,r,i){for(var o=-1,n=ee(e),s=i(e),a=s.length;a--;){var l=s[t?a:++o];if(!1===r(n[l],l,n))break}return e}}function _n(t){return function(e){var r=Gr(e=qa(e))?Mr(e):n,i=r?r[0]:e.charAt(0),o=r?Wo(r,1).join(""):e.slice(1);return i[t]()+o}}function cn(t){return function(e){return er(Gl(wl(e).replace(be,"")),t,"")}}function hn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=di(t.prototype),i=t.apply(r,e);return Sa(i)?i:r}}function un(t){return function(e,r,i){var o=ee(e);if(!ga(e)){var s=En(r,3);e=ol(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,i);return a>-1?o[s?e[a]:a]:n}}function dn(t){return An(function(e){var r=e.length,i=r,o=fi.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new oe(l);if(o&&!a&&"wrapper"==Rn(s))var a=new fi([],!0)}for(i=a?i:r;++i<r;){var _=Rn(s=e[i]),c="wrapper"==_?Nn(s):n;a=c&&Jn(c[0])&&c[1]==(G|y|v|k)&&!c[4].length&&1==c[9]?a[Rn(c[0])].apply(a,c[3]):1==s.length&&Jn(s)?a[_]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&pa(i))return a.plant(i).value();for(var o=0,n=r?e[o].apply(this,t):i;++o<r;)n=e[o].call(this,n);return n}})}function mn(t,e,r,o,s,a,l,_,c,h){var u=e&G,d=e&p,m=e&b,f=e&(y|x),w=e&T,g=m?n:hn(t);return function p(){for(var b=arguments.length,y=i(b),x=b;x--;)y[x]=arguments[x];if(f)var v=jn(p),C=function(t,e){for(var r=t.length,i=0;r--;)t[r]===e&&++i;return i}(y,v);if(o&&(y=tn(y,o,s,f)),a&&(y=en(y,a,l,f)),b-=C,f&&b<h){var G=Sr(y,v);return xn(t,e,mn,p.placeholder,r,y,G,_,c,h-b)}var k=d?r:this,T=m?k[t]:t;return b=y.length,_?y=function(t,e){for(var r=t.length,i=qr(e.length,r),o=rn(t);i--;){var s=e[i];t[i]=Xn(s,r)?o[s]:n}return t}(y,_):w&&b>1&&y.reverse(),u&&c<b&&(y.length=c),this&&this!==Ne&&this instanceof p&&(T=g||hn(T)),T.apply(k,y)}}function fn(t,e){return function(r,i){return function(t,e,r,i){return Xi(t,function(t,o,n){e(i,r(t),o,n)}),i}(r,t,e(i),{})}}function wn(t,e){return function(r,i){var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=Eo(r),i=Eo(i)):(r=jo(r),i=jo(i)),o=t(r,i)}return o}}function pn(t){return An(function(e){return e=Ke(e,wr(En())),Co(function(r){var i=this;return t(e,function(t){return qe(t,i,r)})})})}function bn(t,e){var r=(e=e===n?" ":Eo(e)).length;if(r<2)return r?vo(e,t):e;var i=vo(e,Fr(t/Ar(e)));return Gr(e)?Wo(Mr(i),0,t).join(""):i.slice(0,t)}function gn(t){return function(e,r,o){return o&&"number"!=typeof o&&Yn(e,r,o)&&(r=o=n),e=za(e),r===n?(r=e,e=0):r=za(r),function(t,e,r,o){for(var n=-1,s=Hr(Fr((e-t)/(r||1)),0),a=i(s);s--;)a[o?s:++n]=t,t+=r;return a}(e,r,o=o===n?e<r?1:-1:za(o),t)}}function yn(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Va(e),r=Va(r)),t(e,r)}}function xn(t,e,r,i,o,s,a,l,_,c){var h=e&y;e|=h?v:C,(e&=~(h?C:v))&g||(e&=~(p|b));var u=[t,e,o,h?s:n,h?a:n,h?n:s,h?n:a,l,_,c],d=r.apply(n,u);return Jn(t)&&is(d,u),d.placeholder=i,ss(d,t,e)}function vn(t){var e=te[t];return function(t,r){if(t=Va(t),r=null==r?0:qr(Ba(r),292)){var i=(qa(t)+"e").split("e");return+((i=(qa(e(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return e(t)}}var Cn=Kr&&1/Ir(new Kr([,-0]))[1]==N?function(t){return new Kr(t)}:jl;function Gn(t){return function(e){var r=Un(e);return r==Q?kr(e):r==rt?Lr(e):function(t,e){return Ke(e,function(e){return[e,t[e]]})}(e,t(e))}}function kn(t,e,r,o,s,a,_,c){var u=e&b;if(!u&&"function"!=typeof t)throw new oe(l);var d=o?o.length:0;if(d||(e&=~(v|C),o=s=n),_=_===n?_:Hr(Ba(_),0),c=c===n?c:Ba(c),d-=s?s.length:0,e&C){var m=o,f=s;o=s=n}var w=u?n:Nn(t),T=[t,e,r,o,s,m,f,a,_,c];if(w&&function(t,e){var r=t[1],i=e[1],o=r|i,n=o<(p|b|G),s=i==G&&r==y||i==G&&r==k&&t[7].length<=e[8]||i==(G|k)&&e[7].length<=e[8]&&r==y;if(!n&&!s)return t;i&p&&(t[2]=e[2],o|=r&p?0:g);var a=e[3];if(a){var l=t[3];t[3]=l?tn(l,a,e[4]):a,t[4]=l?Sr(t[3],h):e[4]}(a=e[5])&&(l=t[5],t[5]=l?en(l,a,e[6]):a,t[6]=l?Sr(t[5],h):e[6]),(a=e[7])&&(t[7]=a),i&G&&(t[8]=null==t[8]?e[8]:qr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(T,w),t=T[0],e=T[1],r=T[2],o=T[3],s=T[4],!(c=T[9]=T[9]===n?u?0:t.length:Hr(T[9]-d,0))&&e&(y|x)&&(e&=~(y|x)),e&&e!=p)S=e==y||e==x?function(t,e,r){var o=hn(t);return function s(){for(var a=arguments.length,l=i(a),_=a,c=jn(s);_--;)l[_]=arguments[_];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:Sr(l,c);return(a-=h.length)<r?xn(t,e,mn,s.placeholder,n,l,h,n,n,r-a):qe(this&&this!==Ne&&this instanceof s?o:t,this,l)}}(t,e,c):e!=v&&e!=(p|v)||s.length?mn.apply(n,T):function(t,e,r,o){var n=e&p,s=hn(t);return function e(){for(var a=-1,l=arguments.length,_=-1,c=o.length,h=i(c+l),u=this&&this!==Ne&&this instanceof e?s:t;++_<c;)h[_]=o[_];for(;l--;)h[_++]=arguments[++a];return qe(u,n?r:this,h)}}(t,e,r,o);else var S=function(t,e,r){var i=e&p,o=hn(t);return function e(){return(this&&this!==Ne&&this instanceof e?o:t).apply(i?r:this,arguments)}}(t,e,r);return ss((w?So:is)(S,T),t,e)}function Tn(t,e,r,i){return t===n||da(t,ae[r])&&!ce.call(i,r)?e:t}function Sn(t,e,r,i,o,s){return Sa(t)&&Sa(e)&&(s.set(e,t),fo(t,e,n,Sn,s),s.delete(e)),t}function In(t){return Ma(t)?n:t}function Ln(t,e,r,i,o,s){var a=r&f,l=t.length,_=e.length;if(l!=_&&!(a&&_>l))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var h=-1,u=!0,d=r&w?new yi:n;for(s.set(t,e),s.set(e,t);++h<l;){var m=t[h],p=e[h];if(i)var b=a?i(p,m,h,e,t,s):i(m,p,h,t,e,s);if(b!==n){if(b)continue;u=!1;break}if(d){if(!ir(e,function(t,e){if(!br(d,e)&&(m===t||o(m,t,r,i,s)))return d.push(e)})){u=!1;break}}else if(m!==p&&!o(m,p,r,i,s)){u=!1;break}}return s.delete(t),s.delete(e),u}function An(t){return ns(ts(t,n,bs),t+"")}function Mn(t){return Qi(t,ol,zn)}function On(t){return Qi(t,nl,Bn)}var Nn=ri?function(t){return ri.get(t)}:jl;function Rn(t){for(var e=t.name+"",r=ii[e],i=ce.call(ii,e)?r.length:0;i--;){var o=r[i],n=o.func;if(null==n||n==t)return o.name}return e}function jn(t){return(ce.call(ui,"placeholder")?ui:t).placeholder}function En(){var t=ui.iteratee||Ml;return t=t===Ml?ao:t,arguments.length?t(arguments[0],arguments[1]):t}function Fn(t,e){var r,i,o=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Dn(t){for(var e=ol(t),r=e.length;r--;){var i=e[r],o=t[i];e[r]=[i,o,Zn(o)]}return e}function Pn(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return so(r)?r:n}var zn=Pr?function(t){return null==t?[]:(t=ee(t),Qe(Pr(t),function(e){return Re.call(t,e)}))}:Ul,Bn=Pr?function(t){for(var e=[];t;)tr(e,zn(t)),t=Me(t);return e}:Ul,Un=$i;function Vn(t,e,r){for(var i=-1,o=(e=Xo(e,t)).length,n=!1;++i<o;){var s=cs(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}return n||++i!=o?n:!!(o=null==t?0:t.length)&&Ta(o)&&Xn(s,o)&&(pa(t)||wa(t))}function Hn(t){return"function"!=typeof t.constructor||$n(t)?{}:di(Me(t))}function qn(t){return pa(t)||wa(t)||!!(Fe&&t&&t[Fe])}function Xn(t,e){var r=typeof t;return!!(e=null==e?R:e)&&("number"==r||"symbol"!=r&&Wt.test(t))&&t>-1&&t%1==0&&t<e}function Yn(t,e,r){if(!Sa(r))return!1;var i=typeof e;return!!("number"==i?ga(r)&&Xn(e,r.length):"string"==i&&e in r)&&da(r[e],t)}function Wn(t,e){if(pa(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ja(t))||At.test(t)||!Lt.test(t)||null!=e&&t in ee(e)}function Jn(t){var e=Rn(t),r=ui[e];if("function"!=typeof r||!(e in wi.prototype))return!1;if(t===r)return!0;var i=Nn(r);return!!i&&t===i[0]}(Qr&&Un(new Qr(new ArrayBuffer(1)))!=_t||$r&&Un(new $r)!=Q||Zr&&"[object Promise]"!=Un(Zr.resolve())||Kr&&Un(new Kr)!=rt||ti&&Un(new ti)!=st)&&(Un=function(t){var e=$i(t),r=e==K?t.constructor:n,i=r?hs(r):"";if(i)switch(i){case oi:return _t;case ni:return Q;case si:return"[object Promise]";case ai:return rt;case li:return st}return e});var Qn=le?Ga:Vl;function $n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Zn(t){return t==t&&!Sa(t)}function Kn(t,e){return function(r){return null!=r&&r[t]===e&&(e!==n||t in ee(r))}}function ts(t,e,r){return e=Hr(e===n?t.length-1:e,0),function(){for(var o=arguments,n=-1,s=Hr(o.length-e,0),a=i(s);++n<s;)a[n]=o[e+n];n=-1;for(var l=i(e+1);++n<e;)l[n]=o[n];return l[e]=r(a),qe(t,this,l)}}function es(t,e){return e.length<2?t:Ji(t,Ao(e,0,-1))}function rs(t,e){if("__proto__"!=e)return t[e]}var is=as(So),os=Er||function(t,e){return Ne.setTimeout(t,e)},ns=as(Io);function ss(t,e,r){var i=e+"";return ns(t,function(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ye(z,function(r){var i="_."+r[0];e&r[1]&&!$e(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(Dt);return e?e[1].split(Pt):[]}(i),r)))}function as(t){var e=0,r=0;return function(){var i=Xr(),o=A-(i-r);if(r=i,o>0){if(++e>=L)return arguments[0]}else e=0;return t.apply(n,arguments)}}function ls(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var s=xo(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var _s=function(t){var e=aa(t,function(t){return r.size===c&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Mt,function(t,r,i,o){e.push(i?o.replace(Bt,"$1"):r||t)}),e});function cs(t){if("string"==typeof t||ja(t))return t;var e=t+"";return"0"==e&&1/t==-N?"-0":e}function hs(t){if(null!=t){try{return _e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function us(t){if(t instanceof wi)return t.clone();var e=new fi(t.__wrapped__,t.__chain__);return e.__actions__=rn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ds=Co(function(t,e){return ya(t)?Fi(t,Vi(e,1,ya,!0)):[]}),ms=Co(function(t,e){var r=Cs(e);return ya(r)&&(r=n),ya(t)?Fi(t,Vi(e,1,ya,!0),En(r,2)):[]}),fs=Co(function(t,e){var r=Cs(e);return ya(r)&&(r=n),ya(t)?Fi(t,Vi(e,1,ya,!0),n,r):[]});function ws(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=null==r?0:Ba(r);return o<0&&(o=Hr(i+o,0)),sr(t,En(e,3),o)}function ps(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=Ba(r),o=r<0?Hr(i+o,0):qr(o,i-1)),sr(t,En(e,3),o,!0)}function bs(t){return null!=t&&t.length?Vi(t,1):[]}function gs(t){return t&&t.length?t[0]:n}var ys=Co(function(t){var e=Ke(t,Ho);return e.length&&e[0]===t[0]?eo(e):[]}),xs=Co(function(t){var e=Cs(t),r=Ke(t,Ho);return e===Cs(r)?e=n:r.pop(),r.length&&r[0]===t[0]?eo(r,En(e,2)):[]}),vs=Co(function(t){var e=Cs(t),r=Ke(t,Ho);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?eo(r,n,e):[]});function Cs(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Gs=Co(ks);function ks(t,e){return t&&t.length&&e&&e.length?go(t,e):t}var Ts=An(function(t,e){var r=null==t?0:t.length,i=Oi(t,e);return yo(t,Ke(e,function(t){return Xn(t,r)?+t:t}).sort(Ko)),i});function Ss(t){return null==t?t:Jr.call(t)}var Is=Co(function(t){return Fo(Vi(t,1,ya,!0))}),Ls=Co(function(t){var e=Cs(t);return ya(e)&&(e=n),Fo(Vi(t,1,ya,!0),En(e,2))}),As=Co(function(t){var e=Cs(t);return e="function"==typeof e?e:n,Fo(Vi(t,1,ya,!0),n,e)});function Ms(t){if(!t||!t.length)return[];var e=0;return t=Qe(t,function(t){if(ya(t))return e=Hr(t.length,e),!0}),fr(e,function(e){return Ke(t,hr(e))})}function Os(t,e){if(!t||!t.length)return[];var r=Ms(t);return null==e?r:Ke(r,function(t){return qe(e,n,t)})}var Ns=Co(function(t,e){return ya(t)?Fi(t,e):[]}),Rs=Co(function(t){return Uo(Qe(t,ya))}),js=Co(function(t){var e=Cs(t);return ya(e)&&(e=n),Uo(Qe(t,ya),En(e,2))}),Es=Co(function(t){var e=Cs(t);return e="function"==typeof e?e:n,Uo(Qe(t,ya),n,e)}),Fs=Co(Ms);var Ds=Co(function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,Os(t,r)});function Ps(t){var e=ui(t);return e.__chain__=!0,e}function zs(t,e){return e(t)}var Bs=An(function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=function(e){return Oi(e,t)};return!(e>1||this.__actions__.length)&&i instanceof wi&&Xn(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:zs,args:[o],thisArg:n}),new fi(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(n),t})):this.thru(o)});var Us=nn(function(t,e,r){ce.call(t,r)?++t[r]:Mi(t,r,1)});var Vs=un(ws),Hs=un(ps);function qs(t,e){return(pa(t)?Ye:Di)(t,En(e,3))}function Xs(t,e){return(pa(t)?We:Pi)(t,En(e,3))}var Ys=nn(function(t,e,r){ce.call(t,r)?t[r].push(e):Mi(t,r,[e])});var Ws=Co(function(t,e,r){var o=-1,n="function"==typeof e,s=ga(t)?i(t.length):[];return Di(t,function(t){s[++o]=n?qe(e,t,r):ro(t,e,r)}),s}),Js=nn(function(t,e,r){Mi(t,r,e)});function Qs(t,e){return(pa(t)?Ke:ho)(t,En(e,3))}var $s=nn(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var Zs=Co(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Yn(t,e[0],e[1])?e=[]:r>2&&Yn(e[0],e[1],e[2])&&(e=[e[0]]),po(t,Vi(e,1),[])}),Ks=jr||function(){return Ne.Date.now()};function ta(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,kn(t,G,n,n,n,n,e)}function ea(t,e){var r;if("function"!=typeof e)throw new oe(l);return t=Ba(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=n),r}}var ra=Co(function(t,e,r){var i=p;if(r.length){var o=Sr(r,jn(ra));i|=v}return kn(t,i,e,r,o)}),ia=Co(function(t,e,r){var i=p|b;if(r.length){var o=Sr(r,jn(ia));i|=v}return kn(e,i,t,r,o)});function oa(t,e,r){var i,o,s,a,_,c,h=0,u=!1,d=!1,m=!0;if("function"!=typeof t)throw new oe(l);function f(e){var r=i,s=o;return i=o=n,h=e,a=t.apply(s,r)}function w(t){var r=t-c;return c===n||r>=e||r<0||d&&t-h>=s}function p(){var t=Ks();if(w(t))return b(t);_=os(p,function(t){var r=e-(t-c);return d?qr(r,s-(t-h)):r}(t))}function b(t){return _=n,m&&i?f(t):(i=o=n,a)}function g(){var t=Ks(),r=w(t);if(i=arguments,o=this,c=t,r){if(_===n)return function(t){return h=t,_=os(p,e),u?f(t):a}(c);if(d)return _=os(p,e),f(c)}return _===n&&(_=os(p,e)),a}return e=Va(e)||0,Sa(r)&&(u=!!r.leading,s=(d="maxWait"in r)?Hr(Va(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m),g.cancel=function(){_!==n&&Jo(_),h=0,i=c=o=_=n},g.flush=function(){return _===n?a:b(Ks())},g}var na=Co(function(t,e){return Ei(t,1,e)}),sa=Co(function(t,e,r){return Ei(t,Va(e)||0,r)});function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(l);var r=function(){var i=arguments,o=e?e.apply(this,i):i[0],n=r.cache;if(n.has(o))return n.get(o);var s=t.apply(this,i);return r.cache=n.set(o,s)||n,s};return r.cache=new(aa.Cache||gi),r}function la(t){if("function"!=typeof t)throw new oe(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=gi;var _a=Yo(function(t,e){var r=(e=1==e.length&&pa(e[0])?Ke(e[0],wr(En())):Ke(Vi(e,1),wr(En()))).length;return Co(function(i){for(var o=-1,n=qr(i.length,r);++o<n;)i[o]=e[o].call(this,i[o]);return qe(t,this,i)})}),ca=Co(function(t,e){var r=Sr(e,jn(ca));return kn(t,v,n,e,r)}),ha=Co(function(t,e){var r=Sr(e,jn(ha));return kn(t,C,n,e,r)}),ua=An(function(t,e){return kn(t,k,n,n,n,e)});function da(t,e){return t===e||t!=t&&e!=e}var ma=yn(Zi),fa=yn(function(t,e){return t>=e}),wa=io(function(){return arguments}())?io:function(t){return Ia(t)&&ce.call(t,"callee")&&!Re.call(t,"callee")},pa=i.isArray,ba=Pe?wr(Pe):function(t){return Ia(t)&&$i(t)==lt};function ga(t){return null!=t&&Ta(t.length)&&!Ga(t)}function ya(t){return Ia(t)&&ga(t)}var xa=zr||Vl,va=ze?wr(ze):function(t){return Ia(t)&&$i(t)==q};function Ca(t){if(!Ia(t))return!1;var e=$i(t);return e==Y||e==X||"string"==typeof t.message&&"string"==typeof t.name&&!Ma(t)}function Ga(t){if(!Sa(t))return!1;var e=$i(t);return e==W||e==J||e==V||e==tt}function ka(t){return"number"==typeof t&&t==Ba(t)}function Ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=R}function Sa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ia(t){return null!=t&&"object"==typeof t}var La=Be?wr(Be):function(t){return Ia(t)&&Un(t)==Q};function Aa(t){return"number"==typeof t||Ia(t)&&$i(t)==$}function Ma(t){if(!Ia(t)||$i(t)!=K)return!1;var e=Me(t);if(null===e)return!0;var r=ce.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&_e.call(r)==me}var Oa=Ue?wr(Ue):function(t){return Ia(t)&&$i(t)==et};var Na=Ve?wr(Ve):function(t){return Ia(t)&&Un(t)==rt};function Ra(t){return"string"==typeof t||!pa(t)&&Ia(t)&&$i(t)==it}function ja(t){return"symbol"==typeof t||Ia(t)&&$i(t)==ot}var Ea=He?wr(He):function(t){return Ia(t)&&Ta(t.length)&&!!Te[$i(t)]};var Fa=yn(co),Da=yn(function(t,e){return t<=e});function Pa(t){if(!t)return[];if(ga(t))return Ra(t)?Mr(t):rn(t);if(De&&t[De])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[De]());var e=Un(t);return(e==Q?kr:e==rt?Ir:dl)(t)}function za(t){return t?(t=Va(t))===N||t===-N?(t<0?-1:1)*j:t==t?t:0:0===t?t:0}function Ba(t){var e=za(t),r=e%1;return e==e?r?e-r:e:0}function Ua(t){return t?Ni(Ba(t),0,F):0}function Va(t){if("number"==typeof t)return t;if(ja(t))return E;if(Sa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Sa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Rt,"");var r=qt.test(t);return r||Yt.test(t)?Ae(t.slice(2),r?2:8):Ht.test(t)?E:+t}function Ha(t){return on(t,nl(t))}function qa(t){return null==t?"":Eo(t)}var Xa=sn(function(t,e){if($n(e)||ga(e))on(e,ol(e),t);else for(var r in e)ce.call(e,r)&&Si(t,r,e[r])}),Ya=sn(function(t,e){on(e,nl(e),t)}),Wa=sn(function(t,e,r,i){on(e,nl(e),t,i)}),Ja=sn(function(t,e,r,i){on(e,ol(e),t,i)}),Qa=An(Oi);var $a=Co(function(t,e){t=ee(t);var r=-1,i=e.length,o=i>2?e[2]:n;for(o&&Yn(e[0],e[1],o)&&(i=1);++r<i;)for(var s=e[r],a=nl(s),l=-1,_=a.length;++l<_;){var c=a[l],h=t[c];(h===n||da(h,ae[c])&&!ce.call(t,c))&&(t[c]=s[c])}return t}),Za=Co(function(t){return t.push(n,Sn),qe(al,n,t)});function Ka(t,e,r){var i=null==t?n:Ji(t,e);return i===n?r:i}function tl(t,e){return null!=t&&Vn(t,e,to)}var el=fn(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=r},Sl(Al)),rl=fn(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),ce.call(t,e)?t[e].push(r):t[e]=[r]},En),il=Co(ro);function ol(t){return ga(t)?vi(t):lo(t)}function nl(t){return ga(t)?vi(t,!0):_o(t)}var sl=sn(function(t,e,r){fo(t,e,r)}),al=sn(function(t,e,r,i){fo(t,e,r,i)}),ll=An(function(t,e){var r={};if(null==t)return r;var i=!1;e=Ke(e,function(e){return e=Xo(e,t),i||(i=e.length>1),e}),on(t,On(t),r),i&&(r=Ri(r,u|d|m,In));for(var o=e.length;o--;)Do(r,e[o]);return r});var _l=An(function(t,e){return null==t?{}:function(t,e){return bo(t,e,function(e,r){return tl(t,r)})}(t,e)});function cl(t,e){if(null==t)return{};var r=Ke(On(t),function(t){return[t]});return e=En(e),bo(t,r,function(t,r){return e(t,r[0])})}var hl=Gn(ol),ul=Gn(nl);function dl(t){return null==t?[]:pr(t,ol(t))}var ml=cn(function(t,e,r){return e=e.toLowerCase(),t+(r?fl(e):e)});function fl(t){return Cl(qa(t).toLowerCase())}function wl(t){return(t=qa(t))&&t.replace(Jt,xr).replace(ge,"")}var pl=cn(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),bl=cn(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),gl=_n("toLowerCase");var yl=cn(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});var xl=cn(function(t,e,r){return t+(r?" ":"")+Cl(e)});var vl=cn(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Cl=_n("toUpperCase");function Gl(t,e,r){return t=qa(t),(e=r?n:e)===n?function(t){return Ce.test(t)}(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.match(zt)||[]}(t):t.match(e)||[]}var kl=Co(function(t,e){try{return qe(t,n,e)}catch(t){return Ca(t)?t:new Zt(t)}}),Tl=An(function(t,e){return Ye(e,function(e){e=cs(e),Mi(t,e,ra(t[e],t))}),t});function Sl(t){return function(){return t}}var Il=dn(),Ll=dn(!0);function Al(t){return t}function Ml(t){return ao("function"==typeof t?t:Ri(t,u))}var Ol=Co(function(t,e){return function(r){return ro(r,t,e)}}),Nl=Co(function(t,e){return function(r){return ro(t,r,e)}});function Rl(t,e,r){var i=ol(e),o=Wi(e,i);null!=r||Sa(e)&&(o.length||!i.length)||(r=e,e=t,t=this,o=Wi(e,ol(e)));var n=!(Sa(r)&&"chain"in r&&!r.chain),s=Ga(t);return Ye(o,function(r){var i=e[r];t[r]=i,s&&(t.prototype[r]=function(){var e=this.__chain__;if(n||e){var r=t(this.__wrapped__),o=r.__actions__=rn(this.__actions__);return o.push({func:i,args:arguments,thisArg:t}),r.__chain__=e,r}return i.apply(t,tr([this.value()],arguments))})}),t}function jl(){}var El=pn(Ke),Fl=pn(Je),Dl=pn(ir);function Pl(t){return Wn(t)?hr(cs(t)):function(t){return function(e){return Ji(e,t)}}(t)}var zl=gn(),Bl=gn(!0);function Ul(){return[]}function Vl(){return!1}var Hl=wn(function(t,e){return t+e},0),ql=vn("ceil"),Xl=wn(function(t,e){return t/e},1),Yl=vn("floor");var Wl,Jl=wn(function(t,e){return t*e},1),Ql=vn("round"),$l=wn(function(t,e){return t-e},0);return ui.after=function(t,e){if("function"!=typeof e)throw new oe(l);return t=Ba(t),function(){if(--t<1)return e.apply(this,arguments)}},ui.ary=ta,ui.assign=Xa,ui.assignIn=Ya,ui.assignInWith=Wa,ui.assignWith=Ja,ui.at=Qa,ui.before=ea,ui.bind=ra,ui.bindAll=Tl,ui.bindKey=ia,ui.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return pa(t)?t:[t]},ui.chain=Ps,ui.chunk=function(t,e,r){e=(r?Yn(t,e,r):e===n)?1:Hr(Ba(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,l=i(Fr(o/e));s<o;)l[a++]=Ao(t,s,s+=e);return l},ui.compact=function(t){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var n=t[e];n&&(o[i++]=n)}return o},ui.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),r=arguments[0],o=t;o--;)e[o-1]=arguments[o];return tr(pa(r)?rn(r):[r],Vi(e,1))},ui.cond=function(t){var e=null==t?0:t.length,r=En();return t=e?Ke(t,function(t){if("function"!=typeof t[1])throw new oe(l);return[r(t[0]),t[1]]}):[],Co(function(r){for(var i=-1;++i<e;){var o=t[i];if(qe(o[0],this,r))return qe(o[1],this,r)}})},ui.conforms=function(t){return function(t){var e=ol(t);return function(r){return ji(r,t,e)}}(Ri(t,u))},ui.constant=Sl,ui.countBy=Us,ui.create=function(t,e){var r=di(t);return null==e?r:Ai(r,e)},ui.curry=function t(e,r,i){var o=kn(e,y,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},ui.curryRight=function t(e,r,i){var o=kn(e,x,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},ui.debounce=oa,ui.defaults=$a,ui.defaultsDeep=Za,ui.defer=na,ui.delay=sa,ui.difference=ds,ui.differenceBy=ms,ui.differenceWith=fs,ui.drop=function(t,e,r){var i=null==t?0:t.length;return i?Ao(t,(e=r||e===n?1:Ba(e))<0?0:e,i):[]},ui.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?Ao(t,0,(e=i-(e=r||e===n?1:Ba(e)))<0?0:e):[]},ui.dropRightWhile=function(t,e){return t&&t.length?zo(t,En(e,3),!0,!0):[]},ui.dropWhile=function(t,e){return t&&t.length?zo(t,En(e,3),!0):[]},ui.fill=function(t,e,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Yn(t,e,r)&&(r=0,i=o),function(t,e,r,i){var o=t.length;for((r=Ba(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:Ba(i))<0&&(i+=o),i=r>i?0:Ua(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},ui.filter=function(t,e){return(pa(t)?Qe:Ui)(t,En(e,3))},ui.flatMap=function(t,e){return Vi(Qs(t,e),1)},ui.flatMapDeep=function(t,e){return Vi(Qs(t,e),N)},ui.flatMapDepth=function(t,e,r){return r=r===n?1:Ba(r),Vi(Qs(t,e),r)},ui.flatten=bs,ui.flattenDeep=function(t){return null!=t&&t.length?Vi(t,N):[]},ui.flattenDepth=function(t,e){return null!=t&&t.length?Vi(t,e=e===n?1:Ba(e)):[]},ui.flip=function(t){return kn(t,T)},ui.flow=Il,ui.flowRight=Ll,ui.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,i={};++e<r;){var o=t[e];i[o[0]]=o[1]}return i},ui.functions=function(t){return null==t?[]:Wi(t,ol(t))},ui.functionsIn=function(t){return null==t?[]:Wi(t,nl(t))},ui.groupBy=Ys,ui.initial=function(t){return null!=t&&t.length?Ao(t,0,-1):[]},ui.intersection=ys,ui.intersectionBy=xs,ui.intersectionWith=vs,ui.invert=el,ui.invertBy=rl,ui.invokeMap=Ws,ui.iteratee=Ml,ui.keyBy=Js,ui.keys=ol,ui.keysIn=nl,ui.map=Qs,ui.mapKeys=function(t,e){var r={};return e=En(e,3),Xi(t,function(t,i,o){Mi(r,e(t,i,o),t)}),r},ui.mapValues=function(t,e){var r={};return e=En(e,3),Xi(t,function(t,i,o){Mi(r,i,e(t,i,o))}),r},ui.matches=function(t){return uo(Ri(t,u))},ui.matchesProperty=function(t,e){return mo(t,Ri(e,u))},ui.memoize=aa,ui.merge=sl,ui.mergeWith=al,ui.method=Ol,ui.methodOf=Nl,ui.mixin=Rl,ui.negate=la,ui.nthArg=function(t){return t=Ba(t),Co(function(e){return wo(e,t)})},ui.omit=ll,ui.omitBy=function(t,e){return cl(t,la(En(e)))},ui.once=function(t){return ea(2,t)},ui.orderBy=function(t,e,r,i){return null==t?[]:(pa(e)||(e=null==e?[]:[e]),pa(r=i?n:r)||(r=null==r?[]:[r]),po(t,e,r))},ui.over=El,ui.overArgs=_a,ui.overEvery=Fl,ui.overSome=Dl,ui.partial=ca,ui.partialRight=ha,ui.partition=$s,ui.pick=_l,ui.pickBy=cl,ui.property=Pl,ui.propertyOf=function(t){return function(e){return null==t?n:Ji(t,e)}},ui.pull=Gs,ui.pullAll=ks,ui.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?go(t,e,En(r,2)):t},ui.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?go(t,e,n,r):t},ui.pullAt=Ts,ui.range=zl,ui.rangeRight=Bl,ui.rearg=ua,ui.reject=function(t,e){return(pa(t)?Qe:Ui)(t,la(En(e,3)))},ui.remove=function(t,e){var r=[];if(!t||!t.length)return r;var i=-1,o=[],n=t.length;for(e=En(e,3);++i<n;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return yo(t,o),r},ui.rest=function(t,e){if("function"!=typeof t)throw new oe(l);return Co(t,e=e===n?e:Ba(e))},ui.reverse=Ss,ui.sampleSize=function(t,e,r){return e=(r?Yn(t,e,r):e===n)?1:Ba(e),(pa(t)?Gi:ko)(t,e)},ui.set=function(t,e,r){return null==t?t:To(t,e,r)},ui.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:To(t,e,r,i)},ui.shuffle=function(t){return(pa(t)?ki:Lo)(t)},ui.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Yn(t,e,r)?(e=0,r=i):(e=null==e?0:Ba(e),r=r===n?i:Ba(r)),Ao(t,e,r)):[]},ui.sortBy=Zs,ui.sortedUniq=function(t){return t&&t.length?Ro(t):[]},ui.sortedUniqBy=function(t,e){return t&&t.length?Ro(t,En(e,2)):[]},ui.split=function(t,e,r){return r&&"number"!=typeof r&&Yn(t,e,r)&&(e=r=n),(r=r===n?F:r>>>0)?(t=qa(t))&&("string"==typeof e||null!=e&&!Oa(e))&&!(e=Eo(e))&&Gr(t)?Wo(Mr(t),0,r):t.split(e,r):[]},ui.spread=function(t,e){if("function"!=typeof t)throw new oe(l);return e=null==e?0:Hr(Ba(e),0),Co(function(r){var i=r[e],o=Wo(r,0,e);return i&&tr(o,i),qe(t,this,o)})},ui.tail=function(t){var e=null==t?0:t.length;return e?Ao(t,1,e):[]},ui.take=function(t,e,r){return t&&t.length?Ao(t,0,(e=r||e===n?1:Ba(e))<0?0:e):[]},ui.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?Ao(t,(e=i-(e=r||e===n?1:Ba(e)))<0?0:e,i):[]},ui.takeRightWhile=function(t,e){return t&&t.length?zo(t,En(e,3),!1,!0):[]},ui.takeWhile=function(t,e){return t&&t.length?zo(t,En(e,3)):[]},ui.tap=function(t,e){return e(t),t},ui.throttle=function(t,e,r){var i=!0,o=!0;if("function"!=typeof t)throw new oe(l);return Sa(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),oa(t,e,{leading:i,maxWait:e,trailing:o})},ui.thru=zs,ui.toArray=Pa,ui.toPairs=hl,ui.toPairsIn=ul,ui.toPath=function(t){return pa(t)?Ke(t,cs):ja(t)?[t]:rn(_s(qa(t)))},ui.toPlainObject=Ha,ui.transform=function(t,e,r){var i=pa(t),o=i||xa(t)||Ea(t);if(e=En(e,4),null==r){var n=t&&t.constructor;r=o?i?new n:[]:Sa(t)&&Ga(n)?di(Me(t)):{}}return(o?Ye:Xi)(t,function(t,i,o){return e(r,t,i,o)}),r},ui.unary=function(t){return ta(t,1)},ui.union=Is,ui.unionBy=Ls,ui.unionWith=As,ui.uniq=function(t){return t&&t.length?Fo(t):[]},ui.uniqBy=function(t,e){return t&&t.length?Fo(t,En(e,2)):[]},ui.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?Fo(t,n,e):[]},ui.unset=function(t,e){return null==t||Do(t,e)},ui.unzip=Ms,ui.unzipWith=Os,ui.update=function(t,e,r){return null==t?t:Po(t,e,qo(r))},ui.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:Po(t,e,qo(r),i)},ui.values=dl,ui.valuesIn=function(t){return null==t?[]:pr(t,nl(t))},ui.without=Ns,ui.words=Gl,ui.wrap=function(t,e){return ca(qo(e),t)},ui.xor=Rs,ui.xorBy=js,ui.xorWith=Es,ui.zip=Fs,ui.zipObject=function(t,e){return Vo(t||[],e||[],Si)},ui.zipObjectDeep=function(t,e){return Vo(t||[],e||[],To)},ui.zipWith=Ds,ui.entries=hl,ui.entriesIn=ul,ui.extend=Ya,ui.extendWith=Wa,Rl(ui,ui),ui.add=Hl,ui.attempt=kl,ui.camelCase=ml,ui.capitalize=fl,ui.ceil=ql,ui.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=Va(r))==r?r:0),e!==n&&(e=(e=Va(e))==e?e:0),Ni(Va(t),e,r)},ui.clone=function(t){return Ri(t,m)},ui.cloneDeep=function(t){return Ri(t,u|m)},ui.cloneDeepWith=function(t,e){return Ri(t,u|m,e="function"==typeof e?e:n)},ui.cloneWith=function(t,e){return Ri(t,m,e="function"==typeof e?e:n)},ui.conformsTo=function(t,e){return null==e||ji(t,e,ol(e))},ui.deburr=wl,ui.defaultTo=function(t,e){return null==t||t!=t?e:t},ui.divide=Xl,ui.endsWith=function(t,e,r){t=qa(t),e=Eo(e);var i=t.length,o=r=r===n?i:Ni(Ba(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},ui.eq=da,ui.escape=function(t){return(t=qa(t))&&kt.test(t)?t.replace(Ct,vr):t},ui.escapeRegExp=function(t){return(t=qa(t))&&Nt.test(t)?t.replace(Ot,"\\$&"):t},ui.every=function(t,e,r){var i=pa(t)?Je:zi;return r&&Yn(t,e,r)&&(e=n),i(t,En(e,3))},ui.find=Vs,ui.findIndex=ws,ui.findKey=function(t,e){return nr(t,En(e,3),Xi)},ui.findLast=Hs,ui.findLastIndex=ps,ui.findLastKey=function(t,e){return nr(t,En(e,3),Yi)},ui.floor=Yl,ui.forEach=qs,ui.forEachRight=Xs,ui.forIn=function(t,e){return null==t?t:Hi(t,En(e,3),nl)},ui.forInRight=function(t,e){return null==t?t:qi(t,En(e,3),nl)},ui.forOwn=function(t,e){return t&&Xi(t,En(e,3))},ui.forOwnRight=function(t,e){return t&&Yi(t,En(e,3))},ui.get=Ka,ui.gt=ma,ui.gte=fa,ui.has=function(t,e){return null!=t&&Vn(t,e,Ki)},ui.hasIn=tl,ui.head=gs,ui.identity=Al,ui.includes=function(t,e,r,i){t=ga(t)?t:dl(t),r=r&&!i?Ba(r):0;var o=t.length;return r<0&&(r=Hr(o+r,0)),Ra(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&ar(t,e,r)>-1},ui.indexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=null==r?0:Ba(r);return o<0&&(o=Hr(i+o,0)),ar(t,e,o)},ui.inRange=function(t,e,r){return e=za(e),r===n?(r=e,e=0):r=za(r),function(t,e,r){return t>=qr(e,r)&&t<Hr(e,r)}(t=Va(t),e,r)},ui.invoke=il,ui.isArguments=wa,ui.isArray=pa,ui.isArrayBuffer=ba,ui.isArrayLike=ga,ui.isArrayLikeObject=ya,ui.isBoolean=function(t){return!0===t||!1===t||Ia(t)&&$i(t)==H},ui.isBuffer=xa,ui.isDate=va,ui.isElement=function(t){return Ia(t)&&1===t.nodeType&&!Ma(t)},ui.isEmpty=function(t){if(null==t)return!0;if(ga(t)&&(pa(t)||"string"==typeof t||"function"==typeof t.splice||xa(t)||Ea(t)||wa(t)))return!t.length;var e=Un(t);if(e==Q||e==rt)return!t.size;if($n(t))return!lo(t).length;for(var r in t)if(ce.call(t,r))return!1;return!0},ui.isEqual=function(t,e){return oo(t,e)},ui.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?oo(t,e,n,r):!!i},ui.isError=Ca,ui.isFinite=function(t){return"number"==typeof t&&Br(t)},ui.isFunction=Ga,ui.isInteger=ka,ui.isLength=Ta,ui.isMap=La,ui.isMatch=function(t,e){return t===e||no(t,e,Dn(e))},ui.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,no(t,e,Dn(e),r)},ui.isNaN=function(t){return Aa(t)&&t!=+t},ui.isNative=function(t){if(Qn(t))throw new Zt(a);return so(t)},ui.isNil=function(t){return null==t},ui.isNull=function(t){return null===t},ui.isNumber=Aa,ui.isObject=Sa,ui.isObjectLike=Ia,ui.isPlainObject=Ma,ui.isRegExp=Oa,ui.isSafeInteger=function(t){return ka(t)&&t>=-R&&t<=R},ui.isSet=Na,ui.isString=Ra,ui.isSymbol=ja,ui.isTypedArray=Ea,ui.isUndefined=function(t){return t===n},ui.isWeakMap=function(t){return Ia(t)&&Un(t)==st},ui.isWeakSet=function(t){return Ia(t)&&$i(t)==at},ui.join=function(t,e){return null==t?"":Ur.call(t,e)},ui.kebabCase=pl,ui.last=Cs,ui.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=Ba(r))<0?Hr(i+o,0):qr(o,i-1)),e==e?function(t,e,r){for(var i=r+1;i--;)if(t[i]===e)return i;return i}(t,e,o):sr(t,_r,o,!0)},ui.lowerCase=bl,ui.lowerFirst=gl,ui.lt=Fa,ui.lte=Da,ui.max=function(t){return t&&t.length?Bi(t,Al,Zi):n},ui.maxBy=function(t,e){return t&&t.length?Bi(t,En(e,2),Zi):n},ui.mean=function(t){return cr(t,Al)},ui.meanBy=function(t,e){return cr(t,En(e,2))},ui.min=function(t){return t&&t.length?Bi(t,Al,co):n},ui.minBy=function(t,e){return t&&t.length?Bi(t,En(e,2),co):n},ui.stubArray=Ul,ui.stubFalse=Vl,ui.stubObject=function(){return{}},ui.stubString=function(){return""},ui.stubTrue=function(){return!0},ui.multiply=Jl,ui.nth=function(t,e){return t&&t.length?wo(t,Ba(e)):n},ui.noConflict=function(){return Ne._===this&&(Ne._=fe),this},ui.noop=jl,ui.now=Ks,ui.pad=function(t,e,r){t=qa(t);var i=(e=Ba(e))?Ar(t):0;if(!e||i>=e)return t;var o=(e-i)/2;return bn(Dr(o),r)+t+bn(Fr(o),r)},ui.padEnd=function(t,e,r){t=qa(t);var i=(e=Ba(e))?Ar(t):0;return e&&i<e?t+bn(e-i,r):t},ui.padStart=function(t,e,r){t=qa(t);var i=(e=Ba(e))?Ar(t):0;return e&&i<e?bn(e-i,r)+t:t},ui.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Yr(qa(t).replace(jt,""),e||0)},ui.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Yn(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=za(t),e===n?(e=t,t=0):e=za(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=Wr();return qr(t+o*(e-t+Le("1e-"+((o+"").length-1))),e)}return xo(t,e)},ui.reduce=function(t,e,r){var i=pa(t)?er:dr,o=arguments.length<3;return i(t,En(e,4),r,o,Di)},ui.reduceRight=function(t,e,r){var i=pa(t)?rr:dr,o=arguments.length<3;return i(t,En(e,4),r,o,Pi)},ui.repeat=function(t,e,r){return e=(r?Yn(t,e,r):e===n)?1:Ba(e),vo(qa(t),e)},ui.replace=function(){var t=arguments,e=qa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ui.result=function(t,e,r){var i=-1,o=(e=Xo(e,t)).length;for(o||(o=1,t=n);++i<o;){var s=null==t?n:t[cs(e[i])];s===n&&(i=o,s=r),t=Ga(s)?s.call(t):s}return t},ui.round=Ql,ui.runInContext=t,ui.sample=function(t){return(pa(t)?Ci:Go)(t)},ui.size=function(t){if(null==t)return 0;if(ga(t))return Ra(t)?Ar(t):t.length;var e=Un(t);return e==Q||e==rt?t.size:lo(t).length},ui.snakeCase=yl,ui.some=function(t,e,r){var i=pa(t)?ir:Mo;return r&&Yn(t,e,r)&&(e=n),i(t,En(e,3))},ui.sortedIndex=function(t,e){return Oo(t,e)},ui.sortedIndexBy=function(t,e,r){return No(t,e,En(r,2))},ui.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var i=Oo(t,e);if(i<r&&da(t[i],e))return i}return-1},ui.sortedLastIndex=function(t,e){return Oo(t,e,!0)},ui.sortedLastIndexBy=function(t,e,r){return No(t,e,En(r,2),!0)},ui.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=Oo(t,e,!0)-1;if(da(t[r],e))return r}return-1},ui.startCase=xl,ui.startsWith=function(t,e,r){return t=qa(t),r=null==r?0:Ni(Ba(r),0,t.length),e=Eo(e),t.slice(r,r+e.length)==e},ui.subtract=$l,ui.sum=function(t){return t&&t.length?mr(t,Al):0},ui.sumBy=function(t,e){return t&&t.length?mr(t,En(e,2)):0},ui.template=function(t,e,r){var i=ui.templateSettings;r&&Yn(t,e,r)&&(e=n),t=qa(t),e=Wa({},e,i,Tn);var o,s,a=Wa({},e.imports,i.imports,Tn),l=ol(a),_=pr(a,l),c=0,h=e.interpolate||Qt,u="__p += '",d=re((e.escape||Qt).source+"|"+h.source+"|"+(h===It?Ut:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ke+"]")+"\n";t.replace(d,function(e,r,i,n,a,l){return i||(i=n),u+=t.slice(c,l).replace($t,Cr),r&&(o=!0,u+="' +\n__e("+r+") +\n'"),a&&(s=!0,u+="';\n"+a+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),u+="';\n";var f=e.variable;f||(u="with (obj) {\n"+u+"\n}\n"),u=(s?u.replace(gt,""):u).replace(yt,"$1").replace(xt,"$1;"),u="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var w=kl(function(){return Kt(l,m+"return "+u).apply(n,_)});if(w.source=u,Ca(w))throw w;return w},ui.times=function(t,e){if((t=Ba(t))<1||t>R)return[];var r=F,i=qr(t,F);e=En(e),t-=F;for(var o=fr(i,e);++r<t;)e(r);return o},ui.toFinite=za,ui.toInteger=Ba,ui.toLength=Ua,ui.toLower=function(t){return qa(t).toLowerCase()},ui.toNumber=Va,ui.toSafeInteger=function(t){return t?Ni(Ba(t),-R,R):0===t?t:0},ui.toString=qa,ui.toUpper=function(t){return qa(t).toUpperCase()},ui.trim=function(t,e,r){if((t=qa(t))&&(r||e===n))return t.replace(Rt,"");if(!t||!(e=Eo(e)))return t;var i=Mr(t),o=Mr(e);return Wo(i,gr(i,o),yr(i,o)+1).join("")},ui.trimEnd=function(t,e,r){if((t=qa(t))&&(r||e===n))return t.replace(Et,"");if(!t||!(e=Eo(e)))return t;var i=Mr(t);return Wo(i,0,yr(i,Mr(e))+1).join("")},ui.trimStart=function(t,e,r){if((t=qa(t))&&(r||e===n))return t.replace(jt,"");if(!t||!(e=Eo(e)))return t;var i=Mr(t);return Wo(i,gr(i,Mr(e))).join("")},ui.truncate=function(t,e){var r=S,i=I;if(Sa(e)){var o="separator"in e?e.separator:o;r="length"in e?Ba(e.length):r,i="omission"in e?Eo(e.omission):i}var s=(t=qa(t)).length;if(Gr(t)){var a=Mr(t);s=a.length}if(r>=s)return t;var l=r-Ar(i);if(l<1)return i;var _=a?Wo(a,0,l).join(""):t.slice(0,l);if(o===n)return _+i;if(a&&(l+=_.length-l),Oa(o)){if(t.slice(l).search(o)){var c,h=_;for(o.global||(o=re(o.source,qa(Vt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var u=c.index;_=_.slice(0,u===n?l:u)}}else if(t.indexOf(Eo(o),l)!=l){var d=_.lastIndexOf(o);d>-1&&(_=_.slice(0,d))}return _+i},ui.unescape=function(t){return(t=qa(t))&&Gt.test(t)?t.replace(vt,Or):t},ui.uniqueId=function(t){var e=++he;return qa(t)+e},ui.upperCase=vl,ui.upperFirst=Cl,ui.each=qs,ui.eachRight=Xs,ui.first=gs,Rl(ui,(Wl={},Xi(ui,function(t,e){ce.call(ui.prototype,e)||(Wl[e]=t)}),Wl),{chain:!1}),ui.VERSION="4.17.11",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ui[t].placeholder=ui}),Ye(["drop","take"],function(t,e){wi.prototype[t]=function(r){r=r===n?1:Hr(Ba(r),0);var i=this.__filtered__&&!e?new wi(this):this.clone();return i.__filtered__?i.__takeCount__=qr(r,i.__takeCount__):i.__views__.push({size:qr(r,F),type:t+(i.__dir__<0?"Right":"")}),i},wi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ye(["filter","map","takeWhile"],function(t,e){var r=e+1,i=r==M||3==r;wi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:En(t,3),type:r}),e.__filtered__=e.__filtered__||i,e}}),Ye(["head","last"],function(t,e){var r="take"+(e?"Right":"");wi.prototype[t]=function(){return this[r](1).value()[0]}}),Ye(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");wi.prototype[t]=function(){return this.__filtered__?new wi(this):this[r](1)}}),wi.prototype.compact=function(){return this.filter(Al)},wi.prototype.find=function(t){return this.filter(t).head()},wi.prototype.findLast=function(t){return this.reverse().find(t)},wi.prototype.invokeMap=Co(function(t,e){return"function"==typeof t?new wi(this):this.map(function(r){return ro(r,t,e)})}),wi.prototype.reject=function(t){return this.filter(la(En(t)))},wi.prototype.slice=function(t,e){t=Ba(t);var r=this;return r.__filtered__&&(t>0||e<0)?new wi(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=Ba(e))<0?r.dropRight(-e):r.take(e-t)),r)},wi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wi.prototype.toArray=function(){return this.take(F)},Xi(wi.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=ui[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(ui.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,l=e instanceof wi,_=a[0],c=l||pa(e),h=function(t){var e=o.apply(ui,tr([t],a));return i&&u?e[0]:e};c&&r&&"function"==typeof _&&1!=_.length&&(l=c=!1);var u=this.__chain__,d=!!this.__actions__.length,m=s&&!u,f=l&&!d;if(!s&&c){e=f?e:new wi(this);var w=t.apply(e,a);return w.__actions__.push({func:zs,args:[h],thisArg:n}),new fi(w,u)}return m&&f?t.apply(this,a):(w=this.thru(h),m?i?w.value()[0]:w.value():w)})}),Ye(["pop","push","shift","sort","splice","unshift"],function(t){var e=ne[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);ui.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var o=this.value();return e.apply(pa(o)?o:[],t)}return this[r](function(r){return e.apply(pa(r)?r:[],t)})}}),Xi(wi.prototype,function(t,e){var r=ui[e];if(r){var i=r.name+"";(ii[i]||(ii[i]=[])).push({name:e,func:r})}}),ii[mn(n,b).name]=[{name:"wrapper",func:n}],wi.prototype.clone=function(){var t=new wi(this.__wrapped__);return t.__actions__=rn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rn(this.__views__),t},wi.prototype.reverse=function(){if(this.__filtered__){var t=new wi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},wi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=pa(t),i=e<0,o=r?t.length:0,n=function(t,e,r){for(var i=-1,o=r.length;++i<o;){var n=r[i],s=n.size;switch(n.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=qr(e,t+s);break;case"takeRight":t=Hr(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=n.start,a=n.end,l=a-s,_=i?a:s-1,c=this.__iteratees__,h=c.length,u=0,d=qr(l,this.__takeCount__);if(!r||!i&&o==l&&d==l)return Bo(t,this.__actions__);var m=[];t:for(;l--&&u<d;){for(var f=-1,w=t[_+=e];++f<h;){var p=c[f],b=p.iteratee,g=p.type,y=b(w);if(g==O)w=y;else if(!y){if(g==M)continue t;break t}}m[u++]=w}return m},ui.prototype.at=Bs,ui.prototype.chain=function(){return Ps(this)},ui.prototype.commit=function(){return new fi(this.value(),this.__chain__)},ui.prototype.next=function(){this.__values__===n&&(this.__values__=Pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},ui.prototype.plant=function(t){for(var e,r=this;r instanceof mi;){var i=us(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},ui.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof wi){var e=t;return this.__actions__.length&&(e=new wi(this)),(e=e.reverse()).__actions__.push({func:zs,args:[Ss],thisArg:n}),new fi(e,this.__chain__)}return this.thru(Ss)},ui.prototype.toJSON=ui.prototype.valueOf=ui.prototype.value=function(){return Bo(this.__wrapped__,this.__actions__)},ui.prototype.first=ui.prototype.head,De&&(ui.prototype[De]=function(){return this}),ui}();Ne._=Nr,(o=function(){return Nr}.call(e,r,e,i))===n||(i.exports=o)}).call(this)}).call(this,r(24),r(25)(t))},,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(0),o=r(4),n=r(3);class s{constructor(){this.clip=new Array(10),this.clipCount=0,this.CUSTOMCOLORS_STACK_SIZE=10,this.customcolors=new Array(this.CUSTOMCOLORS_STACK_SIZE),this.customcolors_cnt=0,this.canvas=document.querySelector("canvas"),this.gctx=this.canvas.getContext("2d"),this.gctx.save()}drawTypeToColor(t,e,r){r?t=n.a.LineGray:t==n.a.LineGray&&e?t=n.a.Line:e&&(t+=1);let i=o.a.rgb_color(t,this.get_customcolors());return"rgb("+Math.floor(255*i.r)+","+Math.floor(255*i.g)+","+Math.floor(255*i.b)+")"}getFont(t,e,r){return(e===n.a.TextHelveticaBold?"bold ":"")+r+"px "+["Helvetica","Times","NewCenturySchoolbook","Courier","LucidaSans"][t]}setupGCtx(t,e,r,i){this.gctx.lineWidth=e+1,this.gctx.fillStyle=this.drawTypeToColor(t,r,i),this.gctx.strokeStyle=this.gctx.fillStyle}rect(t,e,r,i,o,n,s=0,a=!1,l=!1){this.setupGCtx(o,s,a,l),n?this.gctx.fillRect(t,e,r,i):this.gctx.strokeRect(t,e,r,i)}arc(t,e,r,i,o,n,s,a,l=0,_=!1,c=!1){this.setupGCtx(s,l,_,c),this.gctx.beginPath(),360!==n&&this.gctx.moveTo(t+r/2,e+i/2),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+r/2,e+i/2,r/2,i/2,0,-o*Math.PI/180,-(o+n)*Math.PI/180,!0):this.gctx.arc(t+r/2,e+i/2,r/2,-o*Math.PI/180,-(o+n)*Math.PI/180,!0),a?this.gctx.fill():this.gctx.stroke()}line(t,e,r,o,s=n.a.Line,a=0,l=i.e.Solid,_=!1,c=!1){switch(this.setupGCtx(s,a,_,c),l){case i.e.Dashed1:this.gctx.setLineDash([a,a]);break;case i.e.Dashed2:this.gctx.setLineDash([2*a,2*a]);break;case i.e.Dashed3:this.gctx.setLineDash([4*a,4*a]);break;case i.e.Dotted:this.gctx.setLineDash([a,6*a]);break;case i.e.DotDashed1:this.gctx.setLineDash([a,2*a,4*a,2*a]);break;case i.e.DotDashed2:this.gctx.setLineDash([a,4*a,8*a,4*a])}this.gctx.beginPath(),this.gctx.moveTo(t,e),this.gctx.lineTo(r,o),this.gctx.stroke(),l!==i.e.Solid&&this.gctx.setLineDash([])}polyline(t,e,r,i,o=0,n=!1,s=!1){if(t&&t.length){this.setupGCtx(r,o,n,s),this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(let r=1;r<e;r++)this.gctx.lineTo(t[r].x,t[r].y);i?this.gctx.fill():this.gctx.stroke()}}text(t,e,r,i,o,n,s,a=0,l=!1,_=!1){this.gctx.font=this.getFont(n,i,s),this.gctx.lineWidth=s+1,this.gctx.fillStyle=this.drawTypeToColor(o,l,_);let c=this.getTextExtent(r,i,n,s),h=t+c.width/2,u=e+c.height/2;180===a?(h+=c.width/2,u+=c.height/4):270===a?(h-=c.height/4,u+=c.width/2):90===a?(h+=c.height/4,u-=c.width/2):(h-=c.width/2,u-=c.height/4),this.gctx.save(),this.gctx.translate(h,u),this.gctx.rotate(a*Math.PI/180);let d=r.split("\n");for(let t=0;t<d.length;t++)this.gctx.fillText(d[t],0,t*s);this.gctx.restore()}image(t,e,r,i,o,n=null){this.gctx.save(),n&&(this.gctx.putImageData(n,t,e),this.gctx.globalCompositeOperation="source-in"),this.gctx.drawImage(o,t,e,r,i),this.gctx.restore()}pixmaps_create(t){let e=null,r=new Array(9);for(let i=0;i<9;i++){if(0===i||t[i].bits!==e.bits){r[i]=this.gctx.createImageData(t[i].width,t[i].height);for(let e=0;e<t[i].bits.length;e++)r[i].data[e]=t[i].bits[e]}else r[i]=r[i-1];e=t[i]}return r}pixmap(t,e,r,i,o,n,s){this.setupGCtx(o,s,!1,!1),this.gctx.fillRect(t,e,r.width,r.height),this.setupGCtx(n,s,!1,!1),this.gctx.save(),this.gctx.putImageData(i,t,e),this.gctx.globalCompositeOperation="source-in",this.gctx.fillRect(t,e,r.width,r.height),this.gctx.restore()}getTextExtent(t,e,r,i,o=0){this.gctx.font=this.getFont(r,e,i),this.gctx.lineWidth=i+1;let n=0,s=0,a=t.split("\n");for(let t=0;t<a.length;t++)n=Math.max(n,this.gctx.measureText(a[t]).width),s+=i;return 90===o||270===o?{width:s,height:n,descent:.22*s}:{width:n,height:s,descent:.22*s}}createGradient(t,e,r,o,n,s,a,l){let _=Math.sqrt(r*r+o*o);l!==i.d.Globe&&l!==i.d.RadialCenter||(_/=2);let c,h=this.drawTypeToColor(n,!1,!1),u=this.drawTypeToColor(s,!1,!1),d=this.drawTypeToColor(a,!1,!1);switch(l){case i.d.HorizontalUp:case i.d.HorizontalDown:case i.d.HorizontalTube1:case i.d.HorizontalTube2:c=this.gctx.createLinearGradient(t,e,t,e+o);break;case i.d.VerticalRight:case i.d.VerticalLeft:case i.d.VerticalTube1:case i.d.VerticalTube2:c=this.gctx.createLinearGradient(t,e,t+r,e);break;case i.d.DiagonalUpperLeft:c=this.gctx.createLinearGradient(t,e,t+r,e+o);break;case i.d.DiagonalLowerLeft:c=this.gctx.createLinearGradient(t,e+o,t+r,e);break;case i.d.DiagonalUpperRight:c=this.gctx.createLinearGradient(t+r,e,t,e+o);break;case i.d.DiagonalLowerRight:c=this.gctx.createLinearGradient(t+r,e+o,t,e);break;case i.d.DiagonalUpTube:c=this.gctx.createLinearGradient(t+r/5,e+o/5,t+4*r/5,e+4*o/5);break;case i.d.DiagonalDownTube:c=this.gctx.createLinearGradient(t+4*r/5,e+o/5,t+r/5,e+4*o/5);break;case i.d.Globe:c=this.gctx.createRadialGradient(t+.3*r,e+.3*o,1,t+.3*r,e+.3*o,_);break;case i.d.RadialCenter:c=this.gctx.createRadialGradient(t+.5*r,e+.5*o,1,t+.5*r,e+.5*o,_);break;case i.d.RadialUpperLeft:c=this.gctx.createRadialGradient(t,e,1,t,e,_);break;case i.d.RadialLowerLeft:c=this.gctx.createRadialGradient(t,e+o,1,t,e+o,_);break;case i.d.RadialUpperRight:c=this.gctx.createRadialGradient(t+r,e,1,t+r,e,_);break;case i.d.RadialLowerRight:c=this.gctx.createRadialGradient(t+r,e+o,1,t+r,e+o,_);break;default:return}switch(l){case i.d.HorizontalTube1:case i.d.VerticalTube1:c.addColorStop(0,u),c.addColorStop(.5,d),c.addColorStop(1,u);break;case i.d.DiagonalUpTube:case i.d.DiagonalDownTube:c.addColorStop(.1,u),c.addColorStop(.5,d),c.addColorStop(.9,u);break;case i.d.HorizontalTube2:case i.d.VerticalTube2:c.addColorStop(0,h),c.addColorStop(.3,d),c.addColorStop(.95,u);break;default:c.addColorStop(.1,d),c.addColorStop(.9,u)}return c}gradient_rotate(t,e){let r=e,o=360*(t/360-Math.floor(t/360));for(;o>45;){switch(r){case i.d.HorizontalUp:r=i.d.VerticalRight;break;case i.d.HorizontalDown:r=i.d.VerticalLeft;break;case i.d.HorizontalTube1:r=i.d.VerticalTube1;break;case i.d.HorizontalTube2:r=i.d.VerticalTube2;break;case i.d.VerticalLeft:r=i.d.HorizontalUp;break;case i.d.VerticalRight:r=i.d.HorizontalDown;break;case i.d.VerticalTube1:r=i.d.HorizontalTube1;break;case i.d.VerticalTube2:r=i.d.HorizontalTube2;break;case i.d.DiagonalUpperLeft:r=i.d.DiagonalUpperRight;break;case i.d.DiagonalLowerLeft:r=i.d.DiagonalUpperLeft;break;case i.d.DiagonalUpperRight:r=i.d.DiagonalLowerRight;break;case i.d.DiagonalLowerRight:r=i.d.DiagonalLowerLeft;break;case i.d.DiagonalUpTube:r=i.d.DiagonalDownTube;break;case i.d.DiagonalDownTube:r=i.d.DiagonalUpTube;break;case i.d.RadialUpperLeft:r=i.d.RadialUpperRight;break;case i.d.RadialLowerLeft:r=i.d.RadialUpperLeft;break;case i.d.RadialUpperRight:r=i.d.RadialLowerRight;break;case i.d.RadialLowerRight:r=i.d.RadialLowerLeft}o-=90}return r}gradient_fill_rect(t,e,r,i,o,n,s,a){this.gctx.fillStyle=this.createGradient(t,e,r,i,o,n,s,a),this.gctx.fillRect(t,e,r,i)}gradient_fill_rectrounded(t,e,r,i,o,n,s,a,l){this.gctx.fillStyle=this.createGradient(t,e,r,i,n,s,a,l),this.gctx.beginPath(),this.gctx.moveTo(t+o,e),this.gctx.arcTo(t+r,e,t+r,e+i,o),this.gctx.arcTo(t+r,e+i,t,e+i,o),this.gctx.arcTo(t,e+i,t,e,o),this.gctx.arcTo(t,e,t+r,e,o),this.gctx.closePath(),this.gctx.fill()}gradient_fill_arc(t,e,r,i,o,n,s,a,l,_){this.gctx.fillStyle=this.createGradient(t,e,r,i,s,a,l,_),this.gctx.beginPath(),360!==n&&this.gctx.moveTo(t+r/2,e+i/2),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+r/2,e+i/2,r/2,i/2,0,-o*Math.PI/180,-(o+n)*Math.PI/180,!0):this.gctx.arc(t+r/2,e+i/2,r/2,-o*Math.PI/180,-(o+n)*Math.PI/180,!0),this.gctx.fill()}gradient_fill_polyline(t,e,r,i,o,n){if(!t||!t.length)return;let s=t.slice(0,e),a=s.reduce((t,e)=>Math.min(t,e.x),Number.MAX_VALUE),l=s.reduce((t,e)=>Math.min(t,e.y),Number.MAX_VALUE),_=s.reduce((t,e)=>Math.max(t,e.x),-Number.MAX_VALUE),c=s.reduce((t,e)=>Math.max(t,e.y),-Number.MAX_VALUE);this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(let r=1;r<e;r++)this.gctx.lineTo(t[r].x,t[r].y);this.gctx.fillStyle=this.createGradient(a,l,_-a,c-l,r,i,o,n),this.gctx.fill()}set_clip_rectangle(t,e,r,o){if(this.clipCount>0){if(this.clipCount>=10)return!1;t=Math.max(t,this.clip[this.clipCount-1].ll.x),e=Math.max(e,this.clip[this.clipCount-1].ll.y),r=Math.min(r,this.clip[this.clipCount-1].ur.x),o=Math.min(o,this.clip[this.clipCount-1].ur.y)}return this.clip[this.clipCount]=new i.i(t,e,r,o),this.clipCount++,this.gctx.restore(),this.gctx.save(),this.gctx.beginPath(),this.gctx.rect(t,e,r-t,o-e),this.gctx.clip(),!0}reset_clip_rectangle(){this.clipCount?(this.clipCount--,this.clipCount>0?(this.gctx.restore(),this.gctx.save(),this.gctx.beginPath(),this.gctx.rect(this.clip[this.clipCount-1].ll.x,this.clip[this.clipCount-1].ll.y,this.clip[this.clipCount-1].width(),this.clip[this.clipCount-1].height()),this.gctx.clip()):(this.gctx.restore(),this.gctx.save())):console.log("Clip mismatch")}get_clip_rectangle(){return this.clip[this.clipCount-1]||null}set_customcolors(t){this.customcolors[0]=t,this.customcolors_cnt=1}push_customcolors(t){if(this.customcolors_cnt>this.CUSTOMCOLORS_STACK_SIZE)console.log("** Max number custom colors exceede");else{for(let t=this.customcolors_cnt;t>0;t--)this.customcolors[t]=this.customcolors[t-1];this.customcolors[0]=t,this.customcolors_cnt++}}pop_customcolors(){this.customcolors_cnt;for(let t=0;t<this.customcolors_cnt-1;t++)this.customcolors[t]=this.customcolors[t+1];this.customcolors_cnt--}get_customcolors(){return this.customcolors_cnt?this.customcolors[0]:null}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});class i{constructor(t){this.str=t}consumeChar(){let t=this.str[0];return this.str=this.str.substring(1),t}consumeWord(){let t=this.str.search(/[ \n]/),e=this.str.substring(0,t);return this.str=this.str.substring(t+1),e}consumeLine(){let t=this.str.indexOf("\n"),e=this.str.substring(0,t);return this.str=this.str.substring(t+1),e}consumeBool(){return Boolean(parseInt(this.consumeWord(),10))}consumeInt(){return parseInt(this.consumeWord(),10)}consumeFloat(){return parseFloat(this.consumeWord())}consumeQuotedString(){if('"'!==this.str[0])return"";let t=1;for(;'"'!==this.str[t]||"\\"===this.str[t-1];)t++;let e=this.str.substring(1,t).replace('\\"','"');return this.str=this.str.substring(t+1),e}}},,function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,,,function(t,e,r){"use strict";r.r(e);class i{constructor(t,e){this.command=t,this.qualifier=e}}var o,n;!function(t){t[t.SUCCESS=1]="SUCCESS",t[t.SYNTAX_ERROR=2]="SYNTAX_ERROR",t[t.UNKNOWN_COMMAND=4]="UNKNOWN_COMMAND",t[t.VERB_VECT_SIZE=5]="VERB_VECT_SIZE",t[t.QUALNOTFOUND=6]="QUALNOTFOUND"}(o||(o={})),function(t){t[t.INIT=0]="INIT",t[t.VERB=1]="VERB",t[t.QUAL=2]="QUAL",t[t.QUALVALUE=3]="QUALVALUE",t[t.SPACE=4]="SPACE",t[t.EQUAL=5]="EQUAL",t[t.ERROR=6]="ERROR",t[t.QUOTE_VERB=7]="QUOTE_VERB",t[t.QUOTE_QUALVALUE=8]="QUOTE_QUALVALUE",t[t.QUALVALUE_EXACT=9]="QUALVALUE_EXACT",t[t.VERB_EXACT=10]="VERB_EXACT"}(n||(n={}));class s{constructor(t){this.verb=new Array,this.qualifier=new Array,this.qualValue=new Array,this.cliQualifierIndex=new Array,this.cliTable=t}getStsString(){switch(this.status){case o.SUCCESS:return"Success";case o.SYNTAX_ERROR:return"Syntax error";case o.UNKNOWN_COMMAND:return"Unknown command verb";case o.QUALNOTFOUND:return"Unknown qualifier";default:return"Unknown command interpreter error"}}parse(t){let e=n.INIT,r=0;this.status=o.SUCCESS;let i=0;for(i=0;i<t.length;i++){let s=t.charAt(i);switch(e){case n.INIT:if(" "===s||"\t"===s)break;e=n.VERB,r=i;break;case n.SPACE:if(" "===s||"\t"===s)break;if("/"===s)e=n.QUAL,r=i;else if("="===s){if(0===this.qualifier.length){e=n.ERROR,this.status=o.SYNTAX_ERROR;break}e=n.EQUAL}else{if('"'===s){e=n.QUOTE_VERB;break}e=n.VERB,r=i}break;case n.VERB:if(" "===s||"\t"===s){if(this.verb.length===o.VERB_VECT_SIZE){e=n.ERROR;break}0===this.verb.length?this.verb.push(t.substring(r,i).toUpperCase()):this.verb.push(t.substring(r,i)),e=n.SPACE}else if("/"===s){if(this.verb.length===o.VERB_VECT_SIZE){e=n.ERROR;break}this.verb.push(t.substring(r,i).toUpperCase()),e=n.QUAL,r=i}break;case n.VERB_EXACT:if('"'===s){if(this.verb.length===o.VERB_VECT_SIZE){e=n.ERROR;break}this.verb.push(t.substring(r,i)),e=n.SPACE}break;case n.QUAL:" "===s||"\t"===s?(this.qualifier.push(t.substring(r,i).toUpperCase()),e=n.SPACE):"="===s?(this.qualifier.push(t.substring(r,i).toUpperCase()),e=n.EQUAL):"/"===s&&(this.qualifier.push(t.substring(r,i).toUpperCase()),e=n.QUAL,r=i);break;case n.QUALVALUE:" "===s||"\t"===s?(this.qualValue[this.qualifier.length-1]=t.substring(r,i),e=n.SPACE):"/"===s&&(this.qualValue[this.qualifier.length-1]=t.substring(r,i),e=n.QUAL,r=i);break;case n.QUALVALUE_EXACT:'"'===s&&(this.qualValue[this.qualifier.length-1]=t.substring(r,i),e=n.SPACE);break;case n.QUOTE_VERB:e=n.VERB_EXACT,r=i;break;case n.QUOTE_QUALVALUE:e=n.QUALVALUE_EXACT,r=i;break;case n.EQUAL:if(" "===s||"\t"===s)break;'"'===s?e=n.QUOTE_QUALVALUE:(e=n.QUALVALUE,r=i)}if(e===n.ERROR)break}switch(e){case n.INIT:case n.ERROR:return"";case n.VERB:if(this.verb.length===o.VERB_VECT_SIZE){e=n.ERROR;break}0===this.verb.length?this.verb.push(t.substring(r,i).toUpperCase()):this.verb.push(t.substring(r,i));break;case n.VERB_EXACT:if(this.verb.length===o.VERB_VECT_SIZE){e=n.ERROR;break}this.verb.push(t.substring(r,i));break;case n.QUAL:this.qualifier.push(t.substring(r,i).toUpperCase());break;case n.QUALVALUE:case n.QUALVALUE_EXACT:this.qualValue[this.qualifier.length-1]=t.substring(r,i);break;case n.QUOTE_VERB:case n.QUOTE_QUALVALUE:case n.EQUAL:return this.status=o.SYNTAX_ERROR,""}if(0===this.verb.length)return this.status=o.SYNTAX_ERROR,"";let s=!1;for(i=0;i<this.cliTable.length;i++)if(!(this.verb[0].length>this.cliTable[i].command.length)&&this.verb[0]===this.cliTable[i].command.substring(0,this.verb[0].length)){this.verb[0]=this.cliTable[i].command,s=!0;break}if(!s)return this.status=o.UNKNOWN_COMMAND,"";if(this.cliTableIndex=i,this.configuredVerbs=0,this.cliTable[this.cliTableIndex].qualifier){for(let t=0;t<this.cliTable[this.cliTableIndex].qualifier.length&&null!==this.cliTable[this.cliTableIndex].qualifier[t];t++)this.cliTable[this.cliTableIndex].qualifier[t].startsWith("cli_arg")&&this.configuredVerbs++;for(let t=0;t<this.qualifier.length;t++){s=!1;for(let e=0;e<this.cliTable[this.cliTableIndex].qualifier.length&&null!==this.cliTable[this.cliTableIndex].qualifier[e];e++)this.qualifier[t].length>this.cliTable[this.cliTableIndex].qualifier[e].length||this.qualifier[t]===this.cliTable[this.cliTableIndex].qualifier[e].substring(0,this.qualifier[t].length)&&(this.cliQualifierIndex[t]=e,s=!0,this.qualifier[t]=this.cliTable[this.cliTableIndex].qualifier[e]);if(!s)return this.status=o.QUALNOTFOUND,""}}else if(this.qualifier.length>0)return this.status=o.QUALNOTFOUND,"";return this.verb[0]}qualifierFound(t){if(t.startsWith("cli_arg")){let e=Number.parseInt(t.substring(7),10);return!(this.verb.length<e+1||this.configuredVerbs<e)}for(let e=0;e<this.qualifier.length;e++)if(t===this.qualifier[e])return!0;return!1}getQualValue(t){if(t.startsWith("cli_arg")){let e=Number.parseInt(t.substring(7),10);return this.verb.length<e+1||this.configuredVerbs<e?"":this.verb[e]}for(let e=0;e<this.qualifier.length;e++)if(t===this.qualifier[e])return this.qualValue[e]||"";return""}}var a=r(5),l=r(0),_=r(9),c=r(6),h=r(22);const u=21001,d=21003,m=21005;var f,w,p,b,g,y,x,v,C,G,k,T,S,I,L,A,M,O,N,R,j,E,F,D,P,z,B;!function(t){t[t.Boolean=0]="Boolean",t[t.Int=1]="Int",t[t.Double=2]="Double",t[t.String=3]="String",t[t.DynType1=4]="DynType1",t[t.ActionType1=5]="ActionType1",t[t.Direction=6]="Direction",t[t.Color=7]="Color",t[t.Tone=8]="Tone",t[t.ToneOrColor=9]="ToneOrColor",t[t.TraceColor=10]="TraceColor",t[t.Access=11]="Access",t[t.Cycle=12]="Cycle",t[t.MB3Action=13]="MB3Action",t[t.Relief=14]="Relief",t[t.InputFocusMark=15]="InputFocusMark",t[t.TextSize=16]="TextSize",t[t.Adjustment=17]="Adjustment",t[t.Font=18]="Font",t[t.Gradient=19]="Gradient",t[t.HotIndication=20]="HotIndication",t[t.AnnotType=21]="AnnotType",t[t.DynType2=22]="DynType2",t[t.ActionType2=23]="ActionType2",t[t.AppMotion=24]="AppMotion"}(f||(f={})),function(t){t[t.Glow=0]="Glow",t[t.Brow=1]="Brow",t[t.Grow=2]="Grow",t[t.ColPal=3]="ColPal",t[t.Curve=4]="Curve"}(w||(w={})),function(t){t[t.Surround=5]="Surround",t[t.Partial=6]="Partial",t[t.Both=7]="Both"}(p||(p={})),function(t){t[t.No=0]="No",t[t.Close=1]="Close",t[t.PopupMenu=2]="PopupMenu",t[t.Both=3]="Both"}(b||(b={})),function(t){t[t.Eight=0]="Eight",t[t.Ten=1]="Ten",t[t.Twelve=2]="Twelve",t[t.Fourteen=4]="Fourteen",t[t.Eighteen=6]="Eighteen",t[t.TwentyFour=8]="TwentyFour"}(g||(g={})),function(t){t[t.ISO8859_1=0]="ISO8859_1",t[t.UTF_8=1]="UTF_8"}(y||(y={})),function(t){t[t.NoObject=0]="NoObject",t[t.Node=1]="Node",t[t.Con=2]="Con",t[t.Rect=3]="Rect",t[t.Line=4]="Line",t[t.Arc=5]="Arc",t[t.Text=6]="Text",t[t.ConPoint=7]="ConPoint",t[t.Annot=8]="Annot",t[t.NodeClass=9]="NodeClass",t[t.ConClass=10]="ConClass",t[t.Arrow=11]="Arrow",t[t.Pixmap=12]="Pixmap",t[t.AnnotPixmap=13]="AnnotPixmap",t[t.Radiobutton=14]="Radiobutton",t[t.Frame=15]="Frame",t[t.GrowRect=16]="GrowRect",t[t.GrowLine=17]="GrowLine",t[t.GrowArc=18]="GrowArc",t[t.GrowConPoint=19]="GrowConPoint",t[t.GrowSubAnnot=20]="GrowSubAnnot",t[t.PolyLine=21]="PolyLine",t[t.GrowPolyLine=22]="GrowPolyLine",t[t.Point=23]="Point",t[t.GrowNode=24]="GrowNode",t[t.GrowAnnot=25]="GrowAnnot",t[t.GrowText=26]="GrowText",t[t.GrowBar=27]="GrowBar",t[t.GrowTrend=28]="GrowTrend",t[t.GrowSlider=29]="GrowSlider",t[t.GrowImage=30]="GrowImage",t[t.NodeGroup=31]="NodeGroup",t[t.GrowGroup=32]="GrowGroup",t[t.GrowAxis=33]="GrowAxis",t[t.GrowRectRounded=34]="GrowRectRounded",t[t.GrowConGlue=35]="GrowConGlue",t[t.GrowMenu=36]="GrowMenu",t[t.GrowWindow=37]="GrowWindow",t[t.GrowScrollBar=38]="GrowScrollBar",t[t.GrowTable=39]="GrowTable",t[t.GrowFolder=40]="GrowFolder",t[t.GrowXYCurve=41]="GrowXYCurve",t[t.GrowAxisArc=42]="GrowAxisArc",t[t.GrowPie=43]="GrowPie",t[t.GrowBarChart=44]="GrowBarChart",t[t.GrowToolbar=45]="GrowToolbar",t[t.GrowBarArc=46]="GrowBarArc"}(x||(x={})),function(t){t[t.Center=0]="Center",t[t.Right=1]="Right",t[t.Left=2]="Left"}(v||(v={})),function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(C||(C={})),function(t){t[t.Visible=0]="Visible",t[t.Invisible=1]="Invisible",t[t.Dimmed=2]="Dimmed"}(G||(G={})),function(t){t[t.Inherit=0]="Inherit",t[t.Slow=1]="Slow",t[t.Fast=2]="Fast"}(k||(k={})),function(t){t[t.Full=0]="Full",t[t.Partial=1]="Partial",t[t.Top=2]="Top",t[t.Bottom=3]="Bottom",t[t.Left=4]="Left",t[t.Right=5]="Right"}(T||(T={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(S||(S={})),function(t){t[t.No=0]="No",t[t.LineWidth=1]="LineWidth",t[t.DarkColor=2]="DarkColor",t[t.LightColor=3]="LightColor"}(I||(I={})),function(t){t[t.Scroll=0]="Scroll",t[t.Slider=1]="Slider",t[t.Both=2]="Both"}(L||(L={})),function(t){t[t.LowerLeft=0]="LowerLeft",t[t.LowerRight=1]="LowerRight",t[t.UpperRight=2]="UpperRight",t[t.UpperLeft=3]="UpperLeft",t[t.Left=4]="Left",t[t.Up=5]="Up",t[t.Right=6]="Right",t[t.Down=7]="Down",t[t.Center=8]="Center",t[t.FixPoint=9]="FixPoint",t[t.No=10]="No"}(A||(A={})),function(t){t[t.LowerLeft=0]="LowerLeft",t[t.LowerRight=1]="LowerRight",t[t.UpperRight=2]="UpperRight",t[t.UpperLeft=3]="UpperLeft",t[t.Center=4]="Center",t[t.FixPoint=5]="FixPoint",t[t.Zero=6]="Zero"}(M||(M={})),function(t){t[t.Node=0]="Node",t[t.Ctx=1]="Ctx",t[t.NodeClass=2]="NodeClass"}(O||(O={})),function(t){t[t.Edit=0]="Edit",t[t.Trace=1]="Trace",t[t.SubGraph=2]="SubGraph",t[t.ReadConfigOnly=3]="ReadConfigOnly"}(N||(N={})),function(t){t[t.Comment=0]="Comment",t[t.Ctx=1]="Ctx",t[t.Array=2]="Array",t[t.NodeClass=3]="NodeClass",t[t.ConClass=4]="ConClass",t[t.Rect=5]="Rect",t[t.Line=6]="Line",t[t.Point=7]="Point",t[t.Arc=8]="Arc",t[t.Text=9]="Text",t[t.Node=10]="Node",t[t.Con=11]="Con",t[t.ConPoint=12]="ConPoint",t[t.Annot=13]="Annot",t[t.Arrow=14]="Arrow",t[t.Pixmap=15]="Pixmap",t[t.AnnotPixmap=16]="AnnotPixmap",t[t.Radiobutton=17]="Radiobutton",t[t.Frame=18]="Frame",t[t.GrowRect=19]="GrowRect",t[t.GrowLine=20]="GrowLine",t[t.GrowConPoint=21]="GrowConPoint",t[t.GrowCtx=22]="GrowCtx",t[t.GrowSubAnnot=23]="GrowSubAnnot",t[t.GrowArc=24]="GrowArc",t[t.PolyLine=25]="PolyLine",t[t.GrowPolyLine=26]="GrowPolyLine",t[t.GrowNode=27]="GrowNode",t[t.Transform=28]="Transform",t[t.GrowAnnot=29]="GrowAnnot",t[t.GrowText=30]="GrowText",t[t.GrowBar=31]="GrowBar",t[t.GrowTrend=32]="GrowTrend",t[t.GrowSlider=33]="GrowSlider",t[t.GrowImage=34]="GrowImage",t[t.GrowGroup=35]="GrowGroup",t[t.NodeGroup=36]="NodeGroup",t[t.GrowAxis=37]="GrowAxis",t[t.GrowRectRounded=38]="GrowRectRounded",t[t.GrowConGlue=39]="GrowConGlue",t[t.GrowWindow=40]="GrowWindow",t[t.GrowFolder=41]="GrowFolder",t[t.GrowTable=42]="GrowTable",t[t.GrowXYCurve=43]="GrowXYCurve",t[t.GrowAxisArc=44]="GrowAxisArc",t[t.GrowPie=45]="GrowPie",t[t.GrowBarChart=46]="GrowBarChart",t[t.GrowToolbar=47]="GrowToolbar",t[t.CustomColors=48]="CustomColors",t[t.GrowBarArc=49]="GrowBarArc",t[t.End=99]="End",t[t.Ctx_zoom_factor_x=100]="Ctx_zoom_factor_x",t[t.Ctx_base_zoom_factor=101]="Ctx_base_zoom_factor",t[t.Ctx_offset_x=102]="Ctx_offset_x",t[t.Ctx_offset_y=103]="Ctx_offset_y",t[t.Ctx_nav_zoom_factor_x=104]="Ctx_nav_zoom_factor_x",t[t.Ctx_print_zoom_factor=105]="Ctx_print_zoom_factor",t[t.Ctx_nav_offset_x=106]="Ctx_nav_offset_x",t[t.Ctx_nav_offset_y=107]="Ctx_nav_offset_y",t[t.Ctx_x_right=108]="Ctx_x_right",t[t.Ctx_x_left=109]="Ctx_x_left",t[t.Ctx_y_high=110]="Ctx_y_high",t[t.Ctx_y_low=111]="Ctx_y_low",t[t.Ctx_window_width=112]="Ctx_window_width",t[t.Ctx_window_height=113]="Ctx_window_height",t[t.Ctx_nav_window_width=114]="Ctx_nav_window_width",t[t.Ctx_nav_window_height=115]="Ctx_nav_window_height",t[t.Ctx_nav_rect_ll_x=116]="Ctx_nav_rect_ll_x",t[t.Ctx_nav_rect_ll_y=117]="Ctx_nav_rect_ll_y",t[t.Ctx_nav_rect_ur_x=118]="Ctx_nav_rect_ur_x",t[t.Ctx_nav_rect_ur_y=119]="Ctx_nav_rect_ur_y",t[t.Ctx_nav_rect_hot=120]="Ctx_nav_rect_hot",t[t.Ctx_name=121]="Ctx_name",t[t.Ctx_user_highlight=122]="Ctx_user_highlight",t[t.Ctx_a_nc=123]="Ctx_a_nc",t[t.Ctx_a_cc=124]="Ctx_a_cc",t[t.Ctx_a=125]="Ctx_a",t[t.Ctx_grid_size_x=126]="Ctx_grid_size_x",t[t.Ctx_grid_size_y=127]="Ctx_grid_size_y",t[t.Ctx_grid_on=128]="Ctx_grid_on",t[t.Ctx_draw_delta=129]="Ctx_draw_delta",t[t.Ctx_refcon_width=130]="Ctx_refcon_width",t[t.Ctx_refcon_height=131]="Ctx_refcon_height",t[t.Ctx_refcon_textsize=132]="Ctx_refcon_textsize",t[t.Ctx_refcon_linewidth=133]="Ctx_refcon_linewidth",t[t.Ctx_grow=134]="Ctx_grow",t[t.Ctx_zoom_factor_y=135]="Ctx_zoom_factor_y",t[t.Ctx_nav_zoom_factor_y=136]="Ctx_nav_zoom_factor_y",t[t.Ctx_version=137]="Ctx_version",t[t.Ctx_hot_indication=138]="Ctx_hot_indication",t[t.Ctx_tiptext_size=139]="Ctx_tiptext_size",t[t.Ctx_app_motion=140]="Ctx_app_motion",t[t.Ctx_color_theme=141]="Ctx_color_theme",t[t.Ctx_comment=199]="Ctx_comment",t[t.Array_a=200]="Array_a",t[t.NodeClass_nc_name=300]="NodeClass_nc_name",t[t.NodeClass_a=301]="NodeClass_a",t[t.NodeClass_group=302]="NodeClass_group",t[t.NodeClass_dynamic=303]="NodeClass_dynamic",t[t.NodeClass_dynamicsize=304]="NodeClass_dynamicsize",t[t.NodeClass_arg_cnt=305]="NodeClass_arg_cnt",t[t.NodeClass_argname=306]="NodeClass_argname",t[t.NodeClass_argtype=307]="NodeClass_argtype",t[t.NodeClass_dyn_type1=308]="NodeClass_dyn_type1",t[t.NodeClass_dyn_color1=309]="NodeClass_dyn_color1",t[t.NodeClass_no_con_obstacle=310]="NodeClass_no_con_obstacle",t[t.NodeClass_slider=311]="NodeClass_slider",t[t.NodeClass_java_name=312]="NodeClass_java_name",t[t.NodeClass_dyn_color2=313]="NodeClass_dyn_color2",t[t.NodeClass_next_nodeclass=314]="NodeClass_next_nodeclass",t[t.NodeClass_animation_count=315]="NodeClass_animation_count",t[t.NodeClass_cycle=316]="NodeClass_cycle",t[t.NodeClass_y0=317]="NodeClass_y0",t[t.NodeClass_y1=318]="NodeClass_y1",t[t.NodeClass_x0=319]="NodeClass_x0",t[t.NodeClass_x1=320]="NodeClass_x1",t[t.NodeClass_dyn_action_type1=321]="NodeClass_dyn_action_type1",t[t.NodeClass_dyn_color3=322]="NodeClass_dyn_color3",t[t.NodeClass_dyn_color4=323]="NodeClass_dyn_color4",t[t.NodeClass_dyn_attr1=324]="NodeClass_dyn_attr1",t[t.NodeClass_dyn_attr2=325]="NodeClass_dyn_attr2",t[t.NodeClass_dyn_attr3=326]="NodeClass_dyn_attr3",t[t.NodeClass_dyn_attr4=327]="NodeClass_dyn_attr4",t[t.NodeClass_input_focus_mark=328]="NodeClass_input_focus_mark",t[t.NodeClass_userdata_cb=329]="NodeClass_userdata_cb",t[t.NodeClass_dyn_type2=330]="NodeClass_dyn_type2",t[t.NodeClass_dyn_action_type2=331]="NodeClass_dyn_action_type2",t[t.NodeClass_recursive_trace=332]="NodeClass_recursive_trace",t[t.ConClass_cc_name=400]="ConClass_cc_name",t[t.ConClass_con_type=401]="ConClass_con_type",t[t.ConClass_corner=402]="ConClass_corner",t[t.ConClass_draw_type=403]="ConClass_draw_type",t[t.ConClass_line_width=404]="ConClass_line_width",t[t.ConClass_arrow_width=405]="ConClass_arrow_width",t[t.ConClass_arrow_length=406]="ConClass_arrow_length",t[t.ConClass_round_corner_amount=407]="ConClass_round_corner_amount",t[t.ConClass_group=408]="ConClass_group",t[t.Rect_draw_type=500]="Rect_draw_type",t[t.Rect_line_width=501]="Rect_line_width",t[t.Rect_ll=502]="Rect_ll",t[t.Rect_ur=503]="Rect_ur",t[t.Rect_display_level=504]="Rect_display_level",t[t.Rect_fill=505]="Rect_fill",t[t.Line_draw_type=600]="Line_draw_type",t[t.Line_line_width=601]="Line_line_width",t[t.Line_p1=602]="Line_p1",t[t.Line_p2=603]="Line_p2",t[t.Point_x=700]="Point_x",t[t.Point_y=701]="Point_y",t[t.Arc_angle1=800]="Arc_angle1",t[t.Arc_angle2=801]="Arc_angle2",t[t.Arc_draw_type=802]="Arc_draw_type",t[t.Arc_line_width=803]="Arc_line_width",t[t.Arc_ll=804]="Arc_ll",t[t.Arc_ur=805]="Arc_ur",t[t.Arc_fill=806]="Arc_fill",t[t.Text_text_size=900]="Text_text_size",t[t.Text_draw_type=901]="Text_draw_type",t[t.Text_text=902]="Text_text",t[t.Text_p=903]="Text_p",t[t.Text_color_drawtype=904]="Text_color_drawtype",t[t.Node_nc=1e3]="Node_nc",t[t.Node_pos=1001]="Node_pos",t[t.Node_n_name=1002]="Node_n_name",t[t.Node_annotsize=1003]="Node_annotsize",t[t.Node_annotv=1004]="Node_annotv",t[t.Node_refcon_cnt=1005]="Node_refcon_cnt",t[t.Node_x_right=1006]="Node_x_right",t[t.Node_x_left=1007]="Node_x_left",t[t.Node_y_high=1008]="Node_y_high",t[t.Node_y_low=1009]="Node_y_low",t[t.Node_trace_data1=1010]="Node_trace_data1",t[t.Node_trace_data2=1011]="Node_trace_data2",t[t.Node_trace_attr_type=1012]="Node_trace_attr_type",t[t.Node_obst_x_right=1013]="Node_obst_x_right",t[t.Node_obst_x_left=1014]="Node_obst_x_left",t[t.Node_obst_y_high=1015]="Node_obst_y_high",t[t.Node_obst_y_low=1016]="Node_obst_y_low",t[t.Node_trace_color=1017]="Node_trace_color",t[t.Node_trace_data3=1018]="Node_trace_data3",t[t.Node_trace_data4=1019]="Node_trace_data4",t[t.Node_trace_data5=1020]="Node_trace_data5",t[t.Node_trace_data6=1021]="Node_trace_data6",t[t.Node_trace_data7=1022]="Node_trace_data7",t[t.Node_trace_data8=1023]="Node_trace_data8",t[t.Node_trace_data9=1024]="Node_trace_data9",t[t.Node_trace_data10=1025]="Node_trace_data10",t[t.Node_access=1026]="Node_access",t[t.Node_trace_color2=1027]="Node_trace_color2",t[t.Node_cycle=1028]="Node_cycle",t[t.Node_ref_object=1029]="Node_ref_object",t[t.Con_x_right=1100]="Con_x_right",t[t.Con_x_left=1101]="Con_x_left",t[t.Con_y_high=1102]="Con_y_high",t[t.Con_y_low=1103]="Con_y_low",t[t.Con_cc=1104]="Con_cc",t[t.Con_dest_node=1105]="Con_dest_node",t[t.Con_source_node=1106]="Con_source_node",t[t.Con_dest_conpoint=1107]="Con_dest_conpoint",t[t.Con_source_conpoint=1108]="Con_source_conpoint",t[t.Con_dest_direction=1109]="Con_dest_direction",t[t.Con_source_direction=1110]="Con_source_direction",t[t.Con_line_a=1111]="Con_line_a",t[t.Con_arc_a=1112]="Con_arc_a",t[t.Con_arrow_a=1113]="Con_arrow_a",t[t.Con_ref_a=1114]="Con_ref_a",t[t.Con_p_num=1115]="Con_p_num",t[t.Con_l_num=1116]="Con_l_num",t[t.Con_a_num=1117]="Con_a_num",t[t.Con_arrow_num=1118]="Con_arrow_num",t[t.Con_ref_num=1119]="Con_ref_num",t[t.Con_point_x=1120]="Con_point_x",t[t.Con_point_y=1121]="Con_point_y",t[t.Con_source_ref_cnt=1122]="Con_source_ref_cnt",t[t.Con_dest_ref_cnt=1123]="Con_dest_ref_cnt",t[t.Con_c_name=1124]="Con_c_name",t[t.Con_trace_object=1125]="Con_trace_object",t[t.Con_trace_attribute=1126]="Con_trace_attribute",t[t.Con_trace_attr_type=1127]="Con_trace_attr_type",t[t.Con_temporary_ref=1128]="Con_temporary_ref",t[t.Con_border=1129]="Con_border",t[t.Con_shadow=1130]="Con_shadow",t[t.ConPoint_number=1200]="ConPoint_number",t[t.ConPoint_direction=1201]="ConPoint_direction",t[t.ConPoint_p=1202]="ConPoint_p",t[t.ConPoint_trace_attribute=1203]="ConPoint_trace_attribute",t[t.ConPoint_trace_attr_type=1204]="ConPoint_trace_attr_type",t[t.ConPoint_trf=1205]="ConPoint_trf",t[t.Annot_number=1300]="Annot_number",t[t.Annot_draw_type=1301]="Annot_draw_type",t[t.Annot_text_size=1302]="Annot_text_size",t[t.Annot_p=1303]="Annot_p",t[t.Annot_annot_type=1304]="Annot_annot_type",t[t.Annot_display_level=1305]="Annot_display_level",t[t.Annot_color_drawtype=1306]="Annot_color_drawtype",t[t.Annot_font=1307]="Annot_font",t[t.Annot_protect=1308]="Annot_protect",t[t.Arrow_arrow_width=1400]="Arrow_arrow_width",t[t.Arrow_arrow_length=1401]="Arrow_arrow_length",t[t.Arrow_draw_type=1402]="Arrow_draw_type",t[t.Arrow_line_width=1403]="Arrow_line_width",t[t.Arrow_p_dest=1404]="Arrow_p_dest",t[t.Arrow_p1=1405]="Arrow_p1",t[t.Arrow_p2=1406]="Arrow_p2",t[t.GrowRect_x_right=1900]="GrowRect_x_right",t[t.GrowRect_x_left=1901]="GrowRect_x_left",t[t.GrowRect_y_high=1902]="GrowRect_y_high",t[t.GrowRect_y_low=1903]="GrowRect_y_low",t[t.GrowRect_n_name=1904]="GrowRect_n_name",t[t.GrowRect_rect_part=1905]="GrowRect_rect_part",t[t.GrowRect_dynamic=1906]="GrowRect_dynamic",t[t.GrowRect_dynamicsize=1907]="GrowRect_dynamicsize",t[t.GrowRect_original_border_drawtype=1908]="GrowRect_original_border_drawtype",t[t.GrowRect_original_fill_drawtype=1909]="GrowRect_original_fill_drawtype",t[t.GrowRect_fill_drawtype=1910]="GrowRect_fill_drawtype",t[t.GrowRect_border=1911]="GrowRect_border",t[t.GrowRect_trf=1912]="GrowRect_trf",t[t.GrowRect_shadow_width=1913]="GrowRect_shadow_width",t[t.GrowRect_relief=1914]="GrowRect_relief",t[t.GrowRect_shadow=1915]="GrowRect_shadow",t[t.GrowRect_shadow_contrast=1916]="GrowRect_shadow_contrast",t[t.GrowRect_disable_shadow=1917]="GrowRect_disable_shadow",t[t.GrowRect_invisible=1918]="GrowRect_invisible",t[t.GrowRect_fixcolor=1919]="GrowRect_fixcolor",t[t.GrowRect_fixposition=1920]="GrowRect_fixposition",t[t.GrowRect_gradient=1921]="GrowRect_gradient",t[t.GrowRect_gradient_contrast=1922]="GrowRect_gradient_contrast",t[t.GrowRect_disable_gradient=1923]="GrowRect_disable_gradient",t[t.GrowRect_bgcolor_gradient=1924]="GrowRect_bgcolor_gradient",t[t.GrowRect_background_drawtype=1925]="GrowRect_background_drawtype",t[t.GrowRect_fill_eq_background=1926]="GrowRect_fill_eq_background",t[t.GrowLine_x_right=2e3]="GrowLine_x_right",t[t.GrowLine_x_left=2001]="GrowLine_x_left",t[t.GrowLine_y_high=2002]="GrowLine_y_high",t[t.GrowLine_y_low=2003]="GrowLine_y_low",t[t.GrowLine_n_name=2004]="GrowLine_n_name",t[t.GrowLine_line_part=2005]="GrowLine_line_part",t[t.GrowLine_dynamic=2006]="GrowLine_dynamic",t[t.GrowLine_dynamicsize=2007]="GrowLine_dynamicsize",t[t.GrowLine_trf=2008]="GrowLine_trf",t[t.GrowLine_original_border_drawtype=2009]="GrowLine_original_border_drawtype",t[t.GrowLine_line_type=2010]="GrowLine_line_type",t[t.GrowConPoint_x_right=2100]="GrowConPoint_x_right",t[t.GrowConPoint_x_left=2101]="GrowConPoint_x_left",t[t.GrowConPoint_y_high=2102]="GrowConPoint_y_high",t[t.GrowConPoint_y_low=2103]="GrowConPoint_y_low",t[t.GrowConPoint_n_name=2104]="GrowConPoint_n_name",t[t.GrowConPoint_arc=2105]="GrowConPoint_arc",t[t.GrowConPoint_conpoint_part=2106]="GrowConPoint_conpoint_part",t[t.GrowCtx_conpoint_num_cnt=2200]="GrowCtx_conpoint_num_cnt",t[t.GrowCtx_objectname_cnt=2201]="GrowCtx_objectname_cnt",t[t.GrowCtx_name=2202]="GrowCtx_name",t[t.GrowCtx_background_color=2203]="GrowCtx_background_color",t[t.GrowCtx_dynamic=2204]="GrowCtx_dynamic",t[t.GrowCtx_dynamicsize=2205]="GrowCtx_dynamicsize",t[t.GrowCtx_arg_cnt=2206]="GrowCtx_arg_cnt",t[t.GrowCtx_argname=2207]="GrowCtx_argname",t[t.GrowCtx_argtype=2208]="GrowCtx_argtype",t[t.GrowCtx_x0=2209]="GrowCtx_x0",t[t.GrowCtx_y0=2210]="GrowCtx_y0",t[t.GrowCtx_x1=2211]="GrowCtx_x1",t[t.GrowCtx_y1=2212]="GrowCtx_y1",t[t.GrowCtx_path_cnt=2213]="GrowCtx_path_cnt",t[t.GrowCtx_path=2214]="GrowCtx_path",t[t.GrowCtx_dyn_type1=2215]="GrowCtx_dyn_type1",t[t.GrowCtx_dyn_color1=2216]="GrowCtx_dyn_color1",t[t.GrowCtx_no_con_obstacle=2217]="GrowCtx_no_con_obstacle",t[t.GrowCtx_slider=2218]="GrowCtx_slider",t[t.GrowCtx_subgraph=2219]="GrowCtx_subgraph",t[t.GrowCtx_java_name=2220]="GrowCtx_java_name",t[t.GrowCtx_dyn_color2=2221]="GrowCtx_dyn_color2",t[t.GrowCtx_next_subgraph=2222]="GrowCtx_next_subgraph",t[t.GrowCtx_animation_count=2223]="GrowCtx_animation_count",t[t.GrowCtx_scantime=2224]="GrowCtx_scantime",t[t.GrowCtx_animation_scantime=2225]="GrowCtx_animation_scantime",t[t.GrowCtx_java_width=2226]="GrowCtx_java_width",t[t.GrowCtx_background_image=2227]="GrowCtx_background_image",t[t.GrowCtx_background_tiled=2228]="GrowCtx_background_tiled",t[t.GrowCtx_double_buffered=2229]="GrowCtx_double_buffered",t[t.GrowCtx_is_javaapplet=2230]="GrowCtx_is_javaapplet",t[t.GrowCtx_is_javaapplication=2231]="GrowCtx_is_javaapplication",t[t.GrowCtx_fast_scantime=2232]="GrowCtx_fast_scantime",t[t.GrowCtx_cycle=2233]="GrowCtx_cycle",t[t.GrowCtx_mb3_action=2234]="GrowCtx_mb3_action",t[t.GrowCtx_translate_on=2235]="GrowCtx_translate_on",t[t.GrowCtx_dyn_action_type1=2236]="GrowCtx_dyn_action_type1",t[t.GrowCtx_dyn_color3=2237]="GrowCtx_dyn_color3",t[t.GrowCtx_dyn_color4=2238]="GrowCtx_dyn_color4",t[t.GrowCtx_dyn_attr1=2239]="GrowCtx_dyn_attr1",t[t.GrowCtx_dyn_attr2=2240]="GrowCtx_dyn_attr2",t[t.GrowCtx_dyn_attr3=2241]="GrowCtx_dyn_attr3",t[t.GrowCtx_dyn_attr4=2242]="GrowCtx_dyn_attr4",t[t.GrowCtx_input_focus_mark=2243]="GrowCtx_input_focus_mark",t[t.GrowCtx_userdata_cb=2244]="GrowCtx_userdata_cb",t[t.GrowCtx_bitmap_fonts=2245]="GrowCtx_bitmap_fonts",t[t.GrowCtx_dyn_type2=2246]="GrowCtx_dyn_type2",t[t.GrowCtx_dyn_action_type2=2247]="GrowCtx_dyn_action_type2",t[t.GrowCtx_recursive_trace=2248]="GrowCtx_recursive_trace",t[t.GrowCtx_customcolors=2249]="GrowCtx_customcolors",t[t.GrowSubAnnot_x_right=2300]="GrowSubAnnot_x_right",t[t.GrowSubAnnot_x_left=2301]="GrowSubAnnot_x_left",t[t.GrowSubAnnot_y_high=2302]="GrowSubAnnot_y_high",t[t.GrowSubAnnot_y_low=2303]="GrowSubAnnot_y_low",t[t.GrowSubAnnot_n_name=2304]="GrowSubAnnot_n_name",t[t.GrowSubAnnot_text=2305]="GrowSubAnnot_text",t[t.GrowSubAnnot_rect=2306]="GrowSubAnnot_rect",t[t.GrowSubAnnot_annot_part=2307]="GrowSubAnnot_annot_part",t[t.GrowSubAnnot_trf=2308]="GrowSubAnnot_trf",t[t.GrowSubAnnot_adjustment=2309]="GrowSubAnnot_adjustment",t[t.GrowArc_x_right=2400]="GrowArc_x_right",t[t.GrowArc_x_left=2401]="GrowArc_x_left",t[t.GrowArc_y_high=2402]="GrowArc_y_high",t[t.GrowArc_y_low=2403]="GrowArc_y_low",t[t.GrowArc_n_name=2404]="GrowArc_n_name",t[t.GrowArc_arc_part=2405]="GrowArc_arc_part",t[t.GrowArc_dynamic=2406]="GrowArc_dynamic",t[t.GrowArc_dynamicsize=2407]="GrowArc_dynamicsize",t[t.GrowArc_original_border_drawtype=2408]="GrowArc_original_border_drawtype",t[t.GrowArc_original_fill_drawtype=2409]="GrowArc_original_fill_drawtype",t[t.GrowArc_fill_drawtype=2410]="GrowArc_fill_drawtype",t[t.GrowArc_border=2411]="GrowArc_border",t[t.GrowArc_trf=2412]="GrowArc_trf",t[t.GrowArc_shadow_width=2413]="GrowArc_shadow_width",t[t.GrowArc_relief=2414]="GrowArc_relief",t[t.GrowArc_shadow=2415]="GrowArc_shadow",t[t.GrowArc_shadow_contrast=2416]="GrowArc_shadow_contrast",t[t.GrowArc_disable_shadow=2417]="GrowArc_disable_shadow",t[t.GrowArc_gradient=2418]="GrowArc_gradient",t[t.GrowArc_gradient_contrast=2419]="GrowArc_gradient_contrast",t[t.GrowArc_disable_gradient=2420]="GrowArc_disable_gradient",t[t.GrowArc_fixcolor=2421]="GrowArc_fixcolor",t[t.GrowArc_fixposition=2422]="GrowArc_fixposition",t[t.GrowArc_background_drawtype=2423]="GrowArc_background_drawtype",t[t.GrowArc_fill_eq_background=2424]="GrowArc_fill_eq_background",t[t.PolyLine_draw_type=2500]="PolyLine_draw_type",t[t.PolyLine_line_width=2501]="PolyLine_line_width",t[t.PolyLine_a_points=2502]="PolyLine_a_points",t[t.PolyLine_fill=2503]="PolyLine_fill",t[t.PolyLine_closed_line=2504]="PolyLine_closed_line",t[t.GrowPolyLine_x_right=2600]="GrowPolyLine_x_right",t[t.GrowPolyLine_x_left=2601]="GrowPolyLine_x_left",t[t.GrowPolyLine_y_high=2602]="GrowPolyLine_y_high",t[t.GrowPolyLine_y_low=2603]="GrowPolyLine_y_low",t[t.GrowPolyLine_n_name=2604]="GrowPolyLine_n_name",t[t.GrowPolyLine_polyline_part=2605]="GrowPolyLine_polyline_part",t[t.GrowPolyLine_dynamic=2606]="GrowPolyLine_dynamic",t[t.GrowPolyLine_dynamicsize=2607]="GrowPolyLine_dynamicsize",t[t.GrowPolyLine_original_border_drawtype=2608]="GrowPolyLine_original_border_drawtype",t[t.GrowPolyLine_original_fill_drawtype=2609]="GrowPolyLine_original_fill_drawtype",t[t.GrowPolyLine_fill_drawtype=2610]="GrowPolyLine_fill_drawtype",t[t.GrowPolyLine_border=2611]="GrowPolyLine_border",t[t.GrowPolyLine_trf=2612]="GrowPolyLine_trf",t[t.GrowPolyLine_fill_eq_border=2613]="GrowPolyLine_fill_eq_border",t[t.GrowPolyLine_shadow_width=2614]="GrowPolyLine_shadow_width",t[t.GrowPolyLine_relief=2615]="GrowPolyLine_relief",t[t.GrowPolyLine_shadow=2616]="GrowPolyLine_shadow",t[t.GrowPolyLine_shadow_contrast=2617]="GrowPolyLine_shadow_contrast",t[t.GrowPolyLine_disable_shadow=2618]="GrowPolyLine_disable_shadow",t[t.GrowPolyLine_fill_eq_light=2619]="GrowPolyLine_fill_eq_light",t[t.GrowPolyLine_fill_eq_shadow=2620]="GrowPolyLine_fill_eq_shadow",t[t.GrowPolyLine_fixcolor=2621]="GrowPolyLine_fixcolor",t[t.GrowPolyLine_fixposition=2622]="GrowPolyLine_fixposition",t[t.GrowPolyLine_gradient=2623]="GrowPolyLine_gradient",t[t.GrowPolyLine_gradient_contrast=2624]="GrowPolyLine_gradient_contrast",t[t.GrowPolyLine_disable_gradient=2625]="GrowPolyLine_disable_gradient",t[t.GrowPolyLine_fill_eq_bglight=2626]="GrowPolyLine_fill_eq_bglight",t[t.GrowPolyLine_fill_eq_bgshadow=2627]="GrowPolyLine_fill_eq_bgshadow",t[t.GrowPolyLine_fill_eq_background=2628]="GrowPolyLine_fill_eq_background",t[t.GrowPolyLine_background_drawtype=2629]="GrowPolyLine_background_drawtype",t[t.GrowNode_node_part=2700]="GrowNode_node_part",t[t.GrowNode_dynamic=2701]="GrowNode_dynamic",t[t.GrowNode_dynamicsize=2702]="GrowNode_dynamicsize",t[t.GrowNode_original_border_drawtype=2703]="GrowNode_original_border_drawtype",t[t.GrowNode_original_fill_drawtype=2704]="GrowNode_original_fill_drawtype",t[t.GrowNode_fill_drawtype=2705]="GrowNode_fill_drawtype",t[t.GrowNode_draw_type=2706]="GrowNode_draw_type",t[t.GrowNode_trf=2707]="GrowNode_trf",t[t.GrowNode_original_color_tone=2708]="GrowNode_original_color_tone",t[t.GrowNode_color_tone=2709]="GrowNode_color_tone",t[t.GrowNode_original_color_lightness=2710]="GrowNode_original_color_lightness",t[t.GrowNode_color_lightness=2711]="GrowNode_color_lightness",t[t.GrowNode_original_color_intensity=2712]="GrowNode_original_color_intensity",t[t.GrowNode_color_intensity=2713]="GrowNode_color_intensity",t[t.GrowNode_original_color_shift=2714]="GrowNode_original_color_shift",t[t.GrowNode_color_shift=2715]="GrowNode_color_shift",t[t.GrowNode_arg_cnt=2716]="GrowNode_arg_cnt",t[t.GrowNode_argv=2717]="GrowNode_argv",t[t.GrowNode_argsize=2718]="GrowNode_argsize",t[t.GrowNode_line_width=2719]="GrowNode_line_width",t[t.GrowNode_invisible=2720]="GrowNode_invisible",t[t.GrowNode_userdata_cb=2721]="GrowNode_userdata_cb",t[t.GrowNode_original_text_drawtype=2722]="GrowNode_original_text_drawtype",t[t.GrowNode_text_drawtype=2723]="GrowNode_text_drawtype",t[t.GrowNode_shadow=2724]="GrowNode_shadow",t[t.GrowNode_flip_horizontal=2725]="GrowNode_flip_horizontal",t[t.GrowNode_flip_vertical=2726]="GrowNode_flip_vertical",t[t.GrowNode_gradient=2727]="GrowNode_gradient",t[t.GrowNode_text_type=2728]="GrowNode_text_type",t[t.GrowNode_text_font=2729]="GrowNode_text_font",t[t.GrowNode_disable_cb=2730]="GrowNode_disable_cb",t[t.GrowNode_original_background_drawtype=2731]="GrowNode_original_background_drawtype",t[t.GrowNode_background_drawtype=2732]="GrowNode_background_drawtype",t[t.Transform_a11=2800]="Transform_a11",t[t.Transform_a12=2801]="Transform_a12",t[t.Transform_a13=2802]="Transform_a13",t[t.Transform_a21=2803]="Transform_a21",t[t.Transform_a22=2804]="Transform_a22",t[t.Transform_a23=2805]="Transform_a23",t[t.Transform_rotation=2806]="Transform_rotation",t[t.GrowAnnot_adjustment=2901]="GrowAnnot_adjustment",t[t.GrowAnnot_annot_part=2907]="GrowAnnot_annot_part",t[t.GrowAnnot_trf=2908]="GrowAnnot_trf",t[t.GrowText_x_right=3e3]="GrowText_x_right",t[t.GrowText_x_left=3001]="GrowText_x_left",t[t.GrowText_y_high=3002]="GrowText_y_high",t[t.GrowText_y_low=3003]="GrowText_y_low",t[t.GrowText_n_name=3004]="GrowText_n_name",t[t.GrowText_text_part=3005]="GrowText_text_part",t[t.GrowText_dynamic=3006]="GrowText_dynamic",t[t.GrowText_dynamicsize=3007]="GrowText_dynamicsize",t[t.GrowText_original_color_drawtype=3008]="GrowText_original_color_drawtype",t[t.GrowText_trf=3009]="GrowText_trf",t[t.GrowText_font=3010]="GrowText_font",t[t.GrowText_adjustment=3011]="GrowText_adjustment",t[t.GrowBar_max_value=3100]="GrowBar_max_value",t[t.GrowBar_min_value=3101]="GrowBar_min_value",t[t.GrowBar_bar_value=3102]="GrowBar_bar_value",t[t.GrowBar_bar_drawtype=3103]="GrowBar_bar_drawtype",t[t.GrowBar_direction=3104]="GrowBar_direction",t[t.GrowBar_rect_part=3105]="GrowBar_rect_part",t[t.GrowBar_trace_data1=3106]="GrowBar_trace_data1",t[t.GrowBar_trace_data2=3107]="GrowBar_trace_data2",t[t.GrowBar_trace_attr_type=3108]="GrowBar_trace_attr_type",t[t.GrowBar_trace_color=3109]="GrowBar_trace_color",t[t.GrowBar_bar_bordercolor=3110]="GrowBar_bar_bordercolor",t[t.GrowBar_bar_borderwidth=3111]="GrowBar_bar_borderwidth",t[t.GrowBar_trace_data3=3112]="GrowBar_trace_data3",t[t.GrowBar_trace_data4=3113]="GrowBar_trace_data4",t[t.GrowBar_trace_data5=3114]="GrowBar_trace_data5",t[t.GrowBar_trace_data6=3115]="GrowBar_trace_data6",t[t.GrowBar_trace_data7=3116]="GrowBar_trace_data7",t[t.GrowBar_trace_data8=3117]="GrowBar_trace_data8",t[t.GrowBar_trace_data9=3118]="GrowBar_trace_data9",t[t.GrowBar_trace_data10=3119]="GrowBar_trace_data10",t[t.GrowBar_access=3120]="GrowBar_access",t[t.GrowBar_cycle=3121]="GrowBar_cycle",t[t.GrowBar_ref_object=3122]="GrowBar_ref_object",t[t.GrowBar_userdata_cb=3123]="GrowBar_userdata_cb",t[t.GrowTrend_y_max_value_0=3200]="GrowTrend_y_max_value_0",t[t.GrowTrend_y_min_value_0=3201]="GrowTrend_y_min_value_0",t[t.GrowTrend_curve_drawtype_0=3202]="GrowTrend_curve_drawtype_0",t[t.GrowTrend_rect_part=3203]="GrowTrend_rect_part",t[t.GrowTrend_trace_data1=3204]="GrowTrend_trace_data1",t[t.GrowTrend_trace_data2=3205]="GrowTrend_trace_data2",t[t.GrowTrend_trace_attr_type=3206]="GrowTrend_trace_attr_type",t[t.GrowTrend_trace_color=3207]="GrowTrend_trace_color",t[t.GrowTrend_horizontal_lines=3208]="GrowTrend_horizontal_lines",t[t.GrowTrend_vertical_lines=3209]="GrowTrend_vertical_lines",t[t.GrowTrend_fill_curve=3210]="GrowTrend_fill_curve",t[t.GrowTrend_curve_fill_drawtype_0=3211]="GrowTrend_curve_fill_drawtype_0",t[t.GrowTrend_no_of_points=3212]="GrowTrend_no_of_points",t[t.GrowTrend_curve_width=3213]="GrowTrend_curve_width",t[t.GrowTrend_scan_time=3214]="GrowTrend_scan_time",t[t.GrowTrend_y_max_value_1=3215]="GrowTrend_y_max_value_1",t[t.GrowTrend_y_min_value_1=3216]="GrowTrend_y_min_value_1",t[t.GrowTrend_curve_drawtype_1=3217]="GrowTrend_curve_drawtype_1",t[t.GrowTrend_curve_fill_drawtype_1=3218]="GrowTrend_curve_fill_drawtype_1",t[t.GrowTrend_trace_data3=3219]="GrowTrend_trace_data3",t[t.GrowTrend_trace_data4=3220]="GrowTrend_trace_data4",t[t.GrowTrend_trace_data5=3221]="GrowTrend_trace_data5",t[t.GrowTrend_trace_data6=3222]="GrowTrend_trace_data6",t[t.GrowTrend_trace_data7=3223]="GrowTrend_trace_data7",t[t.GrowTrend_trace_data8=3224]="GrowTrend_trace_data8",t[t.GrowTrend_trace_data9=3225]="GrowTrend_trace_data9",t[t.GrowTrend_trace_data10=3226]="GrowTrend_trace_data10",t[t.GrowTrend_access=3227]="GrowTrend_access",t[t.GrowTrend_cycle=3228]="GrowTrend_cycle",t[t.GrowTrend_ref_object=3229]="GrowTrend_ref_object",t[t.GrowTrend_userdata_cb=3230]="GrowTrend_userdata_cb",t[t.GrowTrend_x_max_value_0=3231]="GrowTrend_x_max_value_0",t[t.GrowTrend_x_min_value_0=3232]="GrowTrend_x_min_value_0",t[t.GrowTrend_x_max_value_1=3233]="GrowTrend_x_max_value_1",t[t.GrowTrend_x_min_value_1=3234]="GrowTrend_x_min_value_1",t[t.GrowTrend_mode=3235]="GrowTrend_mode",t[t.GrowSlider_grownode_part=3300]="GrowSlider_grownode_part",t[t.GrowSlider_direction=3301]="GrowSlider_direction",t[t.GrowSlider_max_value=3302]="GrowSlider_max_value",t[t.GrowSlider_min_value=3303]="GrowSlider_min_value",t[t.GrowSlider_max_pos=3304]="GrowSlider_max_pos",t[t.GrowSlider_min_pos=3305]="GrowSlider_min_pos",t[t.GrowImage_x_right=3400]="GrowImage_x_right",t[t.GrowImage_x_left=3401]="GrowImage_x_left",t[t.GrowImage_y_high=3402]="GrowImage_y_high",t[t.GrowImage_y_low=3403]="GrowImage_y_low",t[t.GrowImage_n_name=3404]="GrowImage_n_name",t[t.GrowImage_image_filename=3405]="GrowImage_image_filename",t[t.GrowImage_dynamic=3406]="GrowImage_dynamic",t[t.GrowImage_dynamicsize=3407]="GrowImage_dynamicsize",t[t.GrowImage_trf=3408]="GrowImage_trf",t[t.GrowImage_display_level=3409]="GrowImage_display_level",t[t.GrowImage_ll=3410]="GrowImage_ll",t[t.GrowImage_ur=3411]="GrowImage_ur",t[t.GrowImage_color_tone=3412]="GrowImage_color_tone",t[t.GrowImage_color_lightness=3413]="GrowImage_color_lightness",t[t.GrowImage_color_intensity=3414]="GrowImage_color_intensity",t[t.GrowImage_color_shift=3415]="GrowImage_color_shift",t[t.GrowImage_fixposition=3416]="GrowImage_fixposition",t[t.GrowGroup_grownode_part=3500]="GrowGroup_grownode_part",t[t.GrowGroup_nc=3501]="GrowGroup_nc",t[t.NodeGroup_nodeclass_part=3600]="NodeGroup_nodeclass_part",t[t.GrowAxis_max_value=3700]="GrowAxis_max_value",t[t.GrowAxis_min_value=3701]="GrowAxis_min_value",t[t.GrowAxis_rect_part=3702]="GrowAxis_rect_part",t[t.GrowAxis_lines=3703]="GrowAxis_lines",t[t.GrowAxis_longquotient=3704]="GrowAxis_longquotient",t[t.GrowAxis_valuequotient=3705]="GrowAxis_valuequotient",t[t.GrowAxis_format=3706]="GrowAxis_format",t[t.GrowAxis_text_size=3707]="GrowAxis_text_size",t[t.GrowAxis_text_drawtype=3708]="GrowAxis_text_drawtype",t[t.GrowAxis_text_color_drawtype=3709]="GrowAxis_text_color_drawtype",t[t.GrowAxis_userdata_cb=3710]="GrowAxis_userdata_cb",t[t.GrowRectRounded_x_right=3800]="GrowRectRounded_x_right",t[t.GrowRectRounded_x_left=3801]="GrowRectRounded_x_left",t[t.GrowRectRounded_y_high=3802]="GrowRectRounded_y_high",t[t.GrowRectRounded_y_low=3803]="GrowRectRounded_y_low",t[t.GrowRectRounded_n_name=3804]="GrowRectRounded_n_name",t[t.GrowRectRounded_rect_part=3805]="GrowRectRounded_rect_part",t[t.GrowRectRounded_dynamic=3806]="GrowRectRounded_dynamic",t[t.GrowRectRounded_dynamicsize=3807]="GrowRectRounded_dynamicsize",t[t.GrowRectRounded_original_border_drawtype=3808]="GrowRectRounded_original_border_drawtype",t[t.GrowRectRounded_original_fill_drawtype=3809]="GrowRectRounded_original_fill_drawtype",t[t.GrowRectRounded_fill_drawtype=3810]="GrowRectRounded_fill_drawtype",t[t.GrowRectRounded_border=3811]="GrowRectRounded_border",t[t.GrowRectRounded_trf=3812]="GrowRectRounded_trf",t[t.GrowRectRounded_round_amount=3813]="GrowRectRounded_round_amount",t[t.GrowRectRounded_shadow_width=3814]="GrowRectRounded_shadow_width",t[t.GrowRectRounded_relief=3815]="GrowRectRounded_relief",t[t.GrowRectRounded_shadow=3816]="GrowRectRounded_shadow",t[t.GrowRectRounded_shadow_contrast=3817]="GrowRectRounded_shadow_contrast",t[t.GrowRectRounded_disable_shadow=3818]="GrowRectRounded_disable_shadow",t[t.GrowRectRounded_gradient=3819]="GrowRectRounded_gradient",t[t.GrowRectRounded_gradient_contrast=3820]="GrowRectRounded_gradient_contrast",t[t.GrowRectRounded_disable_gradient=3821]="GrowRectRounded_disable_gradient",t[t.GrowRectRounded_fixposition=3822]="GrowRectRounded_fixposition",t[t.GrowConGlue_line_width_up=3900]="GrowConGlue_line_width_up",t[t.GrowConGlue_line_width_down=3901]="GrowConGlue_line_width_down",t[t.GrowConGlue_line_width_left=3902]="GrowConGlue_line_width_left",t[t.GrowConGlue_line_width_right=3903]="GrowConGlue_line_width_right",t[t.GrowConGlue_node_part=3904]="GrowConGlue_node_part",t[t.GrowConGlue_border=3905]="GrowConGlue_border",t[t.GrowWindow_file_name=4e3]="GrowWindow_file_name",t[t.GrowWindow_rect_part=4001]="GrowWindow_rect_part",t[t.GrowWindow_userdata_cb=4002]="GrowWindow_userdata_cb",t[t.GrowWindow_scrollbar_width=4003]="GrowWindow_scrollbar_width",t[t.GrowWindow_vertical_scrollbar=4004]="GrowWindow_vertical_scrollbar",t[t.GrowWindow_horizontal_scrollbar=4005]="GrowWindow_horizontal_scrollbar",t[t.GrowWindow_scrollbar_color=4006]="GrowWindow_scrollbar_color",t[t.GrowWindow_scrollbar_bg_color=4007]="GrowWindow_scrollbar_bg_color",t[t.GrowWindow_window_scale=4008]="GrowWindow_window_scale",t[t.GrowWindow_owner=4009]="GrowWindow_owner",t[t.GrowFolder_folders=4100]="GrowFolder_folders",t[t.GrowFolder_text_size=4101]="GrowFolder_text_size",t[t.GrowFolder_text_drawtype=4102]="GrowFolder_text_drawtype",t[t.GrowFolder_text_color_drawtype=4103]="GrowFolder_text_color_drawtype",t[t.GrowFolder_header_height=4104]="GrowFolder_header_height",t[t.GrowFolder_window_part=4105]="GrowFolder_window_part",t[t.GrowFolder_color_selected=4106]="GrowFolder_color_selected",t[t.GrowFolder_color_unselected=4107]="GrowFolder_color_unselected",t[t.GrowFolder_folder_file_names1=4120]="GrowFolder_folder_file_names1",t[t.GrowFolder_folder_text1=4121]="GrowFolder_folder_text1",t[t.GrowFolder_folder_scale1=4122]="GrowFolder_folder_scale1",t[t.GrowFolder_folder_v_scrollbar1=4123]="GrowFolder_folder_v_scrollbar1",t[t.GrowFolder_folder_h_scrollbar1=4124]="GrowFolder_folder_h_scrollbar1",t[t.GrowFolder_folder_file_names2=4125]="GrowFolder_folder_file_names2",t[t.GrowFolder_folder_text2=4126]="GrowFolder_folder_text2",t[t.GrowFolder_folder_scale2=4127]="GrowFolder_folder_scale2",t[t.GrowFolder_folder_v_scrollbar2=4128]="GrowFolder_folder_v_scrollbar2",t[t.GrowFolder_folder_h_scrollbar2=4129]="GrowFolder_folder_h_scrollbar2",t[t.GrowFolder_folder_file_names3=4130]="GrowFolder_folder_file_names3",t[t.GrowFolder_folder_text3=4131]="GrowFolder_folder_text3",t[t.GrowFolder_folder_scale3=4132]="GrowFolder_folder_scale3",t[t.GrowFolder_folder_v_scrollbar3=4133]="GrowFolder_folder_v_scrollbar3",t[t.GrowFolder_folder_h_scrollbar3=4134]="GrowFolder_folder_h_scrollbar3",t[t.GrowFolder_folder_file_names4=4135]="GrowFolder_folder_file_names4",t[t.GrowFolder_folder_text4=4136]="GrowFolder_folder_text4",t[t.GrowFolder_folder_scale4=4137]="GrowFolder_folder_scale4",t[t.GrowFolder_folder_v_scrollbar4=4138]="GrowFolder_folder_v_scrollbar4",t[t.GrowFolder_folder_h_scrollbar4=4139]="GrowFolder_folder_h_scrollbar4",t[t.GrowFolder_folder_file_names5=4140]="GrowFolder_folder_file_names5",t[t.GrowFolder_folder_text5=4141]="GrowFolder_folder_text5",t[t.GrowFolder_folder_scale5=4142]="GrowFolder_folder_scale5",t[t.GrowFolder_folder_v_scrollbar5=4143]="GrowFolder_folder_v_scrollbar5",t[t.GrowFolder_folder_h_scrollbar5=4144]="GrowFolder_folder_h_scrollbar5",t[t.GrowFolder_folder_file_names6=4145]="GrowFolder_folder_file_names6",t[t.GrowFolder_folder_text6=4146]="GrowFolder_folder_text6",t[t.GrowFolder_folder_scale6=4147]="GrowFolder_folder_scale6",t[t.GrowFolder_folder_v_scrollbar6=4148]="GrowFolder_folder_v_scrollbar6",t[t.GrowFolder_folder_h_scrollbar6=4149]="GrowFolder_folder_h_scrollbar6",t[t.GrowFolder_folder_file_names7=4150]="GrowFolder_folder_file_names7",t[t.GrowFolder_folder_text7=4151]="GrowFolder_folder_text7",t[t.GrowFolder_folder_scale7=4152]="GrowFolder_folder_scale7",t[t.GrowFolder_folder_v_scrollbar7=4153]="GrowFolder_folder_v_scrollbar7",t[t.GrowFolder_folder_h_scrollbar7=4154]="GrowFolder_folder_h_scrollbar7",t[t.GrowFolder_folder_file_names8=4155]="GrowFolder_folder_file_names8",t[t.GrowFolder_folder_text8=4156]="GrowFolder_folder_text8",t[t.GrowFolder_folder_scale8=4157]="GrowFolder_folder_scale8",t[t.GrowFolder_folder_v_scrollbar8=4158]="GrowFolder_folder_v_scrollbar8",t[t.GrowFolder_folder_h_scrollbar8=4159]="GrowFolder_folder_h_scrollbar8",t[t.GrowFolder_folder_file_names9=4160]="GrowFolder_folder_file_names9",t[t.GrowFolder_folder_text9=4161]="GrowFolder_folder_text9",t[t.GrowFolder_folder_scale9=4162]="GrowFolder_folder_scale9",t[t.GrowFolder_folder_v_scrollbar9=4163]="GrowFolder_folder_v_scrollbar9",t[t.GrowFolder_folder_h_scrollbar9=4164]="GrowFolder_folder_h_scrollbar9",t[t.GrowFolder_folder_file_names10=4165]="GrowFolder_folder_file_names10",t[t.GrowFolder_folder_text10=4166]="GrowFolder_folder_text10",t[t.GrowFolder_folder_scale10=4167]="GrowFolder_folder_scale10",t[t.GrowFolder_folder_v_scrollbar10=4168]="GrowFolder_folder_v_scrollbar10",t[t.GrowFolder_folder_h_scrollbar10=4169]="GrowFolder_folder_h_scrollbar10",t[t.GrowFolder_folder_file_names11=4170]="GrowFolder_folder_file_names11",t[t.GrowFolder_folder_text11=4171]="GrowFolder_folder_text11",t[t.GrowFolder_folder_scale11=4172]="GrowFolder_folder_scale11",t[t.GrowFolder_folder_v_scrollbar11=4173]="GrowFolder_folder_v_scrollbar11",t[t.GrowFolder_folder_h_scrollbar11=4174]="GrowFolder_folder_h_scrollbar11",t[t.GrowFolder_folder_file_names12=4175]="GrowFolder_folder_file_names12",t[t.GrowFolder_folder_text12=4176]="GrowFolder_folder_text12",t[t.GrowFolder_folder_scale12=4177]="GrowFolder_folder_scale12",t[t.GrowFolder_folder_v_scrollbar12=4178]="GrowFolder_folder_v_scrollbar12",t[t.GrowFolder_folder_h_scrollbar12=4179]="GrowFolder_folder_h_scrollbar12",t[t.GrowFolder_folder_owner1=4180]="GrowFolder_folder_owner1",t[t.GrowFolder_folder_owner2=4181]="GrowFolder_folder_owner2",t[t.GrowFolder_folder_owner3=4182]="GrowFolder_folder_owner3",t[t.GrowFolder_folder_owner4=4183]="GrowFolder_folder_owner4",t[t.GrowFolder_folder_owner5=4184]="GrowFolder_folder_owner5",t[t.GrowFolder_folder_owner6=4185]="GrowFolder_folder_owner6",t[t.GrowFolder_folder_owner7=4186]="GrowFolder_folder_owner7",t[t.GrowFolder_folder_owner8=4187]="GrowFolder_folder_owner8",t[t.GrowFolder_folder_owner9=4188]="GrowFolder_folder_owner9",t[t.GrowFolder_folder_owner10=4189]="GrowFolder_folder_owner10",t[t.GrowFolder_folder_owner11=4190]="GrowFolder_folder_owner11",t[t.GrowFolder_folder_owner12=4191]="GrowFolder_folder_owner12",t[t.GrowTable_rect_part=4200]="GrowTable_rect_part",t[t.GrowTable_userdata_cb=4202]="GrowTable_userdata_cb",t[t.GrowTable_scrollbar_width=4203]="GrowTable_scrollbar_width",t[t.GrowTable_vertical_scrollbar=4204]="GrowTable_vertical_scrollbar",t[t.GrowTable_horizontal_scrollbar=4205]="GrowTable_horizontal_scrollbar",t[t.GrowTable_scrollbar_color=4206]="GrowTable_scrollbar_color",t[t.GrowTable_scrollbar_bg_color=4207]="GrowTable_scrollbar_bg_color",t[t.GrowTable_window_scale=4208]="GrowTable_window_scale",t[t.GrowTable_rows=4209]="GrowTable_rows",t[t.GrowTable_columns=4210]="GrowTable_columns",t[t.GrowTable_header_row=4211]="GrowTable_header_row",t[t.GrowTable_header_column=4212]="GrowTable_header_column",t[t.GrowTable_text_size=4213]="GrowTable_text_size",t[t.GrowTable_text_drawtype=4214]="GrowTable_text_drawtype",t[t.GrowTable_header_row_height=4215]="GrowTable_header_row_height",t[t.GrowTable_row_height=4216]="GrowTable_row_height",t[t.GrowTable_text_color_drawtype=4217]="GrowTable_text_color_drawtype",t[t.GrowTable_header_text_size=4218]="GrowTable_header_text_size",t[t.GrowTable_header_text_drawtype=4219]="GrowTable_header_text_drawtype",t[t.GrowTable_header_text_color=4220]="GrowTable_header_text_color",t[t.GrowTable_header_text_bold=4221]="GrowTable_header_text_bold",t[t.GrowTable_options=4222]="GrowTable_options",t[t.GrowTable_font=4223]="GrowTable_font",t[t.GrowTable_column_width1=4240]="GrowTable_column_width1",t[t.GrowTable_header_text1=4241]="GrowTable_header_text1",t[t.GrowTable_column_width2=4242]="GrowTable_column_width2",t[t.GrowTable_header_text2=4243]="GrowTable_header_text2",t[t.GrowTable_column_width3=4244]="GrowTable_column_width3",t[t.GrowTable_header_text3=4245]="GrowTable_header_text3",t[t.GrowTable_column_width4=4246]="GrowTable_column_width4",t[t.GrowTable_header_text4=4247]="GrowTable_header_text4",t[t.GrowTable_column_width5=4248]="GrowTable_column_width5",t[t.GrowTable_header_text5=4249]="GrowTable_header_text5",t[t.GrowTable_column_width6=4250]="GrowTable_column_width6",t[t.GrowTable_header_text6=4251]="GrowTable_header_text6",t[t.GrowTable_column_width7=4252]="GrowTable_column_width7",t[t.GrowTable_header_text7=4253]="GrowTable_header_text7",t[t.GrowTable_column_width8=4254]="GrowTable_column_width8",t[t.GrowTable_header_text8=4255]="GrowTable_header_text8",t[t.GrowTable_column_width9=4256]="GrowTable_column_width9",t[t.GrowTable_header_text9=4257]="GrowTable_header_text9",t[t.GrowTable_column_width10=4258]="GrowTable_column_width10",t[t.GrowTable_header_text10=4259]="GrowTable_header_text10",t[t.GrowTable_column_width11=4260]="GrowTable_column_width11",t[t.GrowTable_header_text11=4261]="GrowTable_header_text11",t[t.GrowTable_column_width12=4262]="GrowTable_column_width12",t[t.GrowTable_header_text12=4263]="GrowTable_header_text12",t[t.GrowTable_select_drawtype=4264]="GrowTable_select_drawtype",t[t.GrowTable_column_adjustment1=4265]="GrowTable_column_adjustment1",t[t.GrowTable_column_adjustment2=4266]="GrowTable_column_adjustment2",t[t.GrowTable_column_adjustment3=4267]="GrowTable_column_adjustment3",t[t.GrowTable_column_adjustment4=4268]="GrowTable_column_adjustment4",t[t.GrowTable_column_adjustment5=4269]="GrowTable_column_adjustment5",t[t.GrowTable_column_adjustment6=4270]="GrowTable_column_adjustment6",t[t.GrowTable_column_adjustment7=4271]="GrowTable_column_adjustment7",t[t.GrowTable_column_adjustment8=4272]="GrowTable_column_adjustment8",t[t.GrowTable_column_adjustment9=4273]="GrowTable_column_adjustment9",t[t.GrowTable_column_adjustment10=4274]="GrowTable_column_adjustment10",t[t.GrowTable_column_adjustment11=4275]="GrowTable_column_adjustment11",t[t.GrowTable_column_adjustment12=4276]="GrowTable_column_adjustment12",t[t.GrowXYCurve_trend_part=4300]="GrowXYCurve_trend_part",t[t.GrowAxisArc_max_value=4400]="GrowAxisArc_max_value",t[t.GrowAxisArc_min_value=4401]="GrowAxisArc_min_value",t[t.GrowAxisArc_arc_part=4402]="GrowAxisArc_arc_part",t[t.GrowAxisArc_lines=4403]="GrowAxisArc_lines",t[t.GrowAxisArc_linelength=4404]="GrowAxisArc_linelength",t[t.GrowAxisArc_longquotient=4405]="GrowAxisArc_longquotient",t[t.GrowAxisArc_valuequotient=4406]="GrowAxisArc_valuequotient",t[t.GrowAxisArc_format=4407]="GrowAxisArc_format",t[t.GrowAxisArc_text_size=4408]="GrowAxisArc_text_size",t[t.GrowAxisArc_text_drawtype=4409]="GrowAxisArc_text_drawtype",t[t.GrowAxisArc_text_color_drawtype=4410]="GrowAxisArc_text_color_drawtype",t[t.GrowAxisArc_userdata_cb=4411]="GrowAxisArc_userdata_cb",t[t.GrowPie_arc_part=4500]="GrowPie_arc_part",t[t.GrowPie_sectors=4501]="GrowPie_sectors",t[t.GrowPie_min_value=4502]="GrowPie_min_value",t[t.GrowPie_max_value=4503]="GrowPie_max_value",t[t.GrowPie_sector_color1=4504]="GrowPie_sector_color1",t[t.GrowPie_sector_color2=4505]="GrowPie_sector_color2",t[t.GrowPie_sector_color3=4506]="GrowPie_sector_color3",t[t.GrowPie_sector_color4=4507]="GrowPie_sector_color4",t[t.GrowPie_sector_color5=4508]="GrowPie_sector_color5",t[t.GrowPie_sector_color6=4509]="GrowPie_sector_color6",t[t.GrowPie_sector_color7=4510]="GrowPie_sector_color7",t[t.GrowPie_sector_color8=4511]="GrowPie_sector_color8",t[t.GrowPie_sector_color9=4512]="GrowPie_sector_color9",t[t.GrowPie_sector_color10=4513]="GrowPie_sector_color10",t[t.GrowPie_sector_color11=4514]="GrowPie_sector_color11",t[t.GrowPie_sector_color12=4515]="GrowPie_sector_color12",t[t.GrowPie_sector_size1=4516]="GrowPie_sector_size1",t[t.GrowPie_sector_size2=4517]="GrowPie_sector_size2",t[t.GrowPie_sector_size3=4518]="GrowPie_sector_size3",t[t.GrowPie_sector_size4=4519]="GrowPie_sector_size4",t[t.GrowPie_sector_size5=4520]="GrowPie_sector_size5",t[t.GrowPie_sector_size6=4521]="GrowPie_sector_size6",t[t.GrowPie_sector_size7=4522]="GrowPie_sector_size7",t[t.GrowPie_sector_size8=4523]="GrowPie_sector_size8",t[t.GrowPie_sector_size9=4524]="GrowPie_sector_size9",t[t.GrowPie_sector_size10=4525]="GrowPie_sector_size10",t[t.GrowPie_sector_size11=4526]="GrowPie_sector_size11",t[t.GrowPie_sector_size12=4527]="GrowPie_sector_size12",t[t.GrowPie_userdata_cb=4528]="GrowPie_userdata_cb",t[t.GrowBarChart_rect_part=4600]="GrowBarChart_rect_part",t[t.GrowBarChart_bars=4601]="GrowBarChart_bars",t[t.GrowBarChart_barsegments=4602]="GrowBarChart_barsegments",t[t.GrowBarChart_min_value=4603]="GrowBarChart_min_value",t[t.GrowBarChart_max_value=4604]="GrowBarChart_max_value",t[t.GrowBarChart_bar_color1=4605]="GrowBarChart_bar_color1",t[t.GrowBarChart_bar_color2=4606]="GrowBarChart_bar_color2",t[t.GrowBarChart_bar_color3=4607]="GrowBarChart_bar_color3",t[t.GrowBarChart_bar_color4=4608]="GrowBarChart_bar_color4",t[t.GrowBarChart_bar_color5=4609]="GrowBarChart_bar_color5",t[t.GrowBarChart_bar_color6=4610]="GrowBarChart_bar_color6",t[t.GrowBarChart_bar_color7=4611]="GrowBarChart_bar_color7",t[t.GrowBarChart_bar_color8=4612]="GrowBarChart_bar_color8",t[t.GrowBarChart_bar_color9=4613]="GrowBarChart_bar_color9",t[t.GrowBarChart_bar_color10=4614]="GrowBarChart_bar_color10",t[t.GrowBarChart_bar_color11=4615]="GrowBarChart_bar_color11",t[t.GrowBarChart_bar_color12=4616]="GrowBarChart_bar_color12",t[t.GrowBarChart_vertical_lines=4617]="GrowBarChart_vertical_lines";t[t.GrowBarChart_horizontal_lines=4618]="GrowBarChart_horizontal_lines",t[t.GrowBarChart_userdata_cb=4619]="GrowBarChart_userdata_cb",t[t.GrowBarChart_line_color=4620]="GrowBarChart_line_color",t[t.GrowToolbar_grownode_part=4700]="GrowToolbar_grownode_part",t[t.GrowToolbar_nc=4701]="GrowToolbar_nc",t[t.CustomColors_colors_size=4800]="CustomColors_colors_size",t[t.CustomColors_colors=4801]="CustomColors_colors",t[t.CustomColors_colortheme_lightness=4802]="CustomColors_colortheme_lightness",t[t.CustomColors_is_default_colortheme=4803]="CustomColors_is_default_colortheme",t[t.GrowBarArc_max_value=4900]="GrowBarArc_max_value",t[t.GrowBarArc_min_value=4901]="GrowBarArc_min_value",t[t.GrowBarArc_bar_width=4902]="GrowBarArc_bar_width",t[t.GrowBarArc_bar_value=4903]="GrowBarArc_bar_value",t[t.GrowBarArc_bar_drawtype=4904]="GrowBarArc_bar_drawtype",t[t.GrowBarArc_direction=4905]="GrowBarArc_direction",t[t.GrowBarArc_arc_part=4906]="GrowBarArc_arc_part",t[t.GrowBarArc_bar_bordercolor=4907]="GrowBarArc_bar_bordercolor",t[t.GrowBarArc_bar_borderwidth=4908]="GrowBarArc_bar_borderwidth",t[t.GrowBarArc_userdata_cb=4909]="GrowBarArc_userdata_cb",t[t.GrowBarArc_bar_direction=4910]="GrowBarArc_bar_direction"}(R||(R={})),function(t){t[t.Absolute=0]="Absolute",t[t.Relative=1]="Relative"}(j||(j={})),function(t){t[t.VerticalSlider=0]="VerticalSlider",t[t.HorizontalSlider=1]="HorizontalSlider",t[t.Disable=2]="Disable"}(E||(E={})),function(t){t[t.CallBack=0]="CallBack",t[t.RegionSelect=1]="RegionSelect",t[t.RegionAddSelect=2]="RegionAddSelect",t[t.CreateCon=3]="CreateCon",t[t.CreateNode=4]="CreateNode",t[t.MoveNode=5]="MoveNode",t[t.Object=6]="Object",t[t.AnnotationInput=7]="AnnotationInput",t[t.Radiobutton=8]="Radiobutton",t[t.CreateGrowObject=9]="CreateGrowObject",t[t.Dynamics=10]="Dynamics",t[t.ColorTone=11]="ColorTone",t[t.Translate=12]="Translate",t[t.KeyAscii=13]="KeyAscii",t[t.Menu=14]="Menu",t[t.Table=15]="Table",t[t.Toolbar=16]="Toolbar",t[t.CustomColor=17]="CustomColor",t[t.Signal=18]="Signal"}(F||(F={}));class U{constructor(t){this.x=0,this.y=0,this.object=null,this.event=t,this.type=F.Object}}class V extends U{constructor(){super(...arguments),this.item=0}}class H extends U{constructor(){super(...arguments),this.column=0,this.row=0}}class q extends U{constructor(){super(...arguments),this.category=0,this.idx=0}}class X{}!function(t){t[t.Button=0]="Button",t[t.ButtonDisabled=1]="ButtonDisabled",t[t.PulldownMenu=2]="PulldownMenu"}(D||(D={})),function(t){t[t.Default=0]="Default",t[t.Disabled=1]="Disabled",t[t.SingleObject=2]="SingleObject",t[t.TraceAction=3]="TraceAction"}(P||(P={})),function(t){t[t.Inherit=0]="Inherit",t[t.Line=1]="Line",t[t.Points=2]="Points",t[t.LinePoints=3]="LinePoints",t[t.Square=4]="Square",t[t.DigSquare=5]="DigSquare"}(z||(z={})),function(t){t[t.CommonX=0]="CommonX",t[t.SeparateX=1]="SeparateX"}(B||(B={}));const Y=12,W=200,J=12;var Q=r(21),$=r(4),Z=r(3);class K{constructor(){this.colors_size=Z.a.CustomColor__-Z.a.CustomColor1,this.colors=new Array(this.colors_size),this.colortheme_lightness=0,this.is_default_colortheme=0,this.reset_colors()}get_color(t){return t<Z.a.CustomColor1||t>=Z.a.CustomColor__?null:this.colors[t-Z.a.CustomColor1]}set_color(t,e,r,i){if(t<Z.a.CustomColor1||t>=Z.a.CustomColor__)return!1;let o=t-Z.a.CustomColor1;this.colors[o]=new $.b(e,r,i),this.colors[o+1]=new $.b(e-.12,r-.12,i-.12);let n=(e+r+i)/3;return this.colors[o+2]=n>.4?new $.b(e+.18,r+.18,i+.18):new $.b(e+.35*n+.04,r+.35*n+.04,i+.35*n+.04),this.colors[o+3]=new $.b(e+.12,r+.12,i+.12),!0}reset_colors(){for(let t=0;t<this.colors_size;t++)this.colors[t]=new $.b(1,1,1)}open(t){let e=0;for(;;){let r=t.consumeInt();switch(r){case R.CustomColors:break;case R.CustomColors_colors_size:e=t.consumeInt();break;case R.CustomColors_colortheme_lightness:this.colortheme_lightness=t.consumeInt();break;case R.CustomColors_is_default_colortheme:this.is_default_colortheme=t.consumeInt();break;case R.CustomColors_colors:for(let r=0;r<e;r++){let e=t.consumeFloat(),i=t.consumeFloat(),o=t.consumeFloat();this.colors[r]=new $.b(e,i,o)}break;case R.End:return;default:console.log("Syntax error in GlowCustomColors:",r),t.consumeLine()}}}read_colorfile(t){let e="http://"+localStorage.getItem("HOST")+"/"+t,r=new XMLHttpRequest,i=this.open.bind(this);r.onload=function(){i(new h.a(r.responseText))},r.onerror=function(){console.log("Error! Failed to fetch resource "+e)},r.open("GET",e,!0),r.send()}}var tt,et=r(2);class rt extends l.f{constructor(t,e,r){super(e||0,r||0),this.z_x=()=>this.x*this.ctx.mw.zoom_factor.x,this.z_y=()=>this.y*this.ctx.mw.zoom_factor.y,this.ctx=t}type(){return x.Point}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Point:break;case R.Point_x:this.x=t.consumeFloat();break;case R.Point_y:this.y=t.consumeFloat();break;case R.End:return;default:console.log("Syntax error in GlowPoint:",e),t.consumeLine()}}}}class it{constructor(t,e=0,r=0,i=0,o=0,n=0,s=0,a=Z.a.Line,l=1,_=!1){this.ctx=t,this.angle1=n,this.angle2=s,this.ll=new rt(t,e,r),this.ur=new rt(t,i,o),this.draw_type=a,this.line_width=l,this.fill=_}type(){return x.Arc}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Arc:break;case R.Arc_draw_type:this.draw_type=t.consumeInt();break;case R.Arc_angle1:this.angle1=t.consumeInt();break;case R.Arc_angle2:this.angle2=t.consumeInt();break;case R.Arc_line_width:this.line_width=t.consumeInt();break;case R.Arc_fill:this.fill=t.consumeBool();break;case R.Arc_ll:this.ll.open(t);break;case R.Arc_ur:this.ur.open(t);break;case R.End:return;default:console.log("Syntax error in GlowArc:",e),t.consumeLine()}}}draw(t,e){let r=this.ll.z_x()-this.ctx.mw.offset.x,i=this.ll.z_y()-this.ctx.mw.offset.y,o=this.ur.z_x()-this.ctx.mw.offset.x,n=this.ur.z_y()-this.ctx.mw.offset.y;if(r===o&&i===n)return;let s=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);s+=e,s=Math.max(0,s),s=Math.min(s,et.d-1),this.ctx.gdraw.arc(r,i,o-r,n-i,this.angle1,this.angle2,this.draw_type,!1,s,t)}draw_shadow(t,e,r,i){let o=this.ll.z_x()-this.ctx.mw.offset.x,n=this.ll.z_y()-this.ctx.mw.offset.y,s=this.ur.z_x()-this.ctx.mw.offset.x,a=this.ur.z_y()-this.ctx.mw.offset.y,l=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);l+=i,l=Math.max(0,l),l=Math.min(l,et.d-1);let _=Number(this.border);this.shadow&&l>2&&(0===this.angle1?(this.ctx.gdraw.arc(o+l/2-l+_,n+l/2-l+_,s-o+l-2*_,a-n+l-2*_,this.angle1+45,this.angle2-45,$.a.shift_drawtype(this.draw_type,-2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-l+_,n+l/2-l+_,s-o+l-2*_,a-n+l-2*_,this.angle1,this.angle2-45,$.a.shift_drawtype(this.draw_type,2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-_,n+l/2-_,Math.max(0,s-o-l+2*_),Math.max(0,a-n-l+2*_),this.angle1+45,this.angle2-45,$.a.shift_drawtype(this.draw_type,2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-_,n+l/2-_,Math.max(0,s-o-l+2*_),Math.max(0,a-n-l+2*_),this.angle1,this.angle2-45,$.a.shift_drawtype(this.draw_type,-2,null),!1,0,r)):90===this.angle1?(this.ctx.gdraw.arc(o+l/2-l+_,n+l/2-l+_,s-o+l-2*_,a-n+l-2*_,this.angle1,this.angle2,$.a.shift_drawtype(this.draw_type,-2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-_,n+l/2-_,Math.max(0,s-o-l+2*_),Math.max(0,a-n-l+2*_),this.angle1,this.angle2,$.a.shift_drawtype(this.draw_type,2,null),!1,0,r)):180===this.angle1?(this.ctx.gdraw.arc(o+l/2-l+_,n+l/2-l+_,s-o+l-2*_,a-n+l-2*_,this.angle1+45,this.angle2-45,$.a.shift_drawtype(this.draw_type,2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-l+_,n+l/2-l+_,s-o+l-2*_,a-n+l-2*_,this.angle1,this.angle2-45,$.a.shift_drawtype(this.draw_type,-2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-_,n+l/2-_,Math.max(0,s-o-l+2*_),Math.max(0,a-n-l+2*_),this.angle1+45,this.angle2-45,$.a.shift_drawtype(this.draw_type,-2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-_,n+l/2-_,Math.max(0,s-o-l+2*_),Math.max(0,a-n-l+2*_),this.angle1,this.angle2-45,$.a.shift_drawtype(this.draw_type,2,null),!1,0,r)):270===this.angle1&&(this.ctx.gdraw.arc(o+l/2-l+_,n+l/2-l+_,s-o+l-2*_,a-n+l-2*_,this.angle1,this.angle2,$.a.shift_drawtype(this.draw_type,2,null),!1,0,r),this.ctx.gdraw.arc(o+l/2-_,n+l/2-_,Math.max(0,s-o-l+2*_),Math.max(0,a-n-l+2*_),this.angle1,this.angle2,$.a.shift_drawtype(this.draw_type,-2,null),!1,0,r))),t&&(this.ctx.gdraw.arc(o+l/2-l,n+l/2-l,s-o+l,a-n+l,this.angle1,this.angle2,Z.a.Line,!1,0,r),l>0&&this.ctx.gdraw.arc(o+l/2,n+l/2,Math.max(0,s-o-l),Math.max(0,a-n-l),this.angle1,this.angle2,Z.a.Line,!1,0,r))}get_borders(t,e,r){e.set(l.i.union(e,new l.i(t.x+this.ll.x,t.y+this.ll.y,t.x+this.ur.x,t.y+this.ur.y)))}}class ot{constructor(t){this.ctx=t,this.p_dest=new rt(t),this.p1=new rt(t),this.p2=new rt(t)}type(){return x.Arrow}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Arrow:break;case R.Arrow_arrow_width:this.arrow_width=t.consumeFloat();break;case R.Arrow_arrow_length:this.arrow_length=t.consumeFloat();break;case R.Arrow_draw_type:this.draw_type=t.consumeInt();break;case R.Arrow_line_width:this.line_width=t.consumeInt();break;case R.Arrow_p_dest:this.p_dest.open(t);break;case R.Arrow_p1:this.p1.open(t);break;case R.Arrow_p2:this.p2.open(t);break;case R.End:return;default:console.log("Syntax error in GlowArrow:",e),t.consumeLine()}}}}class nt extends l.i{constructor(t){super(),this.point_x=new Array(nt.MAX_POINT),this.point_y=new Array(nt.MAX_POINT),this.highlight=!1,this.hot=!1,this.ctx=t,this.line_a=new le(t),this.arc_a=new le(t),this.arrow_a=new le(t),this.ref_a=new le(t)}type(){return x.Con}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Con:break;case R.Con_cc:{let e=t.consumeLine();this.cc=this.ctx.get_conclass_from_name(e),this.cc||console.log("GlowCon: ConClass not found:",e);break}case R.Con_c_name:this.c_name=t.consumeLine();break;case R.Con_x_right:this.ur.x=t.consumeFloat();break;case R.Con_x_left:this.ll.x=t.consumeFloat();break;case R.Con_y_high:this.ur.y=t.consumeFloat();break;case R.Con_y_low:this.ll.y=t.consumeFloat();break;case R.Con_dest_node:{let e=t.consumeLine();this.dest_node=this.ctx.get_node_from_name(e),this.dest_node||console.log("GlowCon:dest_node not found:",e);break}case R.Con_source_node:{let e=t.consumeLine();this.source_node=this.ctx.get_node_from_name(e),this.source_node||console.log("GlowCon:source_node not found:",e);break}case R.Con_dest_conpoint:this.dest_conpoint=t.consumeInt();break;case R.Con_source_conpoint:this.source_conpoint=t.consumeInt();break;case R.Con_dest_direction:this.dest_direction=t.consumeInt();break;case R.Con_source_direction:this.source_direction=t.consumeInt();break;case R.Con_line_a:this.line_a.open(t);break;case R.Con_arc_a:this.arc_a.open(t);break;case R.Con_arrow_a:this.arrow_a.open(t);break;case R.Con_ref_a:this.ref_a.open(t);break;case R.Con_p_num:this.p_num=t.consumeInt();break;case R.Con_l_num:this.l_num=t.consumeInt();break;case R.Con_a_num:this.a_num=t.consumeInt();break;case R.Con_arrow_num:this.arrow_num=t.consumeInt();break;case R.Con_ref_num:this.ref_num=t.consumeInt();break;case R.Con_point_x:for(let e=0;e<this.p_num;e++)this.point_x[e]=t.consumeFloat();break;case R.Con_point_y:for(let e=0;e<this.p_num;e++)this.point_y[e]=t.consumeFloat();break;case R.Con_source_ref_cnt:this.source_ref_cnt=t.consumeInt();break;case R.Con_dest_ref_cnt:this.dest_ref_cnt=t.consumeInt();break;case R.Con_trace_object:this.trace_object=t.consumeLine();break;case R.Con_trace_attribute:this.trace_attribute=t.consumeLine();break;case R.Con_trace_attr_type:this.trace_attr_type=t.consumeInt();break;case R.Con_temporary_ref:this.temporary_ref=t.consumeBool();break;case R.Con_border:this.border=t.consumeBool();break;case R.Con_shadow:this.shadow=t.consumeBool();break;case R.End:return;default:console.log("Syntax error in GlowCon:",e),t.consumeLine()}}}draw(t=null,e=this.highlight,r=this.hot,i=null,o=null){if(this.temporary_ref||this.cc.con_type===et.b.Reference);else{for(let n=0;n<this.l_num;n++)this.line_a[n].draw(t,e,r,i,o);for(let n=0;n<this.a_num;n++)this.arc_a[n].draw(t,e,r,i,o);if((this.shadow||this.border)&&this.cc.con_type===et.b.Routed&&this.cc.corner===et.c.Rounded){for(let t=0;t<this.l_num;t++)this.line_a[t].draw_shadow(this.border,this.shadow,e,r);for(let t=0;t<this.a_num;t++)this.arc_a[t].draw_shadow(this.border,this.shadow,e,r)}}}static getName(){return"Con"}event_handler(t){return 0}}nt.MAX_POINT=8,function(t){t[t.Common=0]="Common",t[t.Trace=1]="Trace"}(tt||(tt={}));class st{constructor(t){this.ctx=t}type(){return x.ConClass}open(t){for(;;){let e=t.consumeInt();switch(e){case R.ConClass:break;case R.ConClass_cc_name:this.cc_name=t.consumeLine();break;case R.ConClass_con_type:this.con_type=t.consumeInt();break;case R.ConClass_corner:this.corner=t.consumeInt();break;case R.ConClass_draw_type:this.draw_type=t.consumeInt();break;case R.ConClass_line_width:this.line_width=t.consumeInt();break;case R.ConClass_arrow_width:this.arrow_width=t.consumeFloat();break;case R.ConClass_arrow_length:this.arrow_length=t.consumeFloat();break;case R.ConClass_round_corner_amount:this.round_corner_amount=t.consumeFloat();break;case R.ConClass_group:this.group=t.consumeInt();break;case R.End:return;default:console.log("Syntax error in GlowConClass:",e),t.consumeLine()}}}}class at{constructor(){this.a11=1,this.a12=0,this.a13=0,this.a21=0,this.a22=1,this.a23=0,this.rotation=0}set(t){this.a11=t.a11,this.a12=t.a12,this.a13=t.a13,this.a21=t.a21,this.a22=t.a22,this.a23=t.a23,this.rotation=t.rotation}apply(t){return new rt(t.ctx,t.x*this.a11+t.y*this.a12+this.a13,t.x*this.a21+t.y*this.a22+this.a23)}static multiply(t,e){if(!e)return t;if(!t)return e;let r=new at;return r.a11=t.a11*e.a11+t.a12*e.a21,r.a12=t.a11*e.a12+t.a12*e.a22,r.a13=t.a11*e.a13+t.a12*e.a23+t.a13,r.a21=t.a21*e.a11+t.a22*e.a21,r.a22=t.a21*e.a12+t.a22*e.a22,r.a23=t.a21*e.a13+t.a22*e.a23+t.a23,r.rotation=t.rotation+e.rotation,r}vertical_scale(){return Math.sqrt(this.a12*this.a12+this.a22*this.a22)}}class lt extends at{constructor(){super(),this.stored=!1,this.s=new at}store(){this.s.set(this),this.stored=!0}revert(){this.set(this.s)}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Transform:break;case R.Transform_a11:this.a11=t.consumeFloat();break;case R.Transform_a12:this.a12=t.consumeFloat();break;case R.Transform_a13:this.a13=t.consumeFloat();break;case R.Transform_a21:this.a21=t.consumeFloat();break;case R.Transform_a22:this.a22=t.consumeFloat();break;case R.Transform_a23:this.a23=t.consumeFloat();break;case R.Transform_rotation:this.rotation=t.consumeFloat();break;case R.End:return;default:console.log("Syntax error in GlowTransform:",e),t.consumeLine()}}}scale(t,e,r,i){let o=new at;o.a11=t,o.a22=e,this.set(at.multiply(o,this)),this.a13+=r*(1-t),this.a23+=i*(1-e)}rotate(t,e,r){let i=-1,o=0;-90.01<t&&t<-89.99||(i=Math.sin(t/180*3.14159),o=Math.cos(t/180*3.14159));let n=new at;n.a11=o,n.a12=-i,n.a21=i,n.a22=o,n.rotation=t,this.set(at.multiply(n,this)),this.a13+=e*(1-o)+r*i,this.a23+=r*(1-o)-e*i}move(t,e){this.a13+=t,this.a23+=e}move_from_stored(t,e){this.a13=this.s.a13+t,this.a23=this.s.a23+e}posit(t,e){this.a13=t,this.a23=e}reverse(t,e){if(0===this.a11||this.a12*this.a21-this.a11*this.a22==0)return 0===this.a11&&0===this.a22&&0!==this.a12&&0!==this.a21?new l.f((e-this.a23)/this.a21,(t-this.a13)/this.a12):new l.f;let r=new l.f;return r.y=(this.a11*(this.a23-e)-this.a21*(this.a13-t))/(this.a12*this.a21-this.a11*this.a22),r.x=(t-this.a12*r.y-this.a13)/this.a11,r}is_stored(){return this.stored}}class _t{constructor(t,e=0,r=0,i=0,o=et.e.Center){this.trace_attribute="",this.trace_attr_type=et.h.Boolean,this.ctx=t,this.trf=new lt,this.number=i,this.p=new rt(t,e,r),this.direction=o}type(){return x.ConPoint}open(t){for(;;){let e=t.consumeInt();switch(e){case R.ConPoint:break;case R.ConPoint_number:this.number=t.consumeInt();break;case R.ConPoint_direction:this.direction=t.consumeInt();break;case R.ConPoint_p:this.p.open(t);break;case R.ConPoint_trace_attr_type:this.trace_attr_type=t.consumeInt();break;case R.ConPoint_trace_attribute:this.trace_attribute=t.consumeLine();break;case R.ConPoint_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GlowConPoint:",e),t.consumeLine()}}}draw(){}event_handler(t){return 0}get_borders(t,e){}get_background_object_limits(t,e,r){return null}}class ct{constructor(t,e=0,r=0,i=0,o=0,n=Z.a.Line,s=1,a=!1){this.ctx=t,this.p1=new rt(t,e,r),this.p2=new rt(t,i,o),this.draw_type=n,this.line_width=s,this.fix_line_width=a}type(){return x.Line}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Line:break;case R.Line_draw_type:this.draw_type=t.consumeInt();break;case R.Line_line_width:this.line_width=t.consumeInt();break;case R.Line_p1:this.p1.open(t);break;case R.Line_p2:this.p2.open(t);break;case R.End:return;default:console.log("Syntax error in GlowLine:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=!1,o=!1){let n=this.p1.z_x()-this.ctx.mw.offset.x,s=this.p1.z_y()-this.ctx.mw.offset.y,a=this.p2.z_x()-this.ctx.mw.offset.x,_=this.p2.z_y()-this.ctx.mw.offset.y;if(n===a&&s===_)return;let c=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);c=Object(l.n)(c+Number(r),0,et.d-1),this.ctx.gdraw.line(n,s,a,_,this.draw_type,c,l.e.Solid,e)}draw_shadow(t,e,r,i){let o=this.p1.z_x()-this.ctx.mw.offset.x,n=this.p1.z_y()-this.ctx.mw.offset.y,s=this.p2.z_x()-this.ctx.mw.offset.x,a=this.p2.z_y()-this.ctx.mw.offset.y;if(o===s&&n===a)return;let l=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);l+=i,l=Math.max(0,l),l=Math.min(l,et.d-1);let _=t;e&&l>2&&(o===s?(this.ctx.gdraw.line(o+l/2-l+_,n,s+l/2-l+_,a,$.a.shift_drawtype(this.draw_type,-2,null),0,r),this.ctx.gdraw.line(o+l/2-_,n,s+l/2-_,a,$.a.shift_drawtype(this.draw_type,2,null),0,r)):(this.ctx.gdraw.line(o,n+l/2-l+_,s,a+l/2-l+_,$.a.shift_drawtype(this.draw_type,-2,null),0,r),this.ctx.gdraw.line(o,n+l/2-_,s,a+l/2-_,$.a.shift_drawtype(this.draw_type,2,null),0,r))),t&&(o===s?(this.ctx.gdraw.line(o+l/2-l,n,s+l/2-l,a,Z.a.Line,0,r),l>0&&this.ctx.gdraw.line(o+l/2,n,s+l/2,a,Z.a.Line,0,r)):(this.ctx.gdraw.line(o,n+l/2-l,s,a+l/2-l,Z.a.Line,0,r),l>0&&this.ctx.gdraw.line(o,n+l/2,s,a+l/2,Z.a.Line,0,r)))}}var ht=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class ut{constructor(t,e,r=et.g.Common){this.nc_name="",this.group=0,this.slider=!1,this.next_nodeclass="",this.animation_count=0,this.cycle=k.Slow,this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.input_focus_mark=0,this.dynamicsize=0,this.userdata=null,this.argtype=new Array(20),this.argname=new Array(20),this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.dyn_color=new Array(4),this.dyn_attr=new Array(4),this.next_nc=null,this.prev_nc=null,this.recursive_trace=!1,this.ctx=t,this.a=new le(t),this.nc_name=e,this.group=r}type(){return x.NodeClass}open(t){let e=!1;for(;;){let r=t.consumeInt();switch(r){case R.NodeClass:break;case R.NodeClass_nc_name:this.nc_name=t.consumeLine();break;case R.NodeClass_a:this.a.open(t);break;case R.NodeClass_group:this.group=t.consumeInt();break;case R.NodeClass_arg_cnt:this.arg_cnt=t.consumeInt();break;case R.NodeClass_argname:for(let e=0;e<this.arg_cnt;e++)this.argname[e]=t.consumeLine();break;case R.NodeClass_argtype:for(let e=0;e<this.arg_cnt;e++)this.argtype[e]=t.consumeInt();break;case R.NodeClass_no_con_obstacle:this.no_con_obstacle=t.consumeBool();break;case R.NodeClass_dyn_type1:this.dyn_type1=t.consumeInt();break;case R.NodeClass_dyn_type2:this.dyn_type2=t.consumeInt();break;case R.NodeClass_dyn_action_type1:this.action_type1=t.consumeInt();break;case R.NodeClass_dyn_action_type2:this.action_type2=t.consumeInt();break;case R.NodeClass_dyn_color1:case R.NodeClass_dyn_color2:case R.NodeClass_dyn_color3:case R.NodeClass_dyn_color4:{let e=r-R.NodeClass_dyn_color1;this.dyn_color[e]=t.consumeInt();break}case R.NodeClass_dyn_attr1:case R.NodeClass_dyn_attr2:case R.NodeClass_dyn_attr3:case R.NodeClass_dyn_attr4:{let e=r-R.NodeClass_dyn_attr1;this.dyn_attr[e]=t.consumeInt();break}case R.NodeClass_java_name:t.consumeLine();break;case R.NodeClass_slider:this.slider=t.consumeBool();break;case R.NodeClass_next_nodeclass:this.next_nodeclass=t.consumeLine();break;case R.NodeClass_animation_count:this.animation_count=t.consumeInt();break;case R.NodeClass_cycle:this.cycle=t.consumeInt();break;case R.NodeClass_y0:this.y0=t.consumeFloat();break;case R.NodeClass_y1:this.y1=t.consumeFloat();break;case R.NodeClass_x0:this.x0=t.consumeFloat();break;case R.NodeClass_x1:this.x1=t.consumeFloat();break;case R.NodeClass_input_focus_mark:this.input_focus_mark=t.consumeInt();break;case R.NodeClass_recursive_trace:this.recursive_trace=t.consumeBool();break;case R.NodeClass_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.NodeClass_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.NodeClass_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.NodeClass));break;case R.End:e=!0;break;default:console.log("Syntax error in GlowNodeClass:",r),t.consumeLine()}if(e)break}null!==this.next_nodeclass&&""!==this.next_nodeclass&&(this.next_nc=this.ctx.get_nodeclass_from_name(this.next_nodeclass),null===this.next_nc?(console.log("GlowNode:next_nodeclass not found: ",this.nc_name,this.next_nodeclass),console.log("Note! nodeclass has to be intern")):null!==this.next_nc.prev_nc?(this.next_nc=null,console.log("GlowNode:next_nodeclass already chained: ",this.nc_name,this.next_nodeclass)):this.next_nc.prev_nc=this)}event_handler(t){return ht(this,void 0,void 0,function*(){for(let e=0;e<this.a.length;e++){let r=yield this.a[e].event_handler(t);if(r)return r}return 0})}draw(t=null,e=!1,r=!1,i=null,o=null){this.a.draw(t,e,r,i,o)}get_borders(t,e){let r=this.get_base_nc();if(t&&!(Math.abs(t.rotation/90-Math.floor(t.rotation/90))<Number.EPSILON)||(Math.abs(r.x0-r.x1)<Number.EPSILON||Math.abs(r.y0-r.y1)<Number.EPSILON))for(let r=0;r<this.a.length;r++)this.a[r].get_borders(t,e);else{let i=new rt(this.ctx,r.x0,r.y0),o=new rt(this.ctx,r.x1,r.y1);t&&(i=t.apply(i),o=t.apply(o)),e.set(l.i.union(e,new l.i(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.max(i.x,o.x),Math.max(i.y,o.y))))}}get_obstacle_borders(t,e,r){if(this.group!==et.g.Document)for(let i=0;i<this.a.length;i++)this.a[i].get_borders(t,e,r);else for(let i=0;i<this.a.length;i++)this.a[i].type()===x.Rect&&this.a[i].get_borders(t,e,r)}get_base_nc(){let t;for(t=this;null!==t.prev_nc;t=t.prev_nc);return t}getAnnotBackground(t,e){for(let r=this.a.length-1;r>=0;r--)if(this.a[r].type()===x.GrowRect){let i=this.a[r].getAnnotBackground(t,e);if(i)return i}return null}getAnnotationInfo(t,e){for(let r=this.a.length-1;r>=0;r--)if(this.a[r].type()===x.GrowAnnot&&this.a[r].getNumber()===e)return this.a[r].getAnnotationInfo(t);return null}getAnnotationTextExtent(t,e,r){for(let i=0;i<this.a.length;i++)if(this.a[i].type()===x.GrowAnnot&&this.a[i].getNumber()===r){let r=this.a[i].getTextExtent(t,e);return r.x/=this.ctx.mw.zoom_factor.x,r.y/=this.ctx.mw.zoom_factor.y,r}return null}}var dt=r(15);class mt extends ut{constructor(t,e,r){super(t,e,et.g.Common),r&&(this.a=Object(dt.cloneDeep)(r))}type(){return x.NodeGroup}open(t){for(;;){let e=t.consumeInt();switch(e){case R.NodeGroup:break;case R.NodeGroup_nodeclass_part:super.open(t);break;case R.End:return;default:console.log("Syntax error in GlowNodeGroup:",e),t.consumeLine()}}}}class ft{constructor(t,e=0,r=0,i=0,o=0,n=Z.a.Line,s=1,a=!1,l=et.f.One,_=!1){this.draw_type=0,this.ctx=t,this.ll=new rt(t,e,r),this.ur=new rt(t,e+i,r+o),this.draw_type=n,this.line_width=s,this.fix_line_width=a,this.display_level=l,this.fill=_}type(){return x.Rect}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Rect:break;case R.Rect_draw_type:this.draw_type=t.consumeInt();break;case R.Rect_line_width:this.line_width=t.consumeInt();break;case R.Rect_display_level:this.display_level=t.consumeInt();break;case R.Rect_fill:this.fill=t.consumeBool();break;case R.Rect_ll:this.ll.open(t);break;case R.Rect_ur:this.ur.open(t);break;case R.End:return;default:console.log("Syntax error in GlowRect:",e),t.consumeLine()}}}draw(t,e=!1,r=!1,i=null){let o=Object(l.n)(this.line_width+Number(r),0,et.d-1);this.ctx.gdraw.rect(this.ll.x+t.x,this.ll.y+t.y,this.ur.x-this.ll.x,this.ur.y-this.ll.y,this.draw_type,this.fill,o*Number(this.fill),e)}get_borders(t,e,r){this.display_level===et.f.One&&e.set(l.i.union(e,new l.i(t.x+this.ll.x,t.y+this.ll.y,t.x+this.ur.x,t.y+this.ur.y)))}}var wt,pt=r(11);class bt{constructor(t,e,r=0,i=0,o=Z.a.TextHelveticaBold,n=Z.a.Line,s=2,a=et.f.One){this.ctx=t,this.p=new rt(t,r,i),this.draw_type=o,this.text_size=s,this.display_level=a,this.color_drawtype=n,this.text=e}type(){return x.Text}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Text:break;case R.Text_draw_type:this.draw_type=t.consumeInt();break;case R.Text_text_size:this.text_size=t.consumeInt();break;case R.Text_color_drawtype:this.color_drawtype=t.consumeInt();break;case R.Text_text:this.text=t.consumeLine();break;case R.Text_p:this.p.open(t);break;case R.End:return;default:console.log("Syntax error in GlowText:",e),t.consumeLine()}}}draw(t,e=!1,r=!1,i=null){Object(l.n)(this.text_size,0,et.d-1);this.ctx.gdraw.text(this.p.x+t.x,this.p.y+t.y,this.text,this.draw_type,this.color_drawtype,pt.a.Helvetica,8+2*this.text_size,0,e)}}class gt{constructor(t,e=0,r=0,i=0,o=Z.a.TextHelveticaBold,n=Z.a.Line,s=2,a=et.a.OneLine,l=!1,_=et.f.One){this.protect=!1,this.ctx=t,this.number=i,this.p=new rt(t,e,r),this.draw_type=o,this.text_size=s,this.annot_type=a,this.relative_pos=l,this.display_level=_,this.color_drawtype=n,this.font=pt.a.Helvetica}type(){return x.Annot}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Annot:break;case R.Annot_number:this.number=t.consumeInt();break;case R.Annot_draw_type:this.draw_type=t.consumeInt();break;case R.Annot_color_drawtype:this.color_drawtype=t.consumeInt();break;case R.Annot_text_size:this.text_size=t.consumeInt();break;case R.Annot_display_level:this.display_level=t.consumeInt();break;case R.Annot_p:this.p.open(t);break;case R.Annot_annot_type:this.annot_type=t.consumeInt();break;case R.Annot_font:this.font=t.consumeInt();break;case R.Annot_protect:this.protect=t.consumeBool();break;case R.End:return;default:console.log("Syntax error in GlowAnnot:",e),t.consumeLine()}}}}class yt extends gt{constructor(t,e=0,r=0,i=0,o=Z.a.TextHelveticaBold,n=Z.a.Line,s=2,a=et.a.OneLine,l=!1,_=et.f.One){super(t,e,r,i,o,n,s,a,l,_),this.adjustment=v.Left,this.trf=new lt}type(){return x.GrowAnnot}getNumber(){return this.number}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowAnnot:break;case R.GrowAnnot_adjustment:this.adjustment=t.consumeInt();break;case R.GrowAnnot_annot_part:super.open(t);break;case R.GrowAnnot_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GrowAnnot:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){if(!i.annotv[this.number])return;let n=at.multiply(t,this.trf),s=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,a=Math.floor(n.vertical_scale()*s*(this.text_size+4)-4),_=n.vertical_scale()*s*(8+2*this.text_size);if(a<0)return;a=Math.min(a,et.d-1);let c,h,u=new l.f;null!==i&&i.annot_scrollingtext===this.number&&(u=new l.f(i.annot_offset.z_x(),i.annot_offset.z_y())),null!==i&&i.text_font!==pt.a.No?(c=i.text_font,h=i.text_type):(c=this.font,h=this.draw_type);let d=n.apply(this.p);d.x=Math.floor(d.z_x()+u.x)-this.ctx.mw.offset.x,d.y=Math.floor(d.z_y()+u.y)-this.ctx.mw.offset.y;let m=Math.floor(n.rotation<0?n.rotation%360+360:n.rotation%360);switch(this.annot_type){case et.a.OneLine:let r,n=$.a.get_drawtype(this.color_drawtype,Z.a.LineHighlight,e,o,2,!1);((m<45||m>=315)&&i.annotv_inputmode[this.number]&&i.input_selected||!(m<45||m>=315)||this.adjustment===v.Right||this.adjustment===v.Center)&&(r=this.getTextExtent(t,i)),this.adjustment===v.Right?d.x-=r.width:this.adjustment===v.Center&&(d.x-=r.width/2),m<45||m>=315?i.annotv_inputmode[this.number]&&i.input_selected&&this.ctx.gdraw.rect(d.x,d.y-r.height+r.descent,r.width,r.height,Z.a.MediumGray,!0):this.adjustment===v.Center?m>=45&&m<135?(d.x+=r.width/2,d.y+=r.width/2):m>=135&&m<225?d.y+=r.height-r.descent:m>=225&&m<315?(d.x+=r.width/2-r.height+r.descent,d.y-=r.width/2-r.height+r.descent):d.x-=r.width:(m>=45&&m<135?d.y+=r.height-r.descent:m>=135&&m<225?(d.x-=r.width,d.y+=r.height-r.descent):d.x-=r.width,m=0),this.ctx.gdraw.text(d.x,d.y,i.annotv[this.number],h,n,c,_,m,e);break;case et.a.MultiLine:}}getTextExtent(t,e){if(!e.annotv[this.number])return new l.f;let r=at.multiply(t,this.trf).vertical_scale(),i=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,o=Math.floor(r*i*(this.text_size+4)-4),n=r*i*(8+2*this.text_size);return o<0?new l.f:(o=Math.min(o,et.d-1),this.ctx.gdraw.getTextExtent(e.annotv[this.number],this.draw_type,this.font,n))}event_handler(t){return 0}get_borders(t,e){}get_background_object_limits(t,e,r){return null}getAnnotationInfo(t){let e=this.draw_type,r=this.font;return t&&t.text_font!==pt.a.No&&(e=t.text_type,r=t.text_font),{color:$.a.get_drawtype(this.color_drawtype,Z.a.LineHighlight,!1,t,2,!1),size:this.text_size,type:this.annot_type,font:r,drawtype:e}}}class xt extends it{constructor(t){super(t),this.n_name="",this.background_drawtype=Z.a.No,this.trf=new lt}type(){return x.GrowArc}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowArc:break;case R.GrowArc_n_name:this.n_name=t.consumeLine();break;case R.GrowArc_x_right:this.x_right=t.consumeFloat();break;case R.GrowArc_x_left:this.x_left=t.consumeFloat();break;case R.GrowArc_y_high:this.y_high=t.consumeFloat();break;case R.GrowArc_y_low:this.y_low=t.consumeFloat();break;case R.GrowArc_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case R.GrowArc_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case R.GrowArc_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case R.GrowArc_background_drawtype:this.background_drawtype=t.consumeInt();break;case R.GrowArc_border:this.border=t.consumeBool();break;case R.GrowArc_shadow_width:this.shadow_width=t.consumeFloat();break;case R.GrowArc_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case R.GrowArc_shadow:this.shadow=t.consumeBool();break;case R.GrowArc_relief:this.relief=t.consumeInt();break;case R.GrowArc_disable_shadow:this.disable_shadow=t.consumeBool();break;case R.GrowArc_fixcolor:this.fixcolor=t.consumeBool();break;case R.GrowArc_fixposition:this.fixposition=t.consumeBool();break;case R.GrowArc_gradient:this.gradient=t.consumeInt();break;case R.GrowArc_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case R.GrowArc_disable_gradient:this.disable_gradient=t.consumeBool();break;case R.GrowArc_fill_eq_background:this.fill_eq_background=t.consumeBool();break;case R.GrowArc_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowArc_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowArc_arc_part:super.open(t);break;case R.GrowArc_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GrowArc:",e),t.consumeLine()}}}event_handler(t){if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y);return this.ll.x<=e.x&&e.x<=this.ur.x&&this.ll.y<=e.y&&e.y<=this.ur.y}draw(t=null,e=!1,r=!1,i=null,o=null){let n=0;this.ctx.hot_indication===I.No?r=!1:this.ctx.hot_indication===I.DarkColor?(n=Number(r),r=!1):this.ctx.hot_indication===I.LightColor&&(n=-Number(r),r=!1),this.fixcolor&&(o=null);let s=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor;s*=i&&i.line_width?i.line_width:this.line_width,s=Object(l.n)(Math.floor(s-1)+Number(r),0,et.d-1);let a=at.multiply(t,this.trf),_=a.apply(this.ll),c=a.apply(this.ur),h=_.z_x()-this.ctx.mw.offset.x,u=_.z_y()-this.ctx.mw.offset.y,d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,f=Math.floor(a.rotation);if(f%90&&Math.abs(this.ur.x-this.ll.x-(this.ur.y-this.ll.y))<Number.MIN_VALUE){let t=at.multiply(a,this.trf).vertical_scale(),e=(_.z_x()-this.ctx.mw.offset.x+(c.z_x()-this.ctx.mw.offset.x))/2,r=(_.z_y()-this.ctx.mw.offset.y+(c.z_y()-this.ctx.mw.offset.y))/2;h=-t*(this.ur.z_x()-this.ll.z_x())/2+e,u=-t*(this.ur.z_y()-this.ll.z_y())/2+r,d=t*(this.ur.z_x()-this.ll.z_x())/2+e,m=t*(this.ur.z_y()-this.ll.z_y())/2+r}let w=Math.min(h,d),p=Math.max(h,d),b=Math.min(u,m),g=Math.max(u,m);if(this.fill){let t,r=(null!==i&&i.shadow||this.shadow)&&!this.disable_shadow;t=this.fill_eq_background?$.a.get_drawtype(this.background_drawtype,Z.a.FillHighlight,e,o,3,!1):$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1);let s=this.gradient;if(this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(s=i.gradient),r&&0!==this.shadow_width&&360===this.angle2){let e=this.shadow_width/100*Math.min(p-w,g-b),r=this.shadow_contrast;if(this.relief===S.Down&&(r=-this.shadow_contrast),s===l.d.No||t===Z.a.ColorRed){let i=$.a.shift_drawtype(t,-r+n,o);this.ctx.gdraw.arc(w,b,p-w,g-b,35,140,i,!0),i=$.a.shift_drawtype(t,r+n,o),this.ctx.gdraw.arc(w,b,p-w,g-b,215,140,i,!0),i=0===n?t:$.a.shift_drawtype(t,n,null),this.ctx.gdraw.arc(w,b,p-w,g-b,-5,40,i,!0),this.ctx.gdraw.arc(w,b,p-w,g-b,175,40,i,!0),this.ctx.gdraw.arc(w+e,b+e,p-w-2*e,g-b-2*e,this.angle1-f,this.angle2,i,!0)}else{let i=$.a.shift_drawtype(t,-r+n,o),a=$.a.shift_drawtype(t,r+n,o);this.ctx.gdraw.gradient_fill_arc(w,b,p-w,g-b,this.angle1-f,this.angle2,t,a,i,l.d.DiagonalUpperLeft),this.gradient_contrast,a=$.a.shift_drawtype(t,-this.gradient_contrast/2+n,null),i=$.a.shift_drawtype(t,this.gradient_contrast/2+n,null),this.ctx.gdraw.gradient_fill_arc(w+e,b+e,p-w-2*e,g-b-2*e,this.angle1-f,this.angle2,t,i,a,s)}}else if(s===l.d.No||t===Z.a.ColorRed){let e=0===n?t:$.a.shift_drawtype(t,n,null);this.ctx.gdraw.arc(w,b,p-w,g-b,this.angle1-f,this.angle2,e,!0)}else{let e,r;this.gradient_contrast,r=$.a.shift_drawtype(t,-this.gradient_contrast/2+n,null),e=$.a.shift_drawtype(t,this.gradient_contrast/2+n,null),this.ctx.gdraw.gradient_fill_arc(w,b,p-w,g-b,this.angle1-f,this.angle2,t,e,r,s)}}if(this.border||!this.fill){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.arc(w,b,p-w,g-b,this.angle1-f,this.angle2,t,!1,s)}}get_borders(t,e){let r=at.multiply(t,this.trf),i=r.apply(this.ll),o=r.apply(this.ur);e.set(l.i.union(e,new l.i(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.max(i.x,o.x),Math.max(i.y,o.y))))}get_background_object_limits(t,e,r){return null}}!function(t){let e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};t.sprintf=function(t,...i){return function(t,r){let i,o,n,s,a,l,_,c,h,u=1,d=t.length,m="";for(o=0;o<d;o++)if("string"==typeof t[o])m+=t[o];else if("object"==typeof t[o]){if((s=t[o]).keys)for(i=r[u],n=0;n<s.keys.length;n++){if(null==i)throw new Error("[sprintf] Cannot access property "+s.keys[n]+" of undefined value "+s.keys[n-1]);i=i[s.keys[n]]}else i=s.param_no?r[s.param_no]:r[u++];if(e.not_type.test(s.type)&&e.not_primitive.test(s.type)&&i instanceof Function&&(i=i()),e.numeric_arg.test(s.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError("[sprintf] expecting number but found");switch(e.number.test(s.type)&&(c=i>=0),s.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,s.width?parseInt(s.width,10):0);break;case"e":i=s.precision?parseFloat(i).toExponential(s.precision):parseFloat(i).toExponential();break;case"f":i=s.precision?parseFloat(i).toFixed(s.precision):parseFloat(i);break;case"g":i=s.precision?String(Number(i.toPrecision(s.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=s.precision?i.substring(0,s.precision):i;break;case"t":i=String(!!i),i=s.precision?i.substring(0,s.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=s.precision?i.substring(0,s.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=s.precision?i.substring(0,s.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase();break;case"m":i="Msg: "+parseInt(i,10)}e.json.test(s.type)?m+=i:(!e.number.test(s.type)||c&&!s.sign?h="":(h=c?"+":"-",i=i.toString().replace(e.sign,"")),l=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",_=s.width-(h+i).length,a=s.width&&_>0?l.repeat(_):"",m+=s.align?h+i+a:"0"===l?h+a+i:a+h+i)}return m}(function(t){if(r[t])return r[t];let i,o=t,n=[],s=0;for(;o;){if(null!==(i=e.text.exec(o)))n.push(i[0]);else if(null!==(i=e.modulo.exec(o)))n.push("%");else{if(null===(i=e.placeholder.exec(o)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){s|=1;var a=[],l=i[2],_=[];if(null===(_=e.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(_[1]);""!==(l=l.substring(_[0].length));)if(null!==(_=e.key_access.exec(l)))a.push(_[1]);else{if(null===(_=e.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(_[1])}i[2]=a}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:i[0],param_no:i[1],keys:i[2],sign:i[3],pad_char:i[4],align:i[5],width:i[6],precision:i[7],type:i[8]})}o=o.substring(i[0].length)}return r[t]=n}(t),arguments)};let r=Object.create(null)}(wt||(wt={}));var vt=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class Ct extends ft{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,_=!1,c=et.f.One,h=!1,u=!0,d=!1,m=Z.a.Line,f=!1){if(super(t,r,i,o,n,s,a,_,c,h),this.n_name=null,this.original_border_drawtype=0,this.original_fill_drawtype=0,this.fill_drawtype=0,this.background_drawtype=Z.a.No,this.border=!1,this.shadow_width=5,this.shadow_contrast=2,this.shadow=!1,this.relief=S.Up,this.disable_shadow=!1,this.invisible=!1,this.fixcolor=!1,this.fixposition=!1,this.gradient=l.d.No,this.gradient_contrast=4,this.disable_gradient=!1,this.bgcolor_gradient=!1,this.fill_eq_background=!1,this.dynamicsize=0,this.userdata=null,this.original_border_drawtype=s,this.original_fill_drawtype=m,this.fill_drawtype=m,this.border=u,this.shadow=d,this.n_name=e,this.trf=new lt,t.grid_on){let e=t.find_grid(this.ll);this.ll.set(e),e=t.find_grid(this.ur),this.ur.set(e)}this.get_node_borders(),f||t.set_dirty()}type(){return x.GrowRect}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowRect:break;case R.GrowRect_n_name:this.n_name=t.consumeLine();break;case R.GrowRect_x_right:this.x_right=t.consumeFloat();break;case R.GrowRect_x_left:this.x_left=t.consumeFloat();break;case R.GrowRect_y_high:this.y_high=t.consumeFloat();break;case R.GrowRect_y_low:this.y_low=t.consumeFloat();break;case R.GrowRect_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case R.GrowRect_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case R.GrowRect_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case R.GrowRect_background_drawtype:this.background_drawtype=t.consumeInt();break;case R.GrowRect_border:this.border=t.consumeBool();break;case R.GrowRect_shadow_width:this.shadow_width=t.consumeFloat();break;case R.GrowRect_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case R.GrowRect_shadow:this.shadow=t.consumeBool();break;case R.GrowRect_relief:this.relief=t.consumeInt();break;case R.GrowRect_disable_shadow:this.disable_shadow=t.consumeBool();break;case R.GrowRect_invisible:this.invisible=t.consumeBool();break;case R.GrowRect_fixcolor:this.fixcolor=t.consumeBool();break;case R.GrowRect_fixposition:this.fixposition=t.consumeBool();break;case R.GrowRect_gradient:this.gradient=t.consumeInt();break;case R.GrowRect_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case R.GrowRect_disable_gradient:this.disable_gradient=t.consumeBool();break;case R.GrowRect_bgcolor_gradient:this.bgcolor_gradient=t.consumeBool();break;case R.GrowRect_fill_eq_background:this.fill_eq_background=t.consumeBool();break;case R.GrowRect_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowRect_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowRect_rect_part:super.open(t);break;case R.GrowRect_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GrowRect:",e),t.consumeLine()}}}event_handler(t){return vt(this,void 0,void 0,function*(){if(!(t.event instanceof MouseEvent)||"mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y);return Number(this.ll.x<=e.x&&e.x<=this.ur.x&&this.ll.y<=e.y&&e.y<=this.ur.y)})}draw(t=null,e=!1,r=!1,i=null,o=null){if(this.invisible&&(!e||null!==i))return;let n;this.fixcolor&&(o=null),n=null!==i&&i.line_width?this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1:this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1,n+=r,n=Math.max(0,n),n=Math.min(n,et.d-1);let s,a=at.multiply(t,this.trf),_=a.apply(this.ll),c=a.apply(this.ur),h=_.z_x()-this.ctx.mw.offset.x,u=_.z_y()-this.ctx.mw.offset.y,d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,f=Math.min(h,d),w=Math.max(h,d),p=Math.min(u,m),b=Math.max(u,m),g=this.shadow_width/100*Math.min(w-f,b-p)+.5,y=(null!==i&&i.shadow||this.shadow)&&!this.disable_shadow;s=this.fill_eq_background?$.a.get_drawtype(this.background_drawtype,Z.a.FillHighlight,e,o,3,!1):$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1);let x=this.gradient;if(this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(x=i.gradient),y&&g){let t=this.relief===S.Down?-this.shadow_contrast:this.shadow_contrast,e=$.a.shift_drawtype(s,0-t,o),r=[new l.f(f,p),new l.f(w,p),new l.f(w-g,p+g),new l.f(f+g,p+g),new l.f(f+g,b-g),new l.f(f,b),new l.f(f,p)];this.ctx.gdraw.polyline(r,7,e,!0),e=$.a.shift_drawtype(s,t+0,o),r=[new l.f(w,b),new l.f(f,b),new l.f(f+g,b-g),new l.f(w-g,b-g),new l.f(w-g,p+g),new l.f(w,p),new l.f(w,b)],this.ctx.gdraw.polyline(r,7,e,!0)}if(this.fill)if(y&&g)if(x===l.d.No||s===Z.a.ColorRed){let t=s;this.ctx.gdraw.rect(f+g,p+g,w-f-2*g,b-p-2*g,t,!0)}else{let t,r=s,i=s;this.bgcolor_gradient&&this.background_drawtype!==Z.a.No?r=t=$.a.get_drawtype(this.background_drawtype,Z.a.FillHighlight,e,o,1,!1):(this.gradient_contrast,i=$.a.shift_drawtype(s,-this.gradient_contrast/2+$.a.shift_drawtype(s,0,null),null),t=$.a.shift_drawtype(s,this.gradient_contrast/2+$.a.shift_drawtype(s,0,null),null)),this.ctx.gdraw.gradient_fill_rect(f+g,p+g,w-f-2*g,b-p-2*g,r,t,i,this.ctx.gdraw.gradient_rotate(a.rotation,x))}else if(x===l.d.No||s===Z.a.ColorRed){let t=s;this.ctx.gdraw.rect(f,p,w-f,b-p,t,!0)}else{let t,r=s,i=s;this.bgcolor_gradient&&this.background_drawtype!==Z.a.No?r=t=$.a.get_drawtype(this.background_drawtype,Z.a.FillHighlight,e,o,1,!1):this.gradient_contrast>=0?(i=$.a.shift_drawtype(s,-this.gradient_contrast/2+0,null),t=$.a.shift_drawtype(s,this.gradient_contrast/2+0,null)):(i=$.a.shift_drawtype(s,-this.gradient_contrast/2+0,null),t=$.a.shift_drawtype(s,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_rect(f,p,w-f,b-p,r,t,i,this.ctx.gdraw.gradient_rotate(a.rotation,x))}if(this.border||!(this.fill||y&&this.shadow_width)){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.rect(f,p,w-f,b-p,t,!1,n)}}get_borders(t,e){if(this.display_level!==et.f.One)return;let r=at.multiply(t,this.trf),i=r.apply(this.ll),o=r.apply(this.ur);e.set(l.i.union(e,new l.i(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.max(i.x,o.x),Math.max(i.y,o.y))))}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);this.get_borders(null,t),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}set_scale(t,e,r,i,o){if(this.trf.s.a11&&this.trf.s.a22&&Math.abs(t-this.trf.a11/this.trf.s.a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s.a22)<Number.MIN_VALUE)return;switch(o){case A.LowerLeft:r=this.x_left,i=this.y_low;break;case A.LowerRight:r=this.x_right,i=this.y_low;break;case A.UpperRight:r=this.x_right,i=this.y_high;break;case A.UpperLeft:r=this.x_left,i=this.y_high;break;case A.FixPoint:break;case A.Center:r=(this.x_left+this.x_right)/2,i=(this.y_low+this.y_high)/2}let n=this.x_left,s=this.x_right,a=this.y_low,l=this.y_high;switch(this.trf.revert(),this.trf.scale(t,e,r,i),this.get_node_borders(),o){case A.LowerLeft:this.x_left=n,this.y_low=a;break;case A.LowerRight:this.x_right=s,this.y_low=a;break;case A.UpperRight:this.x_right=s,this.y_high=l;break;case A.UpperLeft:this.x_left=n,this.y_high=l;break;case A.FixPoint:break;case A.Center:r=(this.x_left+this.x_right)/2,i=(this.y_low+this.y_high)/2}this.ctx.set_dirty()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return k.Slow}get_background_object_limits(t,e,r){return null}getAnnotBackground(t,e){return this.fill?$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,!1,e,1,!1):null}}class Gt{constructor(t,e,r,i,o){this.lines=t,this.longq=e,this.vvalq=r,this.hvalq=i,this.format=o}}const kt=[[new Gt(26,5,5,10,"%3.1f"),new Gt(21,5,5,10,"%3.1f"),new Gt(31,5,10,10,"%3.1f"),new Gt(41,5,10,20,"%3.1f"),new Gt(26,5,5,10,"%1.0f"),new Gt(31,5,10,10,"%1.0f"),new Gt(36,5,10,10,"%1.0f"),new Gt(17,2,4,4,"%1.0f"),new Gt(19,2,4,4,"%1.0f"),new Gt(21,2,4,8,"%2.0f"),new Gt(23,2,4,8,"%2.0f"),new Gt(13,4,4,4,"%2.0f"),new Gt(14,4,4,4,"%2.0f"),new Gt(15,4,4,4,"%2.0f"),new Gt(16,5,5,5,"%2.0f"),new Gt(17,5,5,5,"%2.0f"),new Gt(18,5,5,5,"%2.0f"),new Gt(19,5,5,5,"%2.0f"),new Gt(20,5,5,5,"%2.0f"),new Gt(21,5,5,5,"%2.0f"),new Gt(22,5,5,5,"%2.0f"),new Gt(23,5,5,5,"%2.0f"),new Gt(24,5,5,5,"%2.0f"),new Gt(25,5,5,5,"%2.0f"),new Gt(26,5,5,10,"%2.0f")],[new Gt(101,5,10,20,"%3.1f"),new Gt(101,5,10,20,"%3.1f"),new Gt(61,10,10,20,"%3.1f"),new Gt(81,10,10,20,"%3.1f"),new Gt(101,10,20,20,"%1.0f"),new Gt(61,5,10,20,"%1.0f"),new Gt(71,5,10,20,"%1.0f"),new Gt(81,5,10,20,"%1.0f"),new Gt(91,5,10,20,"%1.0f"),new Gt(101,5,10,20,"%2.0f"),new Gt(56,5,5,5,"%2.0f"),new Gt(61,5,10,10,"%2.0f"),new Gt(66,5,10,20,"%2.0f"),new Gt(71,5,10,20,"%2.0f"),new Gt(76,5,10,20,"%2.0f"),new Gt(81,5,10,20,"%2.0f"),new Gt(86,5,10,20,"%2.0f"),new Gt(91,5,10,20,"%2.0f"),new Gt(96,5,10,20,"%2.0f"),new Gt(101,5,10,25,"%2.0f"),new Gt(43,2,6,6,"%2.0f"),new Gt(45,2,4,8,"%2.0f"),new Gt(47,2,4,8,"%2.0f"),new Gt(49,2,4,8,"%2.0f"),new Gt(26,5,5,5,"%2.0f")]];class Tt extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=2,_=Z.a.TextHelvetica,c=!1){super(t,e,r,i,o-r,n-i,s,a,!1,et.f.One,!1,!0,!1,Z.a.Line,!0),this.text_color_drawtype=Z.a.Line,this.max_value=100,this.min_value=0,this.lines=11,this.longquotient=1,this.valuequotient=1,this.increment=0,this.format="%3.0f",this.sb=null,this.text_size=l,this.text_drawtype=_,this.text_color_drawtype=Z.a.Line,this.configure(),c||t.set_dirty()}type(){return x.GrowAxis}configure(){this.lines<=1&&(this.lines=2),this.longquotient<=0&&(this.longquotient=1),this.valuequotient<=0&&(this.valuequotient=1),this.increment=(this.max_value-this.min_value)/(this.lines-1)}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowAxis:break;case R.GrowAxis_text_size:this.text_size=t.consumeInt();break;case R.GrowAxis_text_drawtype:this.text_drawtype=t.consumeInt();break;case R.GrowAxis_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case R.GrowAxis_max_value:this.max_value=t.consumeFloat();break;case R.GrowAxis_min_value:this.min_value=t.consumeFloat();break;case R.GrowAxis_lines:this.lines=t.consumeInt();break;case R.GrowAxis_longquotient:this.longquotient=t.consumeInt();break;case R.GrowAxis_valuequotient:this.valuequotient=t.consumeInt();break;case R.GrowAxis_format:this.format=t.consumeLine();break;case R.GrowAxis_rect_part:super.open(t);break;case R.GrowAxis_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return void this.configure();default:console.log("Syntax error in GrowAxis:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n,s,a=Math.abs(this.increment)>Number.MIN_VALUE,_=0,c=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,h=Math.floor(c*(this.text_size+4)-4),u=c*(8+2*this.text_size);if(h=Object(l.n)(h,0,et.d-1),null!==i&&i.invisible||this.invisible)return;let d=c;d*=null!==i&&i.line_width?i.line_width:this.line_width,d=Object(l.n)(d-1+Number(r),0,et.d-1);let m,f=at.multiply(t,this.trf),w=f.apply(this.ll),p=f.apply(this.ur),b=w.z_x()-this.ctx.mw.offset.x,g=w.z_y()-this.ctx.mw.offset.y,y=p.z_x()-this.ctx.mw.offset.x,x=p.z_y()-this.ctx.mw.offset.y,v=360*(f.rotation/360-Math.floor(f.rotation/360)),C=Math.min(b,y),G=Math.max(b,y),k=Math.min(g,x),T=Math.max(g,x),S=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);if(v<=45||v>315){if(this.ctx.gdraw.line(G,k,G,T,S,d),a){for(let t=0;t<this.lines;t++)if(t%this.valuequotient==0){let e=this.format_text(this.format,this.max_value-t*this.increment);_<(m=this.ctx.gdraw.getTextExtent(e,this.text_drawtype,pt.a.Helvetica,u)).width&&(_=m.width)}s=C+_,n=Math.max(G-C-_,3)}else s=C,n=G-C;for(let t=0;t<this.lines;t++){let r=Math.floor(k+(T-k)/(this.lines-1)*t);if(t%this.longquotient==0?this.ctx.gdraw.line(G-n,r,G,r,S,d):this.ctx.gdraw.line(G-Math.floor(2/3*n),r,G,r,S,d),a){let i=this.format_text(this.format,this.max_value-t*this.increment);if(h>=0&&_<G-C&&t%this.valuequotient==0){let o;o=t===this.lines-1?r:0===t?r+m.height-m.descent-3:r+(m.height-m.descent)/2,this.ctx.gdraw.text(C,o,i,this.text_drawtype,this.text_color_drawtype,pt.a.Helvetica,u,0,e)}}}}else if(v>45&&v<=135){this.ctx.gdraw.line(C,T,G,T,S,d),a?(m=this.ctx.gdraw.getTextExtent("0",this.text_drawtype,pt.a.Helvetica,u),n=Math.max(T-k-m.height,3)):n=T-k;for(let t=0;t<this.lines;t++){let r=Math.floor(C+(G-C)/(this.lines-1)*(this.lines-1-t));if(t%this.longquotient==0?this.ctx.gdraw.line(r,T-n,r,T,S,d):this.ctx.gdraw.line(r,T-Math.floor(2/3*n),r,T,S,d),a&&t%this.valuequotient==0){let i=this.format_text(this.format,this.max_value-t*this.increment);m=this.ctx.gdraw.getTextExtent(i,this.text_drawtype,pt.a.Helvetica,u),h>=0&&m.height<T-k&&(s=t===this.lines-1?r:0===t?r-m.width:r-m.width/2,this.ctx.gdraw.text(s,k+m.height-m.descent,i,this.text_drawtype,this.text_color_drawtype,pt.a.Helvetica,u,0,e))}}}else if(v>135&&v<=225){if(this.ctx.gdraw.line(C,k,C,T,S,d),a){for(let t=0;t<this.lines;t++)if(t%this.valuequotient==0){let e=this.format_text(this.format,this.max_value-t*this.increment);_<(m=this.ctx.gdraw.getTextExtent(e,this.text_drawtype,pt.a.Helvetica,u)).width&&(_=m.width)}s=G-_,n=Math.max(G-C-_,3)}else s=G,n=G-C;for(let t=0;t<this.lines;t++){let r=Math.floor(k+(T-k)/(this.lines-1)*(this.lines-1-t));t%this.longquotient==0?this.ctx.gdraw.line(C,r,C+n,r,S,d):this.ctx.gdraw.line(C,r,C+Math.floor(2/3*n),r,S,d);let i=this.format_text(this.format,this.max_value-t*this.increment);if(a&&h>=0&&_<G-C&&t%this.valuequotient==0){let o;o=t===this.lines-1?r+m.height-m.descent-3:0===t?r:r+(m.height-m.descent)/2,this.ctx.gdraw.text(s,o,i,this.text_drawtype,this.text_color_drawtype,pt.a.Helvetica,u,0,e)}}}else{this.ctx.gdraw.line(C,k,G,k,S,d),a?(m=this.ctx.gdraw.getTextExtent("0",this.text_drawtype,pt.a.Helvetica,u),n=Math.max(T-k-(m.height-m.descent),3)):n=T-k;for(let t=0;t<this.lines;t++){let r=Math.floor(C+(G-C)/(this.lines-1)*t);if(t%this.longquotient==0?this.ctx.gdraw.line(r,k,r,k+n,S,d):this.ctx.gdraw.line(r,k,r,k+Math.floor(2/3*n),S,d),a&&t%this.valuequotient==0){let i=this.format_text(this.format,this.max_value-t*this.increment);m=this.ctx.gdraw.getTextExtent(i,this.text_drawtype,pt.a.Helvetica,u),h>=0&&m.height-m.descent<T-k&&(s=t===this.lines-1?r-m.width:0===t?r:r-m.width/2,this.ctx.gdraw.text(s,T,i,this.text_drawtype,this.text_color_drawtype,pt.a.Helvetica,u,0,e))}}}}format_text(t,e){return Math.abs(e)<Number.MIN_VALUE&&(e=0),wt.sprintf(this.format,e)}set_range(t,e,r){this.max_value=e,this.min_value=t;let i=this.trf.apply(this.ll),o=this.trf.apply(this.ur),n=i.z_x()-this.ctx.mw.offset.x,s=i.z_y()-this.ctx.mw.offset.y,a=o.z_x()-this.ctx.mw.offset.x,l=o.z_y()-this.ctx.mw.offset.y,_=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));if(0===r){let r=_<45||_>135&&_<225||_>315?0:1,i=0===r?Math.abs(l-s):Math.abs(a-n),o=Number(!(i<150)),c=Math.abs(e-t);c<5&&(c*=1e3);let h=Math.floor(c+.5);for(;h>=25;)h=Math.floor(h/10+.5);h>0&&h<=25&&(this.lines=kt[o][h-1].lines,this.longquotient=kt[o][h-1].longq,this.valuequotient=0===r?kt[o][h-1].vvalq:kt[o][h-1].hvalq);let u=Math.max(Math.abs(e),Math.abs(t));this.format=u<.01?"%g":u<.1?"%5.3f":u<1?"%4.2f":0===o&&u<3||1===o&&u<=4?"%3.1f":u<=20?"%2.0f":u<=200?"%3.0f":u<2e3?"%4.0f":u<2e4?"%5.0f":"%g"}this.configure(),this.draw()}setVisibility(t){t===G.Visible?this.invisible=!1:t===G.Invisible&&(this.invisible=!0,this.draw())}set_conf(t,e,r,i,o,n,s){this.max_value=t,this.min_value=e,this.lines=r,this.longquotient=i,this.valuequotient=o,this.trf.rotation=n,this.format&&(this.format=s),this.configure(),this.ctx.set_dirty()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,r){return null}}class St extends xt{constructor(t){super(t),this.format="",this.userdata=null}type(){return x.GrowAxisArc}configure(){this.lines<=1&&(this.lines=2),this.longquotient<=0&&(this.longquotient=1),this.valuequotient<=0&&(this.valuequotient=1),this.increment=(this.max_value-this.min_value)/(this.lines-1)}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowAxisArc:break;case R.GrowAxisArc_text_size:this.text_size=t.consumeInt();break;case R.GrowAxisArc_text_drawtype:this.text_drawtype=t.consumeInt();break;case R.GrowAxisArc_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case R.GrowAxisArc_max_value:this.max_value=t.consumeFloat();break;case R.GrowAxisArc_min_value:this.min_value=t.consumeFloat();break;case R.GrowAxisArc_lines:this.lines=t.consumeInt();break;case R.GrowAxisArc_linelength:this.linelength=t.consumeFloat();break;case R.GrowAxisArc_longquotient:this.longquotient=t.consumeInt();break;case R.GrowAxisArc_valuequotient:this.valuequotient=t.consumeInt();break;case R.GrowAxisArc_format:this.format=t.consumeLine();break;case R.GrowAxisArc_arc_part:super.open(t);break;case R.GrowAxisArc_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return void this.configure();default:console.log("Syntax error in GrowAxisArc:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n=Math.abs(this.increment)>Number.MIN_VALUE,s=0,a=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,_=Math.floor(a*(this.text_size+4)-4),c=a*(8+2*this.text_size);_=Object(l.n)(_,0,et.d-1);let h=a;h*=null!==i&&i.line_width?i.line_width:this.line_width,h=Object(l.n)(h-1+Number(r),0,et.d-1);let u=at.multiply(t,this.trf),d=u.apply(this.ll),m=u.apply(this.ur),f=d.z_x()-this.ctx.mw.offset.x,w=d.z_y()-this.ctx.mw.offset.y,p=m.z_x()-this.ctx.mw.offset.x,b=m.z_y()-this.ctx.mw.offset.y,g=360*(u.rotation/360-Math.floor(u.rotation/360)),y=Math.min(f,p),x=Math.max(f,p),v=Math.min(w,b),C=Math.max(w,b),G=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);{if(this.ctx.gdraw.arc(y,v,x-y,C-v,this.angle1-g,this.angle2,G,!1,h),1===this.lines)return;let t;t=this.increment>0?this.format_text(this.format,this.min_value+(this.lines-2)*this.increment):this.format_text(this.format,this.min_value+this.increment);let r=this.ctx.gdraw.getTextExtent(t,this.text_drawtype,pt.a.Helvetica,c);s=Math.max(s,r.width);let i=this.angle2/(this.lines-1);for(let o=0;o<this.lines;o++){let a=Math.sin((this.angle1+o*i)/180*Math.PI),l=Math.cos((this.angle1+o*i)/180*Math.PI);w=Math.floor((C-v)/2*(1-a)+v),f=Math.floor((x-y)/2*(l+1)+y),o%this.longquotient==0?(b=Math.floor((C-v)/2*(-a*(1-this.linelength)+1)+v),p=Math.floor((x-y)/2*(l*(1-this.linelength)+1)+y)):(b=Math.floor((C-v)/2*(-a*(1-this.linelength/2)+1)+v),p=Math.floor((x-y)/2*(l*(1-this.linelength/2)+1)+y));let u=Math.floor((C-v)/2*(-a*(1-this.linelength)+1)+v+a*(r.height-r.descent)/2),d=Math.floor((x-y)/2*(l*(1-this.linelength)+1)+y-l*r.width/2);this.ctx.gdraw.line(f,w,p,b,G,h),n&&_>=0&&o%this.valuequotient==0&&(360!==this.angle2||!(this.increment>0&&o===this.lines-1||this.increment<0&&0===o))&&(t=this.format_text(this.format,this.min_value+o*this.increment),r=this.ctx.gdraw.getTextExtent(t,this.text_drawtype,pt.a.Helvetica,c),s=Math.max(s,r.width),o===this.lines-1&&0===this.angle1&&180===this.angle2?d-=r.width/2:0===o&&0===this.angle1&&360!==this.angle2?d-=r.width/2:(u+=(r.height-r.descent)/2,d-=r.width/2),this.ctx.gdraw.text(d,u,t,this.text_drawtype,this.text_color_drawtype,pt.a.Helvetica,c,0,e))}}}format_text(t,e){return Math.abs(e)<Number.MIN_VALUE&&(e=0),wt.sprintf(this.format,e)}set_range(t,e,r){this.max_value=e,this.min_value=t;let i=this.trf.apply(this.ll),o=this.trf.apply(this.ur),n=i.z_x()-this.ctx.mw.offset.x,s=i.z_y()-this.ctx.mw.offset.y,a=o.z_x()-this.ctx.mw.offset.x,l=o.z_y()-this.ctx.mw.offset.y,_=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));if(0===r){let r=_<45||_>135&&_<225||_>315?0:1,i=0===r?Math.abs(l-s):Math.abs(a-n),o=Number(!(i<150)),c=Math.abs(e-t);c<5&&(c*=1e3);let h=Math.floor(c+.5);for(;h>=25;)h/=10;h>0&&h<=25&&(this.lines=kt[o][h-1].lines,this.longquotient=kt[o][h-1].longq,this.valuequotient=0===r?kt[o][h-1].vvalq:kt[o][h-1].hvalq);let u=Math.max(Math.abs(e),Math.abs(t));this.format=u<.01?"%g":u<.1?"%5.3f":u<1?"%4.2f":0===o&&u<3||1===o&&u<=4?"%3.1f":u<=20?"%2.0f":u<=200?"%3.0f":u<2e3?"%4.0f":u<2e4?"%5.0f":"%g"}this.configure(),this.draw()}set_conf(t,e,r,i,o,n,s){this.max_value=t,this.min_value=e,this.lines=r,this.longquotient=i,this.valuequotient=o,this.trf.rotation=n,this.format&&(this.format=s),this.configure(),this.ctx.set_dirty()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,r){return null}}class It extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=et.f.One,_=!1,c=!0,h=Z.a.Line,u=!1){super(t,e,r,i,o,n,s,a,!1,l,_,c,!1,h,u),this.max_value=100,this.min_value=0,this.bar_value=35,this.bar_bordercolor=Z.a.Inherit,this.bar_borderwidth=1,this.bar_drawtype=Z.a.Inherit,this.userdata=null,u||t.set_dirty()}type(){return x.GrowBar}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowBar:break;case R.GrowBar_max_value:this.max_value=t.consumeFloat();break;case R.GrowBar_min_value:this.min_value=t.consumeFloat();break;case R.GrowBar_bar_value:this.bar_value=t.consumeFloat();break;case R.GrowBar_bar_bordercolor:this.bar_bordercolor=t.consumeInt();break;case R.GrowBar_bar_borderwidth:this.bar_borderwidth=t.consumeInt();break;case R.GrowBar_bar_drawtype:this.bar_drawtype=t.consumeInt();break;case R.GrowBar_rect_part:super.open(t);break;case R.GrowBar_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.GrowBar_trace_data1:case R.GrowBar_trace_data2:case R.GrowBar_trace_attr_type:case R.GrowBar_trace_color:case R.GrowBar_trace_data3:case R.GrowBar_trace_data4:case R.GrowBar_trace_data5:case R.GrowBar_trace_data6:case R.GrowBar_trace_data7:case R.GrowBar_trace_data8:case R.GrowBar_trace_data9:case R.GrowBar_trace_data10:case R.GrowBar_access:case R.GrowBar_cycle:case R.GrowBar_ref_object:t.consumeLine();break;case R.End:return;default:console.log("Syntax error in GrowBar:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n=this.gradient;this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(n=i.gradient);let s,a=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.bar_borderwidth-1);a=Math.min(et.d-1,Math.max(0,a)),s=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),s+=r,s=Math.max(0,s),s=Math.min(s,et.d-1);let _=at.multiply(t,this.trf),c=_.apply(this.ll),h=_.apply(this.ur),u=c.z_x()-this.ctx.mw.offset.x,d=c.z_y()-this.ctx.mw.offset.y,m=h.z_x()-this.ctx.mw.offset.x,f=h.z_y()-this.ctx.mw.offset.y,w=Math.min(u,m),p=Math.max(u,m),b=Math.min(d,f),g=Math.max(d,f);if(this.fill){let t=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1);if(n===l.d.No)this.ctx.gdraw.rect(w,b,p-w,g-b,t,!0);else{let e,r;this.gradient_contrast,r=$.a.shift_drawtype(t,-this.gradient_contrast/2,null),e=$.a.shift_drawtype(t,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_rect(w,b,p-w,g-b,t,e,r,this.ctx.gdraw.gradient_rotate(_.rotation,n))}}let y=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);if(this.max_value!==this.min_value){let t,e,r,i,o,s,c,h,u=360*(_.rotation/360-Math.floor(_.rotation/360));t=w,e=b,r=p-w,i=g-b,o=w,s=b,c=p,h=g,u<=45||u>315?(i=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(g-b)),e=g-(i=Math.max(0,Math.min(i,g-b))),s=g-i,h=g-i):u>45&&u<=135?(r=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(p-w)),o=w+(r=Math.max(0,Math.min(r,p-w))),c=w+r):u>135&&u<=225?(i=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(g-b)),s=b+(i=Math.max(0,Math.min(i,g-b))),h=b+i):(r=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(p-w)),t=p-(r=Math.max(0,Math.min(r,p-w))),o=p-r,c=p-r);let d=y;if(this.bar_drawtype!==Z.a.Inherit&&(d=this.bar_drawtype),n===l.d.No)this.ctx.gdraw.rect(t,e,r,i,d,!0);else{let o,s;this.gradient_contrast,s=$.a.shift_drawtype(d,-this.gradient_contrast/2,null),o=$.a.shift_drawtype(d,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_rect(t,e,r,i,d,o,s,this.ctx.gdraw.gradient_rotate(_.rotation,n))}d=y,this.bar_bordercolor!==Z.a.Inherit&&(d=this.bar_bordercolor),this.ctx.gdraw.line(o,s,c,h,d,a)}this.border&&this.ctx.gdraw.rect(w,b,p-w,g-b,y,!1,s)}set_range(t,e){this.max_value=e,this.min_value=t,this.draw()}set_value(t){this.bar_value=t,this.draw()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,r){return null}}class Lt extends xt{constructor(t){super(t),this.userdata=null}type(){return x.GrowBarChart}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowBarArc:break;case R.GrowBarArc_max_value:this.max_value=t.consumeFloat();break;case R.GrowBarArc_min_value:this.min_value=t.consumeFloat();break;case R.GrowBarArc_bar_width:this.bar_width=t.consumeFloat();break;case R.GrowBarArc_bar_direction:this.bar_direction=t.consumeInt();break;case R.GrowBarArc_bar_value:this.bar_value=t.consumeFloat();break;case R.GrowBarArc_bar_bordercolor:this.bar_bordercolor=t.consumeInt();break;case R.GrowBarArc_bar_borderwidth:this.bar_borderwidth=t.consumeInt();break;case R.GrowBarArc_bar_drawtype:this.bar_drawtype=t.consumeInt();break;case R.GrowBarArc_arc_part:super.open(t);break;case R.GrowBarArc_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return;default:console.log("Syntax error in GrowBarArc:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n,s=Math.floor(this.bar_width*this.ctx.mw.zoom_factor.x),a=Math.max(this.min_value,Math.min(this.bar_value,this.max_value));n=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),n+=r,n=Math.max(0,n),n=Math.min(n,et.d-1);let _=at.multiply(t,this.trf),c=_.apply(this.ll),h=_.apply(this.ur),u=c.z_x()-this.ctx.mw.offset.x,d=c.z_y()-this.ctx.mw.offset.y,m=h.z_x()-this.ctx.mw.offset.x,f=h.z_y()-this.ctx.mw.offset.y,w=t?this.trf.rotation+t.rotation:this.trf.rotation;w=360*(w/360-Math.floor(w/360));let p=Math.min(u,m),b=Math.max(u,m),g=Math.min(d,f),y=Math.max(d,f),x=(y-g)/(b-p);s>b-p&&(s=b-p);let v=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1),C=this.background_drawtype===Z.a.No?this.ctx.background_color:this.background_drawtype;this.ctx.gdraw.arc(p,g,b-p,y-g,0,360,C,!0),this.ctx.gdraw.arc(p,g,b-p,y-g,this.angle1-Math.floor(w),this.angle2,v,!0);let G=this.angle1-w;if(this.bar_direction&&(G+=this.angle2*(this.max_value-a)/(this.max_value-this.min_value)),this.gradient===l.d.No)this.ctx.gdraw.arc(p,g,b-p,y-g,G,this.angle2*(a-this.min_value)/(this.max_value-this.min_value),this.bar_drawtype,!0);else{let t,e;this.gradient_contrast,e=$.a.shift_drawtype(this.bar_drawtype,-this.gradient_contrast/2,null),t=$.a.shift_drawtype(this.bar_drawtype,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_arc(p,g,b-p,y-g,G,this.angle2*(a-this.min_value)/(this.max_value-this.min_value),this.bar_drawtype,t,e,this.gradient)}if(this.ctx.gdraw.arc(p+s,g+x*s,b-p-2*s,y-g-2*x*s,0,360,C,!0),G=0===this.bar_direction?Math.PI*(this.angle1-w+this.angle2*(a-this.min_value)/(this.max_value-this.min_value))/180:Math.PI*(this.angle1-w+this.angle2*(this.max_value-a)/(this.max_value-this.min_value))/180,this.ctx.gdraw.line((b+p)/2+(b-p)/2*Math.cos(G),(y+g)/2-(y-g)/2*Math.sin(G),(b+p)/2+((b-p)/2-s)*Math.cos(G),(y+g)/2-x*((b-p)/2-s)*Math.sin(G),this.bar_bordercolor,this.bar_borderwidth),this.border){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.arc(p,g,b-p,y-g,this.angle1-Math.floor(w),this.angle2,t,!1,n),this.ctx.gdraw.arc(p+s,g+x*s,b-p-2*s,y-g-2*x*s,this.angle1-Math.floor(w),this.angle2,t,!1,n),G=Math.PI*(this.angle1-w)/180,this.ctx.gdraw.line((b+p)/2+(b-p)/2*Math.cos(G),(y+g)/2-(y-g)/2*Math.sin(G),(b+p)/2+((b-p)/2-s)*Math.cos(G),(y+g)/2-x*((b-p)/2-s)*Math.sin(G),t,n),G=Math.PI*(this.angle1+this.angle2-w)/180,this.ctx.gdraw.line((b+p)/2+(b-p)/2*Math.cos(G),(y+g)/2-(y-g)/2*Math.sin(G),(b+p)/2+((b-p)/2-s)*Math.cos(G),(y+g)/2-x*((b-p)/2-s)*Math.sin(G),t,n)}}set_range(t,e){this.max_value=e,this.min_value=t,this.draw()}set_value(t){this.bar_value=t,this.draw()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,r){return null}}class At extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=!0,_=!1,c=Z.a.Line,h=!1){super(t,e,r,i,o,n,s,a,!1,et.f.One,!0,l,_,c,h),this.bars=1,this.barsegments=1,this.min_value=0,this.max_value=1,this.vertical_lines=0,this.horizontal_lines=0,this.line_color=Z.a.Line,this.bar_color=new Array(Y),this.bar_values=new Array(Y*W),h||t.set_dirty()}type(){return x.GrowBarChart}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowBarChart:break;case R.GrowBarChart_rect_part:super.open(t);break;case R.GrowBarChart_bars:this.bars=t.consumeInt();break;case R.GrowBarChart_barsegments:this.barsegments=t.consumeInt();break;case R.GrowBarChart_max_value:this.max_value=t.consumeFloat();break;case R.GrowBarChart_min_value:this.min_value=t.consumeFloat();break;case R.GrowBarChart_horizontal_lines:this.horizontal_lines=t.consumeInt();break;case R.GrowBarChart_vertical_lines:this.vertical_lines=t.consumeInt();break;case R.GrowBarChart_line_color:this.line_color=t.consumeInt();break;case R.GrowBarChart_bar_color1:case R.GrowBarChart_bar_color2:case R.GrowBarChart_bar_color3:case R.GrowBarChart_bar_color4:case R.GrowBarChart_bar_color5:case R.GrowBarChart_bar_color6:case R.GrowBarChart_bar_color7:case R.GrowBarChart_bar_color8:case R.GrowBarChart_bar_color9:case R.GrowBarChart_bar_color10:case R.GrowBarChart_bar_color11:case R.GrowBarChart_bar_color12:{let r=e-R.GrowBarChart_bar_color1;this.bar_color[r]=t.consumeInt();break}case R.GrowBarChart_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return;default:console.log("Syntax error in GrowBarChart:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n,s=0;this.ctx.hot_indication===I.No?r=!1:this.ctx.hot_indication===I.DarkColor?(s=Number(r),r=!1):this.ctx.hot_indication===I.LightColor&&(s=-Number(r),r=!1),n=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),n+=r,n=Math.max(0,n),n=Math.min(n,et.d-1);let a=at.multiply(t,this.trf),_=a.apply(this.ll),c=a.apply(this.ur),h=_.z_x()-this.ctx.mw.offset.x,u=_.z_y()-this.ctx.mw.offset.y,d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,f=Math.min(h,d),w=Math.max(h,d),p=Math.min(u,m),b=Math.max(u,m),g=this.gradient;this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(g=i.gradient);let y,x,v,C=f,G=0,k=0,T=0,S=0,L=0,A=0,M=0,O=0,N=0,R=(w-f)/this.bars;for(let t=0;t<this.bars;t++){y=C,C=t===this.bars-1?w:f+(t+1)*R,x=b,v=b,this.min_value<0&&(v=x+=this.min_value*(b-p)/(this.max_value-this.min_value),L=T=b+this.min_value*(b-p)/(this.max_value-this.min_value));for(let r=0;r<this.barsegments+1;r++){if(void 0===this.bar_values[r])continue;let i=0;if(this.min_value>=0||this.bar_values[r*this.bars+t]>0){let n=0;if(G=x,r===this.barsegments?(x<=p?n=1:x=p,i=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1)):this.bar_values[r*this.bars+t]<=this.min_value?n=1:G<=p?n=1:(v-=this.bar_values[r*this.bars+t]*(b-p)/(this.max_value-this.min_value),(x=Math.floor(v))<p&&(x=p),i=$.a.get_drawtype(this.bar_color[r],Z.a.FillHighlight,e,o,1,!1)),0===n)if(g===l.d.No||i===Z.a.ColorRed||r===this.barsegments){let t=s?$.a.shift_drawtype(i,s,null):i;this.ctx.gdraw.rect(y,x,C-y,G-x,t,!0)}else{let t,e;this.gradient_contrast,e=$.a.shift_drawtype(i,-this.gradient_contrast/2+s,null),t=$.a.shift_drawtype(i,this.gradient_contrast/2+s,null),this.ctx.gdraw.gradient_fill_rect(y,x,C-y,G-x,i,t,e,g)}}else{let n=0;if(k=T,r===this.barsegments?(S=T,T>=b?n=1:T=b,i=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1)):this.bar_values[r*this.bars+t]>=0?n=1:k>=b?n=1:((T=L-=this.bar_values[r*this.bars+t]*(b-p)/(this.max_value-this.min_value))>b&&(T=b),i=$.a.get_drawtype(this.bar_color[r],Z.a.FillHighlight,e,o,1,!1)),!n)if(g===l.d.No||i===Z.a.ColorRed||r===this.barsegments){let t=s?$.a.shift_drawtype(i,s,null):i;this.ctx.gdraw.rect(y,k,C-y,T-k,t,!0)}else{let t,e;this.gradient_contrast,e=$.a.shift_drawtype(i,-this.gradient_contrast/2+s,null),t=$.a.shift_drawtype(i,this.gradient_contrast/2+s,null),this.ctx.gdraw.gradient_fill_rect(y,k,C-y,T-k,i,t,e,g)}}if(this.border&&r===this.barsegments){if(t>0){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.rect(A,M,O,N,t,!1,n)}if(this.min_value>=0?(A=y,M=x,O=C-y,N=b-x):(A=y,M=x,O=C-y,N=b+this.min_value*(b-p)/(this.max_value-this.min_value)-x),t===this.bars-1){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.rect(A,M,O,N,t,!1,n)}if(this.min_value<0){if(t>0){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.rect(A,M,O,N,t,!1,n)}if(A=y,O=C-y,N=S-(M=b+this.min_value*(b-p)/(this.max_value-this.min_value)),t===this.bars-1){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.rect(A,M,O,N,t,!1,n)}}}}}let j=$.a.get_drawtype(this.line_color,Z.a.LineHighlight,e,o,0,!1);for(let t=0;t<this.vertical_lines;t++){let e=Math.floor(f+(w-f)/(this.vertical_lines+1)*(t+1));this.ctx.gdraw.line(e,p,e,b,j)}for(let t=0;t<this.horizontal_lines;t++){let e=Math.floor(p+(b-p)/(this.horizontal_lines+1)*(t+1));this.ctx.gdraw.line(f,e,w,e,j)}this.border&&(j=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1),this.ctx.gdraw.rect(f,p,w-f,b-p,j,!1,n))}set_conf(t,e,r,i,o,n,s,a){this.bars=t,this.barsegments=e,this.min_value=r,this.max_value=i,this.vertical_lines=o,this.horizontal_lines=n,this.line_color=s;for(let t=0;t<this.bars;t++)this.bar_color[t]=a[t];this.draw()}get_conf(){return{bars:this.bars,barsegments:this.barsegments,max_value:this.max_value,min_value:this.min_value}}set_values(t){for(let e=0;e<t.length;e++){let r=t[e];if(e<this.barsegments&&r)for(let t=0;t<this.bars;t++)this.bar_values[e*this.bars+t]=r[t]}}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return k.Slow}get_background_object_limits(t,e,r){return null}}var Mt=r(8);class Ot{constructor(){this.data=Array(10),this.p=null}}class Nt{constructor(t,e,r,i,o,n=!1,s=!1){if(this.hot=!1,this.nc=null,this.nc_root=null,this.highlight=!1,this.annotsize=new Array(10),this.annotv=new Array(10),this.annotv_inputmode=new Array(10),this.n_name="",this.userdata=null,this.refcon_cnt=new Array(Nt.MAX_CONPOINTS),this.obst=new l.i,this.ll=new rt(t,i,o),this.ur=new rt(t,i,o),this.obst=new l.i(i,o,i,o),this.ctx=t,this.nc=r,this.nc_root=r,this.pos=new rt(t,i,o),this.trace=new Ot,this.n_name=e,r){if(t.grid_on){let e=t.find_grid(new l.f(i,o));this.pos.set(e)}this.ll.set(new l.f(1e37,1e37)),this.ur.set(new l.f(-1e37,-1e37)),this.get_node_borders(),this.nc.group===et.g.Document?(this.obst.set(new l.i(1e37,1e37,-1e37,-1e37)),this.get_node_obstacle_borders()):this.obst.set(new l.i(this.ll.x,this.ll.y,this.ur.x,this.ur.y))}}type(){return x.Node}open(t){for(;;){let e=t.consumeInt();switch(e){case R.Node:break;case R.Node_nc:let r=t.consumeLine();this.ctx instanceof ue&&this.type()===x.GrowGroup||(this.nc=this.ctx.get_nodeclass_from_name(r),this.nc||console.log("GlowNode: NodeClass not found",r),this.nc&&this.nc.recursive_trace&&(this.nc=Object(dt.cloneDeep)(this.nc),this.local_nc=!0),this.nc_root=this.nc);break;case R.Node_n_name:this.n_name=t.consumeLine();break;case R.Node_refcon_cnt:for(let e=0;e<Nt.MAX_CONPOINTS;e++)this.refcon_cnt[e]=t.consumeInt();break;case R.Node_x_right:this.ur.x=t.consumeFloat();break;case R.Node_x_left:this.ll.x=t.consumeFloat();break;case R.Node_y_high:this.ur.y=t.consumeFloat();break;case R.Node_y_low:this.ll.y=t.consumeFloat();break;case R.Node_obst_x_right:this.obst.ur.x=t.consumeFloat();break;case R.Node_obst_x_left:this.obst.ll.x=t.consumeFloat();break;case R.Node_obst_y_high:this.obst.ur.y=t.consumeFloat();break;case R.Node_obst_y_low:this.obst.ll.y=t.consumeFloat();break;case R.Node_annotsize:for(let e=0;e<10;e++)this.annotsize[e]=t.consumeInt();break;case R.Node_annotv:for(let e=0;e<10;e++)this.annotsize[e]&&(this.annotv[e]=t.consumeQuotedString(),t.consumeLine());break;case R.Node_pos:this.pos.open(t);break;case R.Node_trace_data1:case R.Node_trace_data2:case R.Node_trace_data3:case R.Node_trace_data4:case R.Node_trace_data5:case R.Node_trace_data6:case R.Node_trace_data7:case R.Node_trace_data8:case R.Node_trace_data9:case R.Node_trace_data10:{let r=e-R.Node_trace_data1;this.trace.data[r]=t.consumeLine();break}case R.Node_trace_attr_type:this.trace.attr_type=t.consumeInt();break;case R.Node_trace_color:this.trace.color=t.consumeInt();break;case R.Node_trace_color2:this.trace.color2=t.consumeInt();break;case R.Node_access:this.trace.access=t.consumeInt();break;case R.Node_cycle:this.trace.cycle=t.consumeInt();break;case R.Node_ref_object:this.trace.ref_object=t.consumeLine();break;case R.End:return;default:console.log("Syntax error in GlowNode:",e),t.consumeLine()}}}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);for(let e=0;e<this.nc.a.length;e++)this.nc.a[e].get_borders(this.pos,t,this);this.ll.set(t.ll),this.ur.set(t.ur)}get_node_obstacle_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);this.nc.get_obstacle_borders(this.pos,t,this),this.obst.set(t)}}Nt.MAX_CONPOINTS=32;var Rt=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class jt extends Nt{constructor(t,e,r,i,o,n=!1,s=!1){super(t,e,r,i,o,n,s),this.original_border_drawtype=Z.a.No,this.background_drawtype=Z.a.No,this.original_fill_drawtype=Z.a.No,this.original_text_drawtype=Z.a.No,this.original_background_drawtype=Z.a.No,this.original_color_tone=Mt.a.No,this.original_color_lightness=0,this.original_color_intensity=0,this.original_color_shift=0,this.color_inverse=!1,this.color_lightness=0,this.color_intensity=0,this.color_shift=0,this.color_tone=Mt.a.No,this.fill_drawtype=Z.a.No,this.text_drawtype=0,this.draw_type=0,this.dimmed=!1,this.invisible=!1,this.flip_horizontal=!1,this.flip_vertical=!1,this.dynamicsize=0,this.arg_cnt=0,this.argv=Array(20),this.argsize=Array(20),this.line_width=0,this.shadow=!1,this.gradient=0,this.text_type=Z.a.TextHelvetica,this.text_font=pt.a.No,this.disable_cb=!1,this.input_selected=!1,this.fill_level=1,this.level_fill_drawtype=Z.a.No,this.level_color_tone=Mt.a.No,this.level_direction=0,this.annot_scrollingtext=-1,this.trf=new lt,this.annot_offset=new rt(t)}type(){return x.GrowNode}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowNode:break;case R.GrowNode_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case R.GrowNode_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case R.GrowNode_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case R.GrowNode_text_drawtype:this.text_drawtype=t.consumeInt();break;case R.GrowNode_original_text_drawtype:this.original_text_drawtype=t.consumeInt();break;case R.GrowNode_draw_type:this.draw_type=t.consumeInt();break;case R.GrowNode_original_color_tone:this.original_color_tone=t.consumeInt();break;case R.GrowNode_original_background_drawtype:this.original_background_drawtype=t.consumeInt();break;case R.GrowNode_background_drawtype:this.background_drawtype=t.consumeInt();break;case R.GrowNode_color_tone:this.color_tone=t.consumeInt();break;case R.GrowNode_original_color_lightness:this.original_color_lightness=t.consumeInt();break;case R.GrowNode_color_lightness:this.color_lightness=t.consumeInt();break;case R.GrowNode_original_color_intensity:this.original_color_intensity=t.consumeInt();break;case R.GrowNode_color_intensity:this.color_intensity=t.consumeInt();break;case R.GrowNode_original_color_shift:this.original_color_shift=t.consumeInt();break;case R.GrowNode_color_shift:this.color_shift=t.consumeInt();break;case R.GrowNode_invisible:this.invisible=t.consumeBool();break;case R.GrowNode_flip_horizontal:this.flip_horizontal=t.consumeBool();break;case R.GrowNode_flip_vertical:this.flip_vertical=t.consumeBool();break;case R.GrowNode_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowNode_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowNode_node_part:super.open(t);break;case R.GrowNode_trf:this.trf.open(t);break;case R.GrowNode_arg_cnt:this.arg_cnt=t.consumeInt();break;case R.GrowNode_argsize:for(let e=0;e<this.arg_cnt;e++)this.argsize[e]=t.consumeInt();break;case R.GrowNode_argv:t.consumeLine();for(let e=0;e<this.arg_cnt;e++)this.argsize[e]&&(this.argv[e]=t.consumeQuotedString(),t.consumeLine());break;case R.GrowNode_line_width:this.line_width=t.consumeInt();break;case R.GrowNode_shadow:this.shadow=t.consumeBool();break;case R.GrowNode_gradient:this.gradient=t.consumeInt();break;case R.GrowNode_text_type:this.text_type=t.consumeInt();break;case R.GrowNode_text_font:this.text_font=t.consumeInt();break;case R.GrowNode_disable_cb:this.disable_cb=t.consumeBool();break;case R.GrowNode_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return;default:console.log("Syntax error in GrowNode:",e),t.consumeLine()}}}event_handler(t){return Rt(this,void 0,void 0,function*(){if(this.invisible||this.dimmed)return 0;if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y),r=Object(dt.cloneDeep)(t);r.x=e.x,r.y=e.y;let i=yield this.nc.event_handler(r);return i?(this.type()===x.GrowGroup&&null!==this.ctx.callback_object||this.ctx.register_callback_object(x.Node,this),i):0})}draw(t=null,e=!1,r=!1,i=null,o=null){if(i=i||this,o=o||this,!this.invisible&&!i.invisible){if(-1!==this.annot_scrollingtext&&this.ctx.gdraw.set_clip_rectangle(this.ll.z_x()-this.ctx.mw.offset.x,this.ll.z_y()-this.ctx.mw.offset.y,this.ur.z_x()-this.ctx.mw.offset.x,this.ur.z_y()-this.ctx.mw.offset.y),1===this.fill_level)t?this.nc.draw(at.multiply(t,this.trf),e,r,this,this):this.nc.draw(this.trf,e,r,i,i);else{let o=0,n=0,s=!1,a=this.color_tone,l=this.fill_drawtype,_=t?t.apply(this.ll):this.ll,c=t?t.apply(this.ur):this.ur,h=_.z_x()-this.ctx.mw.offset.x,u=_.z_y()-this.ctx.mw.offset.y,d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,f=this.level_direction===et.e.Right,w=this.level_direction===et.e.Left,p=this.level_direction===et.e.Up,b=this.level_direction===et.e.Down;f?o=this.fill_level*(d-h):w?o=(1-this.fill_level)*(d-h):p?n=this.fill_level*(m-u):b&&(n=(1-this.fill_level)*(m-u)),f||w?s=this.ctx.gdraw.set_clip_rectangle(h-1,u-1,h+o,m+1):(p||b)&&(s=this.ctx.gdraw.set_clip_rectangle(h-1,u-1,d+1,u+n)),(w||b)&&(this.level_color_tone!==Mt.a.No?this.color_tone=this.level_color_tone:this.level_fill_drawtype!==Z.a.No&&(this.fill_drawtype=this.level_fill_drawtype)),t?this.nc.draw(at.multiply(t,this.trf),e,r,this,this):this.nc.draw(this.trf,e,r,i,i),s&&this.ctx.gdraw.reset_clip_rectangle(),w||f?s=this.ctx.gdraw.set_clip_rectangle(h+o,u-1,d+1,m+1):(p||b)&&(s=this.ctx.gdraw.set_clip_rectangle(h-1,u+n,d+1,m+1)),(w||b)&&(this.level_color_tone!==Mt.a.No?this.color_tone=a:this.level_fill_drawtype!==Z.a.No&&(this.fill_drawtype=l)),(f||p)&&(this.level_color_tone!==Mt.a.No?this.color_tone=this.level_color_tone:this.level_fill_drawtype!==Z.a.No&&(this.fill_drawtype=this.level_fill_drawtype)),t?this.nc.draw(at.multiply(t,this.trf),e,r,this,this):this.nc.draw(this.trf,e,r,i,i),s&&this.ctx.gdraw.reset_clip_rectangle(),this.color_tone=a,this.fill_drawtype=l}-1!==this.annot_scrollingtext&&this.ctx.gdraw.reset_clip_rectangle()}}set_position(t,e){this.trf.a13===this.trf.s.a13+t&&this.trf.a23===this.trf.s.a23+e||(this.trf.move_from_stored(t,e),this.get_node_borders(),this.ctx.set_dirty())}move(t,e){this.trf.move(t,e),this.get_node_borders(),this.ctx.set_dirty()}move_to(t,e){this.trf.move(t-this.ll.x,e-this.ll.y),this.get_node_borders(),this.ctx.set_dirty()}set_scale_pos(t,e,r,i,o,n,s){this.ctx.set_nodraw(),this.set_scale(r,i,o,n,s),this.ctx.reset_nodraw(),this.trf.move(t-this.ll.x,e-this.ll.y),this.get_node_borders()}set_scale(t,e,r,i,o){let n,s,a,l;if(-1===t&&1===e||1===t&&-1===e||(t<0&&(t=0),e<0&&(e=0)),!(this.trf.s.a11&&this.trf.s.a22&&Math.abs(t-this.trf.a11/this.trf.s.a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s.a22)<Number.MIN_VALUE)){switch(o){case A.LowerLeft:r=this.ll.x,i=this.ll.y;break;case A.LowerRight:r=this.ur.x,i=this.ll.y;break;case A.UpperRight:r=this.ur.x,i=this.ur.y;break;case A.UpperLeft:r=this.ll.x,i=this.ur.y;break;case A.FixPoint:break;case A.Center:r=(this.ll.x+this.ur.x)/2,i=(this.ll.y+this.ur.y)/2}n=this.ll.x,s=this.ur.x,a=this.ll.y,l=this.ur.y,this.trf.revert(),this.trf.scale(t,e,r,i),this.get_node_borders(),this.ctx.set_dirty()}}setRotation(t,e,r,i){if(Math.abs(t-this.trf.rotation+this.trf.s.rotation)<Number.EPSILON)return;switch(i){case M.LowerLeft:e=this.ll.x,r=this.ll.y;break;case M.LowerRight:e=this.ur.x,r=this.ll.y;break;case M.UpperRight:e=this.ur.x,r=this.ur.y;break;case M.UpperLeft:e=this.ll.x,r=this.ur.y;break;case M.Center:e=(this.ll.x+this.ur.x)/2,r=(this.ur.y+this.ll.y)/2;break;case M.Zero:e=this.trf.s.a13,r=this.trf.s.a23}let o=new lt;o.rotate(t,e,r),this.trf.set(at.multiply(o,this.trf.s)),this.get_node_borders()}storeTransform(){this.trf.store()}transformIsStored(){return this.trf.is_stored()}set_next_nodeclass(){return null!==this.nc.next_nc?(this.set_nodeclass(this.nc.next_nc),1):0}set_first_nodeclass(){this.set_root_nodeclass()}set_last_nodeclass(){let t;for(t=this.nc_root;null!==t.next_nc;t=t.next_nc);t!==this.nc&&this.set_nodeclass(t)}set_nodeclass_by_index(t){let e,r;for(e=this.nc_root,r=0;r<t;r++){if(null===e.next_nc)return 0;e=e.next_nc}return e!==this.nc&&this.set_nodeclass(e),1}set_previous_nodeclass(){return null!==this.nc.prev_nc?(this.set_nodeclass(this.nc.prev_nc),1):0}set_root_nodeclass(){this.nc_root!==this.nc&&this.set_nodeclass(this.nc_root)}get_animation_count(){return this.nc.animation_count}get_nodeclass_dyn_attr1(){return this.nc.dyn_attr[0]}set_nodeclass(t){this.nc=t,this.get_node_borders(),this.ctx.set_dirty()}getLimits(){let t={status:1,direction:0,min:0,max:0};if(0===this.nc.y0&&0===this.nc.y1||0!==this.nc.x0||0!==this.nc.x1)return t.status=0,t;let e=this.trf.apply(new rt(this.ctx,0,this.nc.y0)),r=this.trf.apply(new rt(this.ctx,0,this.nc.y1)),i=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));return i<=45||i>315?(t.direction=et.e.Down,t.min=e.y,t.max=r.y):i>45&&i<=135?(t.direction=et.e.Right,t.min=r.x,t.max=e.x):i>135&&i<=225?(t.direction=et.e.Up,t.min=r.y,t.max=e.y):i>225&&i<=315&&(t.direction=et.e.Left,t.min=e.x,t.max=r.x),t}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);this.nc.get_borders(this.trf,t),this.ll.set(t.ll),this.ur.set(t.ur)}get_borders(t,e){let r=t?at.multiply(t,this.trf):this.trf;this.nc.get_borders(r,e)}get_background_object_limits(t,e,r){if(0==(t&this.nc.get_base_nc().dyn_type1))return null;if(0===this.nc.y0&&0===this.nc.y1)return null;let i=new l.i(1e38,1e38,-1e38,-1e38);if(this.nc.get_borders(this.trf,i),l.i.hit(i,new l.f(e,r))){let t,e,r,i=this.trf.apply(new rt(this.ctx,0,this.nc.y0)),o=this.trf.apply(new rt(this.ctx,0,this.nc.y1)),n=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));return n<=45||n>315?(t=et.e.Down,e=i.y,r=o.y):n>45&&n<=135?(t=et.e.Left,e=o.x,r=i.x):n>135&&n<=225?(t=et.e.Up,e=o.y,r=i.y):n>225&&n<=315&&(t=et.e.Right,e=i.x,r=o.x),{background:this,direction:t,min:e,max:r}}return null}getColorInverse(){return this.color_inverse}getColorLightness(){return this.color_lightness}getColorIntensity(){return this.color_intensity}getColorShift(){return this.color_shift}getColorTone(){return this.color_tone}getFillDrawtype(){return this.fill_drawtype}getTextDrawtype(){return this.text_drawtype}getBackgroundDrawtype(){return this.background_drawtype}getDrawtype(){return this.draw_type}getDimmed(){return this.dimmed}getClassTraceColor1(){return this.nc.dyn_color[0]}getClassTraceColor2(){return this.nc.dyn_color[1]}getClassDynType1(){return this.nc.dyn_type1}getClassDynType2(){return this.nc.dyn_type2}getClassActionType1(){return this.nc.action_type1}getClassActionType2(){return this.nc.action_type2}getClassCycle(){return this.nc.cycle}getClassUserData(){return this.nc.userdata}setColorTone(t){this.color_tone=t}resetColorTone(){this.color_tone=this.original_color_tone}setFillColor(t){this.fill_drawtype=t,this.color_tone=Mt.a.No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0,this.draw()}resetFillColor(){this.fill_drawtype=this.original_fill_drawtype,this.color_tone=this.original_color_tone,this.color_shift=this.original_color_shift,this.color_lightness=this.original_color_lightness,this.color_intensity=this.original_color_intensity}setBorderColor(t){this.draw_type=t,this.color_tone=Mt.a.No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0}resetBorderColor(){this.draw_type=this.original_border_drawtype}setTextColor(t){this.text_drawtype=t,this.color_tone=Mt.a.No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0}resetTextColor(){this.text_drawtype=this.original_text_drawtype}setBackgroundColor(t){this.background_drawtype=t}resetBackgroundColor(){this.background_drawtype=this.original_background_drawtype}setColorInverse(t){this.color_inverse=t,this.draw()}setLevelFillColor(t){this.level_fill_drawtype=t}setLevelColorTone(t){this.level_color_tone=t}setLevelDirection(t){this.level_direction=t}setFillLevel(t){this.fill_level=t||0}setVisibility(t){this.invisible=t===G.Invisible,this.dimmed=t===G.Dimmed,(this.invisible||this.dimmed)&&this.draw()}getAnnotation(t){return this.annotv[t]}set_annotation(t,e,r,i=!1){this.annotv_inputmode[t]||this.set_annotation_input(t,e,r,i)}set_annotation_input(t,e,r,i=!1){this.annotv[t]=e||"",r||this.invisible||this.ctx.set_dirty()}setAnnotationTextOffset(t,e){-1===this.annot_scrollingtext&&(this.annot_scrollingtext=t),t===this.annot_scrollingtext&&this.annot_offset.set(e)}getAnnotationTextExtent(t){return this.nc.getAnnotationTextExtent(this.trf,this,t)}getAnnotationInfo(t){let e=this.nc.getAnnotationInfo(this,t);return{color:e.color,size:e.size,type:e.type,font:e.font,drawtype:e.drawtype,bg_color:this.nc.getAnnotBackground(null,this)||Z.a.No,scale:this.trf.vertical_scale()}}setColorThemeLightness(){null!==this.ctx.customcolors&&this.ctx.customcolors.colortheme_lightness!==this.color_lightness&&(this.color_lightness=this.ctx.customcolors.colortheme_lightness)}find_nc(t){if(this.nc===t)return!0;for(let e=this.nc.next_nc;e;e=e.next_nc)if(t==e)return!0;return this.nc.a.find(e=>e.find_nc(t))}}var Et=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class Ft extends jt{constructor(t,e,r=0,i=0,o=!1){if(super(t,e,null,r,i,!0,!1),this.line_width_up=-1,this.line_width_down=-1,this.line_width_left=-1,this.line_width_right=-1,this.nc=t.get_nodeclass_from_name("pwr_conglue"),!this.nc){let e=t.grid_on;t.grid_on=0,this.nc=new ut(t,"pwr_conglue");let r=new _t(t,0,-.5,0,et.e.Down);this.nc.a.push(r),r=new _t(t,.5,0,1,et.e.Right),this.nc.a.push(r),r=new _t(t,0,.5,2,et.e.Up),this.nc.a.push(r),r=new _t(t,-.5,0,3,et.e.Left),this.nc.a.push(r);let i=new Ct(t,"",-.5,-.5,1,1,Z.a.Line,1,!1,et.f.One,!1,!0,!1,Z.a.Line,!0);this.nc.a.push(i),t.grid_on=e,t.a_nc.push(this.nc)}if(this.draw_type=Z.a.Line,t.grid_on){let e=t.find_grid(new l.f(r,i));this.trf.move(e.x-r,e.y-i)}this.get_node_borders(),o||t.set_dirty()}type(){return x.GrowConGlue}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowConGlue:break;case R.GrowConGlue_line_width_up:this.line_width_up=t.consumeInt();break;case R.GrowConGlue_line_width_down:this.line_width_down=t.consumeInt();break;case R.GrowConGlue_line_width_left:this.line_width_left=t.consumeInt();break;case R.GrowConGlue_line_width_right:this.line_width_right=t.consumeInt();break;case R.GrowConGlue_border:this.border=t.consumeBool();break;case R.GrowConGlue_node_part:super.open(t);break;case R.End:return;default:console.log("Syntax error in GrowConGlue:",e),t.consumeLine()}}}draw(t=null,e=this.highlight,r=this.hot,i=null,o=null){let n=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);n+=Number(r);let s=t?t.apply(this.ll):this.ll,a=t?t.apply(this.ur):this.ur;s.x=s.z_x()-this.ctx.mw.offset.x,s.y=s.z_y()-this.ctx.mw.offset.y,a.x=a.z_x()-this.ctx.mw.offset.x,a.y=a.z_y()-this.ctx.mw.offset.y;let _=Math.min(s.x,a.x),c=Math.max(s.x,a.x),h=Math.min(s.y,a.y),u=Math.max(s.y,a.y),d=(s.x+a.x)/2,m=(s.y+a.y)/2,f=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1),w=this.line_width_down,p=this.line_width_right,b=this.line_width_up,g=this.line_width_left,y=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*b-1),x=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*w-1),v=Math.floor(this.ctx.mw.zoom_factor.x/this.ctx.mw.base_zoom_factor*g-1),C=Math.floor(this.ctx.mw.zoom_factor.x/this.ctx.mw.base_zoom_factor*p-1);n=Object(l.n)(n,0,et.d-1),y=Object(l.n)(y+Number(r),0,et.d-1)/2,x=Object(l.n)(x+Number(r),0,et.d-1)/2,v=Object(l.n)(v+Number(r),0,et.d-1)/2,C=Object(l.n)(C+Number(r),0,et.d-1)/2;let G=$.a.shift_drawtype(this.draw_type,2,null),k=$.a.shift_drawtype(this.draw_type,-2,null),T=this.ctx.gdraw,S=T.rect.bind(T),I=T.line.bind(T),L=(t,e,r,i)=>S(t,e,r,i,f,!0),A=(t,e,r,i)=>I(t,e,r,i,G),M=(t,e,r,i)=>I(t,e,r,i,k);-1!==b&&-1===w&&-1===p&&-1===g?(L(d-y,m,2*y+1,u-m),this.shadow&&y>1&&(A(d+(y-=Number(this.border)),m+=Number(this.border),d+y,u),M(d-y,m,d-y,u),M(d-y,m,d+y,m),y+=Number(this.border),m-=Number(this.border)),this.border&&(I(d-y,m,d-y,u),I(d+y,m,d+y,u),I(d-y,m,d+y,m))):-1===b&&-1!==w&&-1===p&&-1===g?(L(d-x,h,2*x+1,m-h),this.shadow&&x>1&&(A(d+(x-=Number(this.border)),h,d+x,m-=Number(this.border)),A(d-x,m,d+x,m),M(d-x,h,d-x,m),x+=Number(this.border),m+=Number(this.border)),this.border&&(I(d-x,h,d-x,m),I(d+x,h,d+x,m),I(d-x,m,d+x,m))):-1===b&&-1===w&&-1!==p&&-1===g?(L(d,m-C,c-d,2*C+1),this.shadow&&C>1&&(C-=Number(this.border),A(d+=Number(this.border),m+C,c,m+C),M(d,m-C,c,m-C),M(d,m-C,d,m+C),C+=Number(this.border),d-=Number(this.border)),this.border&&(I(d,m-C,c,m-C),I(d,m+C,c,m+C),I(d,m-C,d,m+C))):-1===b&&-1===w&&-1===p&&-1!==g?(L(_,m-v,d-_,2*v+1),this.shadow&&v>1&&(A(_,m+(v-=Number(this.border)),d-=Number(this.border),m+v),A(d,m-v,d,m+v),M(_,m-v,d,m-v),v+=Number(this.border),d+=Number(this.border)),this.border&&(I(_,m-v,d,m-v),I(_,m+v,d,m+v),I(d,m-v,d,m+v))):-1!==b&&-1!==w&&-1===p&&-1===g?(L(d-y,m,2*y+1,u-m),L(d-x,h,2*x+1,m-h),this.shadow&&x>1&&(y-=Number(this.border),M(d-(x-=Number(this.border)),h,d-x,m),M(d-y,m,d-y,u),A(d+x,h,d+x,m),A(d+y,m,d+y,u),y+=Number(this.border),x+=Number(this.border)),this.border&&(I(d-x,h,d-x,m),I(d+x,h,d+x,m),I(d-y,m,d-y,u),I(d+y,m,d+y,u),x!==y&&(I(d-y,m,d-x,m),I(d+y,m,d+x,m)))):-1!==g&&-1!==p&&-1===b&&-1===w?(L(d,m-C,c-d,2*C+1),L(_,m-v,d-_,2*v+1),this.shadow&&(v>1||C>1)&&(v-=Number(this.border),C-=Number(this.border),M(_,m-v,d,m-v),M(d,m-C,c,m-C),A(_,m+v,d,m+v),A(d,m+C,c,m+C),v+=Number(this.border),C+=Number(this.border)),this.border&&(I(_,m-v,d,m-v),I(_,m+v,d,m+v),I(d,m-C,c,m-C),I(d,m+C,c,m+C),v!==C&&(I(d,m-C,d,m-v),I(d,m+C,d,m+v)))):-1!==g&&-1===p&&-1!==b&&-1===w?(L(d-y,m+v,2*y+1,u-(m+v)),L(_,m-v,d+y-_+1,2*v+1),this.shadow&&(v>1||y>1)&&(M(_,m-(v-=Number(this.border)),d+(y-=Number(this.border)),m-v),M(d-y,m+v,d-y,u),A(_,m+v,d-y,m+v),A(d+y,m-v,d+y,u),v+=Number(this.border),y+=Number(this.border)),this.border&&(I(_,m-v,d+y,m-v),I(_,m+v,d-y,m+v),I(d-y,m+v,d-y,u),I(d+y,m-v,d+y,u))):-1===g&&-1!==p&&-1!==b&&-1===w?(L(d-y,m-C,2*y+1,u-(m-C)),L(d+y,m-C,c-(d+y),2*C+1),this.shadow&&(C>1||y>1)&&(C-=Number(this.border),M(d-(y-=Number(this.border)),m-C,c,m-C),M(d-y,m-C,d-y,u),A(d+y,m+C,c,m+C),A(d+y,m+C,d+y,u),C+=Number(this.border),y+=Number(this.border)),this.border&&(I(d-y,m-C,c,m-C),I(d+y,m+C,c,m+C),I(d-y,m-C,d-y,u),I(d+y,m+C,d+y,u))):-1===g&&-1!==p&&-1===b&&-1!==w?(L(d-x,h,2*x+1,m-C-h),L(d-x,m-C,c-(d-x),2*C+1),this.shadow&&(C>1||x>1)&&(C-=Number(this.border),M(d+(x-=Number(this.border)),m-C,c,m-C),M(d-x,h,d-x,m+C),A(d-x,m+C,c,m+C),A(d+x,h,d+x,m-C),C+=Number(this.border),x+=Number(this.border)),this.border&&(I(d-x,m+C,c,m+C),I(d+x,m-C,c,m-C),I(d-x,h,d-x,m+C),I(d+x,h,d+x,m-C))):-1!==g&&-1===p&&-1===b&&-1!==w?(L(d-x,h,2*x+1,m+v-h+1),L(_,m-v,d-x-_,2*v+1),this.shadow&&(v>1||x>1)&&(M(_,m-(v-=Number(this.border)),d-(x-=Number(this.border)),m-v),M(d-x,h,d-x,m-v),A(_,m+v,d+x,m+v),A(d+x,h,d+x,m+v),v+=Number(this.border),x+=Number(this.border)),this.border&&(I(_,m-v,d-x,m-v),I(_,m+v,d+x,m+v),I(d+x,h,d+x,m+v),I(d-x,h,d-x,m-v))):-1!==g&&-1!==p&&-1===b&&-1!==w?(L(d-x,h,2*x+1,m-h+1),L(_,m-v,d+x-_,2*v+1),L(d-x,m-C,c-(d-x),2*C+1),this.shadow&&(v>1||C>1||x>1)&&(v-=Number(this.border),C-=Number(this.border),M(_,m-v,d-(x-=Number(this.border)),m-v),M(d-x,h,d-x,m-v),M(d+x,m-C,c,m-C),A(d+x,h,d+x,m-C),C===v?A(_,m+v,c,m+v):C>v?(A(_,m+v,d-x,m+v),A(d-x,m+C,c,m+C)):(A(_,m+v,d+x,m+v),A(d+x,m+C,c,m+C)),v+=Number(this.border),C+=Number(this.border),x+=Number(this.border)),this.border&&(I(_,m-v,d-x,m-v),I(d-x,h,d-x,m-v),I(d+x,m-C,c,m-C),I(d+x,h,d+x,m-C),C===v?I(_,m+v,c,m+v):C>v?(I(_,m+v,d-x,m+v),I(d-x,m+C,c,m+C),I(d-x,m+C,d-x,m+v)):(I(_,m+v,d+x,m+v),I(d+x,m+C,c,m+C),I(d+x,m+C,d+x,m+v)))):-1!==g&&-1!==p&&-1!==b&&-1===w?(L(d-y,m,2*y+1,u-m),L(_,m-v,d+y-_,2*v+1),L(d-y,m-C,c-(d-y),2*C+1),this.shadow&&(v>1||C>1||y>1)&&(v-=Number(this.border),C-=Number(this.border),M(d-(y-=Number(this.border)),m+v,d-y,u),C===v?M(_,m-v,c,m-v):C>v?(M(_,m-v,d-y,m-v),M(d-y,m-C,c,m-C),M(d-y,m-C,d-y,m-v)):(M(_,m-v,d+y,m-v),M(d+y,m-C,c,m-C),M(d+y,m-C,d+y,m-v)),A(_,m+v,d-y,m+v),A(d+y,m+C,c,m+C),A(d+y,m+C,d+y,u),v+=Number(this.border),C+=Number(this.border),y+=Number(this.border)),this.border&&(I(_,m+v,d-y,m+v),I(d-y,m+v,d-y,u),I(d+y,m+C,c,m+C),I(d+y,m+C,d+y,u),C===v?I(_,m-v,c,m-v):C>v?(I(_,m-v,d-y,m-v),I(d-y,m-C,c,m-C),I(d-y,m-C,d-y,m-v)):(I(_,m-v,d+y,m-v),I(d+y,m-C,c,m-C),I(d+y,m-C,d+y,m-v)))):-1!==g&&-1===p&&-1!==b&&-1!==w?(L(_,m-v,d-_,2*v+1),L(d-y,m-v,2*y+1,u-(m-v)),L(d-x,h,2*x+1,m+v-h),this.shadow&&(v>1||x>1||y>1)&&(v-=Number(this.border),x-=Number(this.border),y-=Number(this.border),M(_,m-v,d-x,m-v),M(d-x,h,d-x,m-v),M(d-y,m+v,d-y,u),A(_,m+v,d-y,m+v),y===x?A(d+x,h,d+x,u):x>y?(A(d+x,h,d+x,m+v),A(d+y,m+v,d+y,u),A(d+y,m+v,d+x,m+v)):(A(d+x,h,d+x,m-v),A(d+y,m-v,d+y,u),A(d+y,m-v,d+x,m-v)),v+=Number(this.border),x+=Number(this.border),y+=Number(this.border)),this.border&&(I(_,m-v,d-x,m-v),I(d-x,h,d-x,m-v),I(_,m+v,d-y,m+v),I(d-y,m+v,d-y,u),y===x?I(d+x,h,d+x,u):x>y?(I(d+x,h,d+x,m+v),I(d+y,m+v,d+y,u),I(d+y,m+v,d+x,m+v)):(I(d+x,h,d+x,m-v),I(d+y,m-v,d+y,u),I(d+y,m-v,d+x,m-v)))):-1===g&&-1!==p&&-1!==b&&-1!==w?(L(d,m-C,c-d,2*C+1),L(d-y,m-C,2*y+1,u-(m-C)),L(d-x,h,2*x+1,m+C-h),this.shadow&&(C>1||x>1||y>1)&&(C-=Number(this.border),x-=Number(this.border),y-=Number(this.border),M(d+x,m-C,c,m-C),y===x?M(d-x,h,d-x,u):x>y?(M(d-x,h,d-x,m+C),M(d-y,m+C,d-y,u)):(M(d-x,h,d-x,m-C),M(d-y,m-C,d-y,u),M(d-y,m-C,d-x,m-C)),A(d+x,h,d+x,m-C),A(d+y,m+C,c,m+C),A(d+y,m+C,d+y,u),C+=Number(this.border),x+=Number(this.border),y+=Number(this.border)),this.border&&(I(d+x,m-C,c,m-C),I(d+x,h,d+x,m-C),I(d+y,m+C,c,m+C),I(d+y,m+C,d+y,u),y===x?I(d-x,h,d-x,u):x>y?(I(d-x,h,d-x,m+C),I(d-y,m+C,d-y,u),I(d-y,m+C,d-x,m+C)):(I(d-x,h,d-x,m-C),I(d-y,m-C,d-y,u),I(d-y,m-C,d-x,m-C)))):-1!==g&&-1!==p&&-1!==b&&-1!==w?(L(d,m-C,c-d,2*C+1),L(_,m-v,d-_,2*v+1),L(d-y,m,2*y+1,u-m),L(d-x,h,2*x+1,m-h),this.shadow&&(v>1||C>1||x>1||y>1)&&(C-=Number(this.border),v-=Number(this.border),x-=Number(this.border),y-=Number(this.border),M(d+x,m-C,c,m-C),M(_,m-v,d-x,m-v),M(d-x,h,d-x,m-v),M(d-y,m+v,d-y,u),A(d+y,m+C,c,m+C),A(_,m+v,d-y,m+v),A(d+y,m+C,d+y,u),A(d+x,h,d+x,m-C),C+=Number(this.border),v+=Number(this.border),x+=Number(this.border),y+=Number(this.border)),this.border&&(I(d+x,m-C,c,m-C),I(d+x,h,d+x,m-C),I(d+y,m+C,c,m+C),I(d+y,m+C,d+y,u),I(_,m-v,d-x,m-v),I(d-x,h,d-x,m-v),I(_,m+v,d-y,m+v),I(d-y,m+v,d-y,u))):(I(d,h,d,m,f,n),I(d,m,d,u,f,n),I(_,m,d,m,f,n),I(d,m,c,m,f,n))}event_handler(t){return Et(this,void 0,void 0,function*(){return 0})}get_borders(t,e){}get_background_object_limits(t,e,r){return null}}class Dt extends _t{constructor(t,e,r=0,i=0,o=0,n=et.e.Center,s=!1){if(super(t,r,i,o,n),this.arc=new it(t,r-t.draw_delta,i-t.draw_delta,r+t.draw_delta,i+t.draw_delta,0,360,Z.a.Line,2),this.n_name=e,t.grid_on){let e=t.find_grid(this.p);this.p.set(e)}this.arc.ll.set(new l.f(-t.draw_delta,-t.draw_delta)),this.arc.ur.set(new l.f(t.draw_delta,t.draw_delta)),this.get_node_borders(),s||t.set_dirty()}type(){return x.GrowConPoint}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowConPoint:break;case R.GrowConPoint_n_name:this.n_name=t.consumeLine();break;case R.GrowConPoint_x_right:this.x_right=t.consumeFloat();break;case R.GrowConPoint_x_left:this.x_left=t.consumeFloat();break;case R.GrowConPoint_y_high:this.y_high=t.consumeFloat();break;case R.GrowConPoint_y_low:this.y_low=t.consumeFloat();break;case R.GrowConPoint_conpoint_part:super.open(t);break;case R.GrowConPoint_arc:this.arc.open(t);break;case R.End:return;default:console.log("Syntax error in GrowConPoint:",e),t.consumeLine()}}}get_borders(t,e){let r=(t?at.multiply(t,this.trf):this.trf).apply(this.p);e.set(l.i.union(e,new l.i(r.x,r.y,r.x,r.y)))}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37),e=this.trf.apply(this.p);this.arc.get_borders(e,t,null),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}}var Pt=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class zt extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=C.Vertical,a=Z.a.Line,l=1,_=et.f.One,c=Z.a.Line,h=Z.a.LightGray,u=!1){super(t,e,r,i,o,n,a,l,!1,_,!0,!1,!1,c,u),this.max_value=100,this.min_value=0,this.bar_value=35,this.bar_length=10,this.user_data=null,this.movement_active=!1,this.start_pos=0,this.start_value=0,this.value_changed_cb=null,this.direction=s,this.bar_color=h,u||t.set_dirty()}type(){return x.GrowScrollBar}draw(t=null,e=!1,r=!1,i=null,o=null){let n=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);n=Object(l.n)(n+Number(r),0,et.d-1);let s=at.multiply(t,this.trf),a=s.apply(this.ll),_=s.apply(this.ur),c=a.z_x()-this.ctx.mw.offset.x,h=a.z_y()-this.ctx.mw.offset.y,u=_.z_x()-this.ctx.mw.offset.x,d=_.z_y()-this.ctx.mw.offset.y,m=Math.min(c,u),f=Math.max(c,u),w=Math.min(h,d),p=Math.max(h,d),b=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1),g=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);if(this.ctx.gdraw.rect(m,w,f-m,p-w,b,!0),this.shadow){let t=$.a.shift_drawtype(this.fill_drawtype,2,null);this.ctx.gdraw.line(m+1,w+1,m+1,p-1,t),this.ctx.gdraw.line(m+1,w+1,f-1,w+1,t),t=$.a.shift_drawtype(this.fill_drawtype,-2,null),this.ctx.gdraw.line(m+1,p-1,f-1,p-1,t),this.ctx.gdraw.line(f-1,w+1,f-1,p-1,t)}if(this.max_value!==this.min_value){let t=m,e=w,r=f-m,i=p-w,o=this.max_value-this.min_value,s=(this.bar_value-this.min_value)/o;if(this.direction===C.Vertical?(e+=Math.floor(s*i),i=Object(l.n)(Math.floor(this.bar_length/o*i),0,i)):this.direction===C.Horizontal&&(t+=Math.floor(s*r),r=Object(l.n)(Math.floor(this.bar_length/o*r),0,r)),this.ctx.gdraw.rect(t,e,r,i,this.bar_color,!0),this.shadow){let o=$.a.shift_drawtype(this.bar_color,-2,null);this.ctx.gdraw.line(t+1,e+1,t+1,e+i-1,o),this.ctx.gdraw.line(t+1,e+1,t+r-1,e+1,o),o=$.a.shift_drawtype(this.bar_color,2,null),this.ctx.gdraw.line(t+1,e+i-1,t+r-1,e+i-1,o),this.ctx.gdraw.line(t+r-1,e+1,t+r-1,e+i-1,o)}this.ctx.gdraw.rect(t,e,r,i,g,!1,n)}this.ctx.gdraw.rect(m,w,f-m,p-w,g,!1,n)}set_value(t,e=0){this.bar_length=e,this.bar_value=Object(l.n)(t,this.min_value,this.max_value-this.bar_length),this.draw()}event_handler(t){return Pt(this,void 0,void 0,function*(){let e=Math.min(this.ll.x,this.ur.x),r=Math.max(this.ll.x,this.ur.x),i=Math.min(this.ll.y,this.ur.y),o=Math.max(this.ll.y,this.ur.y);if(!(t.event instanceof MouseEvent))return 0;let n=t.event;if(!(this.movement_active||e<=t.x&&t.x<=r&&i<=t.y&&t.y<=o))return 0;if("mousemove"===n.type&&n.buttons&&!this.movement_active)return 0;if(this.min_value===this.max_value)return 1;if("mousedown"!==n.type||n.button){if("mouseup"===n.type&&0===n.button)this.movement_active=!1,this.ctx.sliderActive=!1;else if("mousemove"===n.type&&n.buttons&&this.movement_active){if(this.bar_length>=this.max_value-this.min_value)return;this.direction===C.Vertical?this.bar_value=(t.y-this.start_pos)/(o-i):this.direction===C.Horizontal&&(this.bar_value=(t.x-this.start_pos)/(r-e)),this.bar_value=Object(l.n)(this.bar_value*(this.max_value-this.min_value)+this.start_value,this.min_value,this.max_value-this.bar_length),this.value_changed_cb(this.bar_value)}}else if(this.direction===C.Vertical){let e=(o-i)/(this.max_value-this.min_value),r=(this.bar_value-this.min_value)*e;i+r<=t.y&&t.y<=i+r+this.bar_length*e&&(this.start_pos=t.y,this.start_value=this.bar_value,this.movement_active=!0,this.ctx.sliderActive=!0)}else if(this.direction===C.Horizontal){let i=(r-e)/(this.max_value-this.min_value),o=(this.bar_value-this.min_value)*i;e+o<=t.x&&t.x<=e+o+this.bar_length*i&&(this.start_pos=t.x,this.start_value=this.bar_value,this.movement_active=!0,this.ctx.sliderActive=!0)}return 1})}set_range(t,e){this.max_value=e,this.min_value=t,this.draw()}set_shadow(t){this.shadow=t}set_position(t,e,r,i){this.ll.set(new l.f(t,e)),this.ur.set(new l.f(t+r,e+i))}}var Bt=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class Ut extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=et.f.One,_=!1){super(t,name,r,i,o,n,s,a,!1,l,!1,!0,!1,Z.a.Line,_),this.file_name="",this.input_file_name="",this.owner="",this.userdata=null,this.windowCtx=null,this.y_low_offs=0,this.h_value=0,this.v_value=0,this.v_scrollbar=null,this.h_scrollbar=null,_||t.set_dirty()}type(){return x.GrowWindow}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowWindow:break;case R.GrowWindow_file_name:this.file_name=t.consumeLine();break;case R.GrowWindow_scrollbar_width:this.scrollbar_width=t.consumeFloat();break;case R.GrowWindow_scrollbar_color:this.scrollbar_color=t.consumeInt();break;case R.GrowWindow_scrollbar_bg_color:this.scrollbar_bg_color=t.consumeInt();break;case R.GrowWindow_vertical_scrollbar:this.vertical_scrollbar=t.consumeBool();break;case R.GrowWindow_horizontal_scrollbar:this.horizontal_scrollbar=t.consumeBool();break;case R.GrowWindow_window_scale:this.window_scale=t.consumeFloat();break;case R.GrowWindow_owner:this.owner=t.consumeLine();break;case R.GrowWindow_rect_part:super.open(t);break;case R.GrowWindow_userdata_cb:this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return void(this.file_name&&""!==this.file_name&&this.new_ctx());default:console.log("Syntax error in GrowWindow:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);n=Object(l.n)(n+Number(r),0,et.d-1);let s=at.multiply(t,this.trf),a=s.apply(this.ll),_=s.apply(this.ur);a.x=Math.min(a.x,_.x),_.x=Math.max(a.x,_.x),a.y=Math.min(a.y,_.y),_.y=Math.max(a.y,_.y),this.v_scrollbar&&(this.v_scrollbar.set_position(_.x-this.scrollbar_width,a.y+this.y_low_offs,this.scrollbar_width,_.y-(a.y+this.y_low_offs)-(this.h_scrollbar?this.scrollbar_width:0)),this.v_scrollbar.draw()),this.h_scrollbar&&(this.h_scrollbar.set_position(a.x,_.y-this.scrollbar_width,_.x-a.x-(this.v_scrollbar?this.scrollbar_width:0),this.scrollbar_width),this.h_scrollbar.draw());let c=a.z_x()-this.ctx.mw.offset.x,h=a.z_y()+this.y_low_offs*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y;if(this.windowCtx){let t=_.z_x()-(this.vertical_scrollbar?this.scrollbar_width:0)*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,e=_.z_y()-(this.horizontal_scrollbar?this.scrollbar_width:0)*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y;this.windowCtx.mw.window_size.x=(this.x_right-this.x_left)*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.window_size.y=(this.y_high-this.y_low)*this.ctx.mw.zoom_factor.y,this.windowCtx.mw.subwindow.x=this.x_left*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.windowCtx.mw.subwindow.y=this.y_low*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,this.windowCtx.mw.offset.x=-c+this.h_value*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.offset.y=-h+this.v_value*this.ctx.mw.zoom_factor.y,this.windowCtx.mw.zoom_factor.x=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.zoom_factor.y=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor.y,this.fill&&this.ctx.gdraw.rect(c,h,t-c,e-h,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(c,h,t,e),this.windowCtx.customcolors&&this.ctx.gdraw.push_customcolors(this.windowCtx.customcolors),this.windowCtx.is_dirty=!0,this.windowCtx.draw(),this.windowCtx.customcolors&&this.ctx.gdraw.pop_customcolors(),this.ctx.gdraw.reset_clip_rectangle()}let u=_.z_x()-this.ctx.mw.offset.x,d=_.z_y()-this.ctx.mw.offset.y,m=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.rect(c,h,u-c,d-h,m,!1,n)}new_ctx(){if("_no_"===this.file_name||""===this.file_name)return;let t;-1!==(t=this.file_name.indexOf("/"))&&(this.file_name=this.file_name.substring(t+1)),-1===this.file_name.indexOf(".")&&(this.file_name+=".pwg");let e=this.owner;for(let t=0;t<4;t++){let t;if(-1===(t=e.indexOf("$object")))break;e=e.substring(0,t)+this.ctx.owner+e.substring(t+7)}this.owner=e,this.windowCtx=new ue(this.ctx.appl.baseCtx),this.windowCtx.appl=this.ctx.appl;let r="http://"+localStorage.getItem("HOST")+"/"+this.file_name,i=new XMLHttpRequest,o=this.read_cb.bind(this);i.onload=function(){o(i.responseText)},i.onerror=function(){console.log("Error! Failed to fetch resource "+r)},i.open("GET",r,!0),i.send()}read_cb(t){let e=this.ctx.appl.ctxPop(this.ctx);this.windowCtx.gdraw=this.ctx.gdraw,this.windowCtx.open(new h.a(t)),this.windowCtx.draw(),this.windowCtx.owner=this.owner,this.windowCtx.mw.subwindow_scale=this.window_scale,this.windowCtx.mw.zoom_factor.x=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.zoom_factor.y=this.windowCtx.mw.zoom_factor.x,this.input_file_name=this.file_name,this.windowCtx.background_color!==Z.a.Inherit&&(this.fill_drawtype=this.windowCtx.background_color,this.original_fill_drawtype=this.fill_drawtype,this.fill=!0),this.windowCtx.x0!==this.windowCtx.x1&&this.windowCtx.y0!==this.windowCtx.y1?(this.wctx_x0=this.windowCtx.x0,this.wctx_x1=this.windowCtx.x1,this.wctx_y0=this.windowCtx.y0,this.wctx_y1=this.windowCtx.y1):(this.wctx_x0=this.windowCtx.ll.x,this.wctx_x1=this.windowCtx.ur.x,this.wctx_y0=this.windowCtx.ll.y,this.wctx_y1=this.windowCtx.ur.y),this.windowCtx.mw.window_size.x=this.ur.z_x()-this.ll.z_x(),this.windowCtx.mw.window_size.y=this.ur.z_y()-this.ll.z_y(),this.windowCtx.mw.subwindow.x=this.ll.z_x()-this.ctx.mw.offset.x,this.windowCtx.mw.subwindow.y=this.ll.z_y()-this.ctx.mw.offset.y,this.configureScrollbars(),this.windowCtx.customcolors&&this.ctx.gdraw.pop_customcolors(),this.windowCtx.traceConnect(),this.draw(),e&&this.ctx.appl.ctxPush()}event_handler(t){const e=Object.create(null,{event_handler:{get:()=>super.event_handler}});return Bt(this,void 0,void 0,function*(){let r=this.v_scrollbar?yield this.v_scrollbar.event_handler(t):0,i=this.h_scrollbar?yield this.h_scrollbar.event_handler(t):0;if(r||i)return 1;let o=yield e.event_handler.call(this,t);if(this.ctx.callback_object===this&&(this.ctx.callback_object=null,this.ctx.callback_object_type=x.NoObject),this.windowCtx&&o){let e=(this.x_right-(this.vertical_scrollbar?this.scrollbar_width:0))*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,r=this.x_left*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,i=(this.y_high-(this.horizontal_scrollbar?this.scrollbar_width:0))*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,n=(this.y_low+this.y_low_offs)*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y;this.ctx.gdraw.set_clip_rectangle(r,n,e,i);let s=Object(dt.cloneDeep)(t);s.x=(t.x-this.x_left+this.h_value)/this.windowCtx.mw.subwindow_scale,s.y=(t.y-this.y_low+this.v_value)/this.windowCtx.mw.subwindow_scale,o=yield this.windowCtx.event_handler(s),this.ctx.gdraw.reset_clip_rectangle()}return o})}configureScrollbars(){let t=this.wctx_y0*this.windowCtx.mw.subwindow_scale,e=this.horizontal_scrollbar?this.scrollbar_width:0;if(this.vertical_scrollbar){let r=this.y_high-this.y_low-this.y_low_offs-e;this.v_scrollbar||(this.v_scrollbar=new zt(this.ctx,"vScrollbar",this.x_right-this.scrollbar_width,this.y_low+this.y_low_offs,this.scrollbar_width,r,C.Vertical,Z.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.v_scrollbar.value_changed_cb=this.verticalScrollValueChanged.bind(this),this.v_scrollbar.set_shadow(this.shadow)),this.windowCtx&&(this.v_scrollbar.set_range(t,this.wctx_y1*this.windowCtx.mw.subwindow_scale),this.v_scrollbar.set_value(t,r),this.v_value=t)}else this.v_value=t;let r=this.wctx_x0*this.windowCtx.mw.subwindow_scale;if(e=this.vertical_scrollbar?this.scrollbar_width:0,this.horizontal_scrollbar){let t=this.x_right-this.x_left-e;this.h_scrollbar||(this.h_scrollbar=new zt(this.ctx,"hScrollbar",this.x_left,this.y_high-this.scrollbar_width,t,this.scrollbar_width,C.Horizontal,Z.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.h_scrollbar.value_changed_cb=this.horizontalScrollValueChanged.bind(this),this.h_scrollbar.set_shadow(this.shadow)),this.windowCtx&&(this.h_scrollbar.set_range(r,this.wctx_x1*this.windowCtx.mw.subwindow_scale),this.h_scrollbar.set_value(r,t),this.h_value=r)}else this.h_value=r}verticalScrollValueChanged(t){this.v_value!==t&&(this.v_value=t,this.draw())}horizontalScrollValueChanged(t){this.h_value!==t&&(this.h_value=t,this.draw())}update_attributes(){let t=this.ctx.appl.ctxPop(this.ctx);null===this.owner&&(this.owner=""),this.input_file_name===this.file_name&&null!==this.windowCtx&&this.windowCtx.owner===this.owner||(this.ctx.gdraw.set_clip_rectangle(this.x_left*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.y_low*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,this.x_right*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.y_high*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y),this.windowCtx&&(this.windowCtx.trace_started&&this.windowCtx.traceDisconnect(),this.fill_drawtype=Z.a.Inherit,this.original_fill_drawtype=this.fill_drawtype,this.fill=!1),this.file_name=this.input_file_name,this.new_ctx(),this.ctx.gdraw.reset_clip_rectangle()),t&&this.ctx.appl.ctxPush()}traceConnect(){this.windowCtx&&this.windowCtx.traceConnect()}traceDisconnect(){this.windowCtx&&this.windowCtx.traceDisconnect()}traceScan(){this.windowCtx&&this.windowCtx.traceScan()}setSource(t,e){this.input_file_name=t,this.owner=e,this.update_attributes()}get_background_object_limits(t,e,r){for(let i=0;i<this.windowCtx.a.length;i++){let o=this.windowCtx.a[i].get_background_object_limits(t,e,r);if(o)return o}return null}}var Vt=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class Ht extends Ut{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=Z.a.LightGray,_=Z.a.MediumGray,c=et.f.One,h=!1){super(t,e,r,i,o,n,s,a,c,h),this.folders=2,this.text_size=1,this.text_drawtype=Z.a.TextHelveticaBold,this.text_color_drawtype=Z.a.Line,this.header_height=.5,this.folder_file_names=new Array(Ht.MAX_FOLDERS),this.folder_text=new Array(Ht.MAX_FOLDERS),this.folder_scale=new Array(Ht.MAX_FOLDERS),this.folder_v_scrollbar=new Array(Ht.MAX_FOLDERS),this.folder_h_scrollbar=new Array(Ht.MAX_FOLDERS),this.folder_owner=new Array(Ht.MAX_FOLDERS),this.current_folder=0,this.color_selected=l,this.color_unselected=_;for(let t=0;t<Ht.MAX_FOLDERS;t++)this.folder_file_names[t]="",this.folder_text[t]="",this.folder_scale[t]=1,this.folder_v_scrollbar[t]=null,this.folder_h_scrollbar[t]=null,this.folder_owner[t]="";this.y_low_offs=this.header_height,h||t.set_dirty()}type(){return x.GrowFolder}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowFolder:break;case R.GrowFolder_folders:this.folders=t.consumeInt();break;case R.GrowFolder_text_size:this.text_size=t.consumeInt();break;case R.GrowFolder_text_drawtype:this.text_drawtype=t.consumeInt();break;case R.GrowFolder_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case R.GrowFolder_header_height:this.header_height=t.consumeFloat();break;case R.GrowFolder_color_selected:this.color_selected=t.consumeInt();break;case R.GrowFolder_color_unselected:this.color_unselected=t.consumeInt();break;case R.GrowFolder_folder_file_names1:case R.GrowFolder_folder_file_names2:case R.GrowFolder_folder_file_names3:case R.GrowFolder_folder_file_names4:case R.GrowFolder_folder_file_names5:case R.GrowFolder_folder_file_names6:case R.GrowFolder_folder_file_names7:case R.GrowFolder_folder_file_names8:case R.GrowFolder_folder_file_names9:case R.GrowFolder_folder_file_names10:case R.GrowFolder_folder_file_names11:case R.GrowFolder_folder_file_names12:{let r=(e-R.GrowFolder_folder_file_names1)/5;this.folder_file_names[r]=t.consumeLine();break}case R.GrowFolder_folder_text1:case R.GrowFolder_folder_text2:case R.GrowFolder_folder_text3:case R.GrowFolder_folder_text4:case R.GrowFolder_folder_text5:case R.GrowFolder_folder_text6:case R.GrowFolder_folder_text7:case R.GrowFolder_folder_text8:case R.GrowFolder_folder_text9:case R.GrowFolder_folder_text10:case R.GrowFolder_folder_text11:case R.GrowFolder_folder_text12:{let r=(e-R.GrowFolder_folder_file_names1)/5;this.folder_text[r]=t.consumeLine();break}case R.GrowFolder_folder_scale1:case R.GrowFolder_folder_scale2:case R.GrowFolder_folder_scale3:case R.GrowFolder_folder_scale4:case R.GrowFolder_folder_scale5:case R.GrowFolder_folder_scale6:case R.GrowFolder_folder_scale7:case R.GrowFolder_folder_scale8:case R.GrowFolder_folder_scale9:case R.GrowFolder_folder_scale10:case R.GrowFolder_folder_scale11:case R.GrowFolder_folder_scale12:{let r=(e-R.GrowFolder_folder_scale1)/5;this.folder_scale[r]=t.consumeFloat();break}case R.GrowFolder_folder_v_scrollbar1:case R.GrowFolder_folder_v_scrollbar2:case R.GrowFolder_folder_v_scrollbar3:case R.GrowFolder_folder_v_scrollbar4:case R.GrowFolder_folder_v_scrollbar5:case R.GrowFolder_folder_v_scrollbar6:case R.GrowFolder_folder_v_scrollbar7:case R.GrowFolder_folder_v_scrollbar8:case R.GrowFolder_folder_v_scrollbar9:case R.GrowFolder_folder_v_scrollbar10:case R.GrowFolder_folder_v_scrollbar11:case R.GrowFolder_folder_v_scrollbar12:R.GrowFolder_folder_v_scrollbar1;this.folder_v_scrollbar[0]=t.consumeBool();break;case R.GrowFolder_folder_h_scrollbar1:case R.GrowFolder_folder_h_scrollbar2:case R.GrowFolder_folder_h_scrollbar3:case R.GrowFolder_folder_h_scrollbar4:case R.GrowFolder_folder_h_scrollbar5:case R.GrowFolder_folder_h_scrollbar6:case R.GrowFolder_folder_h_scrollbar7:case R.GrowFolder_folder_h_scrollbar8:case R.GrowFolder_folder_h_scrollbar9:case R.GrowFolder_folder_h_scrollbar10:case R.GrowFolder_folder_h_scrollbar11:case R.GrowFolder_folder_h_scrollbar12:R.GrowFolder_folder_h_scrollbar1;this.folder_h_scrollbar[0]=t.consumeBool();break;case R.GrowFolder_folder_owner1:case R.GrowFolder_folder_owner2:case R.GrowFolder_folder_owner3:case R.GrowFolder_folder_owner4:case R.GrowFolder_folder_owner5:case R.GrowFolder_folder_owner6:case R.GrowFolder_folder_owner7:case R.GrowFolder_folder_owner8:case R.GrowFolder_folder_owner9:case R.GrowFolder_folder_owner10:case R.GrowFolder_folder_owner11:case R.GrowFolder_folder_owner12:{let r=e-R.GrowFolder_folder_owner1;this.folder_owner[r]=t.consumeLine();break}case R.GrowFolder_window_part:super.open(t);break;case R.End:return this.y_low_offs=this.header_height,this.input_file_name=this.folder_file_names[0],this.window_scale=this.folder_scale[0],this.vertical_scrollbar=this.folder_v_scrollbar[0],this.horizontal_scrollbar=this.folder_h_scrollbar[0],this.owner=this.folder_owner[0],void this.update_attributes();default:console.log("Syntax error in GrowFolder:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,s=Math.floor(n*this.line_width-1);s=Object(l.n)(s+Number(r),0,et.d-1);let a=Math.floor(n*(this.text_size+4)-4),_=n*(8+2*this.text_size);a=Math.min(a,et.d-1);let c=at.multiply(t,this.trf),h=c.apply(this.ll),u=c.apply(this.ur);h.x=Math.min(h.x,u.x),u.x=Math.max(h.x,u.x),h.y=Math.min(h.y,u.y),u.y=Math.max(h.y,u.y);let d,m=h.z_x()-this.ctx.mw.offset.x,f=u.z_x()-this.ctx.mw.offset.x,w=h.z_y()+this.y_low_offs*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,p=h.z_y()-this.ctx.mw.offset.y,b=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1),g=$.a.shift_drawtype(this.color_unselected,-2,o),y=$.a.shift_drawtype(this.color_unselected,2,o),x=(f-m)/this.folders,v=w-p,C=new Array(4);for(let t=0;t<4;t++)C[t]=new l.f;for(let t=this.folders-1;t>=-1;t--)if(t!==this.current_folder){if(-1===t&&(t=this.current_folder),d=m+t*x,C[0].x=0===t?m:d-v/4,C[0].y=p+v,C[1].x=d+v/4,C[1].y=p,C[2].x=d+x-v/4,C[2].y=p,t===this.folders-1?C[3].x=f:C[3].x=d+x+v/4,C[3].y=p+v,t===this.current_folder)this.ctx.gdraw.polyline(C,4,this.color_selected,!0);else if(this.ctx.gdraw.polyline(C,4,this.color_unselected,!0),this.shadow&&(this.ctx.gdraw.line(C[0].x+1,C[0].y,C[1].x+1,C[1].y,g),t)){let t=[new l.f(d+v/4,p+v),new l.f(d,p+v/2),new l.f(d+v/8,p+v/4),new l.f(d+v/2,p+v)];this.ctx.gdraw.polyline(t,4,y,!0)}if(this.shadow&&(t===this.current_folder&&(g=$.a.shift_drawtype(this.color_selected,-2,o),this.ctx.gdraw.line(C[0].x+1,C[0].y,C[1].x+1,C[1].y,g)),this.ctx.gdraw.line(C[1].x,C[1].y+1,C[2].x,C[2].y+1,g)),this.ctx.gdraw.polyline(C,4,b,!1,s),a>=0&&null!==this.folder_text[t]&&this.ctx.gdraw.text(d+v/2,p+v-2,this.folder_text[t],this.text_drawtype,this.text_color_drawtype,pt.a.Helvetica,_,0,e),t===this.current_folder)break}super.draw(t,e,r,i,o),this.ctx.gdraw.line(C[0].x+1,C[0].y,C[3].x-1,C[3].y,this.color_selected,s)}event_handler(t){const e=Object.create(null,{event_handler:{get:()=>super.event_handler}});return Vt(this,void 0,void 0,function*(){if("click"===t.event.type&&this.x_left<=t.x&&t.x<=this.x_right&&this.y_low<=t.y&&t.y<=this.y_low+this.header_height){let e=(this.x_right-this.x_left)/this.folders,r=this.x_left+e;for(let i=0;i<this.folders;i++){if(t.x<=r){this.input_file_name=this.folder_file_names[i],this.window_scale=this.folder_scale[i],this.vertical_scrollbar=this.folder_v_scrollbar[i],this.horizontal_scrollbar=this.folder_h_scrollbar[i],this.owner=this.folder_owner[i],this.current_folder=i,this.update_attributes(),this.draw();break}r+=e}return 1}let r=new U(t.event);return r.type=t.type,r.x=t.x,r.y=t.y-this.header_height,r.object=t.object,e.event_handler.call(this,r)})}}Ht.MAX_FOLDERS=12;class qt extends jt{constructor(t,e,r,i=!1){super(t,e,null,0,0,i,!1),this.nc=new mt(t,e,r);for(let t=0;t<this.nc.a.length;t++)this.nc.a[t].set_parent(this);this.get_node_borders()}type(){return x.GrowGroup}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowGroup:break;case R.GrowGroup_grownode_part:super.open(t);break;case R.GrowGroup_nc:this.nc=new mt(this.ctx,this.n_name),this.nc.open(t);break;case R.End:return;default:console.log("Syntax error in GrowGroup:",e),t.consumeLine()}}}get_object_group(t){for(let e=0;e<this.nc.a.length;e++)if(this.nc.a[e].type()===x.GrowGroup){let r=this.nc.a[e].get_object_group(t);if(null!==r)return r}else if(this.nc.a[e]===t)return this;return null}get_object_list(){return this.nc.a}}class Xt{constructor(t){this.image_filename="",this.ctx=t,this.trf=new lt,this.ll=new rt(t),this.ur=new rt(t),this.image=new Image,this.image.onload=t.set_dirty}type(){return x.GrowImage}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowImage:break;case R.GrowImage_n_name:this.n_name=t.consumeLine();break;case R.GrowImage_image_filename:this.image_filename=t.consumeLine(),this.image.src=this.image_filename;break;case R.GrowImage_x_right:this.ur.x=t.consumeFloat();break;case R.GrowImage_x_left:this.ll.x=t.consumeFloat();break;case R.GrowImage_y_high:this.ur.y=t.consumeFloat();break;case R.GrowImage_y_low:this.ll.y=t.consumeFloat();break;case R.GrowImage_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowImage_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowImage_trf:this.trf.open(t);break;case R.GrowImage_display_level:this.display_level=t.consumeInt();break;case R.GrowImage_ll:this.ll.open(t);break;case R.GrowImage_ur:this.ur.open(t);break;case R.GrowImage_color_tone:this.color_tone=t.consumeInt();break;case R.GrowImage_color_lightness:this.color_lightness=t.consumeInt();break;case R.GrowImage_color_intensity:this.color_intensity=t.consumeInt();break;case R.GrowImage_color_shift:this.color_shift=t.consumeInt();break;case R.GrowImage_fixposition:this.fixposition=t.consumeBool();break;case R.End:return;default:console.log("Syntax error in GrowImage:",e),t.consumeLine()}}}event_handler(t){if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y);return this.ll.x<=e.x&&e.x<=this.ur.x&&this.ll.y<=e.y&&e.y<=this.ur.y}draw(t=null,e=!1,r=!1,i=null,o=null){if(0===this.image.naturalWidth)return;let n;n=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor-1),n+=r,n=Math.max(0,n),n=Math.min(n,et.d-1);let s=at.multiply(t,this.trf),a=s.apply(this.ll),l=s.apply(this.ur),_=a.z_x()-this.ctx.mw.offset.x,c=a.z_y()-this.ctx.mw.offset.y,h=l.z_x()-this.ctx.mw.offset.x,u=l.z_y()-this.ctx.mw.offset.y,d=Math.min(_,h),m=Math.max(_,h),f=Math.min(c,u),w=Math.max(c,u);this.ctx.gdraw.image(d,f,m-d,w-f,this.image)}get_borders(t,e){let r=at.multiply(t,this.trf),i=r.apply(this.ll),o=r.apply(this.ur);e.set(l.i.union(e,new l.i(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.max(i.x,o.x),Math.max(i.y,o.y))))}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);this.get_borders(null,t),this.ll.set(t.ll),this.ur.set(t.ur)}set_scale(t,e,r,i,o){if(this.trf.s.a11&&this.trf.s.a22&&Math.abs(t-this.trf.a11/this.trf.s.a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s.a22)<Number.MIN_VALUE)return;switch(o){case A.LowerLeft:r=this.ll.x,i=this.ll.y;break;case A.LowerRight:r=this.ur.x,i=this.ll.y;break;case A.UpperRight:r=this.ur.x,i=this.ur.y;break;case A.UpperLeft:r=this.ll.x,i=this.ur.y;break;case A.FixPoint:break;case A.Center:r=(this.ll.x+this.ur.x)/2,i=(this.ll.y+this.ur.y)/2}let n=this.ll.x,s=this.ur.x,a=this.ll.y,l=this.ur.y;switch(this.trf.revert(),this.trf.scale(t,e,r,i),this.get_node_borders(),o){case A.LowerLeft:this.ll.x=n,this.ll.y=a;break;case A.LowerRight:this.ur.x=s,this.ll.y=a;break;case A.UpperRight:this.ur.x=s,this.ur.y=l;break;case A.UpperLeft:this.ll.x=n,this.ur.y=l;break;case A.FixPoint:break;case A.Center:r=(this.ll.x+this.ur.x)/2,i=(this.ll.y+this.ur.y)/2}this.ctx.set_dirty()}getName(){return this.n_name}get_background_object_limits(t,e,r){return null}}class Yt extends ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,_=!1,c=!1){if(super(t,r,i,o,n,s,a,_),this.n_name="",this.line_type=l.e.Solid,this.dynamicsize=0,this.trf=new lt,this.original_border_drawtype=s,this.n_name=e,t.grid_on){let e=t.find_grid(this.p1);this.p1.set(e),e=t.find_grid(this.p2),this.p2.set(e)}c||t.set_dirty(),this.get_node_borders()}type(){return x.GrowLine}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowLine:break;case R.GrowLine_n_name:this.n_name=t.consumeLine();break;case R.GrowLine_x_right:this.x_right=t.consumeFloat();break;case R.GrowLine_x_left:this.x_left=t.consumeFloat();break;case R.GrowLine_y_high:this.y_high=t.consumeFloat();break;case R.GrowLine_y_low:this.y_low=t.consumeFloat();break;case R.GrowLine_line_type:this.line_type=t.consumeInt();break;case R.GrowLine_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case R.GrowLine_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowLine_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowLine_line_part:super.open(t);break;case R.GrowLine_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GrowLine:",e),t.consumeLine()}}}event_handler(t){return 0}draw(t=null,e=!1,r=!1,i=null,o=null){let n;r&&this.ctx.hot_indication!==I.LineWidth&&(r=!1),n=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),n+=r,n=Math.max(0,n),n=Math.min(n,et.d-1);let s=at.multiply(t,this.trf),a=s.apply(this.p1),l=s.apply(this.p2),_=a.z_x()-this.ctx.mw.offset.x,c=a.z_y()-this.ctx.mw.offset.y,h=l.z_x()-this.ctx.mw.offset.x,u=l.z_y()-this.ctx.mw.offset.y;if(_===h&&c===u)return;let d=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.line(_,c,h,u,d,n,this.line_type)}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);this.get_borders(null,t),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}get_borders(t,e){let r=t?at.multiply(t,this.trf):this.trf,i=r.apply(this.p1),o=r.apply(this.p2);e.set(l.i.union(e,new l.i(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.max(i.x,o.x),Math.max(i.y,o.y))))}get_background_object_limits(t,e,r){return null}}class Wt extends xt{constructor(t){super(t),this.sector_color=new Array(J),this.sector_size=new Array(J)}type(){return x.GrowPie}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowPie:break;case R.GrowPie_arc_part:super.open(t);break;case R.GrowPie_sectors:this.sectors=t.consumeInt();break;case R.GrowPie_max_value:this.max_value=t.consumeFloat();break;case R.GrowPie_min_value:this.min_value=t.consumeFloat();break;case R.GrowPie_sector_color1:case R.GrowPie_sector_color2:case R.GrowPie_sector_color3:case R.GrowPie_sector_color4:case R.GrowPie_sector_color5:case R.GrowPie_sector_color6:case R.GrowPie_sector_color7:case R.GrowPie_sector_color8:case R.GrowPie_sector_color9:case R.GrowPie_sector_color10:case R.GrowPie_sector_color11:case R.GrowPie_sector_color12:{let r=e-R.GrowPie_sector_color1;this.sector_color[r]=t.consumeInt();break}case R.GrowPie_sector_size1:case R.GrowPie_sector_size2:case R.GrowPie_sector_size3:case R.GrowPie_sector_size4:case R.GrowPie_sector_size5:case R.GrowPie_sector_size6:case R.GrowPie_sector_size7:case R.GrowPie_sector_size8:case R.GrowPie_sector_size9:case R.GrowPie_sector_size10:case R.GrowPie_sector_size11:case R.GrowPie_sector_size12:{let r=e-R.GrowPie_sector_size1;this.sector_size[r]=t.consumeFloat();break}case R.GrowPie_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return;default:console.log("Syntax error in GrowPie:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n=0;this.ctx.hot_indication===I.No?r=!1:this.ctx.hot_indication===I.DarkColor?(n=Number(r),r=!1):this.ctx.hot_indication===I.LightColor&&(n=-r,r=!1),this.fixcolor&&(o=null);let s=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor;s*=i&&i.line_width?i.line_width:this.line_width,s=Object(l.n)(Math.floor(s-1)+Number(r),0,et.d-1);let a=at.multiply(t,this.trf),_=a.apply(this.ll),c=a.apply(this.ur),h=_.z_x()-this.ctx.mw.offset.x,u=_.z_y()-this.ctx.mw.offset.y,d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,f=Math.floor(a.rotation),w=Math.min(h,d),p=Math.max(h,d),b=Math.min(u,m),g=Math.max(u,m),y=(null!==i&&i.shadow||this.shadow)&&!this.disable_shadow,x=this.gradient;this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(x=i.gradient);let v,C=this.angle1,G=0,k=this.angle1;for(let t=0;t<this.sectors+1;t++){let r;if(t===this.sectors){if(k>=this.angle1+this.angle2)break;v=this.angle1+this.angle2-k,r=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1)}else{if(this.sector_size[t]<=this.min_value)continue;if(C>=this.angle2+this.angle1)break;C+(G=this.sector_size[t]/(this.max_value-this.min_value)*this.angle2)>this.angle1+this.angle2&&(G=this.angle1+this.angle2-C),v=G+C-k,r=$.a.get_drawtype(this.sector_color[t],Z.a.FillHighlight,e,o,1,!1)}if(x===l.d.No||r===Z.a.ColorRed){let t=0===n?r:$.a.shift_drawtype(r,n,null);this.ctx.gdraw.arc(w,b,p-w,g-b,k-f,v,t,!0)}else if(y&&0!==this.shadow_width){let t=this.shadow_width/100*Math.min(p-w,g-b),e=this.shadow_contrast;this.relief===S.Down&&(e=-this.shadow_contrast);let i=$.a.shift_drawtype(r,-e+n,o),s=$.a.shift_drawtype(r,e+n,o);this.ctx.gdraw.gradient_fill_arc(w,b,p-w,g-b,k-f,v,r,s,i,l.d.DiagonalUpperLeft),this.gradient_contrast,s=$.a.shift_drawtype(r,-this.gradient_contrast/2+n,null),i=$.a.shift_drawtype(r,this.gradient_contrast/2+n,null),this.ctx.gdraw.gradient_fill_arc(w+t,b+t,p-w-2*t,g-b-2*t,k-f,v,r,i,s,x)}else{let t,e;this.gradient_contrast>=0?(e=$.a.shift_drawtype(r,-this.gradient_contrast/2+n,null),t=$.a.shift_drawtype(r,this.gradient_contrast/2+n,null)):(e=$.a.shift_drawtype(r,-this.gradient_contrast/2+n,null),t=$.a.shift_drawtype(r,this.gradient_contrast/2+n,0)),this.ctx.gdraw.gradient_fill_arc(w,b,p-w,g-b,k-f,v,r,t,e,x)}C+=G,k+=v}if(this.border){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.arc(w,b,p-w,g-b,this.angle1-f,this.angle2,t,!1,s)}}set_conf(t,e,r,i){this.sectors=t,this.min_value=e,this.max_value=r;for(let t=0;t<this.sectors;t++)this.sector_color[t]=i[t];this.draw()}get_conf(){return{sector_num:this.sectors,min_val:this.min_value,max_val:this.max_value}}set_values(t){for(let e=0;e<this.sectors;e++)this.sector_size[e]=t[e];this.draw()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return k.Slow}get_background_object_limits(t,e,r){return null}}class Jt{constructor(t,e,r){this.draw_type=0,this.line_width=0,this.fill=!1,this.closed_line=!1,this.ctx=t,this.points=new Array(r),this.a_points=new le(t);for(let i=0;i<r;i++)this.a_points.push(new rt(t,e[i].x,e[i].y)),this.points[i]=new rt(t)}type(){return x.PolyLine}open(t){for(;;){let e=t.consumeInt();switch(e){case R.PolyLine:break;case R.PolyLine_draw_type:this.draw_type=t.consumeInt();break;case R.PolyLine_line_width:this.line_width=t.consumeInt();break;case R.PolyLine_fill:this.fill=t.consumeBool();break;case R.PolyLine_closed_line:this.closed_line=t.consumeBool();break;case R.PolyLine_a_points:this.a_points.open(t);break;case R.End:return;default:console.log("Syntax error in GlowPolyline:",e),t.consumeLine()}}}}class Qt{}class $t extends Jt{constructor(t,e,r,i,o,n,s,a,_,c,h,u,d,m,f=z.Line){super(t,r,i),this.n_name="",this.original_border_drawtype=0,this.original_fill_drawtype=0,this.fill_drawtype=0,this.background_drawtype=0,this.border=!0,this.fill_eq_border=!1,this.shadow_width=0,this.shadow_contrast=0,this.shadow=!1,this.relief=0,this.disable_shadow=!1,this.fixcolor=!1,this.fixposition=!1,this.gradient=0,this.gradient_contrast=0,this.disable_gradient=!1,this.fill_eq_light=!1,this.fill_eq_shadow=!1,this.fill_eq_bglight=!1,this.fill_eq_bgshadow=!1,this.fill_eq_background=!1,this.dynamicsize=0,this.trf=new lt,this.original_border_drawtype=o,this.fill_drawtype=h,this.border=_,this.shadow=c,this.shadow_width=5,this.relief=S.Up,this.shadow_contrast=2,this.gradient=l.d.No,this.gradient_contrast=4,this.n_name=e,this.draw_type=o,this.line_width=n,this.fill=a,this.background_drawtype=Z.a.No}type(){return x.GrowPolyLine}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowPolyLine:break;case R.GrowPolyLine_n_name:this.n_name=t.consumeLine();break;case R.GrowPolyLine_x_right:this.x_right=t.consumeFloat();break;case R.GrowPolyLine_x_left:this.x_left=t.consumeFloat();break;case R.GrowPolyLine_y_high:this.y_high=t.consumeFloat();break;case R.GrowPolyLine_y_low:this.y_low=t.consumeFloat();break;case R.GrowPolyLine_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case R.GrowPolyLine_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case R.GrowPolyLine_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case R.GrowPolyLine_background_drawtype:this.background_drawtype=t.consumeInt();break;case R.GrowPolyLine_border:this.border=t.consumeBool();break;case R.GrowPolyLine_shadow_width:this.shadow_width=t.consumeFloat();break;case R.GrowPolyLine_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case R.GrowPolyLine_shadow:this.shadow=t.consumeBool();break;case R.GrowPolyLine_relief:this.relief=t.consumeInt();break;case R.GrowPolyLine_disable_shadow:this.disable_shadow=t.consumeBool();break;case R.GrowPolyLine_fixcolor:this.fixcolor=t.consumeBool();break;case R.GrowPolyLine_fixposition:this.fixposition=t.consumeBool();break;case R.GrowPolyLine_gradient:this.gradient=t.consumeInt();break;case R.GrowPolyLine_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case R.GrowPolyLine_disable_gradient:this.disable_gradient=t.consumeBool();break;case R.GrowPolyLine_fill_eq_border:this.fill_eq_border=t.consumeBool();break;case R.GrowPolyLine_fill_eq_light:this.fill_eq_light=t.consumeBool();break;case R.GrowPolyLine_fill_eq_shadow:this.fill_eq_shadow=t.consumeBool();break;case R.GrowPolyLine_fill_eq_bglight:this.fill_eq_bglight=t.consumeBool();break;case R.GrowPolyLine_fill_eq_bgshadow:this.fill_eq_bgshadow=t.consumeBool();break;case R.GrowPolyLine_fill_eq_background:this.fill_eq_background=t.consumeBool();break;case R.GrowPolyLine_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowPolyLine_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowPolyLine_polyline_part:super.open(t);break;case R.GrowPolyLine_trf:this.trf.open(t);break;case R.End:for(let t=0;t<this.a_points.length;t++)this.points[t]=new l.f;return;default:console.log("Syntax error in GrowPolyline:",e),t.consumeLine()}}}event_handler(t){return 0}draw(t=null,e=!1,r=!1,i=null,o=null){let n=0;r&&(this.ctx.hot_indication===I.No?r=!1:this.ctx.hot_indication===I.DarkColor?(n=Number(r),r=!1):this.ctx.hot_indication===I.LightColor&&(n=-Number(r),r=!1)),this.fixcolor&&(o=null);let s=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor;null!==i&&i.line_width?s*=i.line_width:s*=this.line_width,s=Object(l.n)(Math.floor(s-1+Number(r)),0,et.d-1);let a=at.multiply(t,this.trf);for(let t=0;t<this.a_points.length;t++){let e=a.apply(this.a_points[t]);this.points[t].x=e.x*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.points[t].y=e.y*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y}if(this.fill){let t,r=this.gradient;if(this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(r=i.gradient),t=this.fill_eq_border?$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1):this.fill_eq_background?$.a.get_drawtype(this.background_drawtype,Z.a.FillHighlight,e,o,3,!1):$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1),this.fill_eq_light&&null!==i&&i.shadow?t=$.a.shift_drawtype(t,-this.shadow_contrast+n,o):this.fill_eq_bglight?t=null!==o&&i.background_drawtype!==Z.a.No?$.a.shift_drawtype(o.background_drawtype,-this.shadow_contrast+n,o):$.a.shift_drawtype(this.original_fill_drawtype,-this.shadow_contrast+n,o):this.fill_eq_shadow&&null!==i&&i.shadow?t=$.a.shift_drawtype(t,this.shadow_contrast+n,o):this.fill_eq_bgshadow?t=null!==o&&i.background_drawtype!==Z.a.No?$.a.shift_drawtype(o.background_drawtype,this.shadow_contrast+n,o):$.a.shift_drawtype(this.original_fill_drawtype,this.shadow_contrast+n,o):n&&(t=$.a.shift_drawtype(t,n,null)),r===l.d.No||t===Z.a.ColorRed)this.ctx.gdraw.polyline(this.points,this.a_points.length,t,!0);else{let e,i;this.gradient_contrast,i=$.a.shift_drawtype(t,-this.gradient_contrast/2,null),e=$.a.shift_drawtype(t,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_polyline(this.points,this.a_points.length,t,e,i,this.ctx.gdraw.gradient_rotate(a.rotation,r))}}let _=(i&&i.shadow||this.shadow)&&!this.disable_shadow&&!this.fill_eq_light&&!this.fill_eq_shadow;if(_&&this.shadow_width){let t=a.vertical_scale(),r=this.shadow_width/100*t*Math.min((this.x_right-this.x_left)*this.ctx.mw.zoom_factor.x,(this.y_high-this.y_low)*this.ctx.mw.zoom_factor.y);if(r>=1){let t=this.calculate_shadow(r,e,o,0,n);for(let e=0;e<t.length-1;e++){let r=[this.points[e],new l.f(t[e].x,t[e].y),new l.f(t[e+1].x,t[e+1].y),this.points[e+1]];this.ctx.gdraw.polyline(r,4,t[e].drawtype,!0)}}}if(this.border||!(this.fill||_&&this.shadow_width)){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1);this.ctx.gdraw.polyline(this.points,this.a_points.length,t,!1,s)}}calculate_shadow(t,e,r,i,o){let n,s=this.a_points.length;this.points[0].x===this.points[s-1].x&&this.points[0].y===this.points[s-1].y&&s--,n=this.points[0].x===this.points[this.a_points.length-1].x&&this.points[0].y===this.points[this.a_points.length-1].y?new Array(s+1):new Array(s);let a=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,r,1,!1),l=this.shadow_contrast;this.relief===S.Down&&(l=-this.shadow_contrast);let _=$.a.shift_drawtype(a,-l+o,r),c=$.a.shift_drawtype(a,l+o,r),h=this.shadow_direction();for(let e=0;e<s;e++){let r,i;n[e]=new Qt,0===e?(r=this.points[s-1].x,i=this.points[s-1].y):(r=this.points[e-1].x,i=this.points[e-1].y);let o,a,l=this.points[e].x,u=this.points[e].y;e===s-1?(o=this.points[0].x,a=this.points[0].y):(o=this.points[e+1].x,a=this.points[e+1].y);let d=h;if(-1!==e&&(Math.abs(r-l)<Number.MIN_VALUE?l>o&&u<i?d=-h:l<o&&u>i&&(d=-h):Math.abs(l-o)<Number.MIN_VALUE?r<l&&a>u?d=-h:r>l&&a<u&&(d=-h):l>r&&o<l?d=-h:l<r&&o>l&&(d=-h)),Math.abs(r-l)<Number.MIN_VALUE)if(Math.abs(l-o)<Number.MIN_VALUE){let r=l+h*t;n[e].x=r,n[e].y=u}else{let r=(a-u)/(o-l),i=u-l*r+d*t/Math.abs(Math.cos(Math.atan(r))),s=l+h*t;n[e].x=s,n[e].y=r*s+i}else if(Math.abs(l-o)<Number.MIN_VALUE){let o=(u-i)/(l-r),s=i-r*o+h*t/Math.abs(Math.cos(Math.atan(o))),a=l+d*t;n[e].x=a,n[e].y=o*a+s}else{let s=(u-i)/(l-r),_=(a-u)/(o-l),c=i-r*s+h*t/Math.abs(Math.cos(Math.atan(s))),m=u-l*_+d*t/Math.abs(Math.cos(Math.atan(_)));if(Math.abs(s-_)<Number.MIN_VALUE)if(Math.abs(s)<Number.MIN_VALUE)n[e].x=l,n[e].y=c;else{let t=((m=a-(_=-_)*o)-c)/(s-_);n[e].x=t,n[e].y=_*t+m,_=s,m=c}else{let t=(m-c)/(s-_);n[e].x=t,n[e].y=_*t+m}}n[e].drawtype=1===d?_:c,h=d}return this.points[0].x===this.points[this.a_points.length-1].x&&this.points[0].y===this.points[this.a_points.length-1].y&&(n[s]=new Qt,n[s].x=n[0].x,n[s].y=n[0].y),n}shadow_direction(){let t=this.a_points.length;this.points[t-1].x===this.points[0].x&&this.points[t-1].y===this.points[0].y&&t--;let e,r,i,o=0,n=0,s=0,a=0;for(let i=0;i<t;i++)i===t-1?(this.points[0].x===this.points[i].x?(e=90,this.points[0].y<this.points[i].y&&(e+=180)):e=180*Math.atan((this.points[0].y-this.points[i].y)/(this.points[0].x-this.points[i].x))/Math.PI,this.points[0].x<this.points[i].x&&(e+=180)):(this.points[i+1].x===this.points[i].x?(e=90,this.points[i+1].y<this.points[i].y&&(e+=180)):e=180*Math.atan((this.points[i+1].y-this.points[i].y)/(this.points[i+1].x-this.points[i].x))/Math.PI,this.points[i+1].x<this.points[i].x&&(e+=180)),0===i?a=e:i>0&&((r=e-(s-180))<0?r+=360:r>=360&&(r-=360),o+=r,n+=360-r),i===t-1&&((r=a-(e-180))<0?r+=360:r>=360&&(r-=360),o+=r,n+=360-r),s=e;i=this.points[0].x===this.points[this.a_points.length-1].x&&this.points[0].y===this.points[this.a_points.length-1].y?this.points[this.a_points.length-2]:this.points[this.a_points.length-1];let l=-1;return n-o<0?this.points[0].x===i.x?this.points[0].x<this.points[1].x&&(l=1):this.points[0].x>i.x&&(l=1):this.points[0].x===i.x?this.points[0].x<this.points[1].x&&(l=1):this.points[0].x<i.x&&(l=1),l}add_and_shift_y_value(t){for(let t=this.a_points.length-1;t>0;t--)this.a_points[t].y=this.a_points[t-1].y;this.a_points[0].y=t}add_and_shift_y_values(t,e){if(e)if(e>=this.a_points.length)for(let e=0;e<this.a_points.length;e++)this.a_points[e].y=t[e];else{for(let t=this.a_points.length-1;t>=e;t--)this.a_points[t].y=this.a_points[t-e].y;for(let r=0;r<e;r++)this.a_points[r].y=t[r]}}add_and_shift_y_value_filled(t){for(let t=this.a_points.length-2;t>1;t--)this.a_points[t].y=this.a_points[t-1].y;this.a_points[1].y=t}add_and_shift_y_values_filled(t,e){if(e){for(let t=this.a_points.length-2;t>=e;t--)this.a_points[t].y=this.a_points[t-e].y;for(let r=0;r<e;r++)this.a_points[r+1].y=t[r]}}get_borders(t,e){let r=at.multiply(t,this.trf),i=new l.f;for(let t=0;t<this.a_points.length-1;t++){let o=this.a_points[t],n=new l.f(i.x,i.y);0===t&&(n=r.apply(o)),i=r.apply(o),e.set(l.i.union(e,new l.i(Math.min(n.x,i.x),Math.min(n.y,i.y),Math.max(n.x,i.x),Math.max(n.y,i.y))))}}get_background_object_limits(t,e,r){return null}}class Zt extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=!1,_=et.f.One,c=!1,h=!0,u=!1,d=Z.a.Line,m=!1){super(t,e,r,i,o,n,s,a,l,_,c,h,u,d,m),this.round_amount=15}type(){return x.GrowRectRounded}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowRectRounded:break;case R.GrowRectRounded_n_name:this.n_name=t.consumeLine();break;case R.GrowRectRounded_x_right:this.x_right=t.consumeFloat();break;case R.GrowRectRounded_x_left:this.x_left=t.consumeFloat();break;case R.GrowRectRounded_y_high:this.y_high=t.consumeFloat();break;case R.GrowRectRounded_y_low:this.y_low=t.consumeFloat();break;case R.GrowRectRounded_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case R.GrowRectRounded_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case R.GrowRectRounded_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case R.GrowRectRounded_border:this.border=t.consumeBool();break;case R.GrowRectRounded_round_amount:this.round_amount=t.consumeFloat();break;case R.GrowRectRounded_shadow_width:this.shadow_width=t.consumeFloat();break;case R.GrowRectRounded_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case R.GrowRectRounded_shadow:this.shadow=t.consumeBool();break;case R.GrowRectRounded_relief:this.relief=t.consumeInt();break;case R.GrowRectRounded_disable_shadow:this.disable_shadow=t.consumeBool();break;case R.GrowRectRounded_fixposition:this.fixposition=t.consumeBool();break;case R.GrowRectRounded_gradient:this.gradient=t.consumeInt();break;case R.GrowRectRounded_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case R.GrowRectRounded_disable_gradient:this.disable_gradient=t.consumeBool();break;case R.GrowRectRounded_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowRectRounded_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowRectRounded_rect_part:ft.prototype.open.call(this,t);break;case R.GrowRectRounded_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GrowRectRounded:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n;n=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),n+=r,n=Math.max(0,n),n=Math.min(n,et.d-1);let s=at.multiply(t,this.trf),a=s.apply(this.ll),_=s.apply(this.ur),c=a.z_x()-this.ctx.mw.offset.x,h=a.z_y()-this.ctx.mw.offset.y,u=_.z_x()-this.ctx.mw.offset.x,d=_.z_y()-this.ctx.mw.offset.y,m=Math.min(c,u),f=Math.max(c,u),w=Math.min(h,d),p=Math.max(h,d),b=this.round_amount/100*Math.min(f-m,p-w);if(this.fill){let t=this.shadow_width/100*Math.min(f-m,p-w),r=(null!==i&&i.shadow||this.shadow)&&!this.disable_shadow,n=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1),a=this.gradient;if(this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(a=i.gradient),r&&0!==t){let e=this.relief===S.Down?-this.shadow_contrast:this.shadow_contrast,r=$.a.shift_drawtype(n,0-e,o);if(this.ctx.gdraw.rect(m+b,w,f-m-2*b,t,r,!0),this.ctx.gdraw.rect(m,w+b,t,p-w-2*b,r,!0),this.ctx.gdraw.arc(m,w,2*b,2*b,90,90,r,!0),this.ctx.gdraw.arc(m,p-2*b,2*b,2*b,180,45,r,!0),this.ctx.gdraw.arc(f-2*b,w,2*b,2*b,45,45,r,!0),r=$.a.shift_drawtype(n,e+0,o),this.ctx.gdraw.rect(m+b,p-t,f-m-2*b,t,r,!0),this.ctx.gdraw.rect(f-t,w+b,t,p-w-2*b,r,!0),this.ctx.gdraw.arc(m,p-2*b,2*b,2*b,225,45,r,!0),this.ctx.gdraw.arc(f-2*b,w,2*b,2*b,0,45,r,!0),this.ctx.gdraw.arc(f-2*b,p-2*b,2*b,2*b,270,90,r,!0),a===l.d.No){let e=n;b>t?(this.ctx.gdraw.rect(m+t,w+b,f-m-2*t,p-w-2*b,e,!0),this.ctx.gdraw.rect(m+b,w+t,f-m-2*b,b-t,e,!0),this.ctx.gdraw.rect(m+b,p-b,f-m-2*b,b-t,e,!0),this.ctx.gdraw.arc(m+t,w+t,2*b-2*t,2*b-2*t,90,90,e,!0),this.ctx.gdraw.arc(m+t,p-2*b+t,2*b-2*t,2*b-2*t,180,90,e,!0),this.ctx.gdraw.arc(f-2*b+t,p-2*b+t,2*b-2*t,2*b-2*t,270,90,e,!0),this.ctx.gdraw.arc(f-2*b+t,w+t,2*b-2*t,2*b-2*t,0,90,e,!0)):this.ctx.gdraw.rect(m+b,w+b,f-m-2*b,p-w-2*b,e,!0)}else{let e,r;this.gradient_contrast,r=$.a.shift_drawtype(n,-this.gradient_contrast/2+0,null),e=$.a.shift_drawtype(n,this.gradient_contrast/2+0,null),this.ctx.gdraw.gradient_fill_rectrounded(m+t,w+t,f-m-2*t,p-w-2*t,b-t,n,e,r,this.ctx.gdraw.gradient_rotate(s.rotation,a))}}else if(a===l.d.No){let t=n;this.ctx.gdraw.rect(m,w+b,f-m,p-w-2*b,t,!0),this.ctx.gdraw.rect(m+b,w,f-m-2*b,b,t,!0),this.ctx.gdraw.rect(m+b,p-b,f-m-2*b,b,t,!0),this.ctx.gdraw.arc(m,w,2*b,2*b,90,90,t,!0),this.ctx.gdraw.arc(m,p-2*b,2*b,2*b,180,90,t,!0),this.ctx.gdraw.arc(f-2*b,p-2*b,2*b,2*b,270,90,t,!0),this.ctx.gdraw.arc(f-2*b,w,2*b,2*b,0,90,t,!0)}else{let t,e;this.gradient_contrast,e=$.a.shift_drawtype(n,-this.gradient_contrast/2+0,null),t=$.a.shift_drawtype(n,this.gradient_contrast/2+0,null),this.ctx.gdraw.gradient_fill_rectrounded(m,w,f-m,p-w,b,n,t,e,this.ctx.gdraw.gradient_rotate(s.rotation,a))}}if(this.border||!this.fill){let t=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1),r=0;this.ctx.gdraw.line(m+b,w,f-b,w,t,n),this.ctx.gdraw.line(m,w-r+b,m,p-r-b,t,n),this.ctx.gdraw.line(m+b,p,f-b,p,t,n),this.ctx.gdraw.line(f-r,w+b,f-r,p-b,t,n),this.ctx.gdraw.arc(m,w,2*b,2*b,90,90,t,n),this.ctx.gdraw.arc(m,p-2*b,2*b,2*b,180,90,t,n),this.ctx.gdraw.arc(f-2*b,p-2*b,2*b,2*b,270,90,t,n),this.ctx.gdraw.arc(f-2*b,w,2*b,2*b,0,90,t,n)}}}class Kt extends jt{constructor(t,e,r,i,o,n=!1,s=!1){super(t,e,r,i,o,n,s),this.direction=et.e.Down,this.max_value=100,this.min_value=0,this.max_pos=100,this.min_pos=0}type(){return x.GrowSlider}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowSlider:break;case R.GrowSlider_direction:this.direction=t.consumeInt();break;case R.GrowSlider_max_value:this.max_value=t.consumeFloat();break;case R.GrowSlider_min_value:this.min_value=t.consumeFloat();break;case R.GrowSlider_max_pos:this.max_pos=t.consumeFloat();break;case R.GrowSlider_min_pos:this.min_pos=t.consumeFloat();break;case R.GrowSlider_grownode_part:super.open(t);break;case R.End:return;default:console.log("Syntax error in GrowSlider:",e),t.consumeLine()}}}get_origo(t){let e=new lt,r=new l.i(1e38,1e38,-1e38,-1e38);switch(this.nc.get_borders(e,r),this.direction){case et.e.Down:case et.e.Up:return Math.abs(r.height())<Number.MIN_VALUE?this.ll.y:(this.nc.y0-r.ll.y)*(this.ur.y-this.ll.y)/r.height();case et.e.Left:case et.e.Right:return Math.abs(r.height())<Number.MIN_VALUE?this.ll.y:(this.nc.y0-r.ll.y)*(this.ur.x-this.ll.x)/r.height();default:return 0}}get_info(){return{direction:this.direction,max_value:this.max_value,min_value:this.min_value,max_position:this.max_pos,min_position:this.min_pos}}set_info(t){this.direction=t.direction,this.max_value=t.max_value,this.min_value=t.min_value,this.max_pos=t.max_position,this.min_pos=t.min_position}}var te,ee=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};!function(t){t[t.No=0]="No",t[t.ZeroIfHeader=1]="ZeroIfHeader",t[t.ZeroIfHeaderIs0=2]="ZeroIfHeaderIs0"}(te||(te={}));class re extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=!1,_=Z.a.Line,c=et.f.One,h=!1){super(t,e,r,i,o,n,s,a,!1,c,l,!0,!1,_,h),this.userdata=null,this.vertical_scrollbar=!1,this.horizontal_scrollbar=!1,this.scrollbar_width=.5,this.v_scrollbar=null,this.h_scrollbar=null,this.v_value=0,this.h_value=0,this.table_x0=0,this.table_x1=0,this.table_y0=0,this.table_y1=0,this.scrollbar_color=Z.a.LightGray,this.scrollbar_bg_color=Z.a.MediumGray,this.window_scale=1,this.y_low_offs=0,this.x_left_offs=0,this.rows=10,this.columns=2,this.header_row=!1,this.header_column=!1,this.text_size=1,this.text_drawtype=Z.a.TextHelvetica,this.text_color_drawtype=Z.a.Line,this.header_text_size=1,this.header_text_drawtype=Z.a.TextHelvetica,this.header_text_color=Z.a.Line,this.header_row_height=.8,this.row_height=.6,this.column_width=new Array(re.MAX_COL),this.header_text=new Array(re.MAX_COL),this.column_size=new Array(re.MAX_COL),this.column_adjustment=new Array(re.MAX_COL),this.value_size=0,this.cell_value=null,this.selected_cell_row=-1,this.selected_cell_column=-1,this.select_drawtype=Z.a.Inherit,this.input_focus=!1,this.options=te.No,this.font=pt.a.Helvetica;for(let t=0;t<re.MAX_COL;t++)this.header_text[t]="",this.column_width[t]=4,this.column_size[t]=12,this.column_adjustment[t]=v.Left;this.configure(),h||t.set_dirty()}type(){return x.GrowTable}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowTable:break;case R.GrowTable_scrollbar_width:this.scrollbar_width=t.consumeFloat();break;case R.GrowTable_scrollbar_color:this.scrollbar_color=t.consumeInt();break;case R.GrowTable_scrollbar_bg_color:this.scrollbar_bg_color=t.consumeInt();break;case R.GrowTable_vertical_scrollbar:this.vertical_scrollbar=t.consumeBool();break;case R.GrowTable_horizontal_scrollbar:this.horizontal_scrollbar=t.consumeBool();break;case R.GrowTable_window_scale:this.window_scale=t.consumeFloat();break;case R.GrowTable_rows:this.rows=t.consumeInt();break;case R.GrowTable_columns:this.columns=t.consumeInt();break;case R.GrowTable_header_row:this.header_row=t.consumeBool();break;case R.GrowTable_header_column:this.header_column=t.consumeBool();break;case R.GrowTable_text_size:this.text_size=t.consumeInt();break;case R.GrowTable_text_drawtype:this.text_drawtype=t.consumeInt();break;case R.GrowTable_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case R.GrowTable_header_text_size:this.header_text_size=t.consumeInt();break;case R.GrowTable_header_text_drawtype:this.header_text_drawtype=t.consumeInt();break;case R.GrowTable_header_text_color:this.header_text_color=t.consumeInt();break;case R.GrowTable_header_text_bold:this.header_text_bold=t.consumeBool();break;case R.GrowTable_header_row_height:this.header_row_height=t.consumeFloat();break;case R.GrowTable_row_height:this.row_height=t.consumeFloat();break;case R.GrowTable_options:this.options=t.consumeInt();break;case R.GrowTable_select_drawtype:this.select_drawtype=t.consumeInt();break;case R.GrowTable_font:this.font=t.consumeInt();break;case R.GrowTable_column_width1:case R.GrowTable_column_width2:case R.GrowTable_column_width3:case R.GrowTable_column_width4:case R.GrowTable_column_width5:case R.GrowTable_column_width6:case R.GrowTable_column_width7:case R.GrowTable_column_width8:case R.GrowTable_column_width9:case R.GrowTable_column_width10:case R.GrowTable_column_width11:case R.GrowTable_column_width12:{let r=(e-R.GrowTable_column_width1)/2;this.column_width[r]=t.consumeFloat();break}case R.GrowTable_header_text1:case R.GrowTable_header_text2:case R.GrowTable_header_text3:case R.GrowTable_header_text4:case R.GrowTable_header_text5:case R.GrowTable_header_text6:case R.GrowTable_header_text7:case R.GrowTable_header_text8:case R.GrowTable_header_text9:case R.GrowTable_header_text10:case R.GrowTable_header_text11:case R.GrowTable_header_text12:{let r=(e-R.GrowTable_header_text1)/2;this.header_text[r]=t.consumeLine();break}case R.GrowTable_column_adjustment1:case R.GrowTable_column_adjustment2:case R.GrowTable_column_adjustment3:case R.GrowTable_column_adjustment4:case R.GrowTable_column_adjustment5:case R.GrowTable_column_adjustment6:case R.GrowTable_column_adjustment7:case R.GrowTable_column_adjustment8:case R.GrowTable_column_adjustment9:case R.GrowTable_column_adjustment10:case R.GrowTable_column_adjustment11:case R.GrowTable_column_adjustment12:{let r=e-R.GrowTable_column_adjustment1;this.column_adjustment[r]=t.consumeInt();break}case R.GrowTable_rect_part:super.open(t);break;case R.GrowTable_userdata_cb:this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return this.configure(),void this.configure_scrollbars();default:console.log("Syntax error in GrowTable:",e),t.consumeLine()}}}configure(){this.table_x0=0,this.table_y0=0,this.table_x1=0;for(let t=0;t<this.columns;t++)this.header_column&&0===t||(this.table_x1+=this.column_width[t]);this.table_y1=this.row_height*this.rows,this.y_low_offs=this.header_row?this.header_row_height:0,this.x_left_offs=this.header_column?this.column_width[0]:0,this.cell_value=new Array(this.columns*this.rows)}configure_scrollbars(){if(this.vertical_scrollbar&&null===this.v_scrollbar){let t=this.x_right-this.scrollbar_width,e=this.y_low+this.y_low_offs,r=this.scrollbar_width,i=this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*Number(this.horizontal_scrollbar);this.v_scrollbar=new zt(this.ctx,"vScrollbar",t,e,r,i,C.Vertical,Z.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.v_scrollbar.value_changed_cb=this.verticalScrollValueChanged.bind(this),this.v_scrollbar.set_range(this.table_y0*this.window_scale,this.table_y1*this.window_scale),this.v_scrollbar.set_value(this.table_y0*this.window_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*Number(this.horizontal_scrollbar)),this.v_scrollbar.set_shadow(this.shadow),this.v_value=this.table_y0*this.window_scale}else!this.vertical_scrollbar&&this.v_scrollbar?(this.v_scrollbar=null,this.v_value=this.table_y0*this.window_scale):this.v_scrollbar?(this.v_scrollbar.set_range(this.table_y0*this.window_scale,this.table_y1*this.window_scale),this.v_scrollbar.set_value(this.table_y0*this.window_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*Number(this.horizontal_scrollbar)),this.v_value=this.table_y0*this.window_scale,this.v_scrollbar.set_shadow(this.shadow)):this.v_value=this.table_y0*this.window_scale;if(this.horizontal_scrollbar&&null===this.h_scrollbar){let t=this.x_left+this.x_left_offs,e=this.y_high-this.scrollbar_width,r=this.scrollbar_width,i=this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*Number(this.vertical_scrollbar);this.h_scrollbar=new zt(this.ctx,"hScrollbar",t,e,i,r,C.Horizontal,Z.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.h_scrollbar.value_changed_cb=this.horizontalScrollValueChanged.bind(this),this.h_scrollbar.set_range(this.table_x0*this.window_scale,this.table_x1*this.window_scale),this.h_scrollbar.set_value(this.table_x0*this.window_scale,this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*Number(this.vertical_scrollbar)),this.h_scrollbar.set_shadow(this.shadow),this.h_value=this.table_x0*this.window_scale}else!this.horizontal_scrollbar&&this.h_scrollbar?(this.h_scrollbar=null,this.h_value=this.table_x0*this.window_scale):this.h_scrollbar?(this.h_scrollbar.set_value(this.table_x0*this.window_scale,this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*Number(this.vertical_scrollbar)),this.h_value=this.table_x0*this.window_scale,this.h_scrollbar.set_range(this.table_x0*this.window_scale,this.table_x1*this.window_scale),this.h_scrollbar.set_shadow(this.shadow)):this.h_value=this.table_x0*this.window_scale}draw(t=null,e=!1,r=!1,i=null,o=null){let n=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,s=Math.floor(n*this.line_width-1);s=Object(l.n)(s+Number(r),0,et.d-1);let a=Math.floor(n*(this.text_size+4)-4),_=n*(8+2*this.text_size);a=Math.min(a,et.d-1);let c=Math.floor(n*(this.header_text_size+4)-4);c=Math.min(c,et.d-1);let h=n*(8+2*this.header_text_size),u=at.multiply(t,this.trf),d=u.apply(this.ll),m=u.apply(this.ur);d.x=Math.min(d.x,m.x),m.x=Math.max(d.x,m.x),d.y=Math.min(d.y,m.y),m.y=Math.max(d.y,m.y),this.v_scrollbar&&(this.v_scrollbar.set_position(m.x-this.scrollbar_width,d.y+this.y_low_offs,this.scrollbar_width,m.y-(d.y+this.y_low_offs)-(this.h_scrollbar?this.scrollbar_width:0)),this.v_scrollbar.draw()),this.h_scrollbar&&(this.h_scrollbar.set_position(d.x+this.x_left_offs,m.y-this.scrollbar_width,m.x-(d.x+this.x_left_offs)-(this.v_scrollbar?this.scrollbar_width:0),this.scrollbar_width),this.h_scrollbar.draw());let f=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1),w=$.a.shift_drawtype(this.fill_drawtype,2,null),p=$.a.shift_drawtype(this.fill_drawtype,-2,null),b=this.select_drawtype===Z.a.Inherit?w:this.select_drawtype,g=d.z_x()-this.ctx.mw.offset.x,y=d.z_y()-this.ctx.mw.offset.y,x=m.z_x()-this.ctx.mw.offset.x,C=m.z_y()-this.ctx.mw.offset.y,G=d.z_x()+this.x_left_offs*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,k=d.z_y()+this.y_low_offs*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,T=m.z_x()-Number(this.vertical_scrollbar)*this.scrollbar_width*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,S=m.z_y()-Number(this.horizontal_scrollbar)*this.scrollbar_width*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,I=G-Math.floor(this.h_value*this.ctx.mw.zoom_factor.x),L=k-Math.floor(this.v_value*this.ctx.mw.zoom_factor.y),A=I+Math.floor(this.table_x1*this.ctx.mw.zoom_factor.x),M=L+Math.floor(this.table_y1*this.ctx.mw.zoom_factor.y),O=0,N=0;if(this.header_row&&(O=Math.floor(this.header_row_height*this.ctx.mw.zoom_factor.y)),this.header_column&&(N=Math.floor(this.column_width[0]*this.ctx.mw.zoom_factor.x)),this.header_row){if(this.fill&&this.ctx.gdraw.rect(g,y,x-g,O,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(g+N,y,x,y+O),this.shadow){let t=I;for(let e=Number(this.header_column);e<this.columns+1&&!(t>x);e++)e!==Number(this.header_column)&&this.ctx.gdraw.line(t-1,y,t-1,y+O,w),e!==this.columns&&this.ctx.gdraw.line(t+1,y,t+1,y+O,p),t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;this.ctx.gdraw.line(g,y+1,A,y+1,p),this.ctx.gdraw.line(g,y+O-1,A,y+O-1,w,1)}let t=I;for(let e=Number(this.header_column);e<this.columns+1&&!(t>x);e++)this.ctx.gdraw.line(t,y,t,y+O,f,s),t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;t=I;for(let r=Number(this.header_column);r<this.columns&&(c>=0&&""!==this.header_text[r]&&this.ctx.gdraw.text(Math.floor(t+10),Math.floor(y+O-4),this.header_text[r],this.header_text_drawtype,this.header_text_color,this.font,h,0,e),!((t+=this.column_width[r]*this.ctx.mw.zoom_factor.x)>x));r++);this.ctx.gdraw.reset_clip_rectangle(),N&&(this.shadow&&(this.ctx.gdraw.line(g+N-1,y,g+N-1,y+O,w,1),this.ctx.gdraw.line(g-1,y+O-1,g+N,y+O-1,w,1),this.ctx.gdraw.line(g,y+1,g+N,y+1,p),this.ctx.gdraw.line(g+1,y,g+1,y+O,p)),this.ctx.gdraw.line(g+N,y,g+N,y+O,f,s)),this.ctx.gdraw.rect(g,y,x-g,O,f,!1,s),this.header_column&&(t=g,c>=0&&""!==this.header_text[0]&&this.ctx.gdraw.text(Math.floor(t+10),Math.floor(y+O-4),this.header_text[0],this.header_text_drawtype,this.header_text_color,this.font,_,0,e))}if(this.header_column){if(this.fill&&this.ctx.gdraw.rect(g,y+O,N,C-y-O,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(g,y+O,g+N,C),this.selected_cell_row>=0&&0===this.selected_cell_column){let t=g,e=L+this.row_height*this.ctx.mw.zoom_factor.y*this.selected_cell_row;this.ctx.gdraw.rect(t,e,N,this.row_height*this.ctx.mw.zoom_factor.y,b,!0)}if(this.shadow){let t=L;for(let e=0;e<this.rows+1&&!(t>C);e++)t>y&&(e&&this.ctx.gdraw.line(g,t-1,g+N,t-1,w),e!==this.rows&&this.ctx.gdraw.line(g,t+1,g+N,t+1,p)),t+=this.row_height*this.ctx.mw.zoom_factor.y;this.ctx.gdraw.line(g+1,y+O,g+1,C,p),this.ctx.gdraw.line(g+N-1,y+O,g+N-1,C,w,1)}let t=g,r=L;for(let i=0;i<this.rows&&!((r+=this.row_height*this.ctx.mw.zoom_factor.y)-this.row_height*this.ctx.mw.zoom_factor.y>C);i++)if(r>y){this.ctx.gdraw.line(g,r,g+N,r,f,s);let o=i;if(a>=0&&this.cell_value[o]&&""!==this.cell_value[o]){let i=t+10;if(this.column_adjustment[0]===v.Right||this.column_adjustment[0]===v.Center){let e=this.ctx.gdraw.getTextExtent(this.cell_value[o],this.text_drawtype,this.font,_);switch(this.column_adjustment[0]){case v.Left:break;case v.Right:i=t+N-10-e.width;break;case v.Center:i=Math.floor(t+(N-e.width)/2)}}this.ctx.gdraw.text(i,Math.floor(r-5),this.cell_value[o],this.text_drawtype,this.text_color_drawtype,this.font,_,0,e)}}this.ctx.gdraw.reset_clip_rectangle(),this.ctx.gdraw.rect(g,y+O-1,N,C-y-O+1,f,!1,s)}if(this.fill&&this.ctx.gdraw.rect(G,k,T-G,S-k,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(G,k,T,S),this.selected_cell_row>=0&&(!this.header_column||0!==this.selected_cell_column)){let t=I;for(let e=Number(this.header_column);e<this.selected_cell_column;e++)t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;let e=L+this.row_height*this.ctx.mw.zoom_factor.y*this.selected_cell_row;this.ctx.gdraw.rect(t,e,Math.floor(this.column_width[this.selected_cell_column]*this.ctx.mw.zoom_factor.x),Math.floor(this.row_height*this.ctx.mw.zoom_factor.y),b,!0)}if(this.shadow){let t=I,e=L;for(let e=Number(this.header_column);e<this.columns+1&&!(t>x);e++)t>g&&(e!==Number(this.header_column)&&this.ctx.gdraw.line(t-1,L,t-1,M,w),e!==this.columns&&this.ctx.gdraw.line(t+1,L,t+1,M,p)),t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;for(let t=0;t<this.rows+1&&!(e>C);t++)e>y&&(t&&this.ctx.gdraw.line(I,e-1,A,e-1,w),t!==this.rows&&this.ctx.gdraw.line(I,e+1,A,e+1,p)),e+=this.row_height*this.ctx.mw.zoom_factor.y}let R=I,j=L;for(let t=Number(this.header_column);t<this.columns+1&&!(R>x);t++)R>g&&this.ctx.gdraw.line(R,L,R,M,f,s),R+=this.column_width[t]*this.ctx.mw.zoom_factor.x;for(let t=0;t<this.rows+1&&!(j>C);t++)j>y&&this.ctx.gdraw.line(I,j,A,j,f,s),j+=this.row_height*this.ctx.mw.zoom_factor.y;let E=Number(this.header_column)*this.rows;R=I;let F=g-Math.floor(this.column_width[0]*this.ctx.mw.zoom_factor.x);for(let t=Number(this.header_column);t<this.columns&&!(R>x);t++){if(R>F){j=L;for(let r=0;r<this.rows&&!((j+=this.row_height*this.ctx.mw.zoom_factor.y)-this.row_height*this.ctx.mw.zoom_factor.y>C);r++)if((!(this.options&te.ZeroIfHeader)||null!==this.cell_value[r]&&""!==this.cell_value[r])&&(!(this.options&te.ZeroIfHeaderIs0)||null!==this.cell_value[r]&&"0"!==this.cell_value[r])&&j>y){let i=E+r;if(a>=0&&this.cell_value[i]&&""!==this.cell_value[i]){let r=R+10;if(this.column_adjustment[t]===v.Right||this.column_adjustment[t]===v.Center){let e=this.ctx.gdraw.getTextExtent(this.cell_value[i],this.text_drawtype,this.font,_);switch(this.column_adjustment[t]){case v.Left:break;case v.Right:r=R+this.column_width[t]*this.ctx.mw.zoom_factor.x-10-e.width;break;case v.Center:r=R+(this.column_width[t]*this.ctx.mw.zoom_factor.x-e.width)/2}}this.ctx.gdraw.text(r,j-5,this.cell_value[i],this.text_drawtype,this.text_color_drawtype,this.font,_,0,e)}}}R+=this.column_width[t]*this.ctx.mw.zoom_factor.x,E+=this.rows}this.ctx.gdraw.reset_clip_rectangle(),this.ctx.gdraw.rect(G,k,x-G,C-k,f,!1,s),this.input_focus&&(this.ctx.gdraw.line(g-2,y-2,g-2,C+2,Z.a.DarkGray),this.ctx.gdraw.line(g-2,y-2,x+2,y-2,Z.a.DarkGray),this.ctx.gdraw.line(g-2,C+2,x+2,C+2,Z.a.LightGray),this.ctx.gdraw.line(x+2,y-2,x+2,C+2,Z.a.LightGray))}verticalScrollValueChanged(t){this.v_value!==t&&(this.v_value=t,this.draw())}horizontalScrollValueChanged(t){this.h_value!==t&&(this.h_value=t,this.draw())}event_handler(t){const e=Object.create(null,{event_handler:{get:()=>super.event_handler}});return ee(this,void 0,void 0,function*(){let r=!!this.v_scrollbar&&(yield this.v_scrollbar.event_handler(t)),i=!!this.h_scrollbar&&(yield this.h_scrollbar.event_handler(t));if(r||i)return 1;if(!(t.event instanceof MouseEvent)||"click"!==t.event.type)return 0;let o=yield e.event_handler.call(this,t),n=-1,s=-1,a=this.x_left+this.x_left_offs,l=this.y_low+this.y_low_offs,_=this.x_right-Number(this.vertical_scrollbar)*this.scrollbar_width,c=this.y_high-Number(this.horizontal_scrollbar)*this.scrollbar_width,h=a-this.h_value,u=l-this.v_value;if(l<=t.y&&t.y<=c){if(this.header_column&&this.x_left<=t.x&&t.x<=this.x_left+this.x_left_offs)n=0;else if(a<=t.x&&t.x<=_){let e=h;for(let r=Number(this.header_column);r<this.columns;r++)if(e+=this.column_width[r],t.x<=e){n=r;break}}let e=u;for(let r=0;r<this.rows;r++)if(e+=this.row_height,t.y<=e){s=r;break}}return-1!==s&&-1!==n&&this.ctx.send_table_callback(this,t.event,n,s),o})}getTableInfo(){let t={columns:this.columns,rows:this.rows,column_size:[]};for(let e=0;e<re.MAX_COL;e++)t.column_size.push(this.column_size[e]);return t}setTableInfo(t){this.columns=t.columns,this.rows=t.rows;for(let e=0;e<re.MAX_COL;e++)this.column_size[e]=t.column_size[e]}setValue(t,e,r){this.cell_value[e*this.rows+r]=t}setSelectedCell(t,e){this.selected_cell_column===t&&this.selected_cell_row===e||t>=this.columns||e>=this.rows||(this.selected_cell_column=t,this.selected_cell_row=e,this.draw())}getSelectedCellRow(){return this.selected_cell_row}getSelectedCellColumn(){return-1===this.selected_cell_row?-1:this.selected_cell_column}}re.MAX_COL=30;class ie extends bt{constructor(t,e,r,i=0,o=0,n=Z.a.TextHelveticaBold,s=Z.a.Line,a=2,l=pt.a.Helvetica,_=et.f.One,c=!1){if(super(t,r,i,o,n,s,a,_),this.original_color_drawtype=Z.a.Line,this.adjustment=v.Left,this.dynamicsize=0,this.trf=new lt,this.font=l,this.n_name=e,t.grid_on){let e=t.find_grid(this.p);this.p.set(e)}this.get_node_borders(),c||t.set_dirty()}type(){return x.GrowText}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowText:break;case R.GrowText_n_name:this.n_name=t.consumeLine();break;case R.GrowText_x_right:this.x_right=t.consumeFloat();break;case R.GrowText_x_left:this.x_left=t.consumeFloat();break;case R.GrowText_y_high:this.y_high=t.consumeFloat();break;case R.GrowText_y_low:this.y_low=t.consumeFloat();break;case R.GrowText_original_color_drawtype:this.original_color_drawtype=t.consumeInt();break;case R.GrowText_font:this.font=t.consumeInt();break;case R.GrowText_adjustment:this.adjustment=t.consumeInt();break;case R.GrowText_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowText_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowText_text_part:super.open(t);break;case R.GrowText_trf:this.trf.open(t);break;case R.End:return;default:console.log("Syntax error in GrowText:",e),t.consumeLine()}}}event_handler(t){return 0}draw(t=null,e=!1,r=!1,i=null,o=null){if(null===this.text)return;let n=at.multiply(t,this.trf),s=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,a=Math.floor(n.vertical_scale()*s*(this.text_size+4)-4),l=n.vertical_scale()*s*(8+2*this.text_size);a=Math.min(a,et.d-1);let _,c,h=e;null!==i&&(h=i.highlight),null!==i&&i.text_font!==pt.a.No?(_=i.text_font,c=i.text_type):(_=this.font,c=this.draw_type);let u=0,d=0,m=n.apply(this.p),f=m.z_x()-this.ctx.mw.offset.x,w=m.z_y()-this.ctx.mw.offset.y,p=0;this.adjustment===v.Center&&(p=Math.floor(n.rotation<0?n.rotation%360+360:n.rotation%360));let b={width:0,height:0,descent:0};if(""!==this.text){if(h||r&&null===i||this.adjustment!==v.Left)switch(b=this.ctx.gdraw.getTextExtent(this.text,c,_,l,p),this.adjustment){case v.Left:u=f,d=w-(b.height-b.descent);break;case v.Right:u=f-=b.width,d=w-(b.height-b.descent);break;case v.Center:switch(p){case 90:u=f-b.width/2,d=w-b.height/2,f-=b.width/2,w+=b.height/2;break;case 270:u=f-b.width/2,d=w-b.height/2,f-=b.width/2,w-=b.height/2-b.width/2;break;default:u=f-b.width/2,d=w-b.height/2,f-=b.width/2,w+=b.height/2-b.descent}}if(h?this.ctx.gdraw.rect(u,d,b.width,b.height,Z.a.FillHighlight,!1,Math.max(1,Math.min(a+Number(r),2))):r&&null===i&&this.ctx.gdraw.rect(u,d,b.width,b.height,Z.a.LineGray,!1,Math.max(Math.min(a,2),1)),a>=0){let t=$.a.get_drawtype(this.color_drawtype,Z.a.LineHighlight,e,o,2,!1);this.ctx.gdraw.text(f,w,this.text,c,t,_,l,p,e)}}else a>=0&&(b=this.ctx.gdraw.getTextExtent("A",c,_,l,p),this.ctx.gdraw.rect(f,w-(b.height-b.descent),b.width,b.height,Z.a.LineGray,!1,a))}get_node_borders(){let t=new l.i(1e37,1e37,-1e37,-1e37);this.get_borders(this.trf,t),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}get_borders(t,e){if(this.display_level!==et.f.One)return;let r,i,o,n,s,a=t?at.multiply(t,this.trf):this.trf,_=a.apply(this.p),c=a.rotation;if(c=this.adjustment==v.Center?c<0?c%360+360:c%360:0,this.text){let t=Math.floor(a.vertical_scale()*this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),e=a.vertical_scale()*this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);t=Object(l.n)(t,0,et.d-1),r=this.ctx.gdraw.getTextExtent(this.text,this.draw_type,this.font,e,c)}else r=this.ctx.gdraw.getTextExtent("A",this.draw_type,this.font,this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size),c);switch(this.adjustment){case v.Left:i=_.x,n=_.x+r.width/this.ctx.mw.zoom_factor.y,o=_.y-(r.height-r.descent)/this.ctx.mw.zoom_factor.y,s=_.y+r.descent/this.ctx.mw.zoom_factor.y;break;case v.Right:n=_.x,i=_.x-r.width/this.ctx.mw.zoom_factor.y,o=_.y-(r.height-r.descent)/this.ctx.mw.zoom_factor.y,s=_.y+r.descent/this.ctx.mw.zoom_factor.y;break;case v.Center:i=_.x-r.width/this.ctx.mw.zoom_factor.y/2,n=_.x+r.width/this.ctx.mw.zoom_factor.y/2,o=_.y-r.height/this.ctx.mw.zoom_factor.y/2,s=_.y+r.height/this.ctx.mw.zoom_factor.y/2}e.set(l.i.union(e,new l.i(i,o,n,s)))}get_background_object_limits(t,e,r){return null}}var oe=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class ne extends jt{constructor(t,e,r,i,o,n,s,a,l,_=!1){super(t,e,null,a,l,_,!1),this.tools1_mask=0,this.tools2_mask=0,0==n&&0==s||(this.nc=t.get_nodeclass_from_name(r),this.nc||(this.nc=new ut(t,e),this.configure(i,o,n,s,31,15,0,0),t.nodeclass_insert(this.nc)),this.get_node_borders())}type(){return x.GrowToolbar}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowToolbar:break;case R.GrowToolbar_grownode_part:super.open(t);break;case R.End:return;default:console.log("Syntax error in GrowToolbar:",e),t.consumeLine()}}}event_handler(t){return oe(this,void 0,void 0,function*(){if(this.invisible||this.dimmed)return 0;if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y),r=Object(dt.cloneDeep)(t);if(r.x=e.x,r.y=e.y,t.event instanceof MouseEvent&&0===t.event.button){let e=yield this.nc_event_handler(r);if(e)if("mousedown"===t.event.type)this.nc.a[e-1].setColorInverse(1);else if("mouseup"===t.event.type)this.nc.a[e-1].setColorInverse(0);else if("click"===t.event.type){let r=this.get_mask_index(e-1);if(null===r)return 0;this.ctx.send_toolbar_callback(this,r[0],r[1],t.event)}}else{let t=yield this.nc_event_handler(r);if(t)return t}return 0})}nc_event_handler(t){return oe(this,void 0,void 0,function*(){for(let e=0;e<this.nc.a.length;e++){if(yield this.nc.a[e].event_handler(t))return e+1}return 0})}configure(t,e,r,i,o,n,s,a){console.log("Configure show_mask "+o+" "+n);let l=0;this.nc.a.clear(),this.tools1_mask=0;let _=1;for(let e=0;e<r;e++){if(_&o){if(""===t[e]){_<<=1;continue}let r=t[e],i=this.ctx.get_nodeclass_from_name(r);if(null===i){1&this.ctx.loadSubgraph(r+".pwsg")&&(i=this.ctx.get_nodeclass_from_name(r))}if(null!==i){let t;t=new jt(this.ctx,r,i,l,0),console.log("Button "+r+" "+l),this.nc.a.push(t),_&s&&t.setVisibility(G.Dimmed),l+=t.measure().width()+ne.TOOLBAR_SPACING,this.tools1_mask|=_}}_<<=1}l&&(l+=2*ne.TOOLBAR_SPACING),this.tools2_mask=0,_=1;for(let t=0;t<i;t++){if(_&n){if(""===e[t]){_<<=1;continue}let r=e[t],i=this.ctx.get_nodeclass_from_name(r);if(null===i){1&this.ctx.loadSubgraph(r+".pwsg")&&(i=this.ctx.get_nodeclass_from_name(r))}if(null!==i){let t;t=new jt(this.ctx,r,i,l,0),console.log("Button "+r+" "+l),this.nc.a.push(t),_&a&&t.setVisibility(G.Dimmed),l+=t.measure().width()+ne.TOOLBAR_SPACING,this.tools2_mask|=_}}_<<=1}this.get_node_borders(),this.scale(),console.log("Toolbar configure tools_mask "+this.tools1_mask+" "+this.tools2_mask)}get_mask_index(t){let e=0;for(let r=0;r<64;r++){let i=r<32?1<<r:1<<r-32;if((r<32&&this.tools1_mask&i||r>=32&&this.tools2_mask&i)&&e++,e===t+1){let t=r%32,e=r/32+1,i=new Array(2);return i[0]=e,i[1]=t,i}}return null}scale(){if(0!==this.ctx.mw.window_size.x&&this.ur.z_x()-this.ctx.mw.offset.x>this.ctx.mw.window_size.x){let t=(this.ctx.mw.window_size.x-(this.ll.z_x()-this.ctx.mw.offset.x)-10)/(this.ur.z_x()-this.ll.z_x());this.trf.scale(t,1,this.ll.x,this.ll.y),this.get_node_borders()}}}ne.TOOLBAR_SPACING=.2;class se extends Ct{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=et.f.One,_=!1,c=!0,h=Z.a.Line,u=!1){super(t,e,r,i,o,n,s,a,!1,l,_,c,!1,h,u),this.y_max_value=new Array(se.MAX_CURVES),this.y_min_value=new Array(se.MAX_CURVES),this.x_max_value=new Array(se.MAX_CURVES),this.x_min_value=new Array(se.MAX_CURVES),this.vertical_lines=0,this.horizontal_lines=0,this.fill_curve=!1,this.no_of_points=100,this.curve_width=1,this.curve_drawtype=new Array(se.MAX_CURVES),this.curve_fill_drawtype=new Array(se.MAX_CURVES),this.scan_time=1,this.curve=new Array(se.MAX_CURVES),this.curve_cnt=1,this.userdata=null,this.display_x_mark1=!1,this.display_x_mark2=!1,this.display_y_mark1=!1,this.display_y_mark2=!1,this.x_mark1=0,this.x_mark2=0,this.y_mark1=0,this.y_mark2=0,this.mark1_color=Z.a.Inherit,this.mark2_color=Z.a.Inherit;for(let t=0;t<se.MAX_CURVES;t++)this.y_min_value[t]=0,this.y_max_value[t]=100,this.x_min_value[t]=0,this.x_max_value[t]=100,this.curve[t]=null,this.curve_drawtype[t]=Z.a.Inherit,this.curve_fill_drawtype[t]=Z.a.Inherit;this.configure_curves(),u||t.set_dirty()}type(){return x.GrowTrend}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowTrend:break;case R.GrowTrend_y_max_value_0:this.y_max_value[0]=t.consumeFloat();break;case R.GrowTrend_y_max_value_1:this.y_max_value[1]=t.consumeFloat();break;case R.GrowTrend_y_min_value_0:this.y_min_value[0]=t.consumeFloat();break;case R.GrowTrend_y_min_value_1:this.y_min_value[1]=t.consumeFloat();break;case R.GrowTrend_x_max_value_0:this.x_max_value[0]=t.consumeFloat();break;case R.GrowTrend_x_max_value_1:this.x_max_value[1]=t.consumeFloat();break;case R.GrowTrend_x_min_value_0:this.x_min_value[0]=t.consumeFloat();break;case R.GrowTrend_x_min_value_1:this.x_min_value[1]=t.consumeFloat();break;case R.GrowTrend_horizontal_lines:this.horizontal_lines=t.consumeInt();break;case R.GrowTrend_vertical_lines:this.vertical_lines=t.consumeInt();break;case R.GrowTrend_fill_curve:this.fill_curve=t.consumeBool();break;case R.GrowTrend_curve_drawtype_0:this.curve_drawtype[0]=t.consumeInt();break;case R.GrowTrend_curve_drawtype_1:this.curve_drawtype[1]=t.consumeInt();break;case R.GrowTrend_curve_fill_drawtype_0:this.curve_fill_drawtype[0]=t.consumeInt();break;case R.GrowTrend_curve_fill_drawtype_1:this.curve_fill_drawtype[1]=t.consumeInt();break;case R.GrowTrend_no_of_points:this.no_of_points=t.consumeInt();break;case R.GrowTrend_curve_width:this.curve_width=t.consumeInt();break;case R.GrowTrend_scan_time:this.scan_time=t.consumeFloat();break;case R.GrowTrend_rect_part:super.open(t);break;case R.GrowTrend_trace_data1:case R.GrowTrend_trace_data2:case R.GrowTrend_trace_data3:case R.GrowTrend_trace_data4:case R.GrowTrend_trace_data5:case R.GrowTrend_trace_data6:case R.GrowTrend_trace_data7:case R.GrowTrend_trace_data8:case R.GrowTrend_trace_data9:case R.GrowTrend_trace_data10:case R.GrowTrend_trace_attr_type:case R.GrowTrend_trace_color:case R.GrowTrend_access:case R.GrowTrend_cycle:case R.GrowTrend_ref_object:t.consumeLine();break;case R.GrowTrend_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,O.Node));break;case R.End:return void this.configure_curves();default:console.log("Syntax error in GrowTrend:",e),t.consumeLine()}}}draw(t=null,e=!1,r=!1,i=null,o=null){let n;n=null!==i&&i.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*i.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),n=Object(l.n)(n+r,0,et.d-1);let s=at.multiply(t,this.trf),a=s.apply(this.ll),_=s.apply(this.ur),c=Math.floor(a.z_x())-this.ctx.mw.offset.x,h=Math.floor(a.z_y())-this.ctx.mw.offset.y,u=Math.floor(_.z_x())-this.ctx.mw.offset.x,d=Math.floor(_.z_y())-this.ctx.mw.offset.y,m=Math.min(c,u),f=Math.max(c,u),w=Math.min(h,d),p=Math.max(h,d);if(this.fill){let t=this.gradient;this.gradient!==l.d.No||null===i||i.gradient===l.d.No||this.disable_gradient||(t=i.gradient);let r=$.a.get_drawtype(this.fill_drawtype,Z.a.FillHighlight,e,o,1,!1);if(t===l.d.No)this.ctx.gdraw.rect(m,w,f-m,p-w,r,!0);else{let e,i;this.gradient_contrast,i=$.a.shift_drawtype(r,-this.gradient_contrast/2,null),e=$.a.shift_drawtype(r,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_rect(m,w,f-m,p-w,r,e,i,this.ctx.gdraw.gradient_rotate(s.rotation,t))}}let b=$.a.get_drawtype(this.draw_type,Z.a.LineHighlight,e,o,0,!1),g=this.curve.slice(0,this.curve_cnt).filter(t=>null!==t);if(this.fill_curve)for(let t=0;t<g.length;t++)g[t].border=!1,g[t].draw(s,e,r,i,o),g[t].border=!0;for(let t=0;t<this.vertical_lines;t++){let e=Math.floor(m+(f-m)/(this.vertical_lines+1)*(t+1));this.ctx.gdraw.line(e,w,e,p,b)}for(let t=0;t<this.horizontal_lines;t++){let e=Math.floor(w+(p-w)/(this.horizontal_lines+1)*(t+1));this.ctx.gdraw.line(m,e,f,e,b)}this.fill_curve&&g.forEach(t=>t.fill=!1);for(let t=0;t<g.length;t++)g[t].draw(s,e,r,i,o);if(this.fill_curve&&g.forEach(t=>t.fill=!0),this.display_x_mark1){let t=s.apply(new rt(this.ctx,this.x_mark1,this.ll.y)).z_x()-this.ctx.mw.offset.x;t>=m&&t<=f&&((b=this.mark1_color)===Z.a.Inherit&&(b=Z.a.ColorYellow),this.ctx.gdraw.line(t,w,t,p,b,n))}if(this.display_x_mark2){let t=s.apply(new rt(this.ctx,this.x_mark2,this.ll.y)).z_x()-this.ctx.mw.offset.x;t>=m&&t<=f&&((b=this.mark2_color)===Z.a.Inherit&&(b=Z.a.ColorYellow),this.ctx.gdraw.line(t,w,t,p,b,n))}if(this.display_y_mark1){let t=s.apply(new rt(this.ctx,this.ll.x,this.y_mark1)).z_y()-this.ctx.mw.offset.y;t>=w&&t<=p&&((b=this.mark1_color)===Z.a.Inherit&&(b=Z.a.ColorYellow),this.ctx.gdraw.line(m,t,f,t,b,n))}if(this.display_y_mark2){let t=s.apply(new rt(this.ctx,this.ll.x,this.y_mark2)).z_y()-this.ctx.mw.offset.y;t>=w&&t<=p&&((b=this.mark2_color)===Z.a.Inherit&&(b=Z.a.ColorYellow),this.ctx.gdraw.line(m,t,f,t,b,n))}this.border&&this.ctx.gdraw.rect(m,w,f-m,p-w,b,!1,n)}set_range(t,e,r){0!==t&&1!==t||(this.y_max_value[t]=r,this.y_min_value[t]=e,this.configure_curves())}configure_curves(t){this.curve_cnt=2,this.no_of_points=Math.max(2,this.no_of_points);let e=this.no_of_points;this.fill_curve&&(e+=2),this.curve_width=Math.min(et.d,Math.max(1,this.curve_width));let r=[];for(let t=0;t<e;t++)if(this.fill_curve){let i;i=0===t?this.ur.x:t===e-1?this.ll.x:this.ur.x-(t-1)*(this.ur.x-this.ll.x)/(e-3),r.push(new rt(this.ctx,i,this.ur.y))}else{let i=this.ur.x-t*(this.ur.x-this.ll.x)/(e-1);r.push(new rt(this.ctx,i,this.ur.y))}for(let t=0;t<this.curve_cnt;t++){let i=this.curve_drawtype[t]===Z.a.Inherit?this.draw_type:this.curve_drawtype[t],o=this.curve_fill_drawtype[t]===Z.a.Inherit?this.draw_type:this.curve_fill_drawtype[t];this.ctx.set_nodraw(),this.curve[t]=new $t(this.ctx,"",r,e,i,this.curve_width,!1,this.fill_curve,!0,!1,o),this.ctx.reset_nodraw()}}set_range_y(t,e,r){if(0===t||1===t){if(0===t){if(this.display_y_mark1){let t=this.y_min_value[0]-(this.y_mark1-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark1=this.ur.y-(t-e)/(r-e)*(this.ur.y-this.ll.y)}if(this.display_y_mark2){let t=this.y_min_value[0]-(this.y_mark2-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark2=this.ur.y-(t-e)/(r-e)*(this.ur.y-this.ll.y)}}this.y_max_value[t]=r,this.y_min_value[t]=e,this.configure_curves()}}add_value(t,e){if(e>=this.curve_cnt)return;let r=0;this.y_max_value[e]!==this.y_min_value[e]&&(r=this.ur.y-(t-this.y_min_value[e])/(this.y_max_value[e]-this.y_min_value[e])*(this.ur.y-this.ll.y)),r=Object(l.n)(r,this.ll.y,this.ur.y),this.fill_curve?this.curve[e].add_and_shift_y_value_filled(r):this.curve[e].add_and_shift_y_value(r),this.draw()}set_scan_time(t){this.scan_time=t,this.configure_curves()}get_scan_time(){return this.scan_time}get_no_of_points(){return this.no_of_points}set_x_mark1(t){this.display_x_mark1=!0,this.x_mark1=this.ll.x+(t-this.x_min_value[0])/(this.x_max_value[0]-this.x_min_value[0])*(this.ur.x-this.ll.x),this.draw()}set_x_mark2(t){this.display_x_mark2=!0,this.x_mark2=this.ll.x+(t-this.x_min_value[0])/(this.x_max_value[0]-this.x_min_value[0])*(this.ur.x-this.ll.x),this.draw()}set_y_mark1(t){this.display_y_mark1=!0,this.y_mark1=this.ur.y-(t-this.y_min_value[0])/(this.y_max_value[0]-this.y_min_value[0])*(this.ur.y-this.ll.y),this.draw()}set_y_mark2(t){this.display_y_mark2=!0,this.y_mark2=this.ur.y-(t-this.y_min_value[0])/(this.y_max_value[0]-this.y_min_value[0])*(this.ur.y-this.ll.y),this.draw()}set_mark_color(t,e){this.mark1_color=t,this.mark2_color=e}set_lines(t,e){this.vertical_lines=t,this.horizontal_lines=e}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,r){return null}}se.MAX_CURVES=11;class ae extends se{constructor(t,e,r=0,i=0,o=0,n=0,s=Z.a.Line,a=1,l=et.f.One,_=!1,c=!0,h=Z.a.Line,u=!1){super(t,e,r,i,o,n,s,a,l,_,c,h,u)}type(){return x.GrowXYCurve}open(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowXYCurve:break;case R.GrowXYCurve_trend_part:super.open(t);break;case R.End:return;default:console.log("Syntax error in GrowXYCurve:",e),t.consumeLine()}}}set_xy_range_x(t,e,r){if(!(t>se.MAX_CURVES||t<0)){if(0===t){if(this.display_x_mark1){let t=(this.x_mark1-this.ll.x)*(this.x_max_value[0]-this.x_min_value[0])/(this.ur.x-this.ll.x)+this.x_min_value[0];this.x_mark1=this.ll.x+(t-e)/(r-e)*(this.ur.x-this.ll.x)}if(this.display_x_mark2){let t=(this.x_mark2-this.ll.x)*(this.x_max_value[0]-this.x_min_value[0])/(this.ur.x-this.ll.x)+this.x_min_value[0];this.x_mark2=this.ll.x+(t-e)/(r-e)*(this.ur.x-this.ll.x)}}this.x_max_value[t]=r,this.x_min_value[t]=e}}set_xy_range_y(t,e,r){if(!(t>se.MAX_CURVES||t<0)){if(0===t){if(this.display_y_mark1){let t=this.y_min_value[0]-(this.y_mark1-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark1=this.ur.y-(t-e)/(r-e)*(this.ur.y-this.ll.y)}if(this.display_y_mark2){let t=this.y_min_value[0]-(this.y_mark2-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark2=this.ur.y-(t-e)/(r-e)*(this.ur.y-this.ll.y)}}this.y_max_value[t]=r,this.y_min_value[t]=e}}set_xy_noofcurves(t){this.curve_cnt=t}set_xy_curve_color(t,e,r){t>se.MAX_CURVES||t<0||(this.curve_drawtype[t]=e,this.curve_fill_drawtype[t]=r)}set_xy_data(t,e,r,i){if(r>se.MAX_CURVES||r<0)return;this.no_of_points=Math.max(2,this.no_of_points);let o=Math.min(this.no_of_points,i);this.fill_curve&&(o+=2),this.curve_width=Object(l.n)(this.curve_width,1,et.d);let n=new Array(o),s=r,a=0;for(let r=0;r<o;r++){let i=new l.f;n[r]=new l.f,this.fill_curve?0===r?(this.x_max_value[s]!==this.x_min_value[s]&&(i.x=this.ll.x+(e[a]-this.x_min_value[s])/(this.x_max_value[s]-this.x_min_value[s])*(this.ur.x-this.ll.x)),i.x=Object(l.n)(i.x,this.ll.x,this.ur.x),i.y=this.ur.y,a--):r===o-1?(this.x_max_value[s]!==this.x_min_value[s]&&(i.x=this.ll.x+(e[a-1]-this.x_min_value[s])/(this.x_max_value[s]-this.x_min_value[s])*(this.ur.x-this.ll.x)),i.x=Object(l.n)(i.x,this.ll.x,this.ur.x),i.y=this.ur.y):(this.y_max_value[s]!==this.y_min_value[s]&&(i.y=this.ur.y-(t[a]-this.y_min_value[s])/(this.y_max_value[s]-this.y_min_value[s])*(this.ur.y-this.ll.y)),i.y=Object(l.n)(i.y,this.ll.y,this.ur.y),this.x_max_value[s]!==this.x_min_value[s]&&(i.x=this.ll.x+(e[a]-this.x_min_value[s])/(this.x_max_value[s]-this.x_min_value[s])*(this.ur.x-this.ll.x)),i.x=Object(l.n)(i.x,this.ll.x,this.ur.x)):(a=r,this.y_max_value[s]!==this.y_min_value[s]&&(i.y=this.ur.y-(t[a]-this.y_min_value[s])/(this.y_max_value[s]-this.y_min_value[s])*(this.ur.y-this.ll.y)),i.y=Object(l.n)(i.y,this.ll.y,this.ur.y),this.x_max_value[s]!==this.x_min_value[s]&&(i.x=this.ll.x+(e[a]-this.x_min_value[s])/(this.x_max_value[s]-this.x_min_value[s])*(this.ur.x-this.ll.x)),i.x=Object(l.n)(i.x,this.ll.x,this.ur.x)),a++}let _=this.curve_drawtype[s]===Z.a.Inherit?this.draw_type:this.curve_drawtype[s],c=this.curve_fill_drawtype[s]===Z.a.Inherit?this.draw_type:this.curve_fill_drawtype[s];this.ctx.set_nodraw(),this.curve[s]=new $t(this.ctx,"",n,o,_,this.curve_width,!1,this.fill_curve,!0,!1,c),this.ctx.reset_nodraw(),this.ctx.set_dirty()}}class le extends Array{constructor(t){super(),this.clear=()=>this.length=0,this.ctx=t}remove(t){let e=this.indexOf(t);return-1!=e&&this.splice(e,1),-1!=e}open(t){for(;;){let e,r=t.consumeInt();switch(r){case R.Array:break;case R.NodeClass:(e=new ut(this.ctx,"")).open(t),this.push(e);break;case R.NodeGroup:(e=new mt(this.ctx,"")).open(t),this.push(e);break;case R.ConClass:(e=new st(this.ctx)).open(t),this.push(e);break;case R.Con:(e=new nt(this.ctx)).open(t),this.push(e);break;case R.GrowNode:if((e=new jt(this.ctx,"",null,0,0)).open(t),null===e.nc)break;this.push(e);break;case R.GrowSlider:(e=new Kt(this.ctx,"",null,0,0)).open(t),this.push(e);break;case R.GrowGroup:(e=new qt(this.ctx,"")).open(t),this.push(e);break;case R.GrowConGlue:(e=new Ft(this.ctx,"")).open(t),this.push(e);break;case R.GrowRect:(e=new Ct(this.ctx,"")).open(t),this.push(e);break;case R.GrowRectRounded:(e=new Zt(this.ctx,"")).open(t),this.push(e);break;case R.Line:(e=new ct(this.ctx)).open(t),this.push(e);break;case R.Arc:(e=new it(this.ctx)).open(t),this.push(e);break;case R.Rect:(e=new ft(this.ctx)).open(t),this.push(e);break;case R.Text:(e=new bt(this.ctx,"")).open(t),this.push(e);break;case R.Arrow:(e=new ot(this.ctx)).open(t),this.push(e);break;case R.GrowArc:(e=new xt(this.ctx)).open(t),this.push(e);break;case R.GrowLine:(e=new Yt(this.ctx,"")).open(t),this.push(e);break;case R.GrowPolyLine:(e=new $t(this.ctx)).open(t),this.push(e);break;case R.GrowText:(e=new ie(this.ctx,"","")).open(t),this.push(e);break;case R.ConPoint:(e=new _t(this.ctx)).open(t),this.push(e);break;case R.GrowConPoint:(e=new Dt(this.ctx,"")).open(t),this.push(e);break;case R.GrowAnnot:(e=new yt(this.ctx)).open(t),this.push(e);break;case R.GrowBar:(e=new It(this.ctx,"")).open(t),this.push(e);break;case R.GrowBarArc:(e=new Lt(this.ctx)).open(t),this.push(e);break;case R.GrowTrend:(e=new se(this.ctx,"",0,0,0,0,Z.a.Line,1,et.f.One,!1,!0,Z.a.Line,!0)).open(t),this.push(e);break;case R.GrowXYCurve:(e=new ae(this.ctx,"")).open(t),this.push(e);break;case R.GrowTable:(e=new re(this.ctx,"")).open(t),this.push(e);break;case R.GrowAxis:(e=new Tt(this.ctx,"")).open(t),this.push(e);break;case R.GrowAxisArc:(e=new St(this.ctx)).open(t),this.push(e);break;case R.GrowImage:(e=new Xt(this.ctx)).open(t),this.push(e);break;case R.GrowWindow:(e=new Ut(this.ctx,"")).open(t),this.push(e);break;case R.GrowFolder:(e=new Ht(this.ctx,"")).open(t),this.push(e);break;case R.GrowPie:(e=new Wt(this.ctx)).open(t),this.push(e);break;case R.GrowBarChart:(e=new At(this.ctx,"")).open(t),this.push(e);break;case R.GrowToolbar:(e=new ne(this.ctx,"","",null,null,0,0,0,0,!1)).open(t),this.push(e);break;case R.Point:(e=new rt(this.ctx)).open(t),this.push(e);break;case R.End:return;default:console.log("Syntax error in GlowVector:",r),t.consumeLine()}}}draw(t,e,r,i,o){for(let n=0;n<this.length;n++)this[n].draw(t,e,r,i,o)}}class _e{constructor(){this.zoom_factor=new l.f(1,1),this.base_zoom_factor=1,this.offset=new l.f,this.window_size=new l.f,this.subwindow=new l.f,this.subwindow_scale=1}}class ce extends l.i{constructor(){super(),this.nodraw=0,this.grid_size=new l.f,this.mw=new _e,this.navw=new _e}draw(t=null,e=!1,r=!1,i=null,o=null){if(!this.nodraw&&this.is_dirty){for(let t=0;t<this.a.length;t++)this.a[t].type()===x.Con&&this.a[t].draw();for(let t=0;t<this.a.length;t++)this.a[t].type()!==x.Con&&this.a[t].draw();this.is_dirty=!1}}find_grid(t){if(!this.grid_on)return t;let e=Math.floor(t.x/this.grid_size.x)*this.grid_size.x,r=Math.floor(t.y/this.grid_size.y)*this.grid_size.y;return new l.f(t.x-e<.5*this.grid_size.x?e:e+this.grid_size.x,t.y-r<.5*this.grid_size.y?r:r+this.grid_size.y)}zoom_absolute(t){Math.abs(t)<Number.EPSILON||(this.mw.offset.x=Math.floor((this.mw.offset.x-this.mw.window_size.x/2*(this.mw.zoom_factor.x/t-1))*t/this.mw.zoom_factor.x),this.mw.offset.y=Math.floor((this.mw.offset.y-this.mw.window_size.y/2*(this.mw.zoom_factor.y/t-1))*t/this.mw.zoom_factor.y),this.mw.zoom_factor.x=this.mw.zoom_factor.y=t)}scroll(t,e){let r=t*this.mw.window_size.x,i=e*this.mw.window_size.y;i<0&&this.mw.offset.y+this.mw.window_size.y>this.ur.y*this.mw.zoom_factor.y?i=0:i>0&&this.mw.offset.y<this.ll.y*this.mw.zoom_factor.y&&(i=0),r<0&&this.mw.offset.x+this.mw.window_size.x>this.ur.x*this.mw.zoom_factor.x?r=0:r>0&&this.mw.offset.x<this.ll.x*this.mw.zoom_factor.x&&(r=0),0==r&&0==i||this.scroll2(r,i)}scroll2(t,e){this.mw.offset.x-=t,this.mw.offset.y-=e,this.set_dirty()}set_nodraw(){this.nodraw++}reset_nodraw(){this.nodraw>0&&this.nodraw--}set_dirty(){this.nodraw||this.is_dirty||(this.is_dirty=!0,setTimeout(this.draw.bind(this),25))}zoom(t){Math.abs(t)<Number.EPSILON||(this.mw.zoom_factor.x*=t,this.mw.zoom_factor.y*=t,this.mw.offset.x=Math.floor((this.mw.offset.x-this.mw.window_size.x/2*(1/t-1))*t),this.mw.offset.y*=Math.floor((this.mw.offset.y-this.mw.window_size.y/2*(1/t-1))*t))}zoom_x(t){Math.abs(t)<Number.EPSILON||(this.mw.zoom_factor.x=t)}zoom_y(t){Math.abs(t)<Number.EPSILON||(this.mw.zoom_factor.y=t)}unzoom(){this.zoom(this.mw.base_zoom_factor/this.mw.zoom_factor.x)}enable_event(t,e,r){switch(e){case F.RegionSelect:this.event_region_select=t;break;case F.RegionAddSelect:this.event_region_add_select=t;break;case F.CreateCon:this.event_create_con=t;break;case F.CreateNode:this.event_create_node=t;break;case F.MoveNode:this.event_move_node=t}this.event_callback[t]=r}disable_event(t){this.event_region_select==t?this.event_region_select=null:this.event_create_con==t?this.event_create_con=null:this.event_create_node==t?this.event_create_node=null:this.event_move_node==t&&(this.event_move_node=null),this.event_callback[t]=0}disable_event_all(){this.event_region_select=null,this.event_create_con=null,this.event_create_node=null,this.event_move_node=null,this.event_callback.clear()}}var he=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class ue extends ce{constructor(t){super(),this.appl=null,this.antiAliasing=0,this.name=null,this.version=0,this.background_color=0,this.dynamicsize=0,this.arg_cnt=0,this.argname=[],this.argtype=[],this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.path_cnt=0,this.path=[],this.dyn_type1=0,this.dyn_type2=0,this.dyn_action_type1=0,this.dyn_action_type2=0,this.dyn_color=[],this.dyn_attr=[],this.slider=0,this.subgraph=0,this.scantime=0,this.fast_scantime=0,this.animation_scantime=0,this.java_width=0,this.background_image=null,this.background_tiled=0,this.double_buffered=!1,this.cycle=0,this.mb3_action=0,this.translate_on=0,this.input_focus_mark=0,this.hot_indication=0,this.app_motion=L.Both,this.color_theme=null,this.default_color_theme="pwr_colortheme1.pwgc",this.userdata=null,this.callback_object=null,this.callback_object_type=0,this.hot_mode=0,this.hot_found=0,this.restriction_object=null,this.move_restriction=0,this.restriction_max_limit=0,this.restriction_min_limit=0,this.recursive_trace=0,this.owner="",this.sliderActive=!1,this.sliderObject=null,this.node_move_last_x=0,this.node_move_last_y=0,this.slider_cursor_offset=0,this.trace_started=!1,this.drawing=!1,this.polyline_last_end=new l.f,this.customcolors=new K,this.a=new le(this),this.a_nc=new le(this),this.a_cc=new le(this),this.gdraw=t?t.gdraw:new Q.a}open(t){let e=!1,r=!1;for(;;){let i=t.consumeInt();switch(i){case R.Ctx:break;case R.Ctx_zoom_factor_x:this.mw.zoom_factor.x=t.consumeFloat();break;case R.Ctx_zoom_factor_y:this.mw.zoom_factor.y=t.consumeFloat(),e=!0;break;case R.Ctx_base_zoom_factor:this.mw.base_zoom_factor=t.consumeFloat();break;case R.Ctx_offset_x:this.mw.offset.x=t.consumeInt();break;case R.Ctx_offset_y:this.mw.offset.y=t.consumeInt();break;case R.Ctx_nav_zoom_factor_x:this.navw.zoom_factor.x=t.consumeFloat();break;case R.Ctx_nav_zoom_factor_y:this.navw.zoom_factor.y=t.consumeFloat();break;case R.Ctx_print_zoom_factor:this.print_zoom_factor=t.consumeFloat();break;case R.Ctx_nav_offset_x:this.navw.offset.x=t.consumeInt();break;case R.Ctx_nav_offset_y:this.navw.offset.y=t.consumeInt();break;case R.Ctx_x_right:this.ur.x=t.consumeFloat();break;case R.Ctx_x_left:this.ll.x=t.consumeFloat();break;case R.Ctx_y_high:this.ur.y=t.consumeFloat();break;case R.Ctx_y_low:this.ll.y=t.consumeFloat();break;case R.Ctx_nav_rect_ll_x:this.nav_rect_ll_x=t.consumeInt();break;case R.Ctx_nav_rect_ll_y:this.nav_rect_ll_y=t.consumeInt();break;case R.Ctx_nav_rect_ur_x:this.nav_rect_ur_x=t.consumeInt();break;case R.Ctx_nav_rect_ur_y:this.nav_rect_ur_y=t.consumeInt();break;case R.Ctx_nav_rect_hot:this.nav_rect_hot=t.consumeBool();break;case R.Ctx_name:this.name=t.consumeLine();break;case R.Ctx_user_highlight:this.user_highlight=t.consumeBool();break;case R.Ctx_grid_size_x:this.grid_size.x=t.consumeFloat();break;case R.Ctx_grid_size_y:this.grid_size.y=t.consumeFloat();break;case R.Ctx_grid_on:this.grid_on=t.consumeBool();break;case R.Ctx_draw_delta:this.draw_delta=t.consumeFloat();break;case R.Ctx_refcon_width:this.refcon_width=t.consumeFloat();break;case R.Ctx_refcon_height:this.refcon_height=t.consumeFloat();break;case R.Ctx_refcon_textsize:this.refcon_textsize=t.consumeInt();break;case R.Ctx_refcon_linewidth:this.refcon_linewidth=t.consumeInt();break;case R.Ctx_version:this.version=t.consumeInt();break;case R.Ctx_hot_indication:this.hot_indication=t.consumeInt();break;case R.Ctx_tiptext_size:this.tiptext_size=t.consumeInt();break;case R.Ctx_app_motion:this.app_motion=t.consumeInt();break;case R.Ctx_color_theme:this.color_theme=t.consumeLine();break;case R.Ctx_grow:this.open_grow(t);break;case R.Ctx_a_nc:this.a_nc.open(t);break;case R.Ctx_a_cc:this.a_cc.open(t);break;case R.Ctx_a:this.a.open(t);break;case R.Ctx_comment:this.open_comment(t);break;case R.End:r=!0;break;case R.Comment:t.consumeLine();break;default:console.log("Syntax error in GrowCtx",i)}if(r)break}e||(this.mw.zoom_factor.y=this.mw.zoom_factor.x),this.color_theme&&("$default"===this.color_theme?this.default_color_theme&&(this.customcolors.read_colorfile(this.default_color_theme),this.gdraw.push_customcolors(this.customcolors)):(this.customcolors.read_colorfile(this.color_theme),this.gdraw.push_customcolors(this.customcolors)))}open_comment(t){for(t.consumeLine();;){let e=t.consumeLine();if("!"!==e[0]&&!e.startsWith("!*/"))break}}open_grow(t){for(;;){let e=t.consumeInt();switch(e){case R.GrowCtx:break;case R.GrowCtx_conpoint_num_cnt:this.conpoint_num_cnt=t.consumeInt();break;case R.GrowCtx_objectname_cnt:this.objectname_cnt=t.consumeInt();break;case R.GrowCtx_name:this.name=t.consumeLine();break;case R.GrowCtx_background_color:this.background_color=t.consumeInt();break;case R.GrowCtx_dynamicsize:this.dynamicsize=t.consumeInt();break;case R.GrowCtx_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case R.GrowCtx_arg_cnt:this.arg_cnt=t.consumeInt();break;case R.GrowCtx_argname:for(let e=0;e<this.arg_cnt;e++)this.argname[e]=t.consumeLine();break;case R.GrowCtx_argtype:for(let e=0;e<this.arg_cnt;e++)this.argtype[e]=t.consumeInt();break;case R.GrowCtx_x0:this.x0=t.consumeFloat();break;case R.GrowCtx_y0:this.y0=t.consumeFloat();break;case R.GrowCtx_x1:this.x1=t.consumeFloat();break;case R.GrowCtx_y1:this.y1=t.consumeFloat();break;case R.End:return this.mw.offset.x=this.x0*this.mw.zoom_factor.x,void(this.mw.offset.y=this.y0*this.mw.zoom_factor.y);case R.GrowCtx_path_cnt:this.path_cnt=t.consumeInt();break;case R.GrowCtx_path:for(let e=0;e<this.path_cnt;e++)this.path[e]=t.consumeLine();break;case R.GrowCtx_dyn_type1:this.dyn_type1=t.consumeInt();break;case R.GrowCtx_dyn_type2:this.dyn_type2=t.consumeInt();break;case R.GrowCtx_dyn_action_type1:this.dyn_action_type1=t.consumeInt();break;case R.GrowCtx_dyn_action_type2:this.dyn_action_type2=t.consumeInt();break;case R.GrowCtx_dyn_color1:this.dyn_color[0]=t.consumeInt();break;case R.GrowCtx_dyn_color2:this.dyn_color[1]=t.consumeInt();break;case R.GrowCtx_dyn_color3:this.dyn_color[2]=t.consumeInt();break;case R.GrowCtx_dyn_color4:this.dyn_color[3]=t.consumeInt();break;case R.GrowCtx_dyn_attr1:this.dyn_attr[0]=t.consumeInt();break;case R.GrowCtx_dyn_attr2:this.dyn_attr[1]=t.consumeInt();break;case R.GrowCtx_dyn_attr3:this.dyn_attr[2]=t.consumeInt();break;case R.GrowCtx_dyn_attr4:this.dyn_attr[3]=t.consumeInt();break;case R.GrowCtx_no_con_obstacle:this.no_con_obstacle=t.consumeBool();break;case R.GrowCtx_slider:this.slider=t.consumeInt();break;case R.GrowCtx_subgraph:this.subgraph=t.consumeInt();break;case R.GrowCtx_java_name:t.consumeLine();break;case R.GrowCtx_is_javaapplet:case R.GrowCtx_is_javaapplication:t.consumeInt();break;case R.GrowCtx_next_subgraph:this.next_subgraph=t.consumeLine();break;case R.GrowCtx_animation_count:this.animation_count=t.consumeInt();break;case R.GrowCtx_scantime:this.scantime=t.consumeFloat();break;case R.GrowCtx_fast_scantime:this.fast_scantime=t.consumeFloat();break;case R.GrowCtx_animation_scantime:this.animation_scantime=t.consumeFloat();break;case R.GrowCtx_java_width:this.java_width=t.consumeInt();break;case R.GrowCtx_background_image:this.background_image=t.consumeLine();break;case R.GrowCtx_background_tiled:this.background_tiled=t.consumeInt();break;case R.GrowCtx_double_buffered:this.double_buffered=t.consumeBool();break;case R.GrowCtx_cycle:this.cycle=t.consumeInt();break;case R.GrowCtx_mb3_action:this.mb3_action=t.consumeInt();break;case R.GrowCtx_translate_on:this.translate_on=t.consumeInt();break;case R.GrowCtx_input_focus_mark:this.input_focus_mark=t.consumeInt();break;case R.GrowCtx_recursive_trace:this.recursive_trace=t.consumeInt();break;case R.GrowCtx_userdata_cb:this.appl&&(this.userdata=this.appl.growUserdataOpen(t,O.Ctx));break;case R.GrowCtx_bitmap_fonts:t.consumeInt();break;case R.GrowCtx_customcolors:this.customcolors||(this.customcolors=new K),this.customcolors.open(t);break;default:console.log("Syntax error in GrowCtx:",e),t.consumeLine()}}}get_nodeclass_from_name(t){return this.a_nc.find(e=>e.nc_name===t)}get_conclass_from_name(t){return this.a_cc.find(e=>e.cc_name===t)}event_handler(t){return he(this,void 0,void 0,function*(){let e=0;t.x,this.mw.zoom_factor.x,this.mw.offset.x,t.y,this.mw.zoom_factor.y,this.mw.offset.y;this.callback_object=null,this.callback_object_type=x.NoObject;for(let r=this.a.length-1;r>=0;r--){if((e=yield this.a[r].event_handler(t))===u)return e;if(1===e||e===m)break}if("mousedown"===t.event.type){if(1===e&&this.callback_object&&this.callback_object.type()===x.GrowSlider){this.node_move_last_x=t.x,this.node_move_last_y=t.y,this.sliderActive=!0,this.sliderObject=this.callback_object;let e=new U(new CustomEvent("SliderMoveStart"));e.type=F.Object,e.x=t.x,e.y=t.y,e.object=this.callback_object,yield this.appl.event_handler(e),this.restriction_object&&(this.move_restriction===E.VerticalSlider?this.slider_cursor_offset=this.restriction_object.ll.y-t.y:this.slider_cursor_offset=this.restriction_object.ll.x-t.x)}}else if("mouseup"===t.event.type){if(this.sliderActive){if(this.restriction_object){let e=new U(new CustomEvent("SliderMoveEnd"));e.type=F.Object,e.x=t.x,e.y=t.y,e.object=this.restriction_object,yield this.appl.event_handler(e),this.restriction_object=null}this.sliderObject=null,this.sliderActive=!1}}else if("mousemove"===t.event.type&&t.event.buttons&&this.sliderActive&&this.restriction_object)switch(this.move_restriction){case E.VerticalSlider:{let e,r=t.y;if(r+this.slider_cursor_offset>this.restriction_max_limit){if(this.node_move_last_y+this.slider_cursor_offset>this.restriction_max_limit)break;e=this.restriction_max_limit-this.node_move_last_y-this.slider_cursor_offset}else if(r+this.slider_cursor_offset<this.restriction_min_limit){if(this.node_move_last_y+this.slider_cursor_offset<this.restriction_min_limit)break;e=this.restriction_min_limit-this.node_move_last_y-this.slider_cursor_offset}else e=this.node_move_last_y+this.slider_cursor_offset>this.restriction_max_limit?r+this.slider_cursor_offset-this.restriction_max_limit:this.node_move_last_y+this.slider_cursor_offset<this.restriction_min_limit?r+this.slider_cursor_offset-this.restriction_min_limit:t.y-this.node_move_last_y;if(0===e)break;this.node_move_last_x=t.x,this.node_move_last_y=t.y,e=Object(l.n)(e,this.restriction_min_limit-this.restriction_object.ll.y,this.restriction_max_limit-this.restriction_object.ll.y),this.restriction_object.move(0,e);let i=new U(new CustomEvent("SliderMoved"));i.type=F.Object,i.x=t.x,i.y=this.node_move_last_y+e,i.object=this.restriction_object,yield this.appl.event_handler(i);break}case E.HorizontalSlider:{let e,r=t.x;if(r+this.slider_cursor_offset>this.restriction_max_limit){if(this.node_move_last_x+this.slider_cursor_offset>this.restriction_max_limit)break;e=this.restriction_max_limit-this.node_move_last_x-this.slider_cursor_offset}else if(r+this.slider_cursor_offset<this.restriction_min_limit){if(this.node_move_last_x+this.slider_cursor_offset<this.restriction_min_limit)break;e=this.restriction_min_limit-this.node_move_last_x-this.slider_cursor_offset}else e=this.node_move_last_x+this.slider_cursor_offset>this.restriction_max_limit?r+this.slider_cursor_offset-this.restriction_max_limit:this.node_move_last_x+this.slider_cursor_offset<this.restriction_min_limit?r+this.slider_cursor_offset-this.restriction_min_limit:t.x-this.node_move_last_x;if(0===e)break;this.node_move_last_x=t.x,this.node_move_last_y=t.y,e=Object(l.n)(e,this.restriction_min_limit-this.restriction_object.ll.x,this.restriction_max_limit-this.restriction_object.ll.x),this.restriction_object.move(e,0);let i=new U(new CustomEvent("SliderMoved"));i.type=F.Object,i.x=this.node_move_last_x+e,i.y=t.y,i.object=this.restriction_object,yield this.appl.event_handler(i);break}}if(this.event_handler[t.event.type]&&e!==m){let e=new U(t.event);e.type=F.Object,e.x=(t.x+this.mw.offset.x)/this.mw.zoom_factor.x,e.y=(t.y+this.mw.offset.y)/this.mw.zoom_factor.y,this.callback_object_type!==x.NoObject&&(e.object=this.callback_object);let r=this.event_callback[t.event.type](this,e);if(r===u||r===d)return r}return 1===e&&this.appl&&(t.object=this.callback_object,yield this.appl.event_handler(t)),e})}getWidth(){return this.gdraw.canvas.width}getHeight(){return this.gdraw.canvas.height}traceConnect(){this.nodraw++;let t=[x.GrowNode,x.GrowGroup,x.GrowBar,x.GrowBarArc,x.GrowTrend,x.GrowTable,x.GrowSlider,x.GrowWindow,x.GrowFolder,x.GrowXYCurve,x.GrowPie,x.GrowBarChart,x.GrowAxis,x.GrowAxisArc];for(let e=0;e<this.a.length;e++){let r=this.a[e];if(-1!==t.indexOf(r.type()))if(this.appl.traceConnect(r),r.type()===x.GrowGroup)for(let t=0;t<r.nc.a.length;t++)r.nc.a[t].type()!==x.GrowNode&&r.nc.a[t].type()!==x.GrowGroup||this.appl.traceConnect(r.nc.a[t]);else r.type()!==x.GrowWindow&&r.type()!==x.GrowFolder||r.traceConnect()}this.nodraw--,this.trace_started=!0}traceDisconnect(){this.trace_started=!1;let t=[x.GrowNode,x.GrowGroup,x.GrowBar,x.GrowBarArc,x.GrowTrend,x.GrowTable,x.GrowSlider,x.GrowWindow,x.GrowFolder,x.GrowXYCurve,x.GrowPie,x.GrowBarChart,x.GrowAxis,x.GrowAxisArc];for(let e=0;e<this.a.length;e++){let r=this.a[e];if(-1!==t.indexOf(r.type()))if(this.appl.traceDisconnect(r),r.type()===x.GrowGroup)for(let t=0;t<r.nc.a.length;t++)r.nc.a[t].type()!==x.GrowNode&&r.nc.a[t].type()!==x.GrowGroup||this.appl.traceDisconnect(r.nc.a[t]);else r.type()!==x.GrowWindow&&r.type()!==x.GrowFolder||r.traceDisconnect()}}traceScan(){let t=[x.GrowNode,x.GrowGroup,x.GrowBar,x.GrowBarArc,x.GrowTrend,x.GrowTable,x.GrowSlider,x.GrowWindow,x.GrowFolder,x.GrowXYCurve,x.GrowPie,x.GrowBarChart,x.GrowAxis,x.GrowAxisArc];for(let e=0;e<this.a.length;e++){let r=this.a[e];if(-1!==t.indexOf(r.type()))if(this.appl.traceScan(r),r.type()===x.GrowGroup)for(let t=0;t<r.nc.a.length;t++)r.nc.a[t].type()!==x.GrowNode&&r.nc.a[t].type()!==x.GrowGroup||this.appl.traceScan(r.nc.a[t]);else r.type()!==x.GrowWindow&&r.type()!==x.GrowFolder||r.traceScan()}}get_node_from_name(t){return this.a.find(e=>e instanceof jt&&e.n_name===t)}get_object_group(t){for(let e=0;e<this.a.length;e++)if(this.a[e].type()===x.GrowGroup&&null!==this.a[e].get_object_group(t))return this.a[e];return null}register_callback_object(t,e){this.callback_object=e,this.callback_object_type=t}send_menu_callback(t,e,r){let i=new V(r);return i.type=F.Menu,i.object=t,i.item=e,this.appl.event_handler(i)}send_table_callback(t,e,r,i){let o=new H(e);return o.type=F.Table,o.object=t,o.column=r,o.row=i,this.appl.event_handler(o)}send_toolbar_callback(t,e,r,i){let o=new q(i);return o.type=F.Toolbar,o.object=t,o.category=e,o.idx=r,this.appl.event_handler(o)}getBackgroundObjectLimits(t,e,r){for(let i=0;i<this.a.length;i++){let o=this.a[i].get_background_object_limits(t,e,r);if(o)return o}return null}setMoveRestrictions(t,e,r,i){this.move_restriction=t,this.restriction_max_limit=e,this.restriction_min_limit=r,this.restriction_object=i}findByName(t){return this.a.find(e=>e.n_name.toUpperCase()===t.toUpperCase())}setSubwindowSource(t,e,r){let i=this.findByName(t);null!==i&&i.type()===x.GrowWindow?i.setSource(e,r):console.log("Window "+t+" not found "+i)}loadSubgraph(t){return 0}measure_window(){return new l.i(this.mw.offset.x/this.mw.zoom_factor.x,(this.mw.offset.x+this.mw.window_size.x)/this.mw.zoom_factor.x,this.mw.offset.y/this.mw.zoom_factor.y,(this.mw.offset.y+this.mw.window_size.y)/this.mw.zoom_factor.y)}reset_custom_colors(){this.customcolors&&this.customcolors.reset_colors()}scroll2(t,e){super.scroll2(t,e),this.polyline_last_end.x+=t,this.polyline_last_end.y+=e}object_deleted(t){let e=new U(event);return e.type=F.Object,e.object=t,this.appl.event_handler(e)}delete_all(){this.set_nodraw();for(let t=0;t<this.a.length;t++){if(this.a[t].type()!==x.Con)continue;let e=this.a[t];this.a.remove(e),this.a_sel.remove(e),this.a_move.remove(e),t--}for(let t=0;t<this.a.length;t++){let e=this.a[t];this.a.remove(e),this.a_sel.remove(e),this.a_move.remove(e),this.object_deleted(e),t--}this.reset_nodraw(),this.set_dirty()}clear_all(t){let e;if(this.delete_all(),this.version=4510,this.conpoint_num_cnt=0,this.objectname_cnt=0,this.subgraph=0,this.scantime=.5,this.fast_scantime=.5,this.animation_scantime=.5,this.java_width=0,this.name="",this.background_image="",this.background_tiled=0,this.cycle=k.Slow,this.translate_on=0,this.color_theme="",this.x0=this.y0=this.x1=this.y1=0,this.set_nodraw(),this.reset_custom_colors(),this.zoom_absolute(this.mw.base_zoom_factor),this.mw.offset.x=0,this.mw.offset.y=0,t)for(let t=this.a_nc.length-1;t>=0;t--){let r=!1;for(let e=0;e<this.a_paste.length&&(this.a_paste[e].type()!=x.GrowNode&&this.a_paste[e].type()!=x.GrowSlider&&this.a_paste[e].type()!=x.GrowGroup&&this.a_paste[e].type()!=x.GrowToolbar&&this.a_paste[e].type()!=x.GrowConGlue||!(r=this.a_paste[e].find_nc(this.a_nc[t])));e++);r||(e=this.a_nc[t],this.a_nc.remove(e))}else{for(let t=this.a_nc.length-1;t>=0;t--)e=this.a_nc[t],this.a_nc.remove(e);this.a_paste.length=0}this.reset_nodraw(),this.set_dirty(),this.reset_custom_colors()}}const de=20001;var me,fe,we,pe,be,ge,ye,xe,ve,Ce,Ge,ke,Te,Se,Ie;!function(t){t[t.Success=0]="Success",t[t.Error=1]="Error",t[t.SyntaxError=2]="SyntaxError",t[t.MinValueExceeded=3]="MinValueExceeded",t[t.MaxValueExceeded=4]="MaxValueExceeded"}(me||(me={})),function(t){t[t.XYArrays=0]="XYArrays",t[t.PointArray=1]="PointArray",t[t.TableObject=2]="TableObject"}(fe||(fe={})),function(t){t[t.One=1]="One",t[t.Two=2]="Two",t[t.Three=4]="Three",t[t.Four=8]="Four",t[t.Five=16]="Five",t[t.Six=32]="Six",t[t.Seven=64]="Seven",t[t.Eight=128]="Eight",t[t.Nine=256]="Nine",t[t.Ten=512]="Ten",t[t.Eleven=1024]="Eleven",t[t.Twelve=2048]="Twelve",t[t.Thirteen=4096]="Thirteen",t[t.Fourteen=8192]="Fourteen",t[t.Fifteen=16384]="Fifteen",t[t.Sixteen=32768]="Sixteen",t[t.Seveteen=65536]="Seveteen",t[t.Eighteen=131072]="Eighteen",t[t.Nineteen=262144]="Nineteen",t[t.Twenty=524288]="Twenty",t[t.TwentyOne=1048576]="TwentyOne",t[t.TwentyTwo=2097152]="TwentyTwo",t[t.TwentyThree=4194304]="TwentyThree",t[t.TwentyFour=8388608]="TwentyFour",t[t.TwentyFive=16777216]="TwentyFive",t[t.TwentySix=33554432]="TwentySix",t[t.TwentySeven=67108864]="TwentySeven",t[t.TwentyEight=134217728]="TwentyEight",t[t.TwentyNine=268435456]="TwentyNine",t[t.Thirty=536870912]="Thirty",t[t.ThirtyOne=1073741824]="ThirtyOne",t[t.ThirtyTwo=-2147483648]="ThirtyTwo"}(we||(we={})),function(t){t[t.No=0]="No",t[t.Inherit=1]="Inherit",t[t.Tone=2]="Tone",t[t.DigLowColor=4]="DigLowColor",t[t.DigColor=8]="DigColor",t[t.DigError=16]="DigError",t[t.DigWarning=32]="DigWarning",t[t.DigFlash=64]="DigFlash",t[t.Invisible=128]="Invisible",t[t.DigBorder=256]="DigBorder",t[t.DigText=512]="DigText",t[t.Value=1024]="Value",t[t.AnalogColor=2048]="AnalogColor",t[t.Rotate=4096]="Rotate",t[t.Move=8192]="Move",t[t.AnalogShift=16384]="AnalogShift",t[t.DigShift=32768]="DigShift",t[t.Animation=65536]="Animation",t[t.Bar=131072]="Bar",t[t.Trend=262144]="Trend",t[t.SliderBackground=524288]="SliderBackground",t[t.Video=1048576]="Video",t[t.FillLevel=2097152]="FillLevel",t[t.FastCurve=4194304]="FastCurve",t[t.AnalogText=8388608]="AnalogText",t[t.Table=16777216]="Table",t[t.StatusColor=33554432]="StatusColor",t[t.HostObject=67108864]="HostObject",t[t.DigSound=134217728]="DigSound",t[t.XY_Curve=268435456]="XY_Curve",t[t.DigCommand=536870912]="DigCommand",t[t.Pie=1073741824]="Pie",t[t.BarChart=-2147483648]="BarChart"}(pe||(pe={})),function(t){t[t.No=0]="No",t[t.Axis=1]="Axis",t[t.DigTextColor=2]="DigTextColor",t[t.TimeoutColor=4]="TimeoutColor",t[t.DigFourShift=8]="DigFourShift",t[t.ScrollingText=16]="ScrollingText",t[t.ColorThemeLightness=32]="ColorThemeLightness",t[t.DigBackgroundColor=64]="DigBackgroundColor",t[t.DigSwap=128]="DigSwap",t[t.DigScript=256]="DigScript"}(be||(be={})),function(t){t[t.No=0]="No",t[t.Inherit=1]="Inherit",t[t.PopupMenu=2]="PopupMenu",t[t.SetDig=4]="SetDig",t[t.ResetDig=8]="ResetDig",t[t.ToggleDig=16]="ToggleDig",t[t.StoDig=32]="StoDig",t[t.Command=64]="Command",t[t.CommandDoubleClick=128]="CommandDoubleClick",t[t.Confirm=256]="Confirm",t[t.IncrAnalog=512]="IncrAnalog",t[t.RadioButton=1024]="RadioButton",t[t.Slider=2048]="Slider",t[t.ValueInput=4096]="ValueInput",t[t.TipText=8192]="TipText",t[t.Help=16384]="Help",t[t.OpenGraph=32768]="OpenGraph",t[t.OpenURL=65536]="OpenURL",t[t.InputFocus=131072]="InputFocus",t[t.CloseGraph=262144]="CloseGraph",t[t.PulldownMenu=524288]="PulldownMenu",t[t.OptionMenu=1048576]="OptionMenu",t[t.SetValue=2097152]="SetValue",t[t.MethodToolbar=4194304]="MethodToolbar",t[t.MethodPulldownMenu=8388608]="MethodPulldownMenu",t[t.Script=16777216]="Script",t[t.CatchSignal=33554432]="CatchSignal",t[t.EmitSignal=67108864]="EmitSignal"}(ge||(ge={})),function(t){t[t.No=0]="No"}(ye||(ye={})),function(t){t[t.DigSound=0]="DigSound",t[t.HostObject=1]="HostObject",t[t.Invisible=2]="Invisible",t[t.DigFlash=3]="DigFlash",t[t.TimeoutColor=4]="TimeoutColor",t[t.DigError=5]="DigError",t[t.DigWarning=6]="DigWarning",t[t.AnalogColor=7]="AnalogColor",t[t.DigColor=8]="DigColor",t[t.DigLowColor=9]="DigLowColor",t[t.DigBackgroundColor=10]="DigBackgroundColor",t[t.DigTextColor=11]="DigTextColor",t[t.DigBorder=12]="DigBorder",t[t.DigText=13]="DigText",t[t.FillLevel=14]="FillLevel",t[t.Value=15]="Value",t[t.ValueInput=16]="ValueInput",t[t.Rotate=17]="Rotate",t[t.Move=18]="Move",t[t.AnalogShift=19]="AnalogShift",t[t.DigShift=20]="DigShift",t[t.DigFourShift=21]="DigFourShift",t[t.Animation=22]="Animation",t[t.Bar=23]="Bar",t[t.Trend=24]="Trend",t[t.FastCurve=25]="FastCurve",t[t.XY_Curve=26]="XY_Curve",t[t.AnalogText=27]="AnalogText",t[t.Table=28]="Table",t[t.SliderBackground=29]="SliderBackground",t[t.Video=30]="Video",t[t.StatusColor=31]="StatusColor",t[t.PopupMenu=32]="PopupMenu",t[t.Confirm=33]="Confirm",t[t.SetDig=34]="SetDig",t[t.ResetDig=35]="ResetDig",t[t.ToggleDig=36]="ToggleDig",t[t.StoDig=37]="StoDig",t[t.Help=38]="Help",t[t.OpenGraph=39]="OpenGraph",t[t.OpenURL=40]="OpenURL",t[t.CommandDoubleClick=41]="CommandDoubleClick",t[t.IncrAnalog=42]="IncrAnalog",t[t.RadioButton=43]="RadioButton",t[t.Slider=44]="Slider",t[t.TipText=45]="TipText",t[t.PulldownMenu=46]="PulldownMenu",t[t.OptionMenu=47]="OptionMenu",t[t.InputFocus=48]="InputFocus",t[t.DigCommand=49]="DigCommand",t[t.SetValue=50]="SetValue",t[t.Pie=51]="Pie",t[t.BarChart=52]="BarChart",t[t.Axis=53]="Axis",t[t.MethodToolbar=54]="MethodToolbar",t[t.MethodPulldownMenu=55]="MethodPulldownMenu",t[t.ScrollingText=56]="ScrollingText",t[t.ColorThemeLightness=57]="ColorThemeLightness",t[t.DigSwap=58]="DigSwap",t[t.DigScript=59]="DigScript",t[t.CatchSignal=60]="CatchSignal",t[t.EmitSignal=61]="EmitSignal",t[t.Script=9998]="Script",t[t.Command=9999]="Command",t[t.CloseGraph=1e4]="CloseGraph"}(xe||(xe={})),function(t){t[t.Dyn=1]="Dyn",t[t.DigLowColor=2]="DigLowColor",t[t.DigColor=3]="DigColor",t[t.DigError=7]="DigError",t[t.DigWarning=8]="DigWarning",t[t.Invisible=9]="Invisible",t[t.DigBorder=10]="DigBorder",t[t.DigText=11]="DigText",t[t.Value=12]="Value",t[t.ValueInput=13]="ValueInput",t[t.Rotate=14]="Rotate",t[t.Move=15]="Move",t[t.AnalogShift=17]="AnalogShift",t[t.DigShift=18]="DigShift",t[t.Animation=19]="Animation",t[t.Bar=22]="Bar",t[t.Trend=23]="Trend",t[t.SliderBackground=24]="SliderBackground",t[t.Video=25]="Video",t[t.DigFlash=26]="DigFlash",t[t.FillLevel=27]="FillLevel",t[t.FastCurve=28]="FastCurve",t[t.AnalogText=29]="AnalogText",t[t.Table=30]="Table",t[t.StatusColor=31]="StatusColor",t[t.HostObject=32]="HostObject",t[t.DigSound=33]="DigSound",t[t.XY_Curve=34]="XY_Curve",t[t.DigCommand=35]="DigCommand",t[t.Pie=36]="Pie",t[t.BarChart=37]="BarChart",t[t.Axis=38]="Axis",t[t.DigTextColor=39]="DigTextColor",t[t.TimeoutColor=40]="TimeoutColor",t[t.DigFourShift=41]="DigFourShift",t[t.ScrollingText=42]="ScrollingText",t[t.ColorThemeLightness=43]="ColorThemeLightness",t[t.DigBackgroundColor=44]="DigBackgroundColor",t[t.DigSwap=45]="DigSwap",t[t.DigScript=46]="DigScript",t[t.PopupMenu=50]="PopupMenu",t[t.SetDig=51]="SetDig",t[t.ResetDig=52]="ResetDig",t[t.ToggleDig=53]="ToggleDig",t[t.StoDig=54]="StoDig",t[t.Command=55]="Command",t[t.CommandDC=56]="CommandDC",t[t.Confirm=57]="Confirm",t[t.IncrAnalog=58]="IncrAnalog",t[t.RadioButton=59]="RadioButton",t[t.Slider=60]="Slider",t[t.AnalogColor=61]="AnalogColor",t[t.TipText=62]="TipText",t[t.Help=63]="Help",t[t.OpenGraph=64]="OpenGraph",t[t.OpenURL=65]="OpenURL",t[t.InputFocus=66]="InputFocus",t[t.CloseGraph=67]="CloseGraph",t[t.PulldownMenu=68]="PulldownMenu",t[t.OptionMenu=69]="OptionMenu",t[t.SetValue=70]="SetValue",t[t.MethodToolbar=71]="MethodToolbar",t[t.MethodPulldownMenu=72]="MethodPulldownMenu",t[t.Script=73]="Script",t[t.CatchSignal=74]="CatchSignal",t[t.EmitSignal=75]="EmitSignal",t[t.End=99]="End",t[t.Dyn_dyn_type1=100]="Dyn_dyn_type1",t[t.Dyn_action_type1=101]="Dyn_action_type1",t[t.Dyn_access=102]="Dyn_access",t[t.Dyn_cycle=103]="Dyn_cycle",t[t.Dyn_ref_object=104]="Dyn_ref_object",t[t.Dyn_dyn_type2=105]="Dyn_dyn_type2",t[t.Dyn_action_type2=106]="Dyn_action_type2",t[t.DigLowColor_attribute=200]="DigLowColor_attribute",t[t.DigLowColor_color=201]="DigLowColor_color",t[t.DigColor_attribute=300]="DigColor_attribute",t[t.DigColor_color=301]="DigColor_color",t[t.DigColor_instance=302]="DigColor_instance",t[t.DigColor_instance_mask=303]="DigColor_instance_mask",t[t.DigError_attribute=700]="DigError_attribute",t[t.DigError_use_colortheme=701]="DigError_use_colortheme",t[t.DigWarning_attribute=800]="DigWarning_attribute",t[t.DigWarning_use_colortheme=801]="DigWarning_use_colortheme",t[t.Invisible_attribute=900]="Invisible_attribute",t[t.Invisible_dimmed=901]="Invisible_dimmed",t[t.Invisible_instance=902]="Invisible_instance",t[t.Invisible_instance_mask=903]="Invisible_instance_mask",t[t.DigBorder_attribute=1e3]="DigBorder_attribute",t[t.DigBorder_color=1001]="DigBorder_color",t[t.DigText_attribute=1100]="DigText_attribute",t[t.DigText_low_text=1101]="DigText_low_text",t[t.DigText_instance=1102]="DigText_instance",t[t.DigText_instance_mask=1103]="DigText_instance_mask",t[t.Value_attribute=1200]="Value_attribute",t[t.Value_format=1201]="Value_format",t[t.Value_instance=1202]="Value_instance",t[t.Value_instance_mask=1203]="Value_instance_mask",t[t.Value_zero_blank=1204]="Value_zero_blank",t[t.Value_decimals_attr=1205]="Value_decimals_attr",t[t.Value_decimals_decr=1206]="Value_decimals_decr",t[t.ValueInput_attribute=1300]="ValueInput_attribute",t[t.ValueInput_format=1301]="ValueInput_format",t[t.ValueInput_min_value=1302]="ValueInput_min_value",t[t.ValueInput_max_value=1303]="ValueInput_max_value",t[t.ValueInput_clear=1304]="ValueInput_clear",t[t.ValueInput_popup=1305]="ValueInput_popup",t[t.ValueInput_unselect=1306]="ValueInput_unselect",t[t.ValueInput_minvalue_attr=1307]="ValueInput_minvalue_attr",t[t.ValueInput_maxvalue_attr=1308]="ValueInput_maxvalue_attr",t[t.ValueInput_escape_store=1309]="ValueInput_escape_store",t[t.ValueInput_keyboard_type=1310]="ValueInput_keyboard_type",t[t.ValueInput_update_open=1311]="ValueInput_update_open",t[t.Rotate_attribute=1400]="Rotate_attribute",t[t.Rotate_x0=1401]="Rotate_x0",t[t.Rotate_y0=1402]="Rotate_y0",t[t.Rotate_factor=1403]="Rotate_factor",t[t.Move_move_x_attribute=1500]="Move_move_x_attribute",t[t.Move_move_y_attribute=1501]="Move_move_y_attribute",t[t.Move_x_offset=1502]="Move_x_offset",t[t.Move_y_offset=1503]="Move_y_offset",t[t.Move_x_factor=1504]="Move_x_factor",t[t.Move_scale_x_attribute=1505]="Move_scale_x_attribute",t[t.Move_scale_y_attribute=1506]="Move_scale_y_attribute",t[t.Move_scale_x_factor=1507]="Move_scale_x_factor",t[t.Move_scale_type=1508]="Move_scale_type",t[t.Move_y_factor=1509]="Move_y_factor",t[t.Move_scale_y_factor=1510]="Move_scale_y_factor",t[t.AnalogShift_attribute=1700]="AnalogShift_attribute",t[t.DigShift_attribute=1800]="DigShift_attribute",t[t.Animation_attribute=1900]="Animation_attribute",t[t.Animation_sequence=1901]="Animation_sequence",t[t.Bar_attribute=2200]="Bar_attribute",t[t.Bar_minvalue_attr=2201]="Bar_minvalue_attr",t[t.Bar_maxvalue_attr=2202]="Bar_maxvalue_attr",t[t.Trend_attribute1=2300]="Trend_attribute1",t[t.Trend_attribute2=2301]="Trend_attribute2",t[t.Trend_minvalue_attr1=2302]="Trend_minvalue_attr1",t[t.Trend_maxvalue_attr1=2303]="Trend_maxvalue_attr1",t[t.Trend_minvalue_attr2=2304]="Trend_minvalue_attr2",t[t.Trend_maxvalue_attr2=2305]="Trend_maxvalue_attr2",t[t.Trend_hold_attr=2306]="Trend_hold_attr",t[t.Trend_timerange_attr=2307]="Trend_timerange_attr",t[t.Trend_mark1_attr=2308]="Trend_mark1_attr",t[t.Trend_mark2_attr=2309]="Trend_mark2_attr",t[t.Trend_mark1_color=2310]="Trend_mark1_color",t[t.Trend_mark2_color=2311]="Trend_mark2_color",t[t.DigFlash_attribute=2600]="DigFlash_attribute",t[t.DigFlash_color=2601]="DigFlash_color",t[t.DigFlash_color2=2602]="DigFlash_color2",t[t.FillLevel_attribute=2700]="FillLevel_attribute",t[t.FillLevel_color=2701]="FillLevel_color",t[t.FillLevel_direction=2702]="FillLevel_direction",t[t.FillLevel_min_value=2703]="FillLevel_min_value",t[t.FillLevel_max_value=2704]="FillLevel_max_value",t[t.FillLevel_minvalue_attr=2705]="FillLevel_minvalue_attr",t[t.FillLevel_maxvalue_attr=2706]="FillLevel_maxvalue_attr",t[t.FastCurve_fast_object=2800]="FastCurve_fast_object",t[t.FastCurve_curve_index1=2801]="FastCurve_curve_index1",t[t.FastCurve_curve_index2=2802]="FastCurve_curve_index2",t[t.AnalogText_super=2900]="AnalogText_super",t[t.Table_attribute1=3e3]="Table_attribute1",t[t.Table_format1=3001]="Table_format1",t[t.Table_sel_attribute1=3002]="Table_sel_attribute1",t[t.Table_attribute2=3003]="Table_attribute2",t[t.Table_format2=3004]="Table_format2",t[t.Table_sel_attribute2=3005]="Table_sel_attribute2",t[t.Table_attribute3=3006]="Table_attribute3",t[t.Table_format3=3007]="Table_format3",t[t.Table_sel_attribute3=3008]="Table_sel_attribute3",t[t.Table_attribute4=3009]="Table_attribute4",t[t.Table_format4=3010]="Table_format4",t[t.Table_sel_attribute4=3011]="Table_sel_attribute4",t[t.Table_attribute5=3012]="Table_attribute5",t[t.Table_format5=3013]="Table_format5",t[t.Table_sel_attribute5=3014]="Table_sel_attribute5",t[t.Table_attribute6=3015]="Table_attribute6",t[t.Table_format6=3016]="Table_format6",t[t.Table_sel_attribute6=3017]="Table_sel_attribute6",t[t.Table_attribute7=3018]="Table_attribute7",t[t.Table_format7=3019]="Table_format7",t[t.Table_sel_attribute7=3020]="Table_sel_attribute7",t[t.Table_attribute8=3021]="Table_attribute8",t[t.Table_format8=3022]="Table_format8",t[t.Table_sel_attribute8=3023]="Table_sel_attribute8",t[t.Table_attribute9=3024]="Table_attribute9",t[t.Table_format9=3025]="Table_format9",t[t.Table_sel_attribute9=3026]="Table_sel_attribute9",t[t.Table_attribute10=3027]="Table_attribute10",t[t.Table_format10=3028]="Table_format10",t[t.Table_sel_attribute10=3029]="Table_sel_attribute10",t[t.Table_attribute11=3030]="Table_attribute11",t[t.Table_format11=3031]="Table_format11",t[t.Table_sel_attribute11=3032]="Table_sel_attribute11",t[t.Table_attribute12=3033]="Table_attribute12",t[t.Table_format12=3034]="Table_format12",t[t.Table_sel_attribute12=3035]="Table_sel_attribute12",t[t.StatusColor_attribute=3100]="StatusColor_attribute",t[t.StatusColor_nostatus_color=3101]="StatusColor_nostatus_color",t[t.StatusColor_use_colortheme=3102]="StatusColor_use_colortheme",t[t.HostObject_object=3200]="HostObject_object",t[t.DigSound_attribute=3300]="DigSound_attribute",t[t.DigSound_soundobject=3301]="DigSound_soundobject",t[t.DigSound_level=3302]="DigSound_level",t[t.DigSound_interval=3303]="DigSound_interval",t[t.DigSound_instance=3304]="DigSound_instance",t[t.DigSound_instance_mask=3305]="DigSound_instance_mask",t[t.XY_Curve_x_attr=3400]="XY_Curve_x_attr",t[t.XY_Curve_y_attr=3401]="XY_Curve_y_attr",t[t.XY_Curve_y_min_value=3402]="XY_Curve_y_min_value",t[t.XY_Curve_y_max_value=3403]="XY_Curve_y_max_value",t[t.XY_Curve_x_min_value=3404]="XY_Curve_x_min_value",t[t.XY_Curve_x_max_value=3405]="XY_Curve_x_max_value",t[t.XY_Curve_y_minvalue_attr=3406]="XY_Curve_y_minvalue_attr",t[t.XY_Curve_y_maxvalue_attr=3407]="XY_Curve_y_maxvalue_attr",t[t.XY_Curve_x_minvalue_attr=3408]="XY_Curve_x_minvalue_attr",t[t.XY_Curve_x_maxvalue_attr=3409]="XY_Curve_x_maxvalue_attr",t[t.XY_Curve_noofpoints=3410]="XY_Curve_noofpoints",t[t.XY_Curve_noofpoints_attr=3411]="XY_Curve_noofpoints_attr",t[t.XY_Curve_update_attr=3412]="XY_Curve_update_attr",t[t.XY_Curve_datatype=3413]="XY_Curve_datatype",t[t.XY_Curve_instance=3414]="XY_Curve_instance",t[t.XY_Curve_instance_mask=3415]="XY_Curve_instance_mask",t[t.XY_Curve_curve_color=3416]="XY_Curve_curve_color",t[t.XY_Curve_fill_color=3417]="XY_Curve_fill_color",t[t.XY_Curve_horizontal_padding=3418]="XY_Curve_horizontal_padding",t[t.XY_Curve_x_mark1_attr=3419]="XY_Curve_x_mark1_attr",t[t.XY_Curve_x_mark2_attr=3420]="XY_Curve_x_mark2_attr",t[t.XY_Curve_y_mark1_attr=3421]="XY_Curve_y_mark1_attr",t[t.XY_Curve_y_mark2_attr=3422]="XY_Curve_y_mark2_attr",t[t.XY_Curve_mark1_color=3423]="XY_Curve_mark1_color",t[t.XY_Curve_mark2_color=3424]="XY_Curve_mark2_color",t[t.DigCommand_attribute=3500]="DigCommand_attribute",t[t.DigCommand_command=3501]="DigCommand_command",t[t.DigCommand_instance=3502]="DigCommand_instance",t[t.DigCommand_instance_mask=3503]="DigCommand_instance_mask",t[t.DigCommand_level=3504]="DigCommand_level",t[t.Pie_attribute1=3600]="Pie_attribute1",t[t.Pie_attribute2=3601]="Pie_attribute2",t[t.Pie_attribute3=3602]="Pie_attribute3",t[t.Pie_attribute4=3603]="Pie_attribute4",t[t.Pie_attribute5=3604]="Pie_attribute5",t[t.Pie_attribute6=3605]="Pie_attribute6",t[t.Pie_attribute7=3606]="Pie_attribute7",t[t.Pie_attribute8=3607]="Pie_attribute8",t[t.Pie_attribute9=3608]="Pie_attribute9",t[t.Pie_attribute10=3609]="Pie_attribute10",t[t.Pie_attribute11=3610]="Pie_attribute11",t[t.Pie_attribute12=3611]="Pie_attribute12",t[t.Pie_fix_range=3612]="Pie_fix_range",t[t.BarChart_attribute1=3700]="BarChart_attribute1",t[t.BarChart_attribute2=3701]="BarChart_attribute2",t[t.BarChart_attribute3=3702]="BarChart_attribute3",t[t.BarChart_attribute4=3703]="BarChart_attribute4",t[t.BarChart_attribute5=3704]="BarChart_attribute5",t[t.BarChart_attribute6=3705]="BarChart_attribute6",t[t.BarChart_attribute7=3706]="BarChart_attribute7",t[t.BarChart_attribute8=3707]="BarChart_attribute8",t[t.BarChart_attribute9=3708]="BarChart_attribute9",t[t.BarChart_attribute10=3709]="BarChart_attribute10",t[t.BarChart_attribute11=3710]="BarChart_attribute11",t[t.BarChart_attribute12=3711]="BarChart_attribute12",t[t.BarChart_fix_range=3712]="BarChart_fix_range",t[t.Axis_minvalue_attr=3800]="Axis_minvalue_attr",t[t.Axis_maxvalue_attr=3801]="Axis_maxvalue_attr",t[t.Axis_keep_settings=3802]="Axis_keep_settings",t[t.DigTextColor_attribute=3900]="DigTextColor_attribute",t[t.DigTextColor_color=3901]="DigTextColor_color",t[t.TimeoutColor_time=4e3]="TimeoutColor_time",t[t.TimeoutColor_color=4001]="TimeoutColor_color",t[t.DigFourShift_attribute1=4100]="DigFourShift_attribute1",t[t.DigFourShift_attribute2=4101]="DigFourShift_attribute2",t[t.DigFourShift_attribute3=4102]="DigFourShift_attribute3",t[t.ScrollingText_attribute=4200]="ScrollingText_attribute",t[t.ScrollingText_direction=4201]="ScrollingText_direction",t[t.ScrollingText_speed=4202]="ScrollingText_speed",t[t.ScrollingText_bounce=4203]="ScrollingText_bounce",t[t.DigBackgroundColor_attribute=4400]="DigBackgroundColor_attribute",t[t.DigBackgroundColor_color=4401]="DigBackgroundColor_color",t[t.DigBackgroundColor_instance=4402]="DigBackgroundColor_instance",t[t.DigBackgroundColor_instance_mask=4403]="DigBackgroundColor_instance_mask",t[t.DigSwap_attribute=4500]="DigSwap_attribute",t[t.DigSwap_reset_value=4501]="DigSwap_reset_value",t[t.DigScript_attribute=4600]="DigScript_attribute",t[t.DigScript_script=4601]="DigScript_script",t[t.DigScript_script_len=4602]="DigScript_script_len",t[t.DigScript_level=4603]="DigScript_level",t[t.PopupMenu_ref_object=5e3]="PopupMenu_ref_object",t[t.SetDig_attribute=5100]="SetDig_attribute",t[t.SetDig_instance=5101]="SetDig_instance",t[t.SetDig_instance_mask=5102]="SetDig_instance_mask",t[t.ResetDig_attribute=5200]="ResetDig_attribute",t[t.ResetDig_instance=5201]="ResetDig_instance",t[t.ResetDig_instance_mask=5202]="ResetDig_instance_mask",t[t.ToggleDig_attribute=5300]="ToggleDig_attribute",t[t.StoDig_attribute=5400]="StoDig_attribute",t[t.Command_command=5500]="Command_command",t[t.CommandDC_command=5600]="CommandDC_command",t[t.Confirm_text=5700]="Confirm_text",t[t.Confirm_on_set=5701]="Confirm_on_set",t[t.Confirm_on_reset=5702]="Confirm_on_reset",t[t.IncrAnalog_attribute=5800]="IncrAnalog_attribute",t[t.IncrAnalog_increment=5801]="IncrAnalog_increment",t[t.IncrAnalog_min_value=5802]="IncrAnalog_min_value",t[t.IncrAnalog_max_value=5803]="IncrAnalog_max_value",t[t.RadioButton_attribute=5900]="RadioButton_attribute",t[t.Slider_attribute=6e3]="Slider_attribute",t[t.Slider_minvalue_attr=6001]="Slider_minvalue_attr",t[t.Slider_maxvalue_attr=6002]="Slider_maxvalue_attr",t[t.Slider_insensitive_attr=6003]="Slider_insensitive_attr",t[t.Slider_release_attr=6004]="Slider_release_attr",t[t.AnalogColor_attribute=6100]="AnalogColor_attribute",t[t.AnalogColor_limit=6101]="AnalogColor_limit",t[t.AnalogColor_limit_type=6102]="AnalogColor_limit_type",t[t.AnalogColor_color=6103]="AnalogColor_color",t[t.AnalogColor_instance=6104]="AnalogColor_instance",t[t.AnalogColor_instance_mask=6105]="AnalogColor_instance_mask",t[t.AnalogColor_border=6106]="AnalogColor_border",t[t.AnalogColor_common_attr=6107]="AnalogColor_common_attr",t[t.TipText_text=6200]="TipText_text",t[t.Help_topic=6300]="Help_topic",t[t.Help_bookmark=6400]="Help_bookmark",t[t.OpenGraph_graph_object=6401]="OpenGraph_graph_object",t[t.OpenURL_url=6500]="OpenURL_url",t[t.InputFocus_initial_focus=6600]="InputFocus_initial_focus",t[t.InputFocus_next_horizontal=6601]="InputFocus_next_horizontal",t[t.InputFocus_next_vertical=6602]="InputFocus_next_vertical",t[t.InputFocus_next_tab=6603]="InputFocus_next_tab",t[t.PulldownMenu_button_mask=6800]="PulldownMenu_button_mask",t[t.PulldownMenu_items_text0=6801]="PulldownMenu_items_text0",t[t.PulldownMenu_items_text1=6802]="PulldownMenu_items_text1",t[t.PulldownMenu_items_text2=6803]="PulldownMenu_items_text2",t[t.PulldownMenu_items_text3=6804]="PulldownMenu_items_text3",t[t.PulldownMenu_items_text4=6805]="PulldownMenu_items_text4",t[t.PulldownMenu_items_text5=6806]="PulldownMenu_items_text5",t[t.PulldownMenu_items_text6=6807]="PulldownMenu_items_text6",t[t.PulldownMenu_items_text7=6808]="PulldownMenu_items_text7",t[t.PulldownMenu_items_text8=6809]="PulldownMenu_items_text8",t[t.PulldownMenu_items_text9=6810]="PulldownMenu_items_text9",t[t.PulldownMenu_items_text10=6811]="PulldownMenu_items_text10",t[t.PulldownMenu_items_text11=6812]="PulldownMenu_items_text11",t[t.PulldownMenu_items_text12=6813]="PulldownMenu_items_text12",t[t.PulldownMenu_items_text13=6814]="PulldownMenu_items_text13",t[t.PulldownMenu_items_text14=6815]="PulldownMenu_items_text14",t[t.PulldownMenu_items_text15=6816]="PulldownMenu_items_text15",t[t.PulldownMenu_items_text16=6817]="PulldownMenu_items_text16",t[t.PulldownMenu_items_text17=6818]="PulldownMenu_items_text17",t[t.PulldownMenu_items_text18=6819]="PulldownMenu_items_text18",t[t.PulldownMenu_items_text19=6820]="PulldownMenu_items_text19",t[t.PulldownMenu_items_text20=6821]="PulldownMenu_items_text20",t[t.PulldownMenu_items_text21=6822]="PulldownMenu_items_text21",t[t.PulldownMenu_items_text22=6823]="PulldownMenu_items_text22",t[t.PulldownMenu_items_text23=6824]="PulldownMenu_items_text23",t[t.PulldownMenu_items_text24=6825]="PulldownMenu_items_text24",t[t.PulldownMenu_items_text25=6826]="PulldownMenu_items_text25",t[t.PulldownMenu_items_text26=6827]="PulldownMenu_items_text26",t[t.PulldownMenu_items_text27=6828]="PulldownMenu_items_text27",t[t.PulldownMenu_items_text28=6829]="PulldownMenu_items_text28",t[t.PulldownMenu_items_text29=6830]="PulldownMenu_items_text29",t[t.PulldownMenu_items_text30=6831]="PulldownMenu_items_text30",t[t.PulldownMenu_items_text31=6832]="PulldownMenu_items_text31",t[t.PulldownMenu_items_dyn0=6833]="PulldownMenu_items_dyn0",t[t.PulldownMenu_items_dyn1=6834]="PulldownMenu_items_dyn1",t[t.PulldownMenu_items_dyn2=6835]="PulldownMenu_items_dyn2",t[t.PulldownMenu_items_dyn3=6836]="PulldownMenu_items_dyn3",t[t.PulldownMenu_items_dyn4=6837]="PulldownMenu_items_dyn4",t[t.PulldownMenu_items_dyn5=6838]="PulldownMenu_items_dyn5",t[t.PulldownMenu_items_dyn6=6839]="PulldownMenu_items_dyn6",t[t.PulldownMenu_items_dyn7=6840]="PulldownMenu_items_dyn7",t[t.PulldownMenu_items_dyn8=6841]="PulldownMenu_items_dyn8",t[t.PulldownMenu_items_dyn9=6842]="PulldownMenu_items_dyn9",t[t.PulldownMenu_items_dyn10=6843]="PulldownMenu_items_dyn10",t[t.PulldownMenu_items_dyn11=6844]="PulldownMenu_items_dyn11",t[t.PulldownMenu_items_dyn12=6845]="PulldownMenu_items_dyn12",t[t.PulldownMenu_items_dyn13=6846]="PulldownMenu_items_dyn13",t[t.PulldownMenu_items_dyn14=6847]="PulldownMenu_items_dyn14",t[t.PulldownMenu_items_dyn15=6848]="PulldownMenu_items_dyn15",t[t.PulldownMenu_items_dyn16=6849]="PulldownMenu_items_dyn16",t[t.PulldownMenu_items_dyn17=6850]="PulldownMenu_items_dyn17",t[t.PulldownMenu_items_dyn18=6851]="PulldownMenu_items_dyn18",t[t.PulldownMenu_items_dyn19=6852]="PulldownMenu_items_dyn19",t[t.PulldownMenu_items_dyn20=6853]="PulldownMenu_items_dyn20",t[t.PulldownMenu_items_dyn21=6854]="PulldownMenu_items_dyn21",t[t.PulldownMenu_items_dyn22=6855]="PulldownMenu_items_dyn22",t[t.PulldownMenu_items_dyn23=6856]="PulldownMenu_items_dyn23",t[t.PulldownMenu_items_dyn24=6857]="PulldownMenu_items_dyn24",t[t.PulldownMenu_items_dyn25=6858]="PulldownMenu_items_dyn25",t[t.PulldownMenu_items_dyn26=6859]="PulldownMenu_items_dyn26",t[t.PulldownMenu_items_dyn27=6860]="PulldownMenu_items_dyn27",t[t.PulldownMenu_items_dyn28=6861]="PulldownMenu_items_dyn28",t[t.PulldownMenu_items_dyn29=6862]="PulldownMenu_items_dyn29",t[t.PulldownMenu_items_dyn30=6863]="PulldownMenu_items_dyn30",t[t.PulldownMenu_items_dyn31=6864]="PulldownMenu_items_dyn31",t[t.OptionMenu_button_mask=6900]="OptionMenu_button_mask",t[t.OptionMenu_items_text0=6901]="OptionMenu_items_text0",t[t.OptionMenu_items_text1=6902]="OptionMenu_items_text1",t[t.OptionMenu_items_text2=6903]="OptionMenu_items_text2",t[t.OptionMenu_items_text3=6904]="OptionMenu_items_text3",t[t.OptionMenu_items_text4=6905]="OptionMenu_items_text4",t[t.OptionMenu_items_text5=6906]="OptionMenu_items_text5",t[t.OptionMenu_items_text6=6907]="OptionMenu_items_text6",t[t.OptionMenu_items_text7=6908]="OptionMenu_items_text7",t[t.OptionMenu_items_text8=6909]="OptionMenu_items_text8",t[t.OptionMenu_items_text9=6910]="OptionMenu_items_text9",t[t.OptionMenu_items_text10=6911]="OptionMenu_items_text10",t[t.OptionMenu_items_text11=6912]="OptionMenu_items_text11",t[t.OptionMenu_items_text12=6913]="OptionMenu_items_text12",t[t.OptionMenu_items_text13=6914]="OptionMenu_items_text13",t[t.OptionMenu_items_text14=6915]="OptionMenu_items_text14",t[t.OptionMenu_items_text15=6916]="OptionMenu_items_text15",t[t.OptionMenu_items_text16=6917]="OptionMenu_items_text16",t[t.OptionMenu_items_text17=6918]="OptionMenu_items_text17",t[t.OptionMenu_items_text18=6919]="OptionMenu_items_text18",t[t.OptionMenu_items_text19=6920]="OptionMenu_items_text19",t[t.OptionMenu_items_text20=6921]="OptionMenu_items_text20",t[t.OptionMenu_items_text21=6922]="OptionMenu_items_text21",t[t.OptionMenu_items_text22=6923]="OptionMenu_items_text22",t[t.OptionMenu_items_text23=6924]="OptionMenu_items_text23",t[t.OptionMenu_items_text24=6925]="OptionMenu_items_text24",t[t.OptionMenu_items_text25=6926]="OptionMenu_items_text25",t[t.OptionMenu_items_text26=6927]="OptionMenu_items_text26",t[t.OptionMenu_items_text27=6928]="OptionMenu_items_text27",t[t.OptionMenu_items_text28=6929]="OptionMenu_items_text28",t[t.OptionMenu_items_text29=6930]="OptionMenu_items_text29",t[t.OptionMenu_items_text30=6931]="OptionMenu_items_text30",t[t.OptionMenu_items_text31=6932]="OptionMenu_items_text31",t[t.OptionMenu_items_enum0=6933]="OptionMenu_items_enum0",t[t.OptionMenu_items_enum1=6934]="OptionMenu_items_enum1",t[t.OptionMenu_items_enum2=6935]="OptionMenu_items_enum2",t[t.OptionMenu_items_enum3=6936]="OptionMenu_items_enum3",t[t.OptionMenu_items_enum4=6937]="OptionMenu_items_enum4",t[t.OptionMenu_items_enum5=6938]="OptionMenu_items_enum5",t[t.OptionMenu_items_enum6=6939]="OptionMenu_items_enum6",t[t.OptionMenu_items_enum7=6940]="OptionMenu_items_enum7",t[t.OptionMenu_items_enum8=6941]="OptionMenu_items_enum8",t[t.OptionMenu_items_enum9=6942]="OptionMenu_items_enum9",t[t.OptionMenu_items_enum10=6943]="OptionMenu_items_enum10",t[t.OptionMenu_items_enum11=6944]="OptionMenu_items_enum11",t[t.OptionMenu_items_enum12=6945]="OptionMenu_items_enum12",t[t.OptionMenu_items_enum13=6946]="OptionMenu_items_enum13",t[t.OptionMenu_items_enum14=6947]="OptionMenu_items_enum14",t[t.OptionMenu_items_enum15=6948]="OptionMenu_items_enum15",t[t.OptionMenu_items_enum16=6949]="OptionMenu_items_enum16",t[t.OptionMenu_items_enum17=6950]="OptionMenu_items_enum17",t[t.OptionMenu_items_enum18=6951]="OptionMenu_items_enum18",t[t.OptionMenu_items_enum19=6952]="OptionMenu_items_enum19",t[t.OptionMenu_items_enum20=6953]="OptionMenu_items_enum20",t[t.OptionMenu_items_enum21=6954]="OptionMenu_items_enum21",t[t.OptionMenu_items_enum22=6955]="OptionMenu_items_enum22",t[t.OptionMenu_items_enum23=6956]="OptionMenu_items_enum23",t[t.OptionMenu_items_enum24=6957]="OptionMenu_items_enum24",t[t.OptionMenu_items_enum25=6958]="OptionMenu_items_enum25",t[t.OptionMenu_items_enum26=6959]="OptionMenu_items_enum26",t[t.OptionMenu_items_enum27=6960]="OptionMenu_items_enum27",t[t.OptionMenu_items_enum28=6961]="OptionMenu_items_enum28",t[t.OptionMenu_items_enum29=6962]="OptionMenu_items_enum29",t[t.OptionMenu_items_enum30=6963]="OptionMenu_items_enum30",t[t.OptionMenu_items_enum31=6964]="OptionMenu_items_enum31",t[t.OptionMenu_attribute=6965]="OptionMenu_attribute",t[t.OptionMenu_text_attribute=6966]="OptionMenu_text_attribute",t[t.OptionMenu_size_attribute=6967]="OptionMenu_size_attribute",t[t.OptionMenu_update_attribute=6968]="OptionMenu_update_attribute",t[t.OptionMenu_optionmenu_type=6969]="OptionMenu_optionmenu_type",t[t.SetValue_attribute=7e3]="SetValue_attribute",t[t.SetValue_value=7001]="SetValue_value",t[t.SetValue_instance=7002]="SetValue_instance",t[t.SetValue_instance_mask=7003]="SetValue_instance_mask",t[t.MethodToolbar_method_object=7100]="MethodToolbar_method_object",t[t.MethodToolbar_toolbar_type=7101]="MethodToolbar_toolbar_type",t[t.MethodPulldownMenu_method_object=7200]="MethodPulldownMenu_method_object",t[t.MethodPulldownMenu_menu_type=7201]="MethodPulldownMenu_menu_type",t[t.Script_script_len=7300]="Script_script_len",t[t.Script_script=7301]="Script_script",t[t.CatchSignal_signal_name=7400]="CatchSignal_signal_name",t[t.EmitSignal_signal_name=7500]="EmitSignal_signal_name",t[t.EmitSignal_global=7501]="EmitSignal_global"}(ve||(ve={})),function(t){t[t.Inherit=0]="Inherit",t[t.Cycle=1]="Cycle",t[t.Dig=2]="Dig",t[t.ForwBack=3]="ForwBack"}(Ce||(Ce={})),function(t){t[t.Gt=0]="Gt",t[t.Lt=1]="Lt",t[t.Ge=2]="Ge",t[t.Le=3]="Le",t[t.Eq=4]="Eq"}(Ge||(Ge={})),function(t){t[t.No=0]="No",t[t.Success=1]="Success",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(ke||(ke={})),function(t){t[t.Object=0]="Object",t[t.Help=1]="Help",t[t.Simulate=2]="Simulate"}(Te||(Te={})),function(t){t[t.Object=0]="Object",t[t.Simulate=1]="Simulate"}(Se||(Se={})),function(t){t[t.Cnt=12]="Cnt",t[t.Helpmask=256]="Helpmask"}(Ie||(Ie={}));const Le=["pwr_mb2opengraph","pwr_mb2openobjectgraph","pwr_mb2trend","pwr_mb2history","pwr_mb2fast","pwr_mb2camera","pwr_mb2histevent","pwr_mb2blockevents","pwr_mb2help","pwr_mb2photo","pwr_mb2note","pwr_mb2parentgraph"],Ae=["Graph","Object Graph","Trend","History","Fast","Camera","Event Log...","Block Events...","Help","Photo","Note","Parent Object Graph"];var Me;!function(t){t[t.Cnt=32]="Cnt",t[t.Helpmask=16]="Helpmask"}(Me||(Me={}));const Oe=["pwr_mb2openobject","pwr_mb2openplc","pwr_mb2rtnavigator","pwr_mb2crossreferences","pwr_mb2helpclass","pwr_mb2datasheet","pwr_mb2circuitdiagram","","","","","","","","","","","","","","","","","","","","","","","","","pwr_mb2simulate"],Ne=["Open Object","Open Plc","RtNavigator","Crossreferences","Help Class","DataSheet","CircuitDiagram","","","","","","","","","","","","","","","","","","","","","","","","","Simulate"];var Re=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class je{static get_xm_mask(t,e){return Re(this,void 0,void 0,function*(){let r=!1,i=t+".XttMethodsMask",o=0,n=!1,s=yield a.d.getObjectInfoInt(i);if(Object(l.p)(s.sts)?(o=s.value)&l.k.IsConfigured||(r=!0,n=!0):(r=!0,o=0),r){let r=0;for(let i=0;i<Ie.Cnt;i++){if(""===Ne[i])continue;let o='check method/method="'+Ae[i]+'Filter"/object='+t;o=e.graph.getCommand(o);let n=e.graph.command(o);Object(l.p)(n)&&(r|=1<<i)}let i=0;for(let r=0;r<Me.Cnt;r++){if(""===Ne[r])continue;let o='check method/method="'+Ne[r]+'Filter"/object='+t;o=e.graph.getCommand(o);let n=e.graph.command(o);Object(l.p)(n)&&(i|=1<<r)}return{opmethods:r,mntmethods:i,flags:o|=l.k.IsConfigured,store:n}}return null})}}var Ee=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class Fe extends Ct{constructor(t,e,r,i=0,o=0,n=0,s=Z.a.Line,a=1,l=!1,_=!0,c=Z.a.Line,h=2,u=Z.a.TextHelvetica,d=Z.a.Line,m=Z.a.Line,f=pt.a.Helvetica,w=null,p=!1){super(t,e,i,o,10,10,s,a,!1,et.f.One,l,_,!1,c,!0),this.info=Array(32),this.item_cnt=0,this.item_height=0,this.current_item=-1,this.current_idx=-1,this.new_item=!1,this.old_item=-1,this.parent_menu=null,this.input_focus=!1,this.info=r,this.text_size=h,this.text_drawtype=u,this.text_color=d,this.text_color_disabled=m,this.parent_menu=w,this.min_width=n,this.font=f,p||t.set_dirty()}type(){return x.GrowMenu}draw(t=null,e=!1,r=!1,i=null,o=null){let n=at.multiply(t,this.trf),s=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,a=n.vertical_scale()*s*(8+2*this.text_size),_=Math.floor(s*this.line_width-1);_=Object(l.n)(_+Number(r),0,et.d-1);let c=0,h=0,u=0;this.item_cnt=0;let d=0;for(let t=0;t<this.info.length;t++)if(this.info[t].occupied){let e=this.ctx.gdraw.getTextExtent(this.info[t].text,this.text_drawtype,this.font,a);c=Math.max(c,e.width),h+=Math.floor(1.6*e.height),this.info[t].type===D.PulldownMenu&&(u=1),this.item_cnt++}if(0===this.item_cnt)return;let m=4*d/5,f=this.ll.z_x()-this.ctx.mw.offset.x,w=this.ll.z_y()-this.ctx.mw.offset.y,p=f+c+15+Math.floor(u*m),b=w+h,g=this.ctx.getHeight()+this.ctx.mw.subwindow.y;b>g?(this.ll.y=(g-h+this.ctx.mw.offset.y)/this.ctx.mw.zoom_factor.x,this.ur.y=(g+this.ctx.mw.offset.y)/this.ctx.mw.zoom_factor.y):(this.ur.x=(p+this.ctx.mw.offset.x)/this.ctx.mw.zoom_factor.x,this.ur.y=(b+this.ctx.mw.offset.y)/this.ctx.mw.zoom_factor.y),this.get_node_borders(),this.fill&&this.ctx.gdraw.rect(f,w,p-f,b-w,this.fill_drawtype,!0),this.item_height=h/this.item_cnt;let y=0;for(let t=0;t<this.info.length;t++)if(this.info[t].occupied){let r=w+this.item_height*y;if(t===this.current_item){let t=$.a.shift_drawtype(this.fill_drawtype,this.fill_drawtype%10<7?2:-2,null);this.ctx.gdraw.rect(f,w+y*this.item_height,p-f,this.item_height,t,!0)}if(this.ctx.gdraw.text(f+3,r+d+1,this.info[t].text,this.text_drawtype,this.info[t].type===D.ButtonDisabled?this.text_color_disabled:this.text_color,this.font,a,0,e),this.info[t].type===D.PulldownMenu){let t=r+this.item_height/2,e=[new l.f(p-2-m,Math.floor(t-m/2)),new l.f(p-2,Math.floor(t)),new l.f(p-2-m,Math.floor(t+m/2)),new l.f(p-2-m,Math.floor(t-m/2))];this.ctx.gdraw.polyline(e,4,Z.a.MediumGray,!0)}y++}this.border&&this.ctx.gdraw.rect(f,w,p-f,b-w,this.draw_type,!1,_)}local_event_handler(t,e){let r=Math.min(this.ll.x,this.ur.x),i=Math.max(this.ll.x,this.ur.x),o=Math.min(this.ll.y,this.ur.y),n=Math.max(this.ll.y,this.ur.y);if(r<=t&&t<=i&&o<=e&&e<=n){let t=this.trf.vertical_scale(),r=Math.floor((e-this.ll.y)/(this.item_height/t/this.ctx.mw.zoom_factor.y));if(r=Object(l.n)(r,0,this.item_cnt-1),this.new_item=r!==this.current_idx,this.old_item=this.current_item,this.new_item){this.current_idx=r;let t=0;for(let e=0;e<32;e++)if(this.info[e].occupied){if(t===r){this.current_item=e;break}t++}}return 1}return this.new_item=!1,0}event_handler(t){return Ee(this,void 0,void 0,function*(){let e=this.trf.reverse(t.x,t.y),r=0;if("mousemove"!==t.event.type||t.event.buttons)if("click"===t.event.type){if((r=this.local_event_handler(e.x,e.y))&&-1!==this.current_item&&this.info[this.current_item].type===D.Button){let e,r=new CustomEvent("MenuActivated",{detail:{x:t.x,y:t.y}});for(yield this.ctx.send_menu_callback(this,this.current_item,r),e=this;null!==e.parent_menu;e=e.parent_menu);return yield this.ctx.send_menu_callback(e,0,new CustomEvent("MenuDelete")),m}}else r=this.local_event_handler(e.x,e.y);else if((r=this.local_event_handler(e.x,e.y))&&(this.ctx.hot_found=1,this.ctx.set_dirty()),r&&!this.hot&&(this.hot=!0,this.ctx.set_dirty()),0===r&&this.hot&&(0===this.ctx.hot_found&&(this.hot=!1),this.ctx.set_dirty()),this.old_item!==this.current_item&&-1!==this.old_item&&(this.info[this.old_item].type,D.PulldownMenu),this.hot&&this.new_item&&this.info[this.current_item].type===D.PulldownMenu){let t=new CustomEvent("MenuCreate",{detail:{x:this.ur.x,y:this.ll.y+this.item_height/this.ctx.mw.zoom_factor.y*this.current_item}});yield this.ctx.send_menu_callback(this,this.current_item,t)}return r&&this.ctx.register_callback_object(x.Node,this),r})}}class De{constructor(t,e,r,i){this.valueFloat=0,this.valueInt=0,this.valueBoolean=!1,this.valueString=null,this.occupied=!0,this.refCount=0,this.name=e,this.typeId=r,this.refId=i,this.owner=t}ref(){this.refCount++}unref(){this.refCount--}}const Pe={boolean:l.j.Boolean,float32:l.j.Float32,float64:l.j.Float64,char:l.j.Char,int8:l.j.Int8,int16:l.j.Int16,int32:l.j.Int32,int64:l.j.Int64,uint8:l.j.UInt8,uint16:l.j.UInt16,uint32:l.j.UInt32,uint64:l.j.UInt64,objid:l.j.Objid,time:l.j.Time,deltatime:l.j.DeltaTime,attrref:l.j.AttrRef,status:l.j.Status,netstatus:l.j.NetStatus,enum:l.j.Enum,mask:l.j.Mask,bit:l.j.Bit,string:l.j.String};class ze{static init(){ze.subscriptions[0]=null}static refObjectInfo(t,e){let r=ze.getTypeId(e),i=ze.getName(e);if(!r)return 0;let o,n=ze.nameToId(t,i);return-1===n?(n=ze.subscriptionCount,o=new De(t,i,r,n),ze.subscriptions[n]=o,ze.subscriptionCount++):o=ze.subscriptions[n],o.ref(),n}static unrefObjectInfo(t){let e=ze.subscriptions[t];e&&(e.unref(),e.getRefCount()<=0&&(ze.subscriptions[t]=null))}static getObjectRefInfo(t){let e=ze.subscriptions[t];return e&&e.value||0}static getObjectInfo(t,e){let r=ze.getName(e),i=ze.nameToId(t,r);return-1===i?new l.c(0,2):new l.c(ze.subscriptions[i].value||0,1)}static setObjectInfo(t,e,r){let i=ze.getName(e),o=ze.nameToId(t,i);return-1===o&&(ze.refObjectInfo(t,e),o=ze.subscriptionCount-1),ze.subscriptions[o].value=r,1}static toggleObjectInfo(t,e){let r=ze.getName(e),i=ze.nameToId(t,r);return-1===i?2:(ze.subscriptions[i].value=!ze.subscriptions[i].value,1)}static nameToId(t,e){return ze.subscriptions.findIndex(function(r){return null!==r&&t===r.owner&&e.toUpperCase()===r.name.toUpperCase()})}static getName(t){"$local."===t.substring(0,7)&&(t=t.substring(7));let e=t.indexOf("##");return-1!==e?t.substring(0,e):t}static getTypeId(t){let e,r=t.indexOf("##");if(r<0)return l.j.Boolean;r+=2;let i=t.indexOf("#",r);return e=i<0?t.substring(r).toUpperCase():t.substring(r,i).toUpperCase(),e=(e=(i=t.indexOf("#",r))<0?t.substring(r).toUpperCase():t.substring(r,i).toUpperCase()).toLowerCase(),Pe.hasOwnProperty(e)?Pe[e]:e.startsWith("string")?l.j.String:0}}ze.subscriptions=[],ze.subscriptionCount=1;var Be=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};class Ue{}class Ve{constructor(t){this.elements=[],this.object=null,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.access=0,this.cycle=0,this.total_dyn_type1=0,this.total_dyn_type2=0,this.total_action_type1=0,this.total_action_type2=0,this.repaintNow=!1,this.ignoreColor=!1,this.resetColor=!1,this.ignoreBgColor=!1,this.resetBgColor=!1,this.graph=t}static getColor1(t,e){return e===Z.a.Inherit?t.getClassTraceColor1():e}static getColor2(t,e){return e===Z.a.Inherit?t.getClassTraceColor2():e}merge(t){this.dyn_type1|=t.dyn_type1,this.total_dyn_type1|=t.total_dyn_type1,this.action_type1|=t.action_type1,this.total_action_type1|=t.total_action_type1;for(let e=0;e<t.elements.length;e++){let r=t.elements[e];for(let t=0;t<this.elements.length;t++){let e=this.elements[t];if(e.dyn_type1===r.dyn_type1&&e.dyn_type2===r.dyn_type2&&e.action_type1===r.action_type1&&e.action_type2===r.action_type2&&(void 0===e.instance||void 0!==e.instance&&e.instance===r.instance)){this.elements.splice(t,1);break}}let i=Object(dt.cloneDeep)(r);i&&(i.dyn=this,this.elements.push(i))}}open(t){for(;;){let e=t.consumeInt(),r=null;switch(e){case ve.Dyn:break;case ve.Dyn_dyn_type1:this.dyn_type1=t.consumeInt();break;case ve.Dyn_dyn_type2:this.dyn_type2=t.consumeInt();break;case ve.Dyn_action_type1:this.action_type1=t.consumeInt();break;case ve.Dyn_action_type2:this.action_type2=t.consumeInt();break;case ve.Dyn_access:this.access=t.consumeInt();break;case ve.Dyn_cycle:this.cycle=t.consumeInt();break;case ve.DigLowColor:r=new Xe(this);break;case ve.DigColor:r=new Ye(this);break;case ve.DigWarning:r=new We(this);break;case ve.DigError:r=new Je(this);break;case ve.DigFlash:r=new Qe(this);break;case ve.Invisible:r=new $e(this);break;case ve.DigBorder:r=new tr(this);break;case ve.DigText:r=new Ke(this);break;case ve.Value:r=new er(this);break;case ve.ValueInput:r=new rr(this);break;case ve.AnalogColor:r=new ir(this);break;case ve.Rotate:r=new or(this);break;case ve.Move:r=new nr(this);break;case ve.AnalogShift:r=new sr(this);break;case ve.DigShift:r=new ar(this);break;case ve.DigFourShift:r=new lr(this);break;case ve.ScrollingText:r=new _r(this);break;case ve.ColorThemeLightness:r=new cr(this);break;case ve.DigBackgroundColor:r=new hr(this);break;case ve.DigSwap:r=new ur(this);break;case ve.DigScript:r=new Ir(this);break;case ve.Animation:r=new dr(this);break;case ve.Video:r=new mr(this);break;case ve.Bar:r=new fr(this);break;case ve.Trend:r=new wr(this);break;case ve.FillLevel:r=new Tr(this);break;case ve.FastCurve:r=new Xr(this);break;case ve.AnalogText:r=new Jr(this);break;case ve.Table:r=new yr(this);break;case ve.StatusColor:r=new xr(this);break;case ve.Pie:r=new br(this);break;case ve.BarChart:r=new gr(this);break;case ve.Axis:r=new vr(this);break;case ve.DigTextColor:r=new Ze(this);break;case ve.TimeoutColor:r=new Cr(this);break;case ve.HostObject:r=new Gr(this);break;case ve.DigSound:r=new kr(this);break;case ve.XY_Curve:r=new pr(this);break;case ve.DigCommand:r=new Sr(this);break;case ve.PopupMenu:r=new ei(this);break;case ve.SetDig:r=new Lr(this);break;case ve.ResetDig:r=new Ar(this);break;case ve.ToggleDig:r=new Mr(this);break;case ve.StoDig:r=new Or(this);break;case ve.Command:r=new Nr(this);break;case ve.CommandDC:r=new jr(this);break;case ve.Confirm:r=new Er(this);break;case ve.IncrAnalog:r=new Fr(this);break;case ve.RadioButton:r=new Dr(this);break;case ve.Slider:r=new qr(this);break;case ve.TipText:r=new Pr(this);break;case ve.Help:r=new zr(this);break;case ve.OpenGraph:r=new Br(this);break;case ve.OpenURL:r=new Ur(this);break;case ve.InputFocus:r=new Vr(this);break;case ve.CloseGraph:r=new Hr(this);break;case ve.PulldownMenu:r=new Yr(this);break;case ve.OptionMenu:r=new Wr(this);break;case ve.SetValue:r=new Qr(this);break;case ve.MethodToolbar:r=new $r(this);break;case ve.MethodPulldownMenu:r=new Zr(this);break;case ve.Script:r=new Rr(this);break;case ve.CatchSignal:r=new Kr(this);break;case ve.EmitSignal:r=new ti(this);break;case ve.End:return void(r&&(this.elements.push(r),r.open(t)));default:console.log("Syntax error in Dyn:",e)}r&&(this.elements.push(r),r.open(t))}}connect(t){if(this.dyn_type1&pe.Inherit){let e=t.getClassDynType1(),r=t.getClassDynType2();this.total_dyn_type1=this.dyn_type1|e,this.total_dyn_type2=this.dyn_type2|r}else this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2;if(this.action_type1&ge.Inherit){let e=t.getClassActionType1(),r=t.getClassActionType2();this.total_action_type1=this.action_type1|e,this.total_action_type2=this.action_type2|r}else this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2;this.cycle===k.Inherit&&(this.cycle=t.getClassCycle(),this.cycle===k.Inherit&&(this.cycle=k.Slow));for(let e=0;e<this.elements.length;e++)this.elements[e].connect(t)}disconnect(){for(let t=0;t<this.elements.length;t++)this.elements[t].disconnect()}scan(t){this.repaintNow=!1,this.ignoreColor=!1,this.resetColor=!1,this.ignoreBgColor=!1,this.resetBgColor=!1;for(let e=0;e<this.elements.length;e++)this.elements[e].scan(t);this.repaintNow&&t.draw()}action(t){for(let e=0;e<this.elements.length;e++){let r=this.elements[e].action(t);if(r===de||r===u||r===d)return r}return 1}setTotal(t){if(null===t)this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2,this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2;else{if(this.dyn_type1&pe.Inherit){let e=t.getClassDynType1(),r=t.getClassDynType2();this.total_dyn_type1=this.dyn_type1|e,this.total_dyn_type2=this.dyn_type2|r}else this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2;if(this.action_type1&ge.Inherit){let e=t.getClassActionType1(),r=t.getClassActionType2();this.total_action_type1=this.action_type1|e,this.total_action_type2=this.action_type2|r}else this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2}}parseAttrName(t){if(null===t)return null;if(this.total_dyn_type1&pe.HostObject){let e=t.indexOf("$hostobject");if(-1!==e){let r=this.elements.find(t=>t.dyn_type1===pe.HostObject),i=t.substring(0,e)+(r?r.hostobject:"")+t.substring(e+11);return this.graph.parseAttrName(i)}}return this.graph.parseAttrName(t)}getDig(t,e,r,i){let o=function(t){return i===ri.Gdh?a.d.getObjectRefInfo(t):i===ri.Local?ze.getObjectRefInfo(t):0};switch(e){case l.j.Boolean:return Boolean(o(t));case l.j.Int32:case l.j.UInt32:case l.j.Int64:case l.j.UInt64:return Boolean(o(t));case l.j.Bit:return Boolean(o(t)&r);case l.j.Float32:case l.j.Float64:return o(t)>Number.MIN_VALUE;case l.j.String:return i===ri.Gdh&&""!==a.d.getObjectRefInfo(t);default:return!1}}confirmedAction(t){if(null!==this.elements){this.action_type1&=~ge.Confirm;for(let e=0;e<this.elements.length;e++)this.elements[e].action(t);this.action_type1|=ge.Confirm}}static instance_to_number(t){let e=1,r=t;for(;r>1;)r>>=1,e++;return e}valueInputAction(t,e){if(null===this.elements)return me.Error;let r=t,i=r.dyn.graph.ctxPop(t.dyn.object.ctx),o=null,n=0,s=0;if(null===r.minvalue_attr)n=r.min_value;else{let t=r.dyn.parseAttrName(r.minvalue_attr);t&&t.type===l.j.Float32||(n=r.min_value)}if(null===r.maxvalue_attr)s=r.max_value;else{let t=r.dyn.parseAttrName(r.maxvalue_attr);null===t||""===t.name?s=r.max_value:t.type===l.j.Float32||(s=r.max_value)}let _=function(t,e,r){let i=0;return t.database===ri.Gdh?(a.d.setObjectInfo(t.name,e,r),me.Success):(t.database===ri.Local&&(i=ze.setObjectInfo(this.graph,t.name,e)),Object(l.p)(i)?me.Success:(console.log("setObjectInfoError "+i),me.Error))};switch(o=0,r.a_typeid){case l.j.Float32:{let t=parseFloat(e.trim());if(n&&s&&t<n)return i&&r.dyn.graph.ctxPush(),me.MinValueExceeded;if(n&&s&&t>s)return i&&r.dyn.graph.ctxPush(),me.MaxValueExceeded;let a=r.dyn.parseAttrName(r.value_element.attribute);if(null===a||""===a.name)break;o=_(a,t,r.a_typeid);break}case l.j.Int32:case l.j.UInt32:case l.j.Int16:case l.j.UInt16:case l.j.Int8:case l.j.UInt8:{let t=parseInt(e.trim(),10);if(n&&s&&t<n)return i&&r.dyn.graph.ctxPush(),me.MinValueExceeded;if(n&&s&&t>s)return i&&r.dyn.graph.ctxPush(),me.MaxValueExceeded;let a=r.dyn.parseAttrName(r.value_element.attribute);if(null===a||""===a.name)break;o=_(a,t,r.a_typeid);break}case l.j.Boolean:{let t=parseInt(e.trim(),10);if(t&&1!==t)break;let i=r.dyn.parseAttrName(r.value_element.attribute);if(null===i||""===i.name)break;o=_(i,Boolean(t),r.a_typeid);break}case l.j.String:{let t=r.dyn.parseAttrName(r.value_element.attribute);if(null===t||""===t.name)break;o=_(t,e,r.a_typeid);break}}return i&&r.dyn.graph.ctxPush(),o===me.Error?o:me.Success}static value_to_msg(t){if(0===t)return"";{let e="NO";switch((7&t)<5&&(e=["WARNING","SUCCESS","ERROR","SUCCESS","FATAL"][7&t]),e="MSG-"+e+", ",t){case 134512649:return e+"Success";case 134512659:return e+"Proview startup pu";case 134512665:return e+"Proview running";case 134512731:return e+"Server running";case 134512795:return e+"Application running";case 134512820:return e+"Process timeout";default:return e+"Message number "+t}}}}class He{constructor(t,e){this.p=0,this.attrFound=!1,this.sts=!1,this.name=e,this.pname=t.parseAttrName(this.name),this.sts=this.pname&&""!==this.pname.name}connect(t){if(this.sts){if(this.sts=!1,this.pname.database===ri.Gdh)this.p=a.d.refObjectInfo(this.pname.tname,this.pname.type,this.pname.elements);else{if(this.pname.database!==ri.Local)return;this.p=ze.refObjectInfo(t.graph,this.pname.name)}this.inverted=this.pname.inverted,this.typeid=this.pname.type,this.bitmask=this.pname.bitmask,this.database=this.pname.database,this.elements=this.pname.elements,this.pname=null,this.attrFound=!0,this.sts=!0}}disconnect(){this.sts&&this.database===ri.Gdh&&(a.d.unrefObjectInfo(this.p),this.sts=!1)}get_ref_value(){return this.database===ri.Gdh?a.d.getObjectRefInfo(this.p):this.database===ri.Local?ze.getObjectRefInfo(this.p):null}}class qe{constructor(t,e){this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.instance_mask=0,this.instance=0,this.dyn=t,this.prio=e}action(t){return 0}connect(t){}disconnect(){}scan(t){}}class Xe extends qe{constructor(t){super(t,xe.DigLowColor),this.a=null,this.firstScan=!0,this.dyn_type1=pe.DigLowColor}connect(t){this.color=Ve.getColor1(t,this.color),this.color<0||this.color>=Z.a._||(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn))}disconnect(){this.a&&this.a.disconnect()}scan(t){let e=t;if(null===this.a||!this.a.sts||this.dyn.ignoreColor)return;let r=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(r=this.a.inverted?!r:r,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===r&&!this.dyn.resetColor)return;this.dyn.total_dyn_type1&pe.Tone?(r?(this.color>=Mt.a._&&e.resetFillColor(),e.resetColorTone()):this.color>=Mt.a._?e.setFillColor(this.color):e.setColorTone(this.color),this.dyn.repaintNow=!0):(r?e.resetFillColor():e.setFillColor(this.color),this.dyn.repaintNow=!0),this.a.oldValue=r}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigLowColor:break;case ve.DigLowColor_attribute:this.attribute=t.consumeLine();break;case ve.DigLowColor_color:this.color=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigLowColor:",e),t.consumeLine()}}}}class Ye extends qe{constructor(t){super(t,xe.DigColor),this.a=null,this.firstScan=!0,this.dyn_type1=pe.DigColor}connect(t){this.color=Ve.getColor2(t,this.color),this.color<0||this.color>=Z.a._||(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn))}disconnect(){this.a&&this.a.disconnect()}scan(t){if(null===this.a||!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));this.dyn.total_dyn_type1&pe.Tone?(e?(this.color>=Mt.a._?(this.dyn.resetColor&&t.resetFillColor(),t.setFillColor(this.color)):t.setColorTone(this.color),this.dyn.ignoreColor=!0):(this.color>=Mt.a._&&t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(t.setFillColor(this.color),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigColor:break;case ve.DigColor_attribute:this.attribute=t.consumeLine();break;case ve.DigColor_color:this.color=t.consumeInt();break;case ve.DigColor_instance:this.instance=t.consumeInt();break;case ve.DigColor_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigColor:",e),t.consumeLine()}}}}class We extends qe{constructor(t){super(t,xe.DigWarning),this.firstScan=!0,this.dyn_type1=pe.DigWarning}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));this.dyn.total_dyn_type1&pe.Tone?(e?(t.setColorTone(Mt.a.Yellow),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(t.setFillColor(this.use_colortheme?Z.a.CustomColor41:Z.a.ColorYellow),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigWarning:break;case ve.DigWarning_attribute:this.attribute=t.consumeLine();break;case ve.DigWarning_use_colortheme:this.use_colortheme=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigWarning:",e),t.consumeLine()}}}}class Je extends qe{constructor(t){super(t,xe.DigError),this.firstScan=!0,this.dyn_type1=pe.DigError}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));this.dyn.total_dyn_type1&pe.Tone?(e?(t.setColorTone(Mt.a.Red),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(t.setFillColor(this.use_colortheme?Z.a.CustomColor11:Z.a.ColorRed),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigError:break;case ve.DigError_attribute:this.attribute=t.consumeLine();break;case ve.DigError_use_colortheme:this.use_colortheme=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigError:",e),t.consumeLine()}}}}class Qe extends qe{constructor(t){super(t,xe.DigFlash),this.firstScan=!0,this.on=!1,this.dyn_type1=pe.DigFlash}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor&&!e)return;this.dyn.total_dyn_type1&pe.Tone?(e?(this.on?(this.color>=Mt.a._?t.setColorTone(this.color):t.setFillColor(this.color),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.on=!this.on):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(this.on?(t.setFillColor(this.color),this.dyn.ignoreColor=!0):this.color2===Z.a.Inherit?(t.resetFillColor(),this.dyn.resetColor=!0):(t.setFillColor(this.color2),this.dyn.ignoreColor=!0),this.on=!this.on):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigFlash:break;case ve.DigFlash_attribute:this.attribute=t.consumeLine();break;case ve.DigFlash_color:this.color=t.consumeInt();break;case ve.DigFlash_color2:this.color2=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigFlash:",e),t.consumeLine()}}}}class $e extends qe{constructor(t){super(t,xe.Invisible),this.firstScan=!0,this.dyn_type1=pe.Invisible}connect(t){if(this.attribute&&"$cmd("===this.attribute.toLowerCase().substring(0,5)){this.cmd=!0;let t=this.attribute.lastIndexOf(")");this.command=-1!==t&&t>5?this.attribute.substring(5,t):this.attribute.substring(5),this.command=this.dyn.graph.getCommand(this.command)}else this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(this.cmd){if(this.firstScan){let e=this.dyn.graph.command(this.command);console.log("DynInvisible: "+this.command+", value: "+e),e||(this.dimmed?t.setVisibility(G.Dimmed):t.setVisibility(G.Invisible)),this.firstScan=!1}return}if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.typeid===l.j.String&&(e=!e),e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor&&!e)return;e?this.dimmed?t.setVisibility(G.Dimmed):t.setVisibility(G.Invisible):t.setVisibility(G.Visible),this.dyn.repaintNow=!0,this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Invisible:break;case ve.Invisible_attribute:this.attribute=t.consumeLine();break;case ve.Invisible_dimmed:this.dimmed=t.consumeInt();break;case ve.Invisible_instance:this.instance=t.consumeInt();break;case ve.Invisible_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynInvisible:",e),t.consumeLine()}}}}class Ze extends qe{constructor(t){super(t,xe.DigTextColor),this.a=null,this.firstScan=!0,this.dyn_type2=be.DigTextColor}connect(t){this.color=Ve.getColor1(t,this.color),this.color<0||this.color>=Z.a._||(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn))}disconnect(){this.a&&this.a.disconnect()}scan(t){if(null===this.a||!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return;e?t.setTextColor(this.color):t.resetTextColor(),this.dyn.repaintNow=!0,this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigTextColor:break;case ve.DigTextColor_attribute:this.attribute=t.consumeLine();break;case ve.DigTextColor_color:this.color=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigTextColor:",e),t.consumeLine()}}}}class Ke extends qe{constructor(t){super(t,xe.DigText),this.firstScan=!0,this.dyn_type1=pe.DigText}connect(t){null!==this.low_text&&(this.high_text=t.getAnnotation(1),null===this.high_text&&(this.high_text=""),this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn))}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.set_annotation(1,this.high_text,!1):t.set_annotation(1,this.low_text,!1),this.dyn.repaintNow=!0,this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigText:break;case ve.DigText_attribute:this.attribute=t.consumeLine();break;case ve.DigText_low_text:this.low_text=t.consumeLine();break;case ve.DigText_instance:this.instance=t.consumeInt();break;case ve.DigText_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigText:",e),t.consumeLine()}}}}class tr extends qe{constructor(t){super(t,xe.DigBorder),this.firstScan=!0,this.dyn_type1=pe.DigBorder}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.setBorderColor(this.color):t.resetBorderColor(),this.dyn.repaintNow=!0,this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigBorder:break;case ve.DigBorder_attribute:this.attribute=t.consumeLine();break;case ve.DigBorder_color:this.color=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigBorder:",e),t.consumeLine()}}}}class er extends qe{constructor(t){super(t,xe.Value),this.format=null,this.firstScan=!0,this.dyn_type1=pe.Value}read_decimals(t,e,r,i){return Be(this,void 0,void 0,function*(){let o,n=t.parseAttrName(e);if(null===n||""===n.name)return i;switch(n.type){case l.j.Int32:case l.j.UInt32:case l.j.Enum:case l.j.Mask:break;default:return i}let s=yield a.d.getObjectInfoInt(n.name);if(Object(l.o)(s.sts))return i;if((o=Math.max(s.value-r,0))>=10)return i;if(!i)return"%."+o+"f";let _=i.indexOf("f");return-1===_?"%."+o+"f":_<2||"."!==i.charAt(_-2)?"%."+o+"f":i.substring(0,i.indexOf(".")+1)+o+"f"})}connect(t){if(this.decimals_attr){let t=this;this.read_decimals(this.dyn,this.decimals_attr,this.decimals_decr,this.format).then(function(e){t.format=e}),console.log("read_decimals "+this.format)}this.format&&(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn))}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=Ve.instance_to_number(this.instance),r=this.a.get_ref_value();if(void 0!==r){switch(this.a.typeid){case l.j.Float32:case l.j.Int32:case l.j.UInt32:case l.j.Int16:case l.j.UInt16:case l.j.Int8:case l.j.UInt8:case l.j.Boolean:if(this.firstScan||r!==this.oldValue){if(this.format){let i=wt.sprintf(this.format,r);t.set_annotation(e,i,!1)}this.dyn.repaintNow=!0,this.oldValue=r}break;case l.j.String:case l.j.Objid:case l.j.Time:case l.j.DeltaTime:if(this.firstScan||r!==this.oldValue){if(this.format)if(this.a.typeid===l.j.String){let i=wt.sprintf(this.format,r);t.set_annotation(e,i,!1)}else t.set_annotation(e,r,!1);this.dyn.repaintNow=!0,this.oldValue=r}break;case l.j.Status:case l.j.NetStatus:if(this.firstScan||r!==this.oldValue)if(r){if(this.a.database===ri.Gdh){let e=this;a.d.getMsg(r).then(function(r){let i=Ve.instance_to_number(e.instance);Object(l.p)(r.sts)?t.set_annotation(i,r.value,!1):t.set_annotation(i,"Unknown message",!1),e.dyn.repaintNow=!0})}}else t.set_annotation(e,"",!1),this.dyn.repaintNow=!0;this.oldValue=r}this.firstScan&&(this.firstScan=!1)}}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Value:break;case ve.Value_attribute:this.attribute=t.consumeLine();break;case ve.Value_format:this.format=t.consumeLine();break;case ve.Value_instance:this.instance=t.consumeInt();break;case ve.Value_instance_mask:this.instance_mask=t.consumeInt();break;case ve.Value_zero_blank:this.zero_blank=t.consumeInt();break;case ve.Value_decimals_attr:this.decimals_attr=t.consumeLine();break;case ve.Value_decimals_decr:this.decimals_decr=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynValue:",e),t.consumeLine()}}}}class rr extends qe{constructor(t){super(t,xe.ValueInput),this.value_element=null,this.action_type1=ge.ValueInput}connect(t){let e=this;this.value_element=this.dyn.elements.find(function(t){if(t.dyn_type1===pe.Value)return e.a_typeid=t.a.typeid,!0})||null}action(t){return _.a.is_authorized(this.dyn.access,!0)?("click"===t.event.type&&(this.dyn.object=t.object,this.dyn.graph.openValueInputDialog(this.dyn,"Enter value",this)),1):1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.ValueInput:break;case ve.ValueInput_attribute:this.attribute=t.consumeLine();break;case ve.ValueInput_format:break;case ve.ValueInput_unselect:this.unselect=t.consumeInt();break;case ve.ValueInput_min_value:this.min_value=t.consumeFloat();break;case ve.ValueInput_max_value:this.max_value=t.consumeFloat();break;case ve.ValueInput_clear:this.clear=t.consumeInt();break;case ve.ValueInput_popup:this.popup=t.consumeInt();break;case ve.ValueInput_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case ve.ValueInput_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case ve.ValueInput_escape_store:this.escape_store=t.consumeInt();break;case ve.ValueInput_keyboard_type:this.keyboard_type=t.consumeInt();break;case ve.ValueInput_update_open:this.update_open=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynValueInput:",e),t.consumeLine()}}}}class ir extends qe{constructor(t){super(t,xe.AnalogColor),this.a=null,this.firstScan=!0,this.isMainInstance=!1,this.dyn_type1=pe.AnalogColor}connect(t){let e=null;for(let t=this.dyn.elements.length-1;t>=0;t--)if(this.dyn.elements[t].dyn_type1===pe.AnalogColor){e=this.dyn.elements[t];break}if(e){if(null===e.a||!e.a.attrFound){if(e.a=new He(this.dyn,e.attribute),e.a.connect(this.dyn),!e.a.sts)return;e.isMainInstance=!0}this.isMainInstance||(this.a=new He(this.dyn,e.attribute),this.a.p=e.a.p,this.a.attrFound=e.a.attrFound,this.a.typeid=e.a.typeid,this.a.database=e.a.database,this.a.sts=e.a.sts)}}disconnect(){this.isMainInstance&&this.a.disconnect()}scan(t){if(!this.a.sts||this.dyn.ignoreColor)return;let e=!1,r=!1,i=!1;if(this.a.typeid===l.j.Float32){let t=this.a.get_ref_value();if(this.firstScan)this.firstScan=!1;else if(!this.dyn.resetColor&&t===this.oldValue)return void(this.oldState&&(this.dyn.ignoreColor=!0));switch(this.limit_type){case Ge.Gt:e=t>this.limit;break;case Ge.Lt:e=t<this.limit;break;case Ge.Ge:case Ge.Le:e=t>=this.limit;break;case Ge.Eq:e=t===this.limit}this.oldValue=t}else if(this.a.typeid===l.j.Int32||this.a.typeid===l.j.UInt32){let t=a.d.getObjectRefInfo(this.a.p);if(this.firstScan)this.firstScan=!1;else if(!this.dyn.resetColor&&t===this.oldValue)return void(this.oldState&&(this.dyn.ignoreColor=!0));switch(this.limit_type){case Ge.Gt:e=t>this.limit;break;case Ge.Lt:e=t<this.limit;break;case Ge.Ge:case Ge.Le:e=t>=this.limit;break;case Ge.Eq:e=t===this.limit}this.oldValue=t}e!==this.oldState||this.dyn.resetColor||this.firstScan?(e?(r=!0,this.dyn.ignoreColor=!0):(i=!0,this.dyn.resetColor=!0),this.oldState=e):e&&(this.dyn.ignoreColor=!0),(r||i)&&(this.dyn.total_dyn_type1&pe.Tone?(r?(this.color>=Mt.a._?this.border?t.setBorderColor(this.color):t.setFillColor(this.color):t.setColorTone(this.color),this.dyn.ignoreColor=!0):(this.color>=Mt.a._&&(this.border?t.resetBorderColor():t.resetFillColor()),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(r?(this.border?t.setBorderColor(this.color):t.setFillColor(this.color),this.dyn.ignoreColor=!0):(this.border?t.resetBorderColor():t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0))}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.AnalogColor:break;case ve.AnalogColor_attribute:this.attribute=t.consumeLine();break;case ve.AnalogColor_limit:this.limit=t.consumeFloat();break;case ve.AnalogColor_limit_type:this.limit_type=t.consumeInt();break;case ve.AnalogColor_color:this.color=t.consumeInt();break;case ve.AnalogColor_instance:this.instance=t.consumeInt();break;case ve.AnalogColor_instance_mask:this.instance_mask=t.consumeInt();break;case ve.AnalogColor_border:this.border=t.consumeInt();break;case ve.AnalogColor_common_attr:this.common_attr=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynAnalogColor:",e),t.consumeLine()}}}}class or extends qe{constructor(t){super(t,xe.Rotate),this.firstScan=!0,this.dyn_type1=pe.Rotate}connect(t){this.x0||this.y0?this.rotation_point=M.FixPoint:this.rotation_point=M.Zero,t.storeTransform(),this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=this.a.get_ref_value();(this.firstScan||e!==this.a.oldValue)&&(t.setRotation(e*this.factor,this.x0,this.y0,this.rotation_point),this.dyn.repaintNow=!0,this.a.oldValue=e),this.firstScan&&(this.firstScan=!1)}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Rotate:break;case ve.Rotate_attribute:this.attribute=t.consumeLine();break;case ve.Rotate_x0:this.x0=t.consumeFloat();break;case ve.Rotate_y0:this.y0=t.consumeFloat();break;case ve.Rotate_factor:this.factor=t.consumeFloat();break;case ve.End:return;default:console.log("Syntax error in DynRotate:",e),t.consumeLine()}}}}class nr extends qe{constructor(t){super(t,xe.Move),this.firstScan=!0,this.dyn_type1=pe.Move}connect(t){let e=[l.j.Float32,l.j.Float64,l.j.Int32,l.j.UInt32];return this.move_x_a=new He(this.dyn,this.move_x_attribute),this.move_y_a=new He(this.dyn,this.move_y_attribute),this.scale_x_a=new He(this.dyn,this.scale_x_attribute),this.scale_y_a=new He(this.dyn,this.scale_y_attribute),this.move_x_a.connect(this.dyn),this.move_y_a.connect(this.dyn),this.scale_x_a.connect(this.dyn),this.scale_y_a.connect(this.dyn),this.move_x_a.sts&&-1===e.indexOf(this.move_x_a.typeid)?(this.move_x_a.disconnect(),void console.log("Move: "+this.move_x_attribute)):this.move_y_a.sts&&-1===e.indexOf(this.move_y_a.typeid)?(this.move_y_a.disconnect(),void console.log("Move: "+this.move_y_attribute)):this.scale_x_a.sts&&-1===e.indexOf(this.scale_x_a.typeid)?(this.scale_x_a.disconnect(),void console.log("Move: "+this.scale_x_attribute)):this.scale_y_a.sts&&-1===e.indexOf(this.scale_y_a.typeid)?(this.scale_y_a.disconnect(),void console.log("Move: "+this.scale_y_attribute)):void(t.transformIsStored()||(t.storeTransform(),this.x_orig=t.ll.x,this.y_orig=t.ll.y,this.width_orig=t.ur.x-t.ll.x,this.height_orig=t.ur.y-t.ll.y))}disconnect(){this.move_x_a.disconnect(),this.move_y_a.disconnect(),this.scale_x_a.disconnect(),this.scale_y_a.disconnect()}scan(t){let e=!1,r=0,i=0,o=0,n=0;if(this.move_x_a.sts&&(r=this.move_x_a.get_ref_value()),this.move_y_a.sts&&(i=this.move_y_a.get_ref_value()),this.scale_x_a.sts&&(o=this.scale_x_a.get_ref_value()),this.scale_y_a.sts&&(n=this.scale_y_a.get_ref_value()),e=!1,this.firstScan)this.firstScan=!1;else if(this.move_x_a.sts&&r!==this.move_x_a.oldValue?e=!0:this.move_y_a.sts&&i!==this.move_y_a.oldValue?e=!0:this.scale_x_a.sts&&o!==this.scale_x_a.oldValue?e=!0:this.scale_y_a.sts&&n!==this.scale_y_a.oldValue&&(e=!0),!e)return;let s=0,a=0,l=1,_=1;if(this.scale_x_a.sts&&(l=o*this.scale_x_factor),this.scale_y_a.sts&&(_=n*this.scale_y_factor),this.move_x_a.sts||this.move_y_a.sts||t.set_scale(l,_,0,0,this.scale_type),this.scale_x_a.sts&&(this.scale_x_a.oldValue=o),this.scale_y_a.sts&&(this.scale_y_a.oldValue=n),this.move_x_a.sts||this.move_y_a.sts){if(this.move_x_a.sts){let t=0;switch(this.scale_type){case A.LowerRight:case A.UpperRight:t=this.width_orig*(1-l);break;case A.Center:t=this.width_orig*(1-l)/2}s=this.x_orig+t+(r-this.x_offset)*this.x_factor}else s=this.x_orig;if(this.move_y_a.sts){let t=0;switch(this.scale_type){case A.UpperRight:case A.UpperLeft:t=this.height_orig*(1-_);break;case A.Center:t=this.height_orig*(1-_)/2}a=this.y_orig+t+(i-this.y_offset)*this.y_factor}else a=this.y_orig;Math.abs(l)<Number.MIN_VALUE&&(l=1e-4),Math.abs(_)<Number.MIN_VALUE&&(_=1e-4),t.set_scale_pos(s,a,l,_,0,0,this.scale_type),this.move_x_a.sts&&(this.move_x_a.oldValue=r),this.move_y_a.sts&&(this.move_y_a.oldValue=i)}else s=this.move_x_a.sts?(r-this.x_offset)*this.x_factor:0,a=this.move_y_a.sts?(i-this.y_offset)*this.y_factor:0,t.set_position(s,a),this.move_x_a.sts&&(this.move_x_a.oldValue=r),this.move_y_a.sts&&(this.move_y_a.oldValue=i)}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Move:break;case ve.Move_move_x_attribute:this.move_x_attribute=t.consumeLine();break;case ve.Move_move_y_attribute:this.move_y_attribute=t.consumeLine();break;case ve.Move_scale_x_attribute:this.scale_x_attribute=t.consumeLine();break;case ve.Move_scale_y_attribute:this.scale_y_attribute=t.consumeLine();break;case ve.Move_x_offset:this.x_offset=t.consumeFloat();break;case ve.Move_y_offset:this.y_offset=t.consumeFloat();break;case ve.Move_x_factor:this.x_factor=t.consumeFloat();break;case ve.Move_y_factor:this.y_factor=t.consumeFloat();break;case ve.Move_scale_x_factor:this.scale_x_factor=t.consumeFloat();break;case ve.Move_scale_y_factor:this.scale_y_factor=t.consumeFloat();break;case ve.Move_scale_type:this.scale_type=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynMove:",e),t.consumeLine()}}}}class sr extends qe{constructor(t){super(t,xe.AnalogShift),this.firstScan=!0,this.dyn_type1=pe.AnalogShift}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=0;switch(this.a.typeid){case l.j.Float32:case l.j.Int32:{let t=this.a.get_ref_value();if(this.firstScan)this.firstScan=!1;else if(t===this.oldValue)return;e=t,this.a.typeid===l.j.Float32&&(e=Math.round(e)),this.oldValue=t;break}}t.set_nodeclass_by_index(e)}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.AnalogShift:break;case ve.AnalogShift_attribute:this.attribute=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynAnalogShift:",e),t.consumeLine()}}}}class ar extends qe{constructor(t){super(t,xe.DigShift),this.firstScan=!0,this.dyn_type1=pe.DigShift}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.set_last_nodeclass():t.set_root_nodeclass(),this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigShift:break;case ve.DigShift_attribute:this.attribute=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynDigShift:",e),t.consumeLine()}}}}class lr extends qe{constructor(t){super(t,xe.DigFourShift),this.firstScan=!0,this.dyn_type2=be.DigFourShift}connect(t){this.a1=new He(this.dyn,this.attribute1),this.a2=new He(this.dyn,this.attribute2),this.a3=new He(this.dyn,this.attribute3),this.a1.connect(this.dyn),this.a2.connect(this.dyn),this.a3.connect(this.dyn)}disconnect(){this.a1.disconnect(),this.a2.disconnect(),this.a3.disconnect()}scan(t){if(!this.a1.attrFound||!this.a2.attrFound||!this.a3.attrFound)return;let e=this.dyn.getDig(this.a1.p,this.a1.typeid,this.a1.bitmask,this.a1.database),r=this.dyn.getDig(this.a2.p,this.a2.typeid,this.a2.bitmask,this.a2.database),i=this.dyn.getDig(this.a3.p,this.a3.typeid,this.a3.bitmask,this.a3.database);if(e=this.a1.inverted?!e:e,r=this.a2.inverted?!r:r,i=this.a3.inverted?!i:i,this.firstScan)this.firstScan=!1;else if(this.a1.oldValue===e&&this.a2.oldValue===r&&this.a3.oldValue===i)return;i?t.set_nodeclass_by_index(2):r?t.set_nodeclass_by_index(1):e?t.set_root_nodeclass():t.set_last_nodeclass(),this.a1.oldValue=e,this.a2.oldValue=r,this.a3.oldValue=i}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigFourShift:break;case ve.DigFourShift_attribute1:this.attribute1=t.consumeLine();break;case ve.DigFourShift_attribute2:this.attribute2=t.consumeLine();break;case ve.DigFourShift_attribute3:this.attribute3=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynDigFourShift:",e),t.consumeLine()}}}}class _r extends qe{constructor(t){super(t,xe.ScrollingText),this.firstScan=!0,this.offset=0,this.dyn_type2=be.ScrollingText}connect(t){if(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts)return this.a.typeid!==l.j.String&&this.a.typeid!==l.j.Text?(console.log("ScrollingText: "+this.attribute),void this.a.disconnect()):void(this.direction===et.e.Left||this.direction===et.e.Right?this.osize=t.ur.x-t.ll.x:this.osize=t.ur.y-t.ll.y);console.log("ScrollingText: "+this.attribute)}disconnect(){this.a.disconnect()}scan(t){let e=t.getAnnotationTextExtent(1);if(null===e)return;switch(this.direction){case et.e.Left:this.offset-=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?e.width<this.osize?this.offset<0&&(this.offset=-this.offset,this.direction=et.e.Right):this.offset<this.osize-e.width&&(this.offset+=this.osize-e.width-this.offset,this.direction=et.e.Right):this.offset<-e.width&&(this.offset=this.osize),t.setAnnotationTextOffset(1,this.offset,0);break;case et.e.Right:this.offset+=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?e.width<this.osize?this.offset>this.osize-e.width&&(this.offset-=this.offset-(this.osize-e.width),this.direction=et.e.Left):this.offset>0&&(this.offset=-this.offset,this.direction=et.e.Left):this.offset>this.osize&&(this.offset=-e.width),t.setAnnotationTextOffset(1,this.offset,0);break;case et.e.Up:this.offset+=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?this.offset>this.osize-e.height&&(this.offset-=this.offset-(this.osize-e.height),this.direction=et.e.Down):this.offset>this.osize&&(this.offset=-e.height),t.setAnnotationTextOffset(1,0,this.offset);break;case et.e.Down:this.offset-=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?this.offset<0&&(this.offset=-this.offset,this.direction=et.e.Up):this.offset<-e.height&&(this.offset=this.osize),t.setAnnotationTextOffset(1,0,this.offset)}let r=this.a.get_ref_value();(this.firstScan||r!==this.a.oldValue)&&(t.set_annotation(1,r,!1),this.dyn.repaintNow=!0,this.a.oldValue=r),this.firstScan&&(this.firstScan=!1)}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.ScrollingText:break;case ve.ScrollingText_attribute:this.attribute=t.consumeLine();break;case ve.ScrollingText_direction:this.direction=t.consumeInt();break;case ve.ScrollingText_speed:this.speed=t.consumeFloat();break;case ve.ScrollingText_bounce:this.bounce=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynScrollingText:",e),t.consumeLine()}}}}class cr extends qe{constructor(t){super(t,xe.ColorThemeLightness),this.dyn_type2=be.ColorThemeLightness}scan(t){t.setColorThemeLightness()}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.ColorThemeLightness:break;case ve.End:return;default:console.log("Syntax error in DynColorThemeLightness:",e),t.consumeLine()}}}}class hr extends qe{constructor(t){super(t,xe.DigBackgroundColor),this.a=null,this.firstScan=!0,this.dyn_type2=be.DigBackgroundColor}connect(t){this.color<0||this.color>=Z.a._||(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn))}disconnect(){this.a&&this.a.disconnect()}scan(t){if(null===this.a||!this.a.sts||this.dyn.ignoreBgColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreBgColor=!0));e?(t.setBackgroundColor(this.color),this.dyn.ignoreBgColor=!0):(t.resetBackgroundColor(),this.dyn.resetBgColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigBackgroundColor:break;case ve.DigBackgroundColor_attribute:this.attribute=t.consumeLine();break;case ve.DigBackgroundColor_color:this.color=t.consumeInt();break;case ve.DigBackgroundColor_instance:this.instance=t.consumeInt();break;case ve.DigBackgroundColor_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigBackgroundColor:",e),t.consumeLine()}}}}class ur extends qe{constructor(t){super(t,xe.DigSwap),this.firstScan=!0,this.dyn_type2=be.DigSwap}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(!this.firstScan)return this.a.oldValue=e,void(this.firstScan=!1);e=this.a.inverted?!e:e,this.a.oldValue!==e&&(this.dyn.repaintNow=!0,this.a.oldValue=e)}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigSwap:break;case ve.DigSwap_attribute:this.attribute=t.consumeLine();break;case ve.DigSwap_reset_value:this.reset_value=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigSwap:",e),t.consumeLine()}}}}class dr extends qe{constructor(t){super(t,xe.Animation),this.firstScan=!0,this.dyn_type1=pe.Animation}connect(t){this.sequence===Ce.Inherit&&(this.sequence=t.get_nodeclass_dyn_attr1()),this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){let e,r;if(!this.a.sts)return;let i=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);i=this.a.inverted?!i:i,this.firstScan&&(this.animation_count=0,this.animation_direction=0,this.firstScan=!1,this.sequence===Ce.Dig&&(i&&t.set_last_nodeclass(),this.a.oldValue=i)),this.sequence===Ce.Dig?(this.a.oldValue!==i&&(i?this.animation_direction=1:i||(this.animation_direction=2),this.animation_count=0),this.animation_direction&&(e=t.get_animation_count(),this.animation_count++,this.animation_count>=e&&(1===this.animation_direction?(r=t.set_next_nodeclass(),Object(l.o)(r)&&(this.animation_direction=0),this.animation_count=0):(r=t.set_previous_nodeclass(),Object(l.o)(r)&&(this.animation_direction=0),this.animation_count=0)))):i?(this.animation_direction||(this.animation_count=0,this.animation_direction=1),e=t.get_animation_count(),this.animation_count++,this.animation_count>=e&&(1===this.animation_direction?(r=t.set_next_nodeclass(),Object(l.o)(r)&&(this.sequence===Ce.Cycle?t.set_nodeclass_by_index(1):(this.animation_direction=2,t.set_previous_nodeclass())),this.animation_count=0):(r=t.set_previous_nodeclass(),Object(l.o)(r)&&(this.animation_direction=1,r=t.set_next_nodeclass()),this.animation_count=0))):this.animation_direction&&(this.animation_direction=0,t.set_first_nodeclass()),this.a.oldValue=i}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Animation:break;case ve.Animation_attribute:this.attribute=t.consumeLine();break;case ve.Animation_sequence:this.sequence=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynAnimation:",e),t.consumeLine()}}}}class mr extends qe{constructor(t){super(t,xe.Video),this.dyn_type1=pe.Video}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Video:break;case ve.End:return;default:console.log("Syntax error in DynVideo:",e),t.consumeLine()}}}}class fr extends qe{constructor(t){super(t,xe.Bar),this.attribute=null,this.maxval=0,this.firstScan=!0,this.dyn_type1=pe.Bar}connect(t){null!==this.attribute&&(this.a=new He(this.dyn,this.attribute),this.minvalue_a=new He(this.dyn,this.minvalue_attr),this.maxvalue_a=new He(this.dyn,this.maxvalue_attr),this.a.connect(this.dyn),this.minvalue_a.connect(this.dyn),this.maxvalue_a.connect(this.dyn))}disconnect(){this.a.disconnect(),this.minvalue_a.disconnect(),this.maxvalue_a.disconnect()}scan(t){if(this.a.sts){if(this.maxvalue_a.sts&&this.minvalue_a.sts){let e=this.minvalue_a.get_ref_value(),r=this.maxvalue_a.get_ref_value();e===this.minvalue_a.oldValue&&r===this.maxvalue_a.oldValue||(t.set_range(e,r),this.minvalue_a.oldValue=e,this.maxvalue_a.oldValue=r)}switch(this.a.typeid){case l.j.Float32:{let e=this.a.get_ref_value();if(this.firstScan)this.firstScan=!1;else if(Math.abs(this.old_value-e)<Number.MIN_VALUE)return;t.set_value(e),this.old_value=e;break}case l.j.Int32:case l.j.UInt32:{let e=this.a.get_ref_value();if(this.firstScan)this.firstScan=!1;else if(this.old_value===e)return;t.set_value(e),this.old_value=e;break}}}}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Bar:break;case ve.Bar_attribute:this.attribute=t.consumeLine();break;case ve.Bar_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case ve.Bar_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynBar",e),t.consumeLine()}}}}class wr extends qe{constructor(t){super(t,xe.Trend),this.a1=null,this.a2=null,this.minvalue_a1=null,this.maxvalue_a1=null,this.minvalue_a2=null,this.maxvalue_a2=null,this.hold_a=null,this.timerange_a=null,this.mark1_a=null,this.mark2_a=null,this.attribute1=null,this.attribute2=null,this.minvalue_attr1=null,this.maxvalue_attr1=null,this.minvalue_attr2=null,this.maxvalue_attr2=null,this.hold_attr=null,this.timerange_attr=null,this.mark1_attr=null,this.mark2_attr=null,this.firstScan=!0,this.dyn_type1=pe.Trend}connect(t){this.a1=new He(this.dyn,this.attribute1),this.a1.connect(this.dyn),""!==this.attribute2.trim()&&(this.a2=new He(this.dyn,this.attribute2),this.a2.connect(this.dyn)),this.a1.sts?""===this.attribute2.trim()||this.a2.sts?(this.no_of_points=t.get_no_of_points(),this.scan_time=t.get_scan_time(),this.acc_time=this.scan_time,this.trend_hold=0,""!==this.minvalue_attr1.trim()&&(this.minvalue_a1=new He(this.dyn,this.minvalue_attr1),this.minvalue_a1.connect(this.dyn)),""!==this.maxvalue_attr1.trim()&&(this.maxvalue_a1=new He(this.dyn,this.maxvalue_attr1),this.maxvalue_a1.connect(this.dyn)),""!==this.minvalue_attr2.trim()&&(this.minvalue_a2=new He(this.dyn,this.minvalue_attr2),this.minvalue_a2.connect(this.dyn)),""!==this.maxvalue_attr2.trim()&&(this.maxvalue_a2=new He(this.dyn,this.maxvalue_attr2),this.maxvalue_a2.connect(this.dyn)),""!==this.hold_attr.trim()&&(this.hold_a=new He(this.dyn,this.hold_attr),this.hold_a.connect(this.dyn)),""!==this.timerange_attr.trim()&&(this.timerange_a=new He(this.dyn,this.timerange_attr),this.timerange_a.connect(this.dyn)),this.mark1_attr&&""!==this.mark1_attr.trim()&&(this.mark1_a=new He(this.dyn,this.mark1_attr),this.mark1_a.connect(this.dyn)),this.mark2_attr&&""!==this.mark2_attr.trim()&&(this.mark2_a=new He(this.dyn,this.mark2_attr),this.mark2_a.connect(this.dyn)),""===this.minvalue_attr1.trim()||this.minvalue_a1.sts||(this.minvalue_a1=null,console.log("Trend: "+this.minvalue_attr1)),""===this.maxvalue_attr1.trim()||this.maxvalue_a1.sts||(this.maxvalue_a1=null,console.log("Trend: "+this.maxvalue_attr1)),""===this.minvalue_attr2.trim()||this.minvalue_a2.sts||(this.minvalue_a2=null,console.log("Trend: "+this.minvalue_attr2)),""===this.maxvalue_attr2.trim()||this.maxvalue_a2.sts||(this.maxvalue_a2=null,console.log("Trend: "+this.maxvalue_attr2)),""===this.hold_attr.trim()||this.hold_a.sts||(this.hold_a=null,console.log("Trend: "+this.hold_attr)),""!==this.timerange_attr.trim()&&(this.timerange_a.sts||(this.timerange_a=null,console.log("Trend: "+this.timerange_attr)),this.orig_graph_scan_time=this.dyn.graph.scan_time,this.orig_graph_fast_scan_time=this.dyn.graph.fast_scan_time,this.orig_graph_animation_scan_time=this.dyn.graph.getAnimationScanTime()),this.mark1_attr&&""!==this.mark1_attr.trim()&&!this.mark1_a.sts&&(this.mark1_a=null,console.log("Trend: "+this.mark1_attr)),this.mark2_attr&&""!==this.mark2_attr.trim()&&!this.mark2_a.sts&&(this.mark2_a=null,console.log("Trend: "+this.mark2_attr)),this.mark1_color===Z.a.Inherit&&this.mark2_color===Z.a.Inherit||t.set_mark_color(this.mark1_color,this.mark2_color)):console.log("Trend: "+this.attribute2):console.log("Trend: "+this.attribute1)}disconnect(){let t=[this.a1,this.a2,this.minvalue_a1,this.maxvalue_a1,this.minvalue_a2,this.maxvalue_a2,this.hold_a,this.timerange_a,this.mark1_a,this.mark2_a];for(let e=0;e<t.length;e++)t[e]&&t[e].disconnect()}scan(t){if(this.a1.attrFound){if(this.hold_a){if(this.hold_a.get_ref_value())return}if(this.timerange_a){let e=this.timerange_a.get_ref_value();if(Math.abs(e-this.timerange_a.oldValue)>Number.MIN_VALUE){let r=e/this.no_of_points;if(r>=.001){if(t.set_scan_time(r),this.scan_time=r,this.dyn.cycle===k.Slow){this.dyn.graph.scan_time>this.scan_time||this.scan_time<=this.orig_graph_scan_time?this.dyn.graph.scan_time=this.scan_time:this.dyn.graph.scan_time=this.orig_graph_scan_time}let e=this.dyn.graph.fast_scan_time,i=this.dyn.graph.getAnimationScanTime();e>this.scan_time||this.scan_time<=this.orig_graph_fast_scan_time?this.dyn.graph.fast_scan_time=this.scan_time:this.dyn.graph.fast_scan_time=this.orig_graph_fast_scan_time,i>this.scan_time||this.scan_time<=this.orig_graph_animation_scan_time?this.dyn.graph.animation_scan_time=this.scan_time:this.dyn.graph.animation_scan_time=this.orig_graph_animation_scan_time}this.timerange_a.oldValue=e}}if(this.maxvalue_a1&&this.minvalue_a1){let e=this.minvalue_a1.get_ref_value(),r=this.maxvalue_a1.get_ref_value();e===this.minvalue_a1.oldValue&&r===this.maxvalue_a1.oldValue||(Math.abs(r-e)>Number.MIN_VALUE&&t.set_range_y(0,e,r),this.minvalue_a1.oldValue=e,this.maxvalue_a1.oldValue=r)}if(this.maxvalue_a2&&this.minvalue_a2){let e=this.minvalue_a2.get_ref_value(),r=this.maxvalue_a2.get_ref_value();e===this.minvalue_a2.oldValue&&r===this.maxvalue_a2.oldValue||(Math.abs(r-e)>Number.MIN_VALUE&&t.set_range_y(1,e,r),this.minvalue_a2.oldValue=e,this.maxvalue_a2.oldValue=r)}if(this.mark1_a){let e=this.mark1_a.get_ref_value();(this.firstScan||Math.abs(e-this.mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark1(e),this.mark1_a.oldValue=e)}if(this.mark2_a){let e=this.mark2_a.get_ref_value();(this.firstScan||Math.abs(e-this.mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark2(e),this.mark2_a.oldValue=e)}if(this.firstScan&&(this.firstScan=!1),this.dyn.cycle===k.Slow?this.acc_time+=this.dyn.graph.scan_time:this.acc_time+=this.dyn.graph.fast_scan_time,this.acc_time+Number.MIN_VALUE>=this.scan_time){if(this.a1)switch(this.a1.typeid){case l.j.Boolean:t.add_value(Boolean(this.a1.get_ref_value()),0);break;case l.j.Float32:case l.j.Int32:case l.j.UInt32:t.add_value(this.a1.get_ref_value(),0)}if(this.a2&&this.a2.sts)switch(this.a2.typeid){case l.j.Boolean:t.add_value(Boolean(this.a2.get_ref_value()),1);break;case l.j.Float32:case l.j.Int32:case l.j.UInt32:t.add_value(this.a2.get_ref_value(),1)}this.acc_time=0}}}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Trend:break;case ve.Trend_attribute1:this.attribute1=t.consumeLine();break;case ve.Trend_attribute2:this.attribute2=t.consumeLine();break;case ve.Trend_minvalue_attr1:this.minvalue_attr1=t.consumeLine();break;case ve.Trend_maxvalue_attr1:this.maxvalue_attr1=t.consumeLine();break;case ve.Trend_minvalue_attr2:this.minvalue_attr2=t.consumeLine();break;case ve.Trend_maxvalue_attr2:this.maxvalue_attr2=t.consumeLine();break;case ve.Trend_hold_attr:this.hold_attr=t.consumeLine();break;case ve.Trend_timerange_attr:this.timerange_attr=t.consumeLine();break;case ve.Trend_mark1_attr:this.mark1_attr=t.consumeLine();break;case ve.Trend_mark2_attr:this.mark2_attr=t.consumeLine();break;case ve.Trend_mark1_color:this.mark1_color=t.consumeInt();break;case ve.Trend_mark2_color:this.mark2_color=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynTrend",e),t.consumeLine()}}}}class pr extends qe{constructor(t){super(t,xe.XY_Curve),this.firstScan=!0,this.x_a=null,this.y_a=null,this.y_minvalue_a=null,this.y_maxvalue_a=null,this.x_minvalue_a=null,this.x_maxvalue_a=null,this.noofpoints_a=null,this.update_a=null,this.x_mark1_a=null,this.x_mark2_a=null,this.y_mark1_a=null,this.y_mark2_a=null,this.x_attr=null,this.y_attr=null,this.x_mark1_attr=null,this.x_mark2_attr=null,this.y_mark1_attr=null,this.y_mark2_attr=null,this.curveX=[],this.curveY=[],this.dyn_type1=pe.XY_Curve}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.XY_Curve:break;case ve.XY_Curve_x_attr:this.x_attr=t.consumeLine();break;case ve.XY_Curve_y_attr:this.y_attr=t.consumeLine();break;case ve.XY_Curve_y_minvalue_attr:this.y_minvalue_attr=t.consumeLine();break;case ve.XY_Curve_y_maxvalue_attr:this.y_maxvalue_attr=t.consumeLine();break;case ve.XY_Curve_x_minvalue_attr:this.x_minvalue_attr=t.consumeLine();break;case ve.XY_Curve_x_maxvalue_attr:this.x_maxvalue_attr=t.consumeLine();break;case ve.XY_Curve_noofpoints_attr:this.noofpoints_attr=t.consumeLine();break;case ve.XY_Curve_update_attr:this.update_attr=t.consumeLine();break;case ve.XY_Curve_y_min_value:this.y_min_value=t.consumeFloat();break;case ve.XY_Curve_y_max_value:this.y_max_value=t.consumeFloat();break;case ve.XY_Curve_x_min_value:this.x_min_value=t.consumeFloat();break;case ve.XY_Curve_x_max_value:this.x_max_value=t.consumeFloat();break;case ve.XY_Curve_datatype:this.datatype=t.consumeInt();break;case ve.XY_Curve_instance:this.instance=t.consumeInt();break;case ve.XY_Curve_instance_mask:this.instance_mask=t.consumeInt();break;case ve.XY_Curve_curve_color:this.curve_color=t.consumeInt();break;case ve.XY_Curve_fill_color:this.fill_color=t.consumeInt();break;case ve.XY_Curve_horizontal_padding:this.horizontal_padding=t.consumeInt();break;case ve.XY_Curve_x_mark1_attr:this.x_mark1_attr=t.consumeLine();break;case ve.XY_Curve_x_mark2_attr:this.x_mark2_attr=t.consumeLine();break;case ve.XY_Curve_y_mark1_attr:this.y_mark1_attr=t.consumeLine();break;case ve.XY_Curve_y_mark2_attr:this.y_mark2_attr=t.consumeLine();break;case ve.XY_Curve_mark1_color:this.mark1_color=t.consumeInt();break;case ve.XY_Curve_mark2_color:this.mark2_color=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynXYCurve:",e),t.consumeLine()}}}connect(t){if(null===this.x_attr||null===this.y_attr)return;let e=["update","noofpoints","y_minvalue","y_maxvalue","x_minvalue","x_maxvalue","y_mark1","y_mark2"];for(let t=0;t<e.length;t++){e[t]+="_a";let r=this[e[t]+"ttr"];""!==r.trim()&&(this[e[t]]=new He(this.dyn,r),this[e[t]].connect(this.dyn))}this.curve_number=0;let r=this.instance;for(;r;)r>>=1,this.curve_number++;if(this.instance===we.One){r=this.instance_mask;let e=0;for(;r;)r>>=1,e++;t.set_xy_noofcurves(e)}this.noofpoints=t.get_no_of_points(),Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),t.set_xy_curve_color(this.curve_number-1,this.curve_color,this.fill_color),this.mark1_color===Z.a.Inherit&&this.mark2_color===Z.a.Inherit||t.set_mark_color(this.mark1_color,this.mark2_color)}disconnect(){let t=[this.update_a,this.noofpoints_a,this.y_minvalue_a,this.y_maxvalue_a,this.x_minvalue_a,this.x_maxvalue_a,this.x_mark1_a,this.x_mark2_a,this.y_mark1_a,this.y_mark2_a];for(let e=0;e<t.length;e++)t[e]&&t[e].disconnect()}scan(t){let e,r=!1,i=1;if(this.object=t,this.noOfPoints=this.noofpoints,null!==this.x_attr&&null!==this.y_attr){if(this.firstScan&&(r=!0),this.update_a){let t=this.update_a.get_ref_value();t&&!this.update_a.oldValue&&(r=!0),this.update_a.oldValue=t}if(this.noofpoints_a){let t=this.noofpoints_a.get_ref_value();t!==this.noofpoints_a.oldValue&&(r=!0,this.noofpoints=t,this.noOfPoints=t,this.noofpoints_a.oldValue=t)}if(this.y_minvalue_a){let e=this.y_minvalue_a.get_ref_value();e!==this.y_min_value&&(this.y_min_value=e,Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),r=!0)}if(this.y_maxvalue_a){let e=this.y_maxvalue_a.get_ref_value();e!==this.y_max_value&&(this.y_max_value=e,Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),r=!0)}if(this.x_minvalue_a){let e=this.x_minvalue_a.get_ref_value();e!==this.x_min_value&&(this.x_min_value=e,Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),r=!0)}if(this.x_maxvalue_a){let e=this.x_maxvalue_a.get_ref_value();e!==this.x_max_value&&(this.x_max_value=e,Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),r=!0)}if(this.x_mark1_a){let e=this.x_mark1_a.get_ref_value();(this.firstScan||Math.abs(e-this.x_mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_x_mark1(e),this.x_mark1_a.oldValue=e)}if(this.x_mark2_a){let e=this.x_mark2_a.get_ref_value();(this.firstScan||Math.abs(e-this.x_mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_x_mark2(e),this.x_mark2_a.oldValue=e)}if(this.y_mark1_a){let e=this.y_mark1_a.get_ref_value();(this.firstScan||Math.abs(e-this.y_mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark1(e),this.y_mark1_a.oldValue=e)}if(this.y_mark2_a){let e=this.y_mark2_a.get_ref_value();(this.firstScan||Math.abs(e-this.y_mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark2(e),this.y_mark2_a.oldValue=e)}if(r){let t,r=this.dyn.parseAttrName(this.x_attr);switch(e=r.elements,this.datatype){case fe.XYArrays:this.noOfPoints=Math.min(this.noOfPoints,e),i=this.noOfPoints;break;case fe.PointArray:this.noOfPoints=Math.min(this.noOfPoints,e/2),i=2*this.noOfPoints;break;case fe.TableObject:this.noOfPoints=Math.min(this.noOfPoints,(e-1)/2),i=2*this.noOfPoints+1}if(r.type===l.j.Float32?t=a.d.getObjectInfoFloatArray(r.name,i):r.type>=l.j.Int8&&r.type<=l.j.UInt32&&(t=a.d.getObjectInfoIntArray(r.name,i)),this.datatype===fe.XYArrays){let e,r=this.dyn.parseAttrName(this.y_attr);this.noOfPoints=Math.min(this.noOfPoints,r.elements),r.type===l.j.Float32?e=a.d.getObjectInfoFloatArray(r.name,this.noOfPoints):r.type>=l.j.Int8&&r.type<=l.j.UInt32&&(e=a.d.getObjectInfoIntArray(r.name,this.noOfPoints)),Promise.all([t,e]).then(this.scan2_xy(this))}else t.then(this.scan2(this))}else this.firstScan=!1}}scan2(t){return function(e){if(!(1&e.sts))return;let r=Number(t.datatype===fe.TableObject);r&&(t.noOfPoints=Math.min(Math.floor(e.value[0]),t.noofpoints)),t.curveX=new Array(t.noOfPoints),t.curveY=new Array(t.noOfPoints);for(let i=0;i<t.noOfPoints;i++)t.curveX[i]=e.value[2*i+r],t.curveY[i]=e.value[2*i+1+r];t.dyn.repaintNow=!0,t.object.set_xy_data(t.curveY,t.curveX,t.curve_number-1,t.noOfPoints),t.firstScan=!1}}scan2_xy(t){return function(e){1&e[0].sts&&1&e[1].sts&&(t.curveX=e[0].value.slice(0,t.noOfPoints),t.curveY=e[1].value.slice(0,t.noOfPoints),t.dyn.repaintNow=!0,t.object.set_xy_data(t.curveY,t.curveX,t.curve_number-1,t.noOfPoints),t.firstScan=!1)}}}class br extends qe{constructor(t){super(t,xe.Pie),this.attribute=new Array(J),this.connected=!1,this.firstScan=!0,this.dyn_type1=pe.Pie}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Pie:break;case ve.Pie_fix_range:this.fix_range=t.consumeInt();break;case ve.Pie_attribute1:case ve.Pie_attribute2:case ve.Pie_attribute3:case ve.Pie_attribute4:case ve.Pie_attribute5:case ve.Pie_attribute6:case ve.Pie_attribute7:case ve.Pie_attribute8:case ve.Pie_attribute9:case ve.Pie_attribute10:case ve.Pie_attribute11:case ve.Pie_attribute12:this.attribute[e-ve.Pie_attribute1]=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynPie:",e),t.consumeLine()}}}connect(t){let e=t.get_conf();this.min_value=e.min_val,this.max_value=e.max_val,this.sectors=e.sector_num,this.sectors>J&&(this.sectors=J),this.a=new Array(this.sectors);for(let t=0;t<this.sectors;t++)null===this.attribute[t]||""===this.attribute[t].trim()?this.a[t]=null:(this.a[t]=new He(this.dyn,this.attribute[t]),this.a[t].connect(this.dyn));for(let t=0;t<this.sectors;t++){if(this.a[t]&&!this.a[t].sts)return this.a[t]=null,void console.log("Pie: "+this.attribute[t]);0===t&&(this.attr_type=this.a[0].typeid)}this.connected=!0}disconnect(){if(this.connected)for(let t=0;t<this.sectors;t++)this.a[t]&&this.a[t].disconnect()}scan(t){if(this.connected)switch(this.attr_type){case l.j.Float32:let e=[];for(let t=0;t<this.sectors;t++)e.push(this.a[t].get_ref_value());if(this.firstScan)this.firstScan=!1;else{let t=!1;for(let r=0;r<this.sectors;r++)if(Math.abs(this.a[r].oldValue-e[r])>Number.MIN_VALUE){t=!0;break}if(!t)return}if(Math.abs(this.max_value-this.min_value)<Number.MIN_VALUE)return;let r=new Array(J);if(this.fix_range||1===this.sectors)for(let t=0;t<this.sectors;t++)r[t]=e[t]-this.min_value;else{let t=0;for(let r=0;r<this.sectors;r++)t+=e[r]-this.min_value;for(let i=0;i<this.sectors;i++)Math.abs(t)<Number.MIN_VALUE?r[i]=0:r[i]=(e[i]-this.min_value)/t*(this.max_value-this.min_value)}t.set_values(r);for(let t=0;t<this.sectors;t++)this.a[t].oldValue=e[t];break;case l.j.Int32:}}}class gr extends qe{constructor(t){super(t,xe.BarChart),this.attribute=new Array(Y),this.firstScan=!0,this.connected=!1,this.dyn_type1=pe.BarChart}open(t){for(;;){let e=t.consumeInt();if(e===ve.End)return;e===ve.BarChart_fix_range?this.fix_range=t.consumeInt():e>=ve.BarChart_attribute1&&e<=ve.BarChart_attribute12?this.attribute[e-ve.BarChart_attribute1]=t.consumeLine():e!==ve.BarChart&&(console.log("Syntax error in DynBarChart:",e),t.consumeLine())}}connect(t){let e=t.get_conf();this.min_value=e.min_value,this.max_value=e.max_value,this.bars=e.bars,this.barsegments=e.barsegments,this.a=new Array(this.barsegments);for(let t=0;t<this.barsegments;t++){if(null===this.attribute[t]||""===this.attribute[t].trim())return void console.log("BarChart",this.attribute[t]);if(this.a[t]=new He(this.dyn,this.attribute[t]),this.a[t].connect(this.dyn),0===this.a[t].elements)return;if(this.bars=Math.min(this.bars,this.a[t].elements),0===t){if(this.attr_type=this.a[t].typeid,this.attr_type!==l.j.Float32&&this.attr_type!==l.j.Int32)return;this.value=new Array(this.barsegments)}else if(this.attr_type!==this.a[t].typeid)return void console.log("BarChart type",this.attribute[t],this.a[t].typeid)}this.connected=!0}disconnect(){if(this.connected)for(let t=0;t<this.barsegments;t++)this.a[t].disconnect()}scan(t){if(this.connected&&this.attr_type===l.j.Float32){this.value=new Array(Y);for(let t=0;t<this.barsegments;t++)if(this.value[t]=this.a[t].get_ref_value(),this.value[t].length<this.bars){console.log("BarChart, value array to short",this.value[t].length);break}if(this.firstScan)this.firstScan=!1;else{let t=!1;if(this.oldValue){for(let e=0;e<this.barsegments&&this.value[e];e++){for(let r=0;r<this.bars;r++)if(Math.abs(this.oldValue[e][r]-this.value[e][r])>Number.MIN_VALUE){t=!0;break}if(t)break}if(!t)return}}if(Math.abs(this.max_value-this.min_value)<Number.MIN_VALUE)return;t.set_values(this.value),this.oldValue=this.value}}}class yr extends qe{constructor(t){super(t,xe.Table),this.attribute=new Array(12),this.format=new Array(12),this.sel_attribute=new Array(12),this.firstScan=!0,this.hp=null,this.dyn_type1=pe.Table}open(t){for(;;){let e=t.consumeInt();if(e===ve.End)return;e>=ve.Table_attribute1&&e<=ve.Table_attribute12?this.attribute[e-ve.Table_attribute1]=t.consumeLine():e>=ve.Table_format1&&e<=ve.Table_format12?this.format[e-ve.Table_format1]=t.consumeLine():e>=ve.Table_sel_attribute1&&e<=ve.Table_sel_attribute12?this.sel_attribute[e-ve.Table_sel_attribute1]=t.consumeLine():e!==ve.Table&&(console.log("Syntax error in DynTable:",e),t.consumeLine())}}connect(t){let e=null,r=t.getTableInfo();this.columns=r.columns,this.rows=r.rows,this.db=new Array(this.columns),this.size=new Array(this.columns),this.elements=new Array(this.columns),this.type_id=new Array(this.columns),this.headerRef=new Array(this.columns),this.p=new Array(this.columns),this.oldValue=new Array(this.columns),this.sel_p=new Array(this.columns),this.sel_elements=new Array(this.columns),this.bitmask=new Array(this.columns);for(let t=0;t<this.columns;t++){let r=this.dyn.parseAttrName(this.attribute[t]);if(null!==r&&""!==r.name&&0!==r.elements){if(this.db[t]=r.database,"$header"===r.tname.substring(0,7)){if(this.headerRef[t]=!0,null===e)continue;for(let i=0;i<this.elements[0];i++){let o="&("+(e+"["+i+"]")+")"+r.tname.substring(7);if(null===this.hp){this.hp=new Array(this.columns);for(let t=0;t<this.columns;t++)this.hp[t]=null}if(null===this.hp[t]){this.hp[t]=new Array(this.elements[0]);for(let e=0;e<this.elements[0];e++)this.hp[t][e]=0}this.hp[t][i]=a.d.refObjectInfo(o,r.type,r.elements),console.log("Table $header "+t+" hp "+this.hp[t][i]),0===i&&(this.size[t]=r.elements,this.type_id[t]=r.type,this.elements[t]=this.elements[0],this.bitmask[t]=r.bitmask)}}else{if(this.db[t]===ri.Gdh&&(this.p[t]=a.d.refObjectInfo(r.tname,r.type,r.elements),0===t&&(e=r.name)),!this.p[t])continue;this.size[t]=r.elements,this.type_id[t]=r.type,this.elements[t]=Math.min(r.elements,this.rows),this.bitmask[t]=r.bitmask}switch(this.type_id[t]){case l.j.Float32:case l.j.Boolean:case l.j.Bit:case l.j.Int32:case l.j.Int16:case l.j.Int8:case l.j.UInt32:case l.j.UInt16:case l.j.UInt8:case l.j.String:case l.j.Objid:case l.j.AttrRef:case l.j.Time:case l.j.DeltaTime:this.oldValue[t]=new Array(this.rows)}if(this.sel_p[t]=0,null!==(r=this.dyn.parseAttrName(this.sel_attribute[t]))&&""!==r.name&&r.type===l.j.Boolean&&r.database===ri.Gdh&&(this.sel_p[t]=a.d.refObjectInfo(r.tname,r.type,r.elements),this.sel_p[t])){if(0===r.elements)break;this.sel_elements[t]=Math.min(r.elements,this.elements[t])}}}t.setTableInfo(r)}disconnect(){for(let t=0;t<this.columns;t++){if(this.headerRef[t])for(let e=0;e<this.elements[t];e++)this.hp[t][e]&&a.d.unrefObjectInfo(this.hp[t][e]);else this.p[t]&&this.db[t]===ri.Gdh&&a.d.unrefObjectInfo(this.p[t]),this.p[t]=0;switch(this.type_id[t]){case l.j.Float32:case l.j.Boolean:case l.j.Bit:case l.j.Int32:case l.j.Int16:case l.j.Int8:case l.j.UInt32:case l.j.UInt16:case l.j.UInt8:case l.j.String:case l.j.Objid:case l.j.AttrRef:case l.j.Time:case l.j.DeltaTime:this.oldValue[t]&&(this.oldValue[t]=null)}this.sel_p[t]&&(a.d.unrefObjectInfo(this.sel_p[t]),this.sel_p[t]=0)}}scan(t){if(!this.p[0])return;for(let e=0;e<this.columns;e++)if(this.headerRef[e])for(let r=0;r<this.elements[e];r++){if(!this.hp[e][r])continue;let i=a.d.getObjectRefInfo(this.hp[e][r]);if(null!=i)switch(this.type_id[e]){case l.j.Float32:if(this.firstScan||this.oldValue[e][r]!==i){let o=wt.sprintf(this.format[e],i);t.setValue(o,e,r),this.oldValue[e][r]=i}break;case l.j.Boolean:(this.firstScan||this.oldValue[e][r]!==i)&&(t.setValue(String(i),e,r),this.oldValue[e][r]=i);break;case l.j.Int32:case l.j.Int16:case l.j.Int8:case l.j.UInt32:case l.j.UInt16:case l.j.UInt8:if(this.firstScan||this.oldValue[e][r]!==i){let o=wt.sprintf(this.format[e],i);t.setValue(o,e,r),this.oldValue[e][r]=i}break;case l.j.String:case l.j.Objid:case l.j.AttrRef:case l.j.Time:case l.j.DeltaTime:(this.firstScan||this.oldValue[e][r]!==i)&&(t.setValue(i,e,r),this.oldValue[e][r]=i);break;case l.j.Bit:{let o=this.bitmask[e]&i;(this.firstScan||this.oldValue[e][r]!==o)&&(t.setValue(String(o),e,r),this.oldValue[e][r]=o);break}}}else{if(!this.p[e])continue;let r=a.d.getObjectRefInfo(this.p[e]);if(null!=r)switch(this.type_id[e]){case l.j.Float32:for(let i=0;i<Math.min(this.elements[e],r.length);i++)if(this.firstScan||this.oldValue[e][i]!==r[i]){let o=wt.sprintf(this.format[e],r[i]);t.setValue(o,e,i),this.oldValue[e][i]=r[i]}break;case l.j.Boolean:for(let i=0;i<Math.min(this.elements[e],r.length);i++)(this.firstScan||this.oldValue[e][i]!==r[i])&&(t.setValue(String(r[i]),e,i),this.oldValue[e][i]=r[i]);break;case l.j.Int32:case l.j.Int16:case l.j.Int8:case l.j.UInt32:case l.j.UInt16:case l.j.UInt8:for(let i=0;i<Math.min(this.elements[e],r.length);i++)if(this.firstScan||this.oldValue[e][i]!==r[i]){let o=wt.sprintf(this.format[e],r[i]);t.setValue(o,e,i),this.oldValue[e][i]=r[i]}break;case l.j.String:case l.j.Objid:case l.j.AttrRef:case l.j.Time:case l.j.DeltaTime:for(let i=0;i<Math.min(this.elements[e],r.length);i++)if(this.firstScan||this.oldValue[e][i]!==r[i]){switch(this.type_id[e]){case l.j.AttrRef:case l.j.Objid:if("%1o"===this.format[e])t.setValue(r[i],e,i);else{let o=r[i].lastIndexOf("-");-1===o?t.setValue(r[i],e,i):t.setValue(r[i].substring(o+1),e,i)}break;default:t.setValue(r[i],e,i)}this.oldValue[e][i]=r[i]}break;case l.j.Bit:for(let i=0;i<Math.min(this.elements[e],r.length);i++){let o=this.bitmask[e]&r[i];(this.firstScan||this.oldValue[e][i]!==o)&&(t.setValue(String(o),e,i),this.oldValue[e][i]=o)}}}let e=!1;for(let r=0;r<this.columns;r++){if(!this.sel_p[r])continue;let i=a.d.getObjectRefInfo(this.sel_p[r]);if(null!==i)for(let o=0;o<this.sel_elements[r];o++)i[o]&&(e=!0,t.setSelectedCell(r,o))}e||t.setSelectedCell(-1,-1),this.firstScan&&(this.firstScan=!1)}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if("click"===t.event.type){if(t.type!==F.Table)return 1;let e=t.object.getSelectedCellRow(),r=t.object.getSelectedCellColumn();if(e>=0&&this.sel_p[r]){let t=this.dyn.parseAttrName(this.sel_attribute[r]);if(null===t||""===t.name)return 1;let i=t.name+"["+e+"]";a.d.setObjectInfoBoolean(i,!1)}let i=t;if(this.sel_p[i.column]&&(i.column!==r||i.row!==e)){let e=this.dyn.parseAttrName(this.sel_attribute[i.column]);if(null===e||""===e.name)return 1;let r=e.name+"["+i.row+"]";a.d.setObjectInfoBoolean(r,!0),t.object.setSelectedCell(i.column,i.row)}}return 1}}class xr extends qe{constructor(t){super(t,xe.StatusColor),this.firstScan=!0,this.dyn_type1=pe.StatusColor}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts||this.dyn.ignoreColor)return;this.a.database===ri.Gdh&&(this.a.typeid,l.j.NetStatus);let e=this.a.get_ref_value();if((this.firstScan||this.oldStatus===ke.Fatal||this.a.oldValue!==e||!this.dyn.resetColor)&&(this.a.oldValue=e,e=e&&(7&e)<5?[ke.Warning,ke.Success,ke.Error,ke.Success,ke.Fatal][7&e]:ke.No,this.firstScan||this.oldStatus!==e||this.oldStatus===ke.Fatal)){if(this.firstScan=!1,this.dyn.total_dyn_type1&pe.Tone){switch(e){case ke.No:this.nostatus_color>=Mt.a._?t.setFillColor(this.nostatus_color):t.setColorTone(this.nostatus_color);break;case ke.Success:this.nostatus_color>=Mt.a._&&t.resetFillColor(),t.resetColorTone();break;case ke.Warning:t.setColorTone(this.use_colortheme?Z.a.CustomColor42:Mt.a.Yellow);break;case ke.Error:t.setColorTone(this.use_colortheme?Z.a.CustomColor11:Mt.a.Red);break;case ke.Fatal:this.on=!this.on,this.on?t.setColorTone(this.use_colortheme?Z.a.CustomColor11:Mt.a.Red):this.nostatus_color>=Mt.a._?t.setFillColor(this.nostatus_color):t.setColorTone(this.nostatus_color)}this.dyn.repaintNow=!0}else{switch(e){case ke.No:t.setFillColor(this.nostatus_color);break;case ke.Success:t.resetFillColor();break;case ke.Warning:t.setFillColor(Z.a.ColorYellow);break;case ke.Error:t.setFillColor(Z.a.ColorRed);break;case ke.Fatal:this.on=!this.on,this.on?t.setFillColor(Z.a.ColorRed):t.setFillColor(this.nostatus_color)}this.dyn.repaintNow=!0}this.oldStatus=e}}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.StatusColor:break;case ve.StatusColor_attribute:this.attribute=t.consumeLine();break;case ve.StatusColor_nostatus_color:this.nostatus_color=t.consumeInt();break;case ve.StatusColor_use_colortheme:this.use_colortheme=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynStatusColor:",e),t.consumeLine()}}}}class vr extends qe{constructor(t){super(t,xe.Axis),this.firstScan=!0,this.keep_settings=!1,this.dyn_type2=be.Axis}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Axis:break;case ve.Axis_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case ve.Axis_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case ve.Axis_keep_settings:this.keep_settings=t.consumeBool();break;case ve.End:return;default:console.log("Syntax error in DynAxis:",e),t.consumeLine()}}}connect(t){this.minvalue_a=new He(this.dyn,this.minvalue_attr),this.maxvalue_a=new He(this.dyn,this.maxvalue_attr),this.minvalue_a.connect(this.dyn),this.maxvalue_a.connect(this.dyn),this.minvalue_a.sts&&this.maxvalue_a.sts?this.minvalue_a.typeid===this.maxvalue_a.typeid?this.attr_type=this.maxvalue_a.typeid:this.attr_type=0:this.maxvalue_a.sts?(console.log("Axis: "+this.minvalue_attr),this.attr_type=this.maxvalue_a.typeid):this.minvalue_a.sts&&(console.log("Axis: "+this.maxvalue_attr),this.attr_type=this.minvalue_a.typeid)}disconnect(){this.minvalue_a.disconnect(),this.maxvalue_a.disconnect()}scan(t){switch(this.attr_type){case l.j.Float32:if(!this.maxvalue_a.sts&&!this.minvalue_a.sts)return;let e=0,r=0;if(this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value()),this.maxvalue_a.sts&&(r=this.maxvalue_a.get_ref_value()),!(this.firstScan||this.maxvalue_a.sts&&r!==this.maxvalue_a.oldValue||this.minvalue_a.sts&&e!==this.minvalue_a.oldValue))return;if(this.firstScan&&(this.firstScan=!0),this.minvalue_a.sts&&(this.minvalue_a.oldValue=e),this.maxvalue_a.sts&&(this.maxvalue_a.oldValue=r),r===e)return;t.type()!==x.GrowAxis&&t.type()!==x.GrowAxisArc||t.set_range(e,r,this.keep_settings)}}}class Cr extends qe{constructor(t){super(t,xe.TimeoutColor),this.dyn_type2=be.TimeoutColor}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.TimeoutColor:break;case ve.TimeoutColor_time:this.time=t.consumeFloat();break;case ve.TimeoutColor_color:this.color=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynTimeoutColor:",e),t.consumeLine()}}}}class Gr extends qe{constructor(t){super(t,xe.HostObject),this.dyn_type1=pe.HostObject}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.HostObject:break;case ve.HostObject_object:this.hostobject=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynHostObject:",e),t.consumeLine()}}}}class kr extends qe{constructor(t){super(t,xe.DigSound),this.dyn_type1=pe.DigSound}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigSound:break;case ve.DigSound_attribute:this.attribute=t.consumeLine();break;case ve.DigSound_soundobject:this.soundobject=t.consumeLine();break;case ve.DigSound_level:this.level=t.consumeInt();break;case ve.DigSound_interval:this.interval=t.consumeInt();break;case ve.DigSound_instance:this.instance=t.consumeInt();break;case ve.DigSound_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigSound:",e),t.consumeLine()}}}}class Tr extends qe{constructor(t){super(t,xe.FillLevel),this.a=null,this.firstScan=!0,this.limits_found=!1,this.dyn_type1=pe.FillLevel}connect(t){if(this.color=Ve.getColor2(t,this.color),this.color<0||this.color>=Z.a._)return;if(null===this.attribute.trim())return;this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn),this.dyn.total_dyn_type1&pe.Tone?this.color>=Mt.a._?t.setLevelFillColor(this.color):t.setLevelColorTone(this.color):t.setLevelFillColor(this.color);let e=t.getLimits();1&e.status&&(this.limits_found=!0,this.limit_min=e.min,this.limit_max=e.max,this.direction=e.direction),t.setLevelDirection(this.direction),this.minvalue_a=new He(this.dyn,this.minvalue_attr),this.maxvalue_a=new He(this.dyn,this.maxvalue_attr),this.minvalue_a.connect(this.dyn),this.maxvalue_a.connect(this.dyn)}disconnect(){null!==this.a&&(this.a.disconnect(),this.minvalue_a.disconnect(),this.maxvalue_a.disconnect())}scan(t){if(null===this.a||!this.a.sts)return;let e,r,i=this.a.get_ref_value();if(this.maxvalue_a.sts&&this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value(),r=this.maxvalue_a.get_ref_value(),e===this.min_value&&r===this.max_value||(this.min_value=e,this.max_value=r,this.firstScan=!0)),this.firstScan)this.firstScan=!1;else if(Math.abs(this.a.oldValue-i)<Number.MIN_VALUE)return;if(this.max_value===this.min_value)return;let o=(i-this.min_value)/(this.max_value-this.min_value);if(this.limits_found)switch(o*=this.limit_max-this.limit_min,this.direction){case et.e.Right:o=(o+(this.limit_min-t.ll.x))/(t.ur.x-t.ll.x);break;case et.e.Left:o=(o+(t.ur.x-this.limit_max))/(t.ur.x-t.ll.x);break;case et.e.Up:o=(o+(this.limit_min-t.ll.y))/(t.ur.y-t.ll.y);break;case et.e.Down:o=(o+(t.ur.y-this.limit_max))/(t.ur.y-t.ll.y);break;default:o=0}t.setFillLevel(o),this.a.oldValue=i}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.FillLevel:break;case ve.FillLevel_attribute:this.attribute=t.consumeLine();break;case ve.FillLevel_color:this.color=t.consumeInt();break;case ve.FillLevel_direction:this.direction=t.consumeInt();break;case ve.FillLevel_min_value:this.min_value=t.consumeFloat();break;case ve.FillLevel_max_value:this.max_value=t.consumeFloat();break;case ve.FillLevel_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case ve.FillLevel_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynFillLevel:",e),t.consumeLine()}}}}class Sr extends qe{constructor(t){super(t,xe.DigCommand),this.command="",this.a=null,this.first_scan=!0,this.level=0,this.dyn_type1=pe.DigCommand}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a&&this.a.disconnect()}scan(t){if(null===this.a||!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.first_scan)return this.a.oldValue=e,void(this.first_scan=!1);if(!this.level&&e&&!this.a.oldValue||this.level&&e){let t=this.dyn.graph.getCommand(this.command);this.dyn.graph.command(t)}else this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigCommand:break;case ve.DigCommand_attribute:this.attribute=t.consumeLine();break;case ve.DigCommand_command:this.command=t.consumeLine();break;case ve.DigCommand_level:this.level=t.consumeInt();break;case ve.DigCommand_instance:this.instance=t.consumeInt();break;case ve.DigCommand_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynDigCommand:",e),t.consumeLine()}}}}class Ir extends qe{constructor(t){super(t,xe.DigScript),this.script="",this.a=null,this.first_scan=!0,this.level=0,this.dyn_type2=be.DigScript}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a&&this.a.disconnect()}scan(t){if(null===this.a||!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.first_scan)return this.a.oldValue=e,void(this.first_scan=!1);(!this.level&&e&&!this.a.oldValue||this.level&&e)&&this.dyn.graph.script(this.script),this.a.oldValue=e}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.DigScript:break;case ve.DigScript_attribute:this.attribute=t.consumeLine();break;case ve.DigScript_level:this.level=t.consumeInt();break;case ve.DigScript_script_len:break;case ve.DigScript_script:this.script=t.consumeQuotedString();break;case ve.End:return;default:console.log("Syntax error in DynDigScript:",e),t.consumeLine()}}}}class Lr extends qe{constructor(t){super(t,xe.SetDig),this.action_type1=ge.SetDig}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;t.database===ri.Gdh?a.d.setObjectInfoBoolean(t.name,!0):t.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,t.name,!0)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.SetDig:break;case ve.SetDig_attribute:this.attribute=t.consumeLine();break;case ve.SetDig_instance:this.instance=t.consumeInt();break;case ve.SetDig_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynSetDig:",e),t.consumeLine()}}}}class Ar extends qe{constructor(t){super(t,xe.ResetDig),this.action_type1=ge.ResetDig}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;t.database===ri.Gdh?a.d.setObjectInfoBoolean(t.name,!1):t.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,t.name,!1)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.ResetDig:break;case ve.ResetDig_attribute:this.attribute=t.consumeLine();break;case ve.ResetDig_instance:this.instance=t.consumeInt();break;case ve.ResetDig_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynResetDig:",e),t.consumeLine()}}}}class Mr extends qe{constructor(t){super(t,xe.ToggleDig),this.action_type1=ge.ToggleDig}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;t.database===ri.Gdh?a.d.toggleObjectInfo(t.name):t.database===ri.Local&&ze.toggleObjectInfo(this.dyn.graph,t.name)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.ToggleDig:break;case ve.ToggleDig_attribute:this.attribute=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynToggleDig:",e),t.consumeLine()}}}}class Or extends qe{constructor(t){super(t,xe.StoDig),this.action_type1=ge.StoDig}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type){if(t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0,this.dyn.action_type1&ge.Confirm)return 1;let e=this.dyn.parseAttrName(this.attribute);e.database===ri.Gdh?a.d.setObjectInfoBoolean(e.name,"mousedown"===t.event.type):e.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,e.name,"mousedown"===t.event.type)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.StoDig:break;case ve.StoDig_attribute:this.attribute=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynStoDig:",e),t.consumeLine()}}}}class Nr extends qe{constructor(t){super(t,xe.Command),this.action_type1=ge.Command}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;if(null===this.command)return 1;let t=this.dyn.graph.getCommand(this.command),e=this.dyn.graph.ctx.gdraw.get_clip_rectangle();e&&this.dyn.graph.ctx.gdraw.reset_clip_rectangle(),this.dyn.graph.command(t),e&&this.dyn.graph.ctx.gdraw.set_clip_rectangle(e.ll.x,e.ll.y,e.ur.x,e.ur.y)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Command:break;case ve.Command_command:this.command=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynCommand:",e),t.consumeLine()}}}}class Rr extends qe{constructor(t){super(t,xe.Script),this.action_type1=ge.Script}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;if(null===this.script)return 1;this.dyn.graph.script(this.script)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Script:break;case ve.Script_script_len:this.script_len=t.consumeInt();break;case ve.Script_script:this.script=t.consumeQuotedString();break;case ve.End:return;default:console.log("Syntax error in DynScript:",e),t.consumeLine()}}}}class jr extends qe{constructor(t){super(t,xe.CommandDoubleClick),this.action_type1=ge.CommandDoubleClick}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;if(null===this.command)return 1;let t=this.dyn.graph.getCommand(this.command);this.dyn.graph.command(t)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.CommandDC:break;case ve.CommandDC_command:this.command=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynCommandDoubleClick:",e),t.consumeLine()}}}}class Er extends qe{constructor(t){super(t,xe.Confirm),this.action_type1=ge.Confirm}action(t){return this.dyn.action_type1&ge.Confirm&&_.a.is_authorized(this.dyn.access,!0)?(("click"===t.event.type&&0===t.event.button||"keydown"===t.event.type&&"Return"===t.event.key)&&this.action2(t),1):1}action2(t){return Be(this,void 0,void 0,function*(){let e=0;if((this.on_set&&!this.on_reset||this.on_reset&&!this.on_set)&&this.dyn.total_action_type1&ge.ToggleDig)for(let t=0;t<this.dyn.elements.length;t++)if(this.dyn.elements[t].action_type1===ge.ToggleDig){let r=this.dyn.parseAttrName(this.dyn.elements[t].attribute);if("&"===r.name.substring(0,1)&&(r.name=null),r.database===ri.Gdh){let t=yield a.d.getObjectInfoBoolean(r.name);Object(l.p)(t.sts)?(this.on_set&&t.value||this.on_reset&&!t.value)&&(e=1):console.log("Confirm: "+t)}break}if(e)return this.dyn.confirmedAction(t),1;this.dyn.graph.openConfirmDialog(this.dyn,this.text)})}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Confirm:break;case ve.Confirm_text:this.text=t.consumeLine();break;case ve.Confirm_on_set:this.on_set=t.consumeInt();break;case ve.Confirm_on_reset:this.on_reset=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynConfirm:",e),t.consumeLine()}}}}class Fr extends qe{constructor(t){super(t,xe.IncrAnalog),this.action_type1=ge.IncrAnalog}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;if(t.database===ri.Gdh)t.type===l.j.Int32?a.d.getObjectInfoInt(t.name).then(this.action2(this,t)):a.d.getObjectInfoFloat(t.name).then(this.action2(this,t));else if(t.database===ri.Local){let e=ze.getObjectInfo(this.dyn.graph,t.name);this.action2(this,t)(e)}}return 1}action2(t,e){return function(r){let i=e.type<0?l.j.Float32:e.type,o=r.value+t.increment;(t.min_value||t.max_value)&&(o=i===l.j.Int32?Object(l.n)(o,Math.floor(t.min_value),Math.floor(t.max_value)):Object(l.n)(o,t.min_value,t.max_value)),e.database===ri.Gdh?i===l.j.Int32?a.d.setObjectInfoInt(e.name,o):a.d.setObjectInfoFloat(e.name,o):e.database===ri.Local&&ze.setObjectInfo(t.dyn.graph,e.name,o)}}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.IncrAnalog:break;case ve.IncrAnalog_attribute:this.attribute=t.consumeLine();break;case ve.IncrAnalog_increment:this.increment=t.consumeFloat();break;case ve.IncrAnalog_min_value:this.min_value=t.consumeFloat();break;case ve.IncrAnalog_max_value:this.max_value=t.consumeFloat();break;case ve.End:return;default:console.log("Syntax error in DynIncrAnalog:",e),t.consumeLine()}}}}class Dr extends qe{constructor(t){super(t,xe.RadioButton),this.firstScan=!0,this.action_type1=ge.RadioButton}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn)}disconnect(){this.a.disconnect()}scan(t){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.set_last_nodeclass():t.set_root_nodeclass(),this.a.oldValue=e}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let e,r=this.dyn.graph.ctx.get_object_group(t.object);if(!r)return 1;let i=r.get_object_list();for(let r=0;r<i.length;r++){let o=i[r];if(o!==t.object&&o.type()===x.GrowNode){e=!1;let t=o.userdata;if(0!=(t.total_action_type1&ge.RadioButton))for(let r=0;r<t.elements.length;r++)if(t.elements[r].action_type1===ge.RadioButton){let i=this.dyn.parseAttrName(t.elements[r].attribute);"&"===i.name.substring(0,1)&&(i.name=null),i.database===ri.Gdh?a.d.setObjectInfoBoolean(i.name,e):i.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,i.name,e)}}}let o=this.dyn.parseAttrName(this.attribute);"&"===o.name.substring(0,1)&&(o.name=null),e=!0,o.database===ri.Gdh?a.d.setObjectInfoBoolean(o.name,e):o.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,o.name,e)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.RadioButton:break;case ve.RadioButton_attribute:this.attribute=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynRadioButton:",e),t.consumeLine()}}}}class Pr extends qe{constructor(t){super(t,xe.TipText),this.action_type1=ge.TipText}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.TipText:break;case ve.TipText_text:this.text=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynTipText:",e),t.consumeLine()}}}}class zr extends qe{constructor(t){super(t,xe.Help),this.topic=null,this.bookmark=null,this.action_type1=ge.Help}action(t){if(null===this.topic)return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let t="help "+this.topic;this.bookmark&&(t+=" /bookmark="+this.bookmark),this.dyn.graph.command(t)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Help:break;case ve.Help_topic:this.topic=t.consumeLine();break;case ve.Help_bookmark:this.bookmark=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynHelp:",e),t.consumeLine()}}}}class Br extends qe{constructor(t){super(t,xe.OpenGraph),this.action_type1=ge.OpenGraph}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;if(null===this.graph_object||""===this.graph_object){if(this.dyn.total_action_type1&ge.PopupMenu){let t=this.dyn.elements.find(t=>t.action_type1===ge.PopupMenu);t&&this.dyn.graph.command("open graph/class/instance="+t.ref_object)}else if(this.dyn.total_dyn_type1&pe.HostObject){let t=this.dyn.elements.find(t=>t.dyn_type1===pe.HostObject);t&&this.dyn.graph.command("open graph/class/instance="+t.hostobject)}}else this.dyn.graph.command("open graph/object="+this.graph_object);return 1}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.OpenGraph:break;case ve.OpenGraph_graph_object:this.graph_object=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynOpenGraph:",e),t.consumeLine()}}}}class Ur extends qe{constructor(t){super(t,xe.OpenURL),this.action_type1=ge.OpenURL}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;this.dyn.graph.command('open url "'+this.url+'"')}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.OpenURL:break;case ve.OpenURL_url:this.url=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynOpenURL:",e),t.consumeLine()}}}}class Vr extends qe{constructor(t){super(t,xe.InputFocus),this.action_type1=ge.InputFocus}action(t){return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.InputFocus:break;case ve.InputFocus_initial_focus:this.initial_focus=t.consumeInt();break;case ve.InputFocus_next_horizontal:this.next_horizontal=t.consumeLine();break;case ve.InputFocus_next_vertical:this.next_vertical=t.consumeLine();break;case ve.InputFocus_next_tab:this.next_tab=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynInputFocus:",e),t.consumeLine()}}}}class Hr extends qe{constructor(t){super(t,xe.CloseGraph),this.action_type1=ge.CloseGraph}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;window.close()}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.CloseGraph:break;case ve.End:return;default:console.log("Syntax error in DynCloseGraph:",e),t.consumeLine()}}}}class qr extends qe{constructor(t){super(t,xe.Slider),this.a=null,this.attribute=null,this.minvalue_attr=null,this.maxvalue_attr=null,this.insensitive_attr=null,this.release_attr=null,this.firstScan=!0,this.slider_disabled=!0,this.action_type1=ge.Slider}connect(t){if(""!==this.attribute.trim()){if(this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn),!t.transformIsStored()){t.storeTransform();let e=t.get_info(),r=this.dyn.graph.ctx.getBackgroundObjectLimits(pe.SliderBackground,(t.ll.x+t.ur.x)/2,(t.ll.y+t.ur.y)/2);if(r){this.direction=r.direction;let i=t.get_origo(e.direction);switch(this.direction){case et.e.Down:e.max_position=r.max-i,e.min_position=r.min-i,t.set_info(e),t.move_to(t.ll.x,e.min_position);break;case et.e.Up:e.max_position=r.max-(t.ur.y-t.ll.y-i),e.min_position=r.min-(t.ur.y-t.ll.y-i),t.set_info(e),t.move_to(t.ll.x,e.min_position);break;case et.e.Left:e.max_position=r.max-(t.ur.x-t.ll.x-i),e.min_position=r.min-(t.ur.x-t.ll.x-i),t.set_info(e),t.move_to(e.min_position,t.ll.y);break;case et.e.Right:e.max_position=r.max-i,e.min_position=r.min-i,t.set_info(e),t.move_to(e.min_position,t.ll.y)}}else this.direction=e.direction;t.storeTransform()}this.maxvalue_a=new He(this.dyn,this.maxvalue_attr),this.minvalue_a=new He(this.dyn,this.minvalue_attr),this.insensitive_a=new He(this.dyn,this.insensitive_attr),this.maxvalue_a.connect(this.dyn),this.minvalue_a.connect(this.dyn),this.insensitive_a.connect(this.dyn)}}disconnect(){null!==this.a&&this.a.sts&&(this.a.disconnect(),this.minvalue_a.disconnect(),this.maxvalue_a.disconnect(),this.insensitive_a.disconnect())}scan(t){if(!this.a||!this.a.sts)return;let e=0;if(this.a.typeid===l.j.Float32||this.a.typeid===l.j.Int32?e=this.a.get_ref_value()||0:this.a.typeid===l.j.Boolean&&(e=this.a.get_ref_value()?1:0),this.insensitive_a&&this.insensitive_a.sts?(this.slider_disabled=this.insensitive_a.get_ref_value(),this.insensitive_a.inverted&&(this.slider_disabled=!this.slider_disabled)):this.slider_disabled=!1,this.maxvalue_a.sts&&this.minvalue_a.sts&&(this.max_value=this.maxvalue_a.get_ref_value(),this.min_value=this.minvalue_a.get_ref_value(),this.max_value===this.maxvalue_a.oldValue&&this.min_value===this.minvalue_a.oldValue||Math.abs(this.max_value-this.min_value)>Number.MIN_VALUE&&(this.firstScan=!0),this.minvalue_a.oldValue=this.min_value,this.maxvalue_a.oldValue=this.max_value),this.firstScan)this.firstScan=!1;else{if(this.a.typeid===l.j.Float32&&Math.abs(this.old_value-e)<Number.MIN_VALUE)return;if((this.a.typeid===l.j.Int32||this.a.typeid===l.j.Boolean)&&e===this.old_value)return}this.old_value=e;let r=t.get_info();if(this.maxvalue_a.sts&&this.minvalue_a.sts&&this.max_value!==this.min_value||(this.max_value=r.max_value,this.min_value=r.min_value),r.min_position!==r.max_position&&this.dyn.graph.currentSlider!==t&&this.max_value!==this.min_value){let i=r.max_position-r.min_position,o=this.max_value-e;this.direction!==et.e.Right&&this.direction!==et.e.Up||(o=e-this.min_value),o=o/(this.max_value-this.min_value)*i,this.direction===et.e.Right||this.direction===et.e.Left?t.set_position(Object(l.n)(i-o,0,i),0):t.set_position(0,Object(l.n)(o,0,i))}}action(t){if(this.slider_disabled)return 1;if("SliderMoveEnd"===t.event.type){let e=this.dyn.parseAttrName(this.release_attr);e&&e.name&&e.type===l.j.Boolean&&(e.database===ri.Gdh?a.d.setObjectInfoBoolean(e.name,1):e.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,e.name,1)),this.dyn.graph.currentSlider===t.object&&(this.dyn.graph.currentSlider=null)}else if("SliderMoveStart"===t.event.type){if(!_.a.is_authorized(this.dyn.access,!0)||this.slider_disabled)return this.dyn.graph.ctx.setMoveRestrictions(E.Disable,0,0,null),this.dyn.graph.currentSlider=null,1;let e=t.object.get_info();this.direction===et.e.Right||this.direction===et.e.Left?this.dyn.graph.ctx.setMoveRestrictions(E.HorizontalSlider,e.max_position,e.min_position,t.object):this.dyn.graph.ctx.setMoveRestrictions(E.VerticalSlider,e.max_position,e.min_position,t.object),this.dyn.graph.currentSlider=t.object}else if("SliderMoved"===t.event.type){let e=t.object.get_info();if(e.min_position!==e.max_position){let r;switch(this.max_value&&this.min_value&&this.max_value!==this.min_value||(this.max_value=e.max_value,this.min_value=e.min_value),this.direction){case et.e.Down:r=e.max_position-t.object.ll.y;break;case et.e.Right:r=e.max_position-t.object.ll.x;break;case et.e.Left:r=t.object.ll.x-e.min_position;break;default:r=t.object.ll.y-e.min_position}r=r/(e.max_position-e.min_position)*(this.max_value-this.min_value)+this.min_value,r=Object(l.n)(r,this.min_value,this.max_value);let i,o=this.dyn.parseAttrName(this.attribute);if(null===o||""===o.name)return 1;i=o.type===l.j.Float32?r:o.type===l.j.Boolean?r>.5:Math.floor(r>0?r+.5:r-.5),o.database===ri.Gdh?a.d.setObjectInfo(o.name,i,o.type):o.database===ri.Local&&ze.setObjectInfo(this.dyn.graph,o.name,i)}}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.Slider:break;case ve.Slider_attribute:this.attribute=t.consumeLine();break;case ve.Slider_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case ve.Slider_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case ve.Slider_insensitive_attr:this.insensitive_attr=t.consumeLine();break;case ve.Slider_release_attr:this.release_attr=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynSlider:",e),t.consumeLine()}}}}class Xr extends qe{constructor(t){super(t,xe.FastCurve),this.dyn_type1=pe.FastCurve}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.FastCurve:break;case ve.FastCurve_fast_object:this.fast_object=t.consumeLine();break;case ve.FastCurve_curve_index1:this.curve_index1=t.consumeInt();break;case ve.FastCurve_curve_index2:this.curve_index2=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynFastCurve:",e),t.consumeLine()}}}}class Yr extends qe{constructor(t){super(t,xe.PulldownMenu),this.items_text=new Array(32),this.items_dyn=new Array(32),this.menu_object=null,this.action_type1=ge.PulldownMenu;for(let t=0;t<32;t++)this.items_dyn[t]=null}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if("MenuActivated"===t.event.type){if(null===this.menu_object)return 1;let e=t;if(t.object===this.menu_object){if(this.items_dyn[e.item]){let t=new U(new MouseEvent("click"));return this.items_dyn[e.item].action(t)}}else for(let e=0;e<32;e++)this.items_dyn[e]&&0!=(this.items_dyn[e].action_type1&ge.PulldownMenu)&&this.items_dyn[e].action(t)}else if("MenuDelete"===t.event.type){if(null===this.menu_object)return 1;null!==t.object&&t.object!==this.menu_object||(this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null)}else if("click"===t.event.type&&0===t.event.button)if(this.menu_object){for(let e=0;e<32;e++)this.items_dyn[e]&&this.items_dyn[e].action_type1&ge.PulldownMenu&&this.items_dyn[e].action(t);this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null}else if(t.object){let e=new Array,r=1;for(let t=0;t<32;t++){if(e.push(new X),r&this.button_mask)if(e[t].occupied=!0,e[t].text=this.items_text[t],this.items_dyn[t].action_type1&ge.PulldownMenu)e[t].type=D.PulldownMenu;else if(_.a.is_authorized(this.items_dyn[t].access)){if(e[t].type=D.Button,this.items_dyn[t].dyn_type1&pe.Invisible){let r,i,o=null;for(let t=0;t<this.dyn.elements.length;t++)this.dyn.elements[t].dyn_type1===pe.Invisible&&(o=this.dyn.elements[t]);if(o){let n=this.dyn.parseAttrName(o.attribute);if(n&&""!==n.name&&"$cmd("===n.name.substring(0,5)){let o=n.name.lastIndexOf(")");-1!==o&&(i=n.name.substring(5,o),i=this.dyn.graph.getCommand(i),r=this.dyn.graph.command(i),Object(l.o)(r)&&(e[t].type=D.ButtonDisabled))}}}}else e[t].type=D.ButtonDisabled;else e[t].occupied=!1;r<<=1}let i,o=0,n=0,s=0,a=0,c=1,h=0;i=0,Object(l.o)(i)?(a=3,o=Z.a.TextHelvetica,h=pt.a.LucidaSans,n=Z.a.Line,s=Z.a.LightGray):s!==Z.a.No&&s!==Z.a.Inherit||(s=Z.a.LightGray),this.menu_object=new Fe(this.dyn.graph.ctx,"__Menu",e,t.object.ll.x,t.object.ur.y,t.object.ur.x-t.object.ll.x,Z.a.Line,0,!0,!0,s,a,o,n,Z.a.MediumGray,h),this.menu_object.set_scale(c,c,0,0,A.LowerLeft),this.dyn.graph.ctx.a.push(this.menu_object)}return 1}open(t){for(;;){let e=t.consumeInt();if(e===ve.End)return;if(e===ve.PulldownMenu_button_mask)this.button_mask=t.consumeInt();else if(e>=ve.PulldownMenu_items_text0&&e<=ve.PulldownMenu_items_text31)this.items_text[e-ve.PulldownMenu_items_text0]=t.consumeLine();else if(e>=ve.PulldownMenu_items_dyn0&&e<=ve.PulldownMenu_items_dyn31){let r=new Ve(this.dyn.graph);r.open(t),this.items_dyn[e-ve.PulldownMenu_items_dyn0]=r}else e!==ve.PulldownMenu&&(console.log("Syntax error in DynPulldownMenu:",e),t.consumeLine())}}}class Wr extends qe{constructor(t){super(t,xe.OptionMenu),this.update_a=null,this.items_text=new Array(32),this.items_enum=new Array(32),this.firstScan=!0,this.menu_object=null,this.action_type1=ge.OptionMenu}connect(t){this.a=new He(this.dyn,this.attribute),this.a.connect(this.dyn),this.text_attribute&&this.update_attribute&&(this.update_a=new He(this.dyn,this.update_attribute),this.update_a.connect(this.dyn))}disconnect(){this.a.disconnect(),this.update_a&&this.update_a.disconnect()}scan(t){if(!this.a.sts)return;let e=!1;if(this.update_a&&this.update_a.sts){let t=this.dyn.getDig(this.update_a.p,this.update_a.typeid,this.update_a.bitmask,this.update_a.database);t=this.update_a.inverted?!t:t,this.firstScan?e=!1:this.update_a.oldValue!==t&&(e=!0),this.update_a.oldValue=t}let r=0;switch(this.a.typeid){case l.j.Float32:case l.j.UInt32:case l.j.Int32:{let t=this.a.get_ref_value();if(this.firstScan)this.firstScan=!1;else if(t===this.oldValue)return;r=t,this.a.typeid===l.j.Float32&&(r=Math.floor(r)),this.oldValue=t;break}default:return}if(null===this.update_a||!this.update_a.sts){let e=this.items_enum.slice(0,32).indexOf(r);t.set_annotation(1,this.items_text[e]||"",!1)}}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if("click"===t.event.type&&0===t.event.button)if(null===this.menu_object){let e=new Array;if(null!==this.update_a&&this.update_a.sts)for(let t=0;t<32;t++)e.push(new X),t<this.text_size&&(e[t].text=this.items_text[t],e[t].type=D.Button),e[t].occupied=t<this.text_size;else{let t=1;for(let r=0;r<32;r++)e.push(new X),e[r].occupied=Boolean(t&this.button_mask),e[r].occupied&&(e[r].text=this.items_text[r],e[r].type=D.Button),t<<=1}let r=t.object.getAnnotationInfo(1);r?r.bg_color!==Z.a.No&&r.bg_color!==Z.a.Inherit||(r.bg_color=Z.a.LightGray):r={size:2,drawtype:Z.a.TextHelveticaBold,color:Z.a.Line,bg_color:Z.a.LightGray,type:0,font:0,scale:0},this.menu_object=new Fe(this.dyn.graph.ctx,"__Menu",e,t.object.ll.x,t.object.ur.y,t.object.ur.x-t.object.ll.x,Z.a.Line,0,!0,!0,r.bg_color,r.size,r.drawtype,r.color,Z.a.MediumGray,r.font),this.menu_object.set_scale(r.scale,r.scale,0,0,A.LowerLeft),this.dyn.graph.ctx.a.push(this.menu_object)}else this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null;else if("MenuActivated"===t.event.type){if(null===this.menu_object)return 1;if(t.object===this.menu_object){let e=this.dyn.parseAttrName(this.attribute);if(null===e||""===e.name)return 1;let r=null,i=t,o=this.items_enum[i.item];e.database===ri.Gdh?(a.d.setObjectInfo(e.name,o,e.type),r=1):e.database===ri.Local&&(r=ze.setObjectInfo(this.dyn.graph,e.name,o)),(null===r||Object(l.o)(r))&&console.log("Option menu error: "+e.name)}}else if("MenuDelete"===t.event.type){if(null===this.menu_object)return 1;null!==t.object&&t.object!==this.menu_object||(this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null)}return 1}open(t){for(;;){let e=t.consumeInt();if(e>=ve.OptionMenu_items_text0&&e<=ve.OptionMenu_items_text31)this.items_text[e-ve.OptionMenu_items_text0]=t.consumeLine();else if(e>=ve.OptionMenu_items_enum0&&e<=ve.OptionMenu_items_enum31)this.items_enum[e-ve.OptionMenu_items_enum0]=t.consumeInt();else switch(e){case ve.OptionMenu:break;case ve.OptionMenu_attribute:this.attribute=t.consumeLine();break;case ve.OptionMenu_text_attribute:this.text_attribute=t.consumeLine();break;case ve.OptionMenu_size_attribute:this.size_attribute=t.consumeLine();break;case ve.OptionMenu_update_attribute:this.update_attribute=t.consumeLine();break;case ve.OptionMenu_optionmenu_type:this.optionmenu_type=t.consumeInt();break;case ve.OptionMenu_button_mask:this.button_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynOptionMenu:",e),t.consumeLine()}}}}class Jr extends Wr{constructor(t){super(t),this.prio=xe.AnalogText,this.dyn_type1=pe.AnalogText}action(t){return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.AnalogText:break;case ve.AnalogText_super:super.open(t);break;case ve.End:return;default:console.log("Syntax error in DynAnalogText:",e),t.consumeLine()}}}}class Qr extends qe{constructor(t){super(t,xe.SetValue),this.action_type1=ge.SetValue}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.SetValue:break;case ve.SetValue_attribute:this.attribute=t.consumeLine();break;case ve.SetValue_value:this.value=t.consumeLine();break;case ve.SetValue_instance:this.instance=t.consumeInt();break;case ve.SetValue_instance_mask:this.instance_mask=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynSetValue:",e),t.consumeLine()}}}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type);else if("click"===t.event.type){if(this.dyn.action_type1&ge.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute),e=this.dyn.graph,r=r=>ze.setObjectInfo(e,t.name,r),i=e=>a.d.setObjectInfo(t.name,e,t.type);switch(t.type){case l.j.Float32:if(t.database===ri.Gdh)i(parseFloat(this.value.trim()));else if(t.database===ri.Local){let t=r(parseFloat(this.value.trim()));if(Object(l.o)(t))return console.log("setObjectInfoError "+t),0}break;case l.j.Int32:case l.j.UInt32:case l.j.Int16:case l.j.UInt16:case l.j.Int8:case l.j.UInt8:case l.j.Mask:case l.j.Enum:if(t.database===ri.Gdh)i(parseInt(this.value.trim(),10));else if(t.database===ri.Local){let t=r(parseInt(this.value.trim(),10));if(Object(l.o)(t))return console.log("setObjectInfoError "+t),0}break;case l.j.Boolean:if(t.database===ri.Gdh)i(Boolean(parseInt(this.value.trim(),10)));else if(t.database===ri.Local){let t=r(Boolean(parseInt(this.value.trim(),10)));if(Object(l.o)(t))return console.log("setObjectInfoError "+t),0}break;case l.j.String:if(t.database===ri.Gdh)i(this.value);else if(t.database===ri.Local){let t=r(this.value);if(Object(l.o)(t))return console.log("setObjectInfoError "+t),0}}}return 1}}class $r extends qe{constructor(t){super(t,xe.MethodToolbar),this.action_type1=ge.MethodToolbar}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.MethodToolbar:break;case ve.MethodToolbar_method_object:this.method_object=t.consumeLine();break;case ve.MethodToolbar_toolbar_type:this.toolbar_type=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynMethodToolbar:",e),t.consumeLine()}}}connect(t){this.o=t;let e=this.dyn.parseAttrName(this.method_object);e&&""!==e.name&&je.get_xm_mask(e.name,this.dyn).then(this.connect2(this,e))}connect2(t,e){return function(r){console.log("Method mask: "+r.opmethods+" "+r.mntmethods);let i=r.opmethods,o=r.mntmethods,n=0,s=0;if(i&=~l.m.OpenObjectGraph,t.dyn.graph.isAuthorized(l.a.RtEventsBlock|l.a.System)||(n|=l.m.BlockEvents),t.dyn.graph.isAuthorized(l.a.RtNavigator|l.a.System|l.a.RtWrite|l.a.Maintenance|l.a.Process|l.a.Instrument)||(n|=l.m.Note),t.dyn.graph.isAuthorized(l.a.RtNavigator|l.a.System)||(s|=l.l.RtNavigator),t.dyn.graph.isAuthorized(l.a.RtPlc|l.a.System)||(s|=l.l.OpenTrace),t.toolbar_type===Se.Simulate&&(i=0),t.o.configure(Le,Oe,Ie.Cnt,Me.Cnt,i,o,n,s),r.store){let t=e.name+".XttMethodsMask.OpMethods";a.d.setObjectInfoInt(t,r.opmethods),t=e.name+".XttMethodsMask.MntMethods",a.d.setObjectInfoInt(t,r.mntmethods),t=e.name+".XttMethodsMask.Flags",a.d.setObjectInfoInt(t,r.flags)}}}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if(t.event instanceof MouseEvent&&0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type);else if("click"===t.event.type){let e,r=t;e=1===r.category?"Parent Object Graph"===Ae[r.idx]?"open graph/class/parent/instance="+this.method_object:'call method/method="'+Ae[r.idx]+'"/object='+this.method_object:'call method/method="'+Ne[r.idx]+'"/object='+this.method_object,e=this.dyn.graph.getCommand(e),this.dyn.graph.command(e)}return 1}}class Zr extends qe{constructor(t){super(t,xe.MethodPulldownMenu),this.menu_object=null,this.action_type1=ge.MethodPulldownMenu}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.MethodPulldownMenu:break;case ve.MethodPulldownMenu_method_object:this.method_object=t.consumeLine();break;case ve.MethodPulldownMenu_menu_type:this.menu_type=t.consumeInt();break;case ve.End:return;default:console.log("Syntax error in DynMethodPulldownMenu:",e),t.consumeLine()}}}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if("click"===t.event.type&&0===t.event.button){if(this.menu_object)this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null;else if(t.object){let t=this.dyn.parseAttrName(this.method_object);je.get_xm_mask(t.name,this.dyn).then(this.action2(this,t))}}else if("MenuActivated"===t.event.type){if(null===this.menu_object)return 1;if(t.object===this.menu_object){let e,r=0,i=!1;for(let o=0;o<Ie.Cnt;o++){if(this.menu_type!==Te.Help&&!(Ie.Helpmask&1<<o))continue;if(this.menu_type!==Te.Simulate)continue;if(this.opmask&1<<o&&r++,t.item+1===r){let t='call method/method="'+Ae[o]+'"/object='+this.method_object;t=this.dyn.graph.getCommand(t),e=this.dyn.graph.command(t),i=!0;break}}if(!i)for(let o=0;o<Me.Cnt;o++){if(this.menu_type===Te.Help&&!(Me.Helpmask&1<<o))continue;if(this.mntmask&1<<o&&r++,t.item+1===r){let t='call method/method="'+Ne[o]+'"/object='+this.method_object;t=this.dyn.graph.getCommand(t),e=this.dyn.graph.command(t),i=!0;break}}}}else if("MenuDelete"===t.event.type){if(null===this.menu_object)return 1;null!==t.object&&t.object!==this.menu_object||(this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null)}return 1}action2(t,e){return function(r){t.opmask=r.opmethods,t.mntmask=r.mntmethods;let i=0,o=0,n=new Array;t.opmask&=~l.m.OpenObjectGraph,t.dyn.graph.isAuthorized(l.a.RtEventsBlock|l.a.System)||(i|=l.m.BlockEvents),t.dyn.graph.isAuthorized(l.a.RtNavigator|l.a.System|l.a.RtWrite|l.a.Maintenance|l.a.Process|l.a.Instrument)||(i|=l.m.Note),t.dyn.graph.isAuthorized(l.a.RtNavigator|l.a.System)||(o|=l.l.RtNavigator),t.dyn.graph.isAuthorized(l.a.RtPlc|l.a.System)||(o|=l.l.OpenTrace);let s=0;for(let t=0;t<32;t++)n.push(new X),n[t].occupied=!1;for(let e=0;e<Ie.Cnt&&!(s>=32);e++)""!==Ae[e]&&(t.menu_type!==Te.Help||Ie.Helpmask&1<<e)&&t.menu_type!==Te.Simulate&&t.opmask&1<<e&&(n[s].type=D.Button,n[s].text=Ae[e],n[s].occupied=!0,i&1<<e&&(n[s].type=D.ButtonDisabled),s++);for(let e=0;e<Me.Cnt&&!(s>=32);e++)""!==Ne[e]&&(t.menu_type!==Te.Help||Me.Helpmask&1<<e)&&t.mntmask&1<<e&&(n[s].type=D.Button,n[s].text=Ne[e],n[s].occupied=!0,o&1<<e&&(n[s].type=D.ButtonDisabled),s++);let _=0,c=0,h=0,u=0;Object(l.o)(0)&&(h=3,_=Z.a.TextHelvetica,u=pt.a.LucidaSans,c=Z.a.Line);let d=Z.a.LightGray;if(t.menu_object=new Fe(t.dyn.graph.ctx,"__Menu",n,t.o.ll.x,t.o.ur.y,t.o.ur.x-t.o.ll.x,Z.a.Line,0,!0,!0,d,h,_,c,Z.a.MediumGray,u),t.dyn.graph.ctx.a.push(t.menu_object),t.menu_object.set_scale(1,1,0,0,A.LowerLeft),r.store){let t=e.name+".XttMethodsMask.OpMethods";a.d.setObjectInfoInt(t,r.opmethods),t=e.name+".XttMethodsMask.MntMethods",a.d.setObjectInfoInt(t,r.mntmethods),t=e.name+".XttMethodsMask.Flags",a.d.setObjectInfoInt(t,r.flags)}}}}class Kr extends qe{constructor(t){super(t,xe.CatchSignal),this.signal_name="",this.action_type1=ge.CatchSignal}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if("Signal"===t.event.type&&t.signal_name===this.signal_name){let e=new U(new MouseEvent("click"));e.object=t.object;let r=this.dyn.action(e);if(r===m||r===u||r===d)return r}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.CatchSignal:break;case ve.CatchSignal_signal_name:this.signal_name=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynCatchSignal:",e),t.consumeLine()}}}}class ti extends qe{constructor(t){super(t,xe.EmitSignal),this.signal_name="",this.global=!1,this.action_type1=ge.EmitSignal}action(t){if(!_.a.is_authorized(this.dyn.access,!0))return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type);else if(("click"===t.event.type||"keydown"===t.event.type&&"return"===t.event.key)&&this.global){let t="emit signal/signalname="+this.signal_name,e=this.dyn.graph.getCommand(t);this.dyn.graph.command(e)}return 1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.EmitSignal:break;case ve.EmitSignal_signal_name:this.signal_name=t.consumeLine();break;case ve.EmitSignal_global:this.global=t.consumeBool();case ve.End:return;default:console.log("Syntax error in DynEmitSignal:",e),t.consumeLine()}}}}class ei extends qe{constructor(t){super(t,xe.PopupMenu),this.action_type1=ge.PopupMenu}action(t){return _.a.is_authorized(this.dyn.access,!0)?("mousedown"===t.event.type&&t.event.button,1):1}open(t){for(;;){let e=t.consumeInt();switch(e){case ve.PopupMenu:break;case ve.PopupMenu_ref_object:this.ref_object=t.consumeLine();break;case ve.End:return;default:console.log("Syntax error in DynPopupMenu:",e),t.consumeLine()}}}}var ri,ii=function(t,e,r,i){return new(r||(r=Promise))(function(o,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};!function(t){t[t.Gdh=0]="Gdh",t[t.User=1]="User",t[t.Local=2]="Local",t[t.Ccm=3]="Ccm"}(ri||(ri={}));class oi{constructor(t){this.scan_time=.6,this.fast_scan_time=.15,this.animation_scan_time=.15,this.slow_scan_cnt=0,this.fast_scan_cnt=0,this.ctxStack=new Array(10),this.ctxStackCnt=0,this.appl=t,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(this.scan_time=1,this.fast_scan_time=1,this.animation_scan_time=1),_.a.fetchFromStore(),this.nogdh=this.get_nogdh(),console.log("Nogdh:",this.nogdh),this.ctx=new ue(null),this.baseCtx=this.ctx,this.ctx.appl=this,this.ctx.owner=this.get_instance();let e="http://"+localStorage.getItem("HOST")+"/"+this.get_filename(),r=new XMLHttpRequest,i=this.read_cb.bind(this);r.onload=function(){i(r.responseText)},r.onerror=function(){console.log("Error! Failed to fetch resource "+e)},r.open("GET",e,!0),r.send(),ze.init(),ze.setObjectInfo(this,"$local.Demo-Ge-Dynamics-ScrollingText-ScrollingText.ActualValue##String80","ProviewR"),ze.setObjectInfo(this,"$local.Demo-Ge-Subgraphs-DynamicAxis-Av2.ActualValue##Float32",100),ze.setObjectInfo(this,"$local.Demo-Ge-Subgraphs-DynamicAxisArc-Av2.ActualValue##Float32",100)}get_nogdh(){let t=window.location.search.substring(1).split("&");return t.length>2&&"no"===t[2].substring(4)}get_instance(){let t=window.location.search.substring(1).split("&");return t.length>1?t[1].substring(9):""}get_filename(){let t=window.location.search.substring(1).split("&")[0].substring(6);return t.endsWith(".pwg")?t:t+".pwg"}read_cb(t){let e=new h.a(t);if(this.ctx===this.baseCtx){let t=e.str.split("\n");if("DefaultWidth"===t[0].substring(3,15)&&"DefaultHeight"===t[1].substring(3,16)){let t=parseInt(e.consumeLine().substring(16),10),r=parseInt(e.consumeLine().substring(17),10);this.canvas_size=new l.f(t,r)}}this.ctx.open(e),this.render()}render(){return ii(this,void 0,void 0,function*(){if(this.nogdh)_.a.priv=5,localStorage.setItem("HOST","localhost");else{if(!_.a.priv)return void new _.a(this.render.bind(this));yield a.d.init()}let t=Object(c.a)("canvas",{id:"canvas",width:this.canvas_size.x,height:this.canvas_size.y,style:"border: 1px black solid"});this.ctx.gdraw.canvas=t,this.ctx.gdraw.gctx=t.getContext("2d");let e=this.ctx,r=t=>ii(this,void 0,void 0,function*(){let r=new U(t);r.x=(t.pageX-t.target.offsetLeft+e.mw.offset.x)/e.mw.zoom_factor.x,r.y=(t.pageY-t.target.offsetTop+e.mw.offset.y)/e.mw.zoom_factor.y,yield e.event_handler(r)});t.addEventListener("click",r),t.addEventListener("mousedown",r),t.addEventListener("mouseup",r),t.addEventListener("mousemove",r),Object(c.c)(document.body,t),this.ctx.traceConnect(),this.trace_cyclic()})}trace_cyclic(){this.nogdh?this.trace_scan():a.d.getRefObjectInfoAll(this.trace_scan.bind(this))}trace_scan(){this.scan_time=this.ctx.scantime,this.fast_scan_time=this.ctx.fast_scantime,this.animation_scan_time=this.ctx.animation_scantime,this.ctx.traceScan(),this.ctx.set_dirty(),this.slow_scan_cnt++,this.slow_scan_cnt>=this.scan_time/this.animation_scan_time&&(this.slow_scan_cnt=0),this.fast_scan_cnt++,this.fast_scan_cnt>=this.fast_scan_time/this.animation_scan_time&&(this.fast_scan_cnt=0),this.timer=setTimeout(this.trace_cyclic.bind(this),1e3*this.animation_scan_time)}growUserdataOpen(t,e){if(e===O.Ctx||e===O.Node||e===O.NodeClass){if(e===O.Ctx&&"1"!==t.str[0])return null;let r=new Ve(this);return r.open(t),r}return null}event_handler(t){return ii(this,void 0,void 0,function*(){let e=!!t.object&&this.ctxPop(t.object.ctx);if("click"===t.event.type){if(!t.object||t.object.type()!==x.GrowMenu){let e=new V(new CustomEvent("MenuDelete"));e.type=F.Menu,e.object=null;for(let r=0;r<this.ctx.a.length;r++){let i=this.ctx.a[r];if((i.type()===x.GrowNode||i.type()===x.GrowGroup)&&i!==t.object){let t=i.userdata,r=this.ctx.a.length;if(t&&(yield t.action(e)),r!==this.ctx.a.length)break}}}if(null!==t.object){let e=t.object.userdata;e&&(yield e.action(t))}}else if("mousedown"!==t.event.type&&"mouseup"!==t.event.type&&"mousedoubleclick"!==t.event.type||0!==t.event.button){if("SliderMoveStart"===t.event.type||"SliderMoveEnd"===t.event.type||"SliderMoved"===t.event.type||"Signal"===t.event.type){if(null!==t.object){let e=t.object.userdata;e&&(yield e.action(t))}}else if("MenuActivated"===t.event.type||"MenuCreate"===t.event.type||"MenuDelete"===t.event.type)for(let e=0;e<this.ctx.a.length;e++){let r=this.ctx.a[e];if(r.type()===x.GrowNode||r.type()===x.GrowGroup){let e=r.userdata;if(e){let r=this.ctx.a.length;if((yield e.action(t))===u)return;if(r!==this.ctx.a.length)break}}}}else if(null!==t.object){let e=t.object.userdata;e&&(yield e.action(t))}e&&this.ctxPush()})}ctxPop(t){return this.ctx!==t&&(this.ctxStackCnt>=10?(console.log("** Graph ctx stack overflow"),!1):(this.ctxStack[this.ctxStackCnt]=this.ctx,this.ctxStackCnt++,this.ctx=t,!0))}ctxPush(){this.ctxStackCnt>0&&(--this.ctxStackCnt,this.ctx=this.ctxStack[this.ctxStackCnt])}setSubwindowSource(t,e,r){this.ctxStackCnt>0&&(this.ctx=this.ctxStack[this.ctxStackCnt-1]),this.ctx.setSubwindowSource(t,e,r)}stringToType(t){let e;return-1!==(e=t.indexOf("#"))&&(t=t.substring(0,e)),t=t.toLowerCase(),Pe.hasOwnProperty(t)?Pe[t]:t.startsWith("string")?l.j.String:0}stringToIndex(t){let e,r;if(-1!==(e=t.indexOf("["))&&-1!==(r=t.indexOf("]"))&&r>e){let i=parseInt(t.substring(e+1,r),10);return isNaN(i)?(console.log("Element syntax error, "+t),1):i}return 1}parseAttrName(t){if(!t)return null;let e,r,i,o=new Ue,n=t.trim();if(-1!==(e=n.indexOf("$local."))){if(-1===(r=n.indexOf("#")))o.name=n.substring(e+1);else{o.name=n.substring(e+7,r);let t=n.substring(r).toUpperCase();o.type="##FLOAT32"===t?l.j.Float32:"##FLOAT64"===t?l.j.Float64:"##INT32"===t?l.j.Int32:"##BOOLEAN"===t?l.j.Boolean:l.j.String}return"!"===n.substring(0,1)?(n=(n=n.substring(1)).trim(),o.inverted=!0):o.inverted=!1,o.database=ri.Local,o.tname=t,o}if(-1!==(e=n.indexOf("$ccm."))){if(-1===(r=n.indexOf("#")))o.name=n.substring(e+1);else{o.name=n.substring(e+5,r);let t=n.substring(r).toUpperCase();o.type="##FLOAT32"===t?l.j.Float32:"##INT32"===t?l.j.Int32:"##BOOLEAN"===t?l.j.Boolean:l.j.String}return"!"===n.substring(0,1)?(n=(n=n.substring(1)).trim(),o.inverted=!0):o.inverted=!1,o.database=ri.Ccm,o.tname=String(o.name),o}if(-1!==(e=n.indexOf("$object"))&&null!==this.appl&&(n=n.substring(0,e)+this.ctx.owner+n.substring(e+7)),o.tname=String(n),-1===(e=n.indexOf("["))?-1!==(i=n.lastIndexOf("#"))&&"#"!==n.charAt(i-1)?(o.elements=parseInt(n.substring(i+1),10),isNaN(o.elements)&&(o.elements=1),n=n.substring(0,i)):o.elements=1:(o.index=this.stringToIndex(n),o.elements=1),-1===(r=n.indexOf("##")))o.type=0;else{if("bit"===n.toLowerCase().substring(r+2,r+5)){let t=n.substring(r+2),e=this.stringToIndex(t);o.bitmask=1<<e,n=n.substring(0,r+5)}o.type=this.stringToType(n.substring(r+2)),n=n.substring(0,r)}return"!"===n.substring(0,1)?(n=(n=n.substring(1)).trim(),o.inverted=!0,o.tname=o.tname.substring(1),o.tname=o.tname.trim()):o.inverted=!1,o.database=ri.Gdh,o.name=n,o}traceConnect(t){let e=!1;if(t.ctx!==this.ctx&&(e=this.ctxPop(t.ctx)),!t.userdata)return void(e&&this.ctxPush());let r=t.userdata;if(t.type()===x.GrowNode){if(t.getClassDynType1()&pe.HostObject&&r.dyn_type1&pe.Inherit||r.dyn_type1&pe.HostObject){let e=t.getClassUserData();if(r.setTotal(null),null!==e){let i=r;(r=new Ve(this)).merge(i),r.total_dyn_type1|=pe.HostObject,r.merge(e),i.cycle!==k.Inherit&&(r.cycle=i.cycle),(i.action_type1!==ge.Inherit||i.action_type2)&&(r.access=i.access),t.userdata=r,r.setTotal(t)}}}r.connect(t),e&&this.ctxPush()}traceDisconnect(t){t.userdata&&t.userdata.disconnect(t)}traceScan(t){if(t.userdata){let e=t.userdata;if(e.cycle===k.Inherit)return 1;if(e.cycle===k.Slow&&this.slow_scan_cnt&&!(e.total_dyn_type1&pe.Animation||e.total_dyn_type2&be.ScrollingText))return 1;if(e.cycle===k.Fast&&this.fast_scan_cnt&&!(e.total_dyn_type1&pe.Animation||e.total_dyn_type2&be.ScrollingText))return 1;e.scan(t)}}openValueInputDialog(t,e,r){let i=prompt(e,"");i&&t.valueInputAction(r,i)}openConfirmDialog(t,e){this.appl&&this.appl.openConfirmDialog(t,e)}getAnimationScanTime(){return Math.min(this.scan_time,this.animation_scan_time)}command(t){return this.appl?this.appl.command(t):0}script(t){return this.appl?this.appl.script(t):0}getCommand(t){let e,r=t;for(;-1!==(e=r.indexOf("$object"));)null!==this.appl&&(r=r.substring(0,e)+this.ctx.owner+r.substring(e+7));return r}}r.d(e,"default",function(){return si});let ni=[new i("OPEN",["cli_arg1","cli_arg2","/NAME","/FILE","/SCROLLBAR","/WIDTH","/HEIGHT","/MENU","/NAVIGATOR","/CENTER","/OBJECT","/INSTANCE","/NEW","/CLASSGRAPH","/ACCESS","/PARENT"]),new i("EXIT",null),new i("HELP",["cli_arg1","cli_arg2","cli_arg3","cli_arg4","/HELPFILE","/POPNAVIGATOR","/BOOKMARK","/INDEX","/BASE","/RETURNCOMMAND","/WIDTH","/HEIGHT","/VERSION"]),new i("SET",["cli_arg1","cli_arg2","/NAME","/VALUE","/BYPASS","/SOURCE","/OBJECT"]),new i("EXAMPLE",["/NAME","/HIERARCHY"]),new i("CHECK",["cli_arg1","/METHOD","/OBJECT"]),new i("CALL",["cli_arg1","/METHOD","/OBJECT"]),new i("SET",["cli_arg1","dcli_arg2","/CONTINUE"])];class si{constructor(){this.graph=new oi(this)}command(t){if(console.log("Command: "+t),!_.a.is_authorized(l.a.AllRt))return 0;if("@"===t.charAt(0))return 1;let e=new s(ni),r=e.parse(t);if(Object(l.p)(e.status)){let t=t=>e.qualifierFound(t)?e.getQualValue(t):null;if("OPEN"===r){let r=t("cli_arg1");if(r){let i="JGRAPH",o="GRAPH",n="URL",s="TREND",l="FAST";if(r=r.toUpperCase(),i.length>=r.length&&i.substring(0,r.length)===r)console.log('Command is not implemented, "OPEN JGRAPH"');else if(o.length>=r.length&&o.substring(0,r.length)===r){if(t("/OBJECT"))return 1;let r=t("/INSTANCE"),i=!1;if(r){if(i=e.qualifierFound("/CLASSGRAPH"),e.qualifierFound("/PARENT")){let t=r.lastIndexOf(".");t>0&&(r=r.substring(0,t)),console.log("open graph /parent: "+r)}}if(i)console.log("Cmd classGraph"),a.d.getObjectFromName(r,a.f.GET_OP_METHOD_OBJECTGRAPH).then(this.open_objectgraph_cb);else{let t=e.getQualValue("cli_arg2").toLowerCase();if(!t)return console.log("Syntax error"),0;(t=t.toLowerCase()).endsWith(".pwg")||(t+=".pwg");let i="ge.html?graph="+t;r&&(i+="&instance="+r),this.graph.nogdh&&(i+="&gdh=no"),console.log("Cmd found: open graph",t,r);window.open(i,"_blank")}}else if(n.length>=r.length&&n.substring(0,r.length)===r){let t=e.getQualValue("cli_arg2");["pwrb","pwrs","nmps","profibus","otherio","opc","basecomponent","abb","siemens","ssabox"].some(e=>t.startsWith(e+"_"))&&(t="$pwr_doc/en_us/orm/"+t),console.log("open url "+t),window.open(t,"_blank")}else s.length>=r.length&&s.substring(0,r.length)===r?console.log("Cmd open trend"):l.length>=r.length&&l.substring(0,r.length)===r?console.log("Cmd open fast"):"HELP"===r&&console.log("Cmd help")}}else if("SET"===r){let e=t("cli_arg1");if(e){e=e.toUpperCase();let r="SUBWINDOW";if(r.length>=e.length&&r.substring(0,e.length)===e){let e=t("/NAME");if(!e)return console.log("Cmd: Name is missing\n"),0;let r=t("/SOURCE");if(!r)return console.log("Cmd: source is missing\n"),0;let i=t("/OBJECT"),o=t("cli_arg2");if(!o)return console.log("Syntax error"),0;o=o.toLowerCase(),-1===r.indexOf(".")&&(r+=".pwg"),this.graph.setSubwindowSource(e,r,i)}}}else if("HELP"===r){let r="xtt_help_",i=null;if(e.qualifierFound("/VERSION"))r=window.location.hostname+"/pwr_doc/xtt_version_help_version.html",window.open(r,"_blank");else{e.qualifierFound("/BASE")&&(r="/pwr_doc/help/xtt_help_");for(let e=0;e<4;e++){let i=t("cli_arg"+String(e+1));r+=i?i.toLowerCase():""}["pwrb","pwrs","nmps","profibus","otherio","opc","basecomponent","abb","siemens","ssabox"].some(t=>r.startsWith(t+"_"))&&(r="/pwr_doc/orm/"+r),i=t("/BOOKMARK"),r+=".html",console.log('Loading helpfile "'+r+'"'),window.open("http://"+localStorage.getItem("HOST")+"/"+r,"_blank")}}else{if("CHECK"!==r)return console.log("JopSpider: Parse error "+e.getStsString()),0;{let e=t("cli_arg1");if(e){let r="METHOD",i="ISATTRIBUTE";if(e=e.toUpperCase(),r.length>=e.length&&r.substring(0,e.length)===e){if(!t("/METHOD"))return console.log("Cmd: Method is missing\n"),0;if(!t("/OBJECT"))return console.log("Cmd: Object is missing\n"),0}else if(i.length>=e.length&&i.substring(0,e.length)===e){if(!t("/OBJECT"))return console.log("Cmd: Object is missing\n"),0}}else if("CALL"===e){let e=t("cli_arg1");if(e){let r="METHOD";if(e=e.toUpperCase(),r.length>=e.length&&r.substring(0,e.length)===e){if(!t("/METHOD"))return console.log("Cmd: Method is missing\n"),0;if(!t("/OBJECT"))return console.log("Cmd: Object is missing\n"),0}}}else if("SET"===e)return 1}}}return 1}script(t){console.log("Appl.script",t)}openConfirmDialog(t,e){confirm(e)&&t.confirmedAction(new MouseEvent("click",{button:0,buttons:1}))}open_objectgraph_cb(t){let e=window.open("","_blank");if(Object(l.o)(t.sts))e.document.write("Error status "+t.sts);else{let r=t.value;console.log("param1",r.param1),e.location.href="ge.html?graph="+r.param1+"&instance="+r.fullname,e.document.title=r.param1+" "+r.fullname}}}new si}]);