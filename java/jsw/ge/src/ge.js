!function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=26)}([function(t,e,i){"use strict";i.d(e,"m",function(){return o}),i.d(e,"l",function(){return s}),i.d(e,"k",function(){return r}),i.d(e,"f",function(){return a}),i.d(e,"C",function(){return d}),i.d(e,"h",function(){return m}),i.d(e,"a",function(){return w}),i.d(e,"g",function(){return f}),i.d(e,"H",function(){return b}),i.d(e,"b",function(){return y}),i.d(e,"e",function(){return p}),i.d(e,"d",function(){return g}),i.d(e,"j",function(){return v}),i.d(e,"D",function(){return C}),i.d(e,"w",function(){return G}),i.d(e,"x",function(){return k}),i.d(e,"c",function(){return T}),i.d(e,"F",function(){return S}),i.d(e,"E",function(){return I}),i.d(e,"G",function(){return L}),i.d(e,"v",function(){return M}),i.d(e,"B",function(){return O}),i.d(e,"i",function(){return F}),i.d(e,"r",function(){return z}),i.d(e,"s",function(){return j}),i.d(e,"t",function(){return V}),i.d(e,"u",function(){return U}),i.d(e,"z",function(){return H}),i.d(e,"y",function(){return R}),i.d(e,"A",function(){return E}),i.d(e,"q",function(){return B}),i.d(e,"o",function(){return q}),i.d(e,"n",function(){return X}),i.d(e,"p",function(){return Y});const o=21001,s=21003,r=21005,a=9;var n,l,_,h,c,u,d,m,w,f,b,y,p,g,x,v,C,G,k,T,S,I,L,A,M,N,O,F,R,E,D,B,P;!function(t){t[t.Boolean=0]="Boolean",t[t.Int=1]="Int",t[t.Double=2]="Double",t[t.String=3]="String",t[t.DynType1=4]="DynType1",t[t.ActionType1=5]="ActionType1",t[t.Direction=6]="Direction",t[t.Color=7]="Color",t[t.Tone=8]="Tone",t[t.ToneOrColor=9]="ToneOrColor",t[t.TraceColor=10]="TraceColor",t[t.Access=11]="Access",t[t.Cycle=12]="Cycle",t[t.MB3Action=13]="MB3Action",t[t.Relief=14]="Relief",t[t.InputFocusMark=15]="InputFocusMark",t[t.TextSize=16]="TextSize",t[t.Adjustment=17]="Adjustment",t[t.Font=18]="Font",t[t.Gradient=19]="Gradient",t[t.HotIndication=20]="HotIndication",t[t.AnnotType=21]="AnnotType",t[t.DynType2=22]="DynType2",t[t.ActionType2=23]="ActionType2",t[t.AppMotion=24]="AppMotion"}(n||(n={})),function(t){t[t.Glow=0]="Glow",t[t.Brow=1]="Brow",t[t.Grow=2]="Grow",t[t.ColPal=3]="ColPal",t[t.Curve=4]="Curve"}(l||(l={})),function(t){t[t.Surround=5]="Surround",t[t.Partial=6]="Partial",t[t.Both=7]="Both"}(_||(_={})),function(t){t[t.No=0]="No",t[t.Close=1]="Close",t[t.PopupMenu=2]="PopupMenu",t[t.Both=3]="Both"}(h||(h={})),function(t){t[t.Eight=0]="Eight",t[t.Ten=1]="Ten",t[t.Twelve=2]="Twelve",t[t.Fourteen=4]="Fourteen",t[t.Eighteen=6]="Eighteen",t[t.TwentyFour=8]="TwentyFour"}(c||(c={})),function(t){t[t.ISO8859_1=0]="ISO8859_1",t[t.UTF_8=1]="UTF_8"}(u||(u={})),function(t){t[t.NoObject=0]="NoObject",t[t.Node=1]="Node",t[t.Con=2]="Con",t[t.Rect=3]="Rect",t[t.Line=4]="Line",t[t.Arc=5]="Arc",t[t.Text=6]="Text",t[t.ConPoint=7]="ConPoint",t[t.Annot=8]="Annot",t[t.NodeClass=9]="NodeClass",t[t.ConClass=10]="ConClass",t[t.Arrow=11]="Arrow",t[t.Pixmap=12]="Pixmap",t[t.AnnotPixmap=13]="AnnotPixmap",t[t.Radiobutton=14]="Radiobutton",t[t.Frame=15]="Frame",t[t.GrowRect=16]="GrowRect",t[t.GrowLine=17]="GrowLine",t[t.GrowArc=18]="GrowArc",t[t.GrowConPoint=19]="GrowConPoint",t[t.GrowSubAnnot=20]="GrowSubAnnot",t[t.PolyLine=21]="PolyLine",t[t.GrowPolyLine=22]="GrowPolyLine",t[t.Point=23]="Point",t[t.GrowNode=24]="GrowNode",t[t.GrowAnnot=25]="GrowAnnot",t[t.GrowText=26]="GrowText",t[t.GrowBar=27]="GrowBar",t[t.GrowTrend=28]="GrowTrend",t[t.GrowSlider=29]="GrowSlider",t[t.GrowImage=30]="GrowImage",t[t.NodeGroup=31]="NodeGroup",t[t.GrowGroup=32]="GrowGroup",t[t.GrowAxis=33]="GrowAxis",t[t.GrowRectRounded=34]="GrowRectRounded",t[t.GrowConGlue=35]="GrowConGlue",t[t.GrowMenu=36]="GrowMenu",t[t.GrowWindow=37]="GrowWindow",t[t.GrowScrollBar=38]="GrowScrollBar",t[t.GrowTable=39]="GrowTable",t[t.GrowFolder=40]="GrowFolder",t[t.GrowXYCurve=41]="GrowXYCurve",t[t.GrowAxisArc=42]="GrowAxisArc",t[t.GrowPie=43]="GrowPie",t[t.GrowBarChart=44]="GrowBarChart",t[t.GrowToolbar=45]="GrowToolbar",t[t.GrowBarArc=46]="GrowBarArc"}(d||(d={})),function(t){t[t.Center=0]="Center",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.Up=3]="Up",t[t.Down=4]="Down"}(m||(m={})),function(t){t[t.Center=0]="Center",t[t.Right=1]="Right",t[t.Left=2]="Left"}(w||(w={})),function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(f||(f={})),function(t){t[t.Visible=0]="Visible",t[t.Invisible=1]="Invisible",t[t.Dimmed=2]="Dimmed"}(b||(b={})),function(t){t[t.OneLine=0]="OneLine",t[t.MultiLine=1]="MultiLine"}(y||(y={})),function(t){t[t.Inherit=0]="Inherit",t[t.Slow=1]="Slow",t[t.Fast=2]="Fast"}(p||(p={})),function(t){t[t.Rounded=0]="Rounded",t[t.Right=1]="Right"}(g||(g={})),function(t){t[t.Full=0]="Full",t[t.Partial=1]="Partial",t[t.Top=2]="Top",t[t.Bottom=3]="Bottom",t[t.Left=4]="Left",t[t.Right=5]="Right"}(x||(x={})),function(t){t[t.Helvetica=0]="Helvetica",t[t.Times=1]="Times",t[t.NewCenturySchoolbook=2]="NewCenturySchoolbook",t[t.Courier=3]="Courier",t[t.LucidaSans=4]="LucidaSans",t[t._=5]="_",t[t.No=9999]="No"}(v||(v={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(C||(C={})),function(t){t[t.No=0]="No",t[t.HorizontalUp=1]="HorizontalUp",t[t.HorizontalDown=2]="HorizontalDown",t[t.HorizontalTube1=3]="HorizontalTube1",t[t.HorizontalTube2=4]="HorizontalTube2",t[t.VerticalLeft=5]="VerticalLeft",t[t.VerticalRight=6]="VerticalRight",t[t.VerticalTube1=7]="VerticalTube1",t[t.VerticalTube2=8]="VerticalTube2",t[t.DiagonalUpperLeft=9]="DiagonalUpperLeft",t[t.DiagonalLowerLeft=10]="DiagonalLowerLeft",t[t.DiagonalUpperRight=11]="DiagonalUpperRight",t[t.DiagonalLowerRight=12]="DiagonalLowerRight",t[t.DiagonalUpTube=13]="DiagonalUpTube",t[t.DiagonalDownTube=14]="DiagonalDownTube",t[t.Globe=15]="Globe",t[t.RadialCenter=16]="RadialCenter",t[t.RadialUpperLeft=17]="RadialUpperLeft",t[t.RadialLowerLeft=18]="RadialLowerLeft",t[t.RadialUpperRight=19]="RadialUpperRight",t[t.RadialLowerRight=20]="RadialLowerRight"}(G||(G={})),function(t){t[t.No=0]="No",t[t.LineWidth=1]="LineWidth",t[t.DarkColor=2]="DarkColor",t[t.LightColor=3]="LightColor"}(k||(k={})),function(t){t[t.Scroll=0]="Scroll",t[t.Slider=1]="Slider",t[t.Both=2]="Both"}(T||(T={})),function(t){t[t.LowerLeft=0]="LowerLeft",t[t.LowerRight=1]="LowerRight",t[t.UpperRight=2]="UpperRight",t[t.UpperLeft=3]="UpperLeft",t[t.Left=4]="Left",t[t.Up=5]="Up",t[t.Right=6]="Right",t[t.Down=7]="Down",t[t.Center=8]="Center",t[t.FixPoint=9]="FixPoint",t[t.No=10]="No"}(S||(S={})),function(t){t[t.LowerLeft=0]="LowerLeft",t[t.LowerRight=1]="LowerRight",t[t.UpperRight=2]="UpperRight",t[t.UpperLeft=3]="UpperLeft",t[t.Center=4]="Center",t[t.FixPoint=5]="FixPoint",t[t.Zero=6]="Zero"}(I||(I={})),function(t){t[t.Node=0]="Node",t[t.Ctx=1]="Ctx",t[t.NodeClass=2]="NodeClass"}(L||(L={})),function(t){t[t.Edit=0]="Edit",t[t.Trace=1]="Trace",t[t.SubGraph=2]="SubGraph",t[t.ReadConfigOnly=3]="ReadConfigOnly"}(A||(A={})),function(t){t[t.Comment=0]="Comment",t[t.Ctx=1]="Ctx",t[t.Array=2]="Array",t[t.NodeClass=3]="NodeClass",t[t.ConClass=4]="ConClass",t[t.Rect=5]="Rect",t[t.Line=6]="Line",t[t.Point=7]="Point",t[t.Arc=8]="Arc",t[t.Text=9]="Text",t[t.Node=10]="Node",t[t.Con=11]="Con",t[t.ConPoint=12]="ConPoint",t[t.Annot=13]="Annot",t[t.Arrow=14]="Arrow",t[t.Pixmap=15]="Pixmap",t[t.AnnotPixmap=16]="AnnotPixmap",t[t.Radiobutton=17]="Radiobutton",t[t.Frame=18]="Frame",t[t.GrowRect=19]="GrowRect",t[t.GrowLine=20]="GrowLine",t[t.GrowConPoint=21]="GrowConPoint",t[t.GrowCtx=22]="GrowCtx",t[t.GrowSubAnnot=23]="GrowSubAnnot",t[t.GrowArc=24]="GrowArc",t[t.PolyLine=25]="PolyLine",t[t.GrowPolyLine=26]="GrowPolyLine",t[t.GrowNode=27]="GrowNode",t[t.Transform=28]="Transform",t[t.GrowAnnot=29]="GrowAnnot",t[t.GrowText=30]="GrowText",t[t.GrowBar=31]="GrowBar",t[t.GrowTrend=32]="GrowTrend",t[t.GrowSlider=33]="GrowSlider",t[t.GrowImage=34]="GrowImage",t[t.GrowGroup=35]="GrowGroup",t[t.NodeGroup=36]="NodeGroup",t[t.GrowAxis=37]="GrowAxis",t[t.GrowRectRounded=38]="GrowRectRounded",t[t.GrowConGlue=39]="GrowConGlue",t[t.GrowWindow=40]="GrowWindow",t[t.GrowFolder=41]="GrowFolder",t[t.GrowTable=42]="GrowTable",t[t.GrowXYCurve=43]="GrowXYCurve",t[t.GrowAxisArc=44]="GrowAxisArc",t[t.GrowPie=45]="GrowPie",t[t.GrowBarChart=46]="GrowBarChart",t[t.GrowToolbar=47]="GrowToolbar",t[t.CustomColors=48]="CustomColors",t[t.GrowBarArc=49]="GrowBarArc",t[t.End=99]="End",t[t.Ctx_zoom_factor_x=100]="Ctx_zoom_factor_x",t[t.Ctx_base_zoom_factor=101]="Ctx_base_zoom_factor",t[t.Ctx_offset_x=102]="Ctx_offset_x",t[t.Ctx_offset_y=103]="Ctx_offset_y",t[t.Ctx_nav_zoom_factor_x=104]="Ctx_nav_zoom_factor_x",t[t.Ctx_print_zoom_factor=105]="Ctx_print_zoom_factor",t[t.Ctx_nav_offset_x=106]="Ctx_nav_offset_x",t[t.Ctx_nav_offset_y=107]="Ctx_nav_offset_y",t[t.Ctx_x_right=108]="Ctx_x_right",t[t.Ctx_x_left=109]="Ctx_x_left",t[t.Ctx_y_high=110]="Ctx_y_high",t[t.Ctx_y_low=111]="Ctx_y_low",t[t.Ctx_window_width=112]="Ctx_window_width",t[t.Ctx_window_height=113]="Ctx_window_height",t[t.Ctx_nav_window_width=114]="Ctx_nav_window_width",t[t.Ctx_nav_window_height=115]="Ctx_nav_window_height",t[t.Ctx_nav_rect_ll_x=116]="Ctx_nav_rect_ll_x",t[t.Ctx_nav_rect_ll_y=117]="Ctx_nav_rect_ll_y",t[t.Ctx_nav_rect_ur_x=118]="Ctx_nav_rect_ur_x",t[t.Ctx_nav_rect_ur_y=119]="Ctx_nav_rect_ur_y",t[t.Ctx_nav_rect_hot=120]="Ctx_nav_rect_hot",t[t.Ctx_name=121]="Ctx_name",t[t.Ctx_user_highlight=122]="Ctx_user_highlight",t[t.Ctx_a_nc=123]="Ctx_a_nc",t[t.Ctx_a_cc=124]="Ctx_a_cc",t[t.Ctx_a=125]="Ctx_a",t[t.Ctx_grid_size_x=126]="Ctx_grid_size_x",t[t.Ctx_grid_size_y=127]="Ctx_grid_size_y",t[t.Ctx_grid_on=128]="Ctx_grid_on",t[t.Ctx_draw_delta=129]="Ctx_draw_delta",t[t.Ctx_refcon_width=130]="Ctx_refcon_width",t[t.Ctx_refcon_height=131]="Ctx_refcon_height",t[t.Ctx_refcon_textsize=132]="Ctx_refcon_textsize",t[t.Ctx_refcon_linewidth=133]="Ctx_refcon_linewidth",t[t.Ctx_grow=134]="Ctx_grow",t[t.Ctx_zoom_factor_y=135]="Ctx_zoom_factor_y",t[t.Ctx_nav_zoom_factor_y=136]="Ctx_nav_zoom_factor_y",t[t.Ctx_version=137]="Ctx_version",t[t.Ctx_hot_indication=138]="Ctx_hot_indication",t[t.Ctx_tiptext_size=139]="Ctx_tiptext_size",t[t.Ctx_app_motion=140]="Ctx_app_motion",t[t.Ctx_color_theme=141]="Ctx_color_theme",t[t.Ctx_comment=199]="Ctx_comment",t[t.Array_a=200]="Array_a",t[t.NodeClass_nc_name=300]="NodeClass_nc_name",t[t.NodeClass_a=301]="NodeClass_a",t[t.NodeClass_group=302]="NodeClass_group",t[t.NodeClass_dynamic=303]="NodeClass_dynamic",t[t.NodeClass_dynamicsize=304]="NodeClass_dynamicsize",t[t.NodeClass_arg_cnt=305]="NodeClass_arg_cnt",t[t.NodeClass_argname=306]="NodeClass_argname",t[t.NodeClass_argtype=307]="NodeClass_argtype",t[t.NodeClass_dyn_type1=308]="NodeClass_dyn_type1",t[t.NodeClass_dyn_color1=309]="NodeClass_dyn_color1",t[t.NodeClass_no_con_obstacle=310]="NodeClass_no_con_obstacle",t[t.NodeClass_slider=311]="NodeClass_slider",t[t.NodeClass_java_name=312]="NodeClass_java_name",t[t.NodeClass_dyn_color2=313]="NodeClass_dyn_color2",t[t.NodeClass_next_nodeclass=314]="NodeClass_next_nodeclass",t[t.NodeClass_animation_count=315]="NodeClass_animation_count",t[t.NodeClass_cycle=316]="NodeClass_cycle",t[t.NodeClass_y0=317]="NodeClass_y0",t[t.NodeClass_y1=318]="NodeClass_y1",t[t.NodeClass_x0=319]="NodeClass_x0",t[t.NodeClass_x1=320]="NodeClass_x1",t[t.NodeClass_dyn_action_type1=321]="NodeClass_dyn_action_type1",t[t.NodeClass_dyn_color3=322]="NodeClass_dyn_color3",t[t.NodeClass_dyn_color4=323]="NodeClass_dyn_color4",t[t.NodeClass_dyn_attr1=324]="NodeClass_dyn_attr1",t[t.NodeClass_dyn_attr2=325]="NodeClass_dyn_attr2",t[t.NodeClass_dyn_attr3=326]="NodeClass_dyn_attr3",t[t.NodeClass_dyn_attr4=327]="NodeClass_dyn_attr4",t[t.NodeClass_input_focus_mark=328]="NodeClass_input_focus_mark",t[t.NodeClass_userdata_cb=329]="NodeClass_userdata_cb",t[t.NodeClass_dyn_type2=330]="NodeClass_dyn_type2",t[t.NodeClass_dyn_action_type2=331]="NodeClass_dyn_action_type2",t[t.NodeClass_recursive_trace=332]="NodeClass_recursive_trace",t[t.ConClass_cc_name=400]="ConClass_cc_name",t[t.ConClass_con_type=401]="ConClass_con_type",t[t.ConClass_corner=402]="ConClass_corner",t[t.ConClass_draw_type=403]="ConClass_draw_type",t[t.ConClass_line_width=404]="ConClass_line_width",t[t.ConClass_arrow_width=405]="ConClass_arrow_width",t[t.ConClass_arrow_length=406]="ConClass_arrow_length",t[t.ConClass_round_corner_amount=407]="ConClass_round_corner_amount",t[t.ConClass_group=408]="ConClass_group",t[t.Rect_draw_type=500]="Rect_draw_type",t[t.Rect_line_width=501]="Rect_line_width",t[t.Rect_ll=502]="Rect_ll",t[t.Rect_ur=503]="Rect_ur",t[t.Rect_display_level=504]="Rect_display_level",t[t.Rect_fill=505]="Rect_fill",t[t.Line_draw_type=600]="Line_draw_type",t[t.Line_line_width=601]="Line_line_width",t[t.Line_p1=602]="Line_p1",t[t.Line_p2=603]="Line_p2",t[t.Point_x=700]="Point_x",t[t.Point_y=701]="Point_y",t[t.Arc_angle1=800]="Arc_angle1",t[t.Arc_angle2=801]="Arc_angle2",t[t.Arc_draw_type=802]="Arc_draw_type",t[t.Arc_line_width=803]="Arc_line_width",t[t.Arc_ll=804]="Arc_ll",t[t.Arc_ur=805]="Arc_ur",t[t.Arc_fill=806]="Arc_fill",t[t.Text_text_size=900]="Text_text_size",t[t.Text_draw_type=901]="Text_draw_type",t[t.Text_text=902]="Text_text",t[t.Text_p=903]="Text_p",t[t.Text_color_drawtype=904]="Text_color_drawtype",t[t.Node_nc=1e3]="Node_nc",t[t.Node_pos=1001]="Node_pos",t[t.Node_n_name=1002]="Node_n_name",t[t.Node_annotsize=1003]="Node_annotsize",t[t.Node_annotv=1004]="Node_annotv",t[t.Node_refcon_cnt=1005]="Node_refcon_cnt",t[t.Node_x_right=1006]="Node_x_right",t[t.Node_x_left=1007]="Node_x_left",t[t.Node_y_high=1008]="Node_y_high",t[t.Node_y_low=1009]="Node_y_low",t[t.Node_trace_data1=1010]="Node_trace_data1",t[t.Node_trace_data2=1011]="Node_trace_data2",t[t.Node_trace_attr_type=1012]="Node_trace_attr_type",t[t.Node_obst_x_right=1013]="Node_obst_x_right",t[t.Node_obst_x_left=1014]="Node_obst_x_left",t[t.Node_obst_y_high=1015]="Node_obst_y_high",t[t.Node_obst_y_low=1016]="Node_obst_y_low",t[t.Node_trace_color=1017]="Node_trace_color",t[t.Node_trace_data3=1018]="Node_trace_data3",t[t.Node_trace_data4=1019]="Node_trace_data4",t[t.Node_trace_data5=1020]="Node_trace_data5",t[t.Node_trace_data6=1021]="Node_trace_data6",t[t.Node_trace_data7=1022]="Node_trace_data7",t[t.Node_trace_data8=1023]="Node_trace_data8",t[t.Node_trace_data9=1024]="Node_trace_data9",t[t.Node_trace_data10=1025]="Node_trace_data10",t[t.Node_access=1026]="Node_access",t[t.Node_trace_color2=1027]="Node_trace_color2",t[t.Node_cycle=1028]="Node_cycle",t[t.Node_ref_object=1029]="Node_ref_object",t[t.Con_x_right=1100]="Con_x_right",t[t.Con_x_left=1101]="Con_x_left",t[t.Con_y_high=1102]="Con_y_high",t[t.Con_y_low=1103]="Con_y_low",t[t.Con_cc=1104]="Con_cc",t[t.Con_dest_node=1105]="Con_dest_node",t[t.Con_source_node=1106]="Con_source_node",t[t.Con_dest_conpoint=1107]="Con_dest_conpoint",t[t.Con_source_conpoint=1108]="Con_source_conpoint",t[t.Con_dest_direction=1109]="Con_dest_direction",t[t.Con_source_direction=1110]="Con_source_direction",t[t.Con_line_a=1111]="Con_line_a",t[t.Con_arc_a=1112]="Con_arc_a",t[t.Con_arrow_a=1113]="Con_arrow_a",t[t.Con_ref_a=1114]="Con_ref_a",t[t.Con_p_num=1115]="Con_p_num",t[t.Con_l_num=1116]="Con_l_num",t[t.Con_a_num=1117]="Con_a_num",t[t.Con_arrow_num=1118]="Con_arrow_num",t[t.Con_ref_num=1119]="Con_ref_num",t[t.Con_point_x=1120]="Con_point_x",t[t.Con_point_y=1121]="Con_point_y",t[t.Con_source_ref_cnt=1122]="Con_source_ref_cnt",t[t.Con_dest_ref_cnt=1123]="Con_dest_ref_cnt",t[t.Con_c_name=1124]="Con_c_name",t[t.Con_trace_object=1125]="Con_trace_object",t[t.Con_trace_attribute=1126]="Con_trace_attribute",t[t.Con_trace_attr_type=1127]="Con_trace_attr_type",t[t.Con_temporary_ref=1128]="Con_temporary_ref",t[t.Con_border=1129]="Con_border",t[t.Con_shadow=1130]="Con_shadow",t[t.ConPoint_number=1200]="ConPoint_number",t[t.ConPoint_direction=1201]="ConPoint_direction",t[t.ConPoint_p=1202]="ConPoint_p",t[t.ConPoint_trace_attribute=1203]="ConPoint_trace_attribute",t[t.ConPoint_trace_attr_type=1204]="ConPoint_trace_attr_type",t[t.ConPoint_trf=1205]="ConPoint_trf",t[t.Annot_number=1300]="Annot_number",t[t.Annot_draw_type=1301]="Annot_draw_type",t[t.Annot_text_size=1302]="Annot_text_size",t[t.Annot_p=1303]="Annot_p",t[t.Annot_annot_type=1304]="Annot_annot_type",t[t.Annot_display_level=1305]="Annot_display_level",t[t.Annot_color_drawtype=1306]="Annot_color_drawtype",t[t.Annot_font=1307]="Annot_font",t[t.Annot_protect=1308]="Annot_protect",t[t.Arrow_arrow_width=1400]="Arrow_arrow_width",t[t.Arrow_arrow_length=1401]="Arrow_arrow_length",t[t.Arrow_draw_type=1402]="Arrow_draw_type",t[t.Arrow_line_width=1403]="Arrow_line_width",t[t.Arrow_p_dest=1404]="Arrow_p_dest",t[t.Arrow_p1=1405]="Arrow_p1",t[t.Arrow_p2=1406]="Arrow_p2",t[t.GrowRect_x_right=1900]="GrowRect_x_right",t[t.GrowRect_x_left=1901]="GrowRect_x_left",t[t.GrowRect_y_high=1902]="GrowRect_y_high",t[t.GrowRect_y_low=1903]="GrowRect_y_low",t[t.GrowRect_n_name=1904]="GrowRect_n_name",t[t.GrowRect_rect_part=1905]="GrowRect_rect_part",t[t.GrowRect_dynamic=1906]="GrowRect_dynamic",t[t.GrowRect_dynamicsize=1907]="GrowRect_dynamicsize",t[t.GrowRect_original_border_drawtype=1908]="GrowRect_original_border_drawtype",t[t.GrowRect_original_fill_drawtype=1909]="GrowRect_original_fill_drawtype",t[t.GrowRect_fill_drawtype=1910]="GrowRect_fill_drawtype",t[t.GrowRect_border=1911]="GrowRect_border",t[t.GrowRect_trf=1912]="GrowRect_trf",t[t.GrowRect_shadow_width=1913]="GrowRect_shadow_width",t[t.GrowRect_relief=1914]="GrowRect_relief",t[t.GrowRect_shadow=1915]="GrowRect_shadow",t[t.GrowRect_shadow_contrast=1916]="GrowRect_shadow_contrast",t[t.GrowRect_disable_shadow=1917]="GrowRect_disable_shadow",t[t.GrowRect_invisible=1918]="GrowRect_invisible",t[t.GrowRect_fixcolor=1919]="GrowRect_fixcolor",t[t.GrowRect_fixposition=1920]="GrowRect_fixposition",t[t.GrowRect_gradient=1921]="GrowRect_gradient",t[t.GrowRect_gradient_contrast=1922]="GrowRect_gradient_contrast",t[t.GrowRect_disable_gradient=1923]="GrowRect_disable_gradient",t[t.GrowRect_bgcolor_gradient=1924]="GrowRect_bgcolor_gradient",t[t.GrowRect_background_drawtype=1925]="GrowRect_background_drawtype",t[t.GrowRect_fill_eq_background=1926]="GrowRect_fill_eq_background",t[t.GrowLine_x_right=2e3]="GrowLine_x_right",t[t.GrowLine_x_left=2001]="GrowLine_x_left",t[t.GrowLine_y_high=2002]="GrowLine_y_high",t[t.GrowLine_y_low=2003]="GrowLine_y_low",t[t.GrowLine_n_name=2004]="GrowLine_n_name",t[t.GrowLine_line_part=2005]="GrowLine_line_part",t[t.GrowLine_dynamic=2006]="GrowLine_dynamic",t[t.GrowLine_dynamicsize=2007]="GrowLine_dynamicsize",t[t.GrowLine_trf=2008]="GrowLine_trf",t[t.GrowLine_original_border_drawtype=2009]="GrowLine_original_border_drawtype",t[t.GrowLine_line_type=2010]="GrowLine_line_type",t[t.GrowConPoint_x_right=2100]="GrowConPoint_x_right",t[t.GrowConPoint_x_left=2101]="GrowConPoint_x_left",t[t.GrowConPoint_y_high=2102]="GrowConPoint_y_high",t[t.GrowConPoint_y_low=2103]="GrowConPoint_y_low",t[t.GrowConPoint_n_name=2104]="GrowConPoint_n_name",t[t.GrowConPoint_arc=2105]="GrowConPoint_arc",t[t.GrowConPoint_conpoint_part=2106]="GrowConPoint_conpoint_part",t[t.GrowCtx_conpoint_num_cnt=2200]="GrowCtx_conpoint_num_cnt",t[t.GrowCtx_objectname_cnt=2201]="GrowCtx_objectname_cnt",t[t.GrowCtx_name=2202]="GrowCtx_name",t[t.GrowCtx_background_color=2203]="GrowCtx_background_color",t[t.GrowCtx_dynamic=2204]="GrowCtx_dynamic",t[t.GrowCtx_dynamicsize=2205]="GrowCtx_dynamicsize",t[t.GrowCtx_arg_cnt=2206]="GrowCtx_arg_cnt",t[t.GrowCtx_argname=2207]="GrowCtx_argname",t[t.GrowCtx_argtype=2208]="GrowCtx_argtype",t[t.GrowCtx_x0=2209]="GrowCtx_x0",t[t.GrowCtx_y0=2210]="GrowCtx_y0",t[t.GrowCtx_x1=2211]="GrowCtx_x1",t[t.GrowCtx_y1=2212]="GrowCtx_y1",t[t.GrowCtx_path_cnt=2213]="GrowCtx_path_cnt",t[t.GrowCtx_path=2214]="GrowCtx_path",t[t.GrowCtx_dyn_type1=2215]="GrowCtx_dyn_type1",t[t.GrowCtx_dyn_color1=2216]="GrowCtx_dyn_color1",t[t.GrowCtx_no_con_obstacle=2217]="GrowCtx_no_con_obstacle",t[t.GrowCtx_slider=2218]="GrowCtx_slider",t[t.GrowCtx_subgraph=2219]="GrowCtx_subgraph",t[t.GrowCtx_java_name=2220]="GrowCtx_java_name",t[t.GrowCtx_dyn_color2=2221]="GrowCtx_dyn_color2",t[t.GrowCtx_next_subgraph=2222]="GrowCtx_next_subgraph",t[t.GrowCtx_animation_count=2223]="GrowCtx_animation_count",t[t.GrowCtx_scantime=2224]="GrowCtx_scantime",t[t.GrowCtx_animation_scantime=2225]="GrowCtx_animation_scantime",t[t.GrowCtx_java_width=2226]="GrowCtx_java_width",t[t.GrowCtx_background_image=2227]="GrowCtx_background_image",t[t.GrowCtx_background_tiled=2228]="GrowCtx_background_tiled",t[t.GrowCtx_double_buffered=2229]="GrowCtx_double_buffered",t[t.GrowCtx_is_javaapplet=2230]="GrowCtx_is_javaapplet",t[t.GrowCtx_is_javaapplication=2231]="GrowCtx_is_javaapplication",t[t.GrowCtx_fast_scantime=2232]="GrowCtx_fast_scantime",t[t.GrowCtx_cycle=2233]="GrowCtx_cycle",t[t.GrowCtx_mb3_action=2234]="GrowCtx_mb3_action",t[t.GrowCtx_translate_on=2235]="GrowCtx_translate_on",t[t.GrowCtx_dyn_action_type1=2236]="GrowCtx_dyn_action_type1",t[t.GrowCtx_dyn_color3=2237]="GrowCtx_dyn_color3",t[t.GrowCtx_dyn_color4=2238]="GrowCtx_dyn_color4",t[t.GrowCtx_dyn_attr1=2239]="GrowCtx_dyn_attr1",t[t.GrowCtx_dyn_attr2=2240]="GrowCtx_dyn_attr2",t[t.GrowCtx_dyn_attr3=2241]="GrowCtx_dyn_attr3",t[t.GrowCtx_dyn_attr4=2242]="GrowCtx_dyn_attr4",t[t.GrowCtx_input_focus_mark=2243]="GrowCtx_input_focus_mark",t[t.GrowCtx_userdata_cb=2244]="GrowCtx_userdata_cb",t[t.GrowCtx_bitmap_fonts=2245]="GrowCtx_bitmap_fonts",t[t.GrowCtx_dyn_type2=2246]="GrowCtx_dyn_type2",t[t.GrowCtx_dyn_action_type2=2247]="GrowCtx_dyn_action_type2",t[t.GrowCtx_recursive_trace=2248]="GrowCtx_recursive_trace",t[t.GrowCtx_customcolors=2249]="GrowCtx_customcolors",t[t.GrowSubAnnot_x_right=2300]="GrowSubAnnot_x_right",t[t.GrowSubAnnot_x_left=2301]="GrowSubAnnot_x_left",t[t.GrowSubAnnot_y_high=2302]="GrowSubAnnot_y_high",t[t.GrowSubAnnot_y_low=2303]="GrowSubAnnot_y_low",t[t.GrowSubAnnot_n_name=2304]="GrowSubAnnot_n_name",t[t.GrowSubAnnot_text=2305]="GrowSubAnnot_text",t[t.GrowSubAnnot_rect=2306]="GrowSubAnnot_rect",t[t.GrowSubAnnot_annot_part=2307]="GrowSubAnnot_annot_part",t[t.GrowSubAnnot_trf=2308]="GrowSubAnnot_trf",t[t.GrowSubAnnot_adjustment=2309]="GrowSubAnnot_adjustment",t[t.GrowArc_x_right=2400]="GrowArc_x_right",t[t.GrowArc_x_left=2401]="GrowArc_x_left",t[t.GrowArc_y_high=2402]="GrowArc_y_high",t[t.GrowArc_y_low=2403]="GrowArc_y_low",t[t.GrowArc_n_name=2404]="GrowArc_n_name",t[t.GrowArc_arc_part=2405]="GrowArc_arc_part",t[t.GrowArc_dynamic=2406]="GrowArc_dynamic",t[t.GrowArc_dynamicsize=2407]="GrowArc_dynamicsize",t[t.GrowArc_original_border_drawtype=2408]="GrowArc_original_border_drawtype",t[t.GrowArc_original_fill_drawtype=2409]="GrowArc_original_fill_drawtype",t[t.GrowArc_fill_drawtype=2410]="GrowArc_fill_drawtype",t[t.GrowArc_border=2411]="GrowArc_border",t[t.GrowArc_trf=2412]="GrowArc_trf",t[t.GrowArc_shadow_width=2413]="GrowArc_shadow_width",t[t.GrowArc_relief=2414]="GrowArc_relief",t[t.GrowArc_shadow=2415]="GrowArc_shadow",t[t.GrowArc_shadow_contrast=2416]="GrowArc_shadow_contrast",t[t.GrowArc_disable_shadow=2417]="GrowArc_disable_shadow",t[t.GrowArc_gradient=2418]="GrowArc_gradient",t[t.GrowArc_gradient_contrast=2419]="GrowArc_gradient_contrast",t[t.GrowArc_disable_gradient=2420]="GrowArc_disable_gradient",t[t.GrowArc_fixcolor=2421]="GrowArc_fixcolor",t[t.GrowArc_fixposition=2422]="GrowArc_fixposition",t[t.GrowArc_background_drawtype=2423]="GrowArc_background_drawtype",t[t.GrowArc_fill_eq_background=2424]="GrowArc_fill_eq_background",t[t.PolyLine_draw_type=2500]="PolyLine_draw_type",t[t.PolyLine_line_width=2501]="PolyLine_line_width",t[t.PolyLine_a_points=2502]="PolyLine_a_points",t[t.PolyLine_fill=2503]="PolyLine_fill",t[t.PolyLine_closed_line=2504]="PolyLine_closed_line",t[t.GrowPolyLine_x_right=2600]="GrowPolyLine_x_right",t[t.GrowPolyLine_x_left=2601]="GrowPolyLine_x_left",t[t.GrowPolyLine_y_high=2602]="GrowPolyLine_y_high",t[t.GrowPolyLine_y_low=2603]="GrowPolyLine_y_low",t[t.GrowPolyLine_n_name=2604]="GrowPolyLine_n_name",t[t.GrowPolyLine_polyline_part=2605]="GrowPolyLine_polyline_part",t[t.GrowPolyLine_dynamic=2606]="GrowPolyLine_dynamic",t[t.GrowPolyLine_dynamicsize=2607]="GrowPolyLine_dynamicsize",t[t.GrowPolyLine_original_border_drawtype=2608]="GrowPolyLine_original_border_drawtype",t[t.GrowPolyLine_original_fill_drawtype=2609]="GrowPolyLine_original_fill_drawtype",t[t.GrowPolyLine_fill_drawtype=2610]="GrowPolyLine_fill_drawtype",t[t.GrowPolyLine_border=2611]="GrowPolyLine_border",t[t.GrowPolyLine_trf=2612]="GrowPolyLine_trf",t[t.GrowPolyLine_fill_eq_border=2613]="GrowPolyLine_fill_eq_border",t[t.GrowPolyLine_shadow_width=2614]="GrowPolyLine_shadow_width",t[t.GrowPolyLine_relief=2615]="GrowPolyLine_relief",t[t.GrowPolyLine_shadow=2616]="GrowPolyLine_shadow",t[t.GrowPolyLine_shadow_contrast=2617]="GrowPolyLine_shadow_contrast",t[t.GrowPolyLine_disable_shadow=2618]="GrowPolyLine_disable_shadow",t[t.GrowPolyLine_fill_eq_light=2619]="GrowPolyLine_fill_eq_light",t[t.GrowPolyLine_fill_eq_shadow=2620]="GrowPolyLine_fill_eq_shadow",t[t.GrowPolyLine_fixcolor=2621]="GrowPolyLine_fixcolor",t[t.GrowPolyLine_fixposition=2622]="GrowPolyLine_fixposition",t[t.GrowPolyLine_gradient=2623]="GrowPolyLine_gradient",t[t.GrowPolyLine_gradient_contrast=2624]="GrowPolyLine_gradient_contrast",t[t.GrowPolyLine_disable_gradient=2625]="GrowPolyLine_disable_gradient",t[t.GrowPolyLine_fill_eq_bglight=2626]="GrowPolyLine_fill_eq_bglight",t[t.GrowPolyLine_fill_eq_bgshadow=2627]="GrowPolyLine_fill_eq_bgshadow",t[t.GrowPolyLine_fill_eq_background=2628]="GrowPolyLine_fill_eq_background",t[t.GrowPolyLine_background_drawtype=2629]="GrowPolyLine_background_drawtype",t[t.GrowNode_node_part=2700]="GrowNode_node_part",t[t.GrowNode_dynamic=2701]="GrowNode_dynamic",t[t.GrowNode_dynamicsize=2702]="GrowNode_dynamicsize",t[t.GrowNode_original_border_drawtype=2703]="GrowNode_original_border_drawtype",t[t.GrowNode_original_fill_drawtype=2704]="GrowNode_original_fill_drawtype",t[t.GrowNode_fill_drawtype=2705]="GrowNode_fill_drawtype",t[t.GrowNode_draw_type=2706]="GrowNode_draw_type",t[t.GrowNode_trf=2707]="GrowNode_trf",t[t.GrowNode_original_color_tone=2708]="GrowNode_original_color_tone",t[t.GrowNode_color_tone=2709]="GrowNode_color_tone",t[t.GrowNode_original_color_lightness=2710]="GrowNode_original_color_lightness",t[t.GrowNode_color_lightness=2711]="GrowNode_color_lightness",t[t.GrowNode_original_color_intensity=2712]="GrowNode_original_color_intensity",t[t.GrowNode_color_intensity=2713]="GrowNode_color_intensity",t[t.GrowNode_original_color_shift=2714]="GrowNode_original_color_shift",t[t.GrowNode_color_shift=2715]="GrowNode_color_shift",t[t.GrowNode_arg_cnt=2716]="GrowNode_arg_cnt",t[t.GrowNode_argv=2717]="GrowNode_argv",t[t.GrowNode_argsize=2718]="GrowNode_argsize",t[t.GrowNode_line_width=2719]="GrowNode_line_width",t[t.GrowNode_invisible=2720]="GrowNode_invisible",t[t.GrowNode_userdata_cb=2721]="GrowNode_userdata_cb",t[t.GrowNode_original_text_drawtype=2722]="GrowNode_original_text_drawtype",t[t.GrowNode_text_drawtype=2723]="GrowNode_text_drawtype",t[t.GrowNode_shadow=2724]="GrowNode_shadow",t[t.GrowNode_flip_horizontal=2725]="GrowNode_flip_horizontal",t[t.GrowNode_flip_vertical=2726]="GrowNode_flip_vertical",t[t.GrowNode_gradient=2727]="GrowNode_gradient",t[t.GrowNode_text_type=2728]="GrowNode_text_type",t[t.GrowNode_text_font=2729]="GrowNode_text_font",t[t.GrowNode_disable_cb=2730]="GrowNode_disable_cb",t[t.GrowNode_original_background_drawtype=2731]="GrowNode_original_background_drawtype",t[t.GrowNode_background_drawtype=2732]="GrowNode_background_drawtype",t[t.Transform_a11=2800]="Transform_a11",t[t.Transform_a12=2801]="Transform_a12",t[t.Transform_a13=2802]="Transform_a13",t[t.Transform_a21=2803]="Transform_a21",t[t.Transform_a22=2804]="Transform_a22",t[t.Transform_a23=2805]="Transform_a23",t[t.Transform_rotation=2806]="Transform_rotation",t[t.GrowAnnot_adjustment=2901]="GrowAnnot_adjustment",t[t.GrowAnnot_annot_part=2907]="GrowAnnot_annot_part",t[t.GrowAnnot_trf=2908]="GrowAnnot_trf",t[t.GrowText_x_right=3e3]="GrowText_x_right",t[t.GrowText_x_left=3001]="GrowText_x_left",t[t.GrowText_y_high=3002]="GrowText_y_high",t[t.GrowText_y_low=3003]="GrowText_y_low",t[t.GrowText_n_name=3004]="GrowText_n_name",t[t.GrowText_text_part=3005]="GrowText_text_part",t[t.GrowText_dynamic=3006]="GrowText_dynamic",t[t.GrowText_dynamicsize=3007]="GrowText_dynamicsize",t[t.GrowText_original_color_drawtype=3008]="GrowText_original_color_drawtype",t[t.GrowText_trf=3009]="GrowText_trf",t[t.GrowText_font=3010]="GrowText_font",t[t.GrowText_adjustment=3011]="GrowText_adjustment",t[t.GrowBar_max_value=3100]="GrowBar_max_value",t[t.GrowBar_min_value=3101]="GrowBar_min_value",t[t.GrowBar_bar_value=3102]="GrowBar_bar_value",t[t.GrowBar_bar_drawtype=3103]="GrowBar_bar_drawtype",t[t.GrowBar_direction=3104]="GrowBar_direction",t[t.GrowBar_rect_part=3105]="GrowBar_rect_part",t[t.GrowBar_trace_data1=3106]="GrowBar_trace_data1",t[t.GrowBar_trace_data2=3107]="GrowBar_trace_data2",t[t.GrowBar_trace_attr_type=3108]="GrowBar_trace_attr_type",t[t.GrowBar_trace_color=3109]="GrowBar_trace_color",t[t.GrowBar_bar_bordercolor=3110]="GrowBar_bar_bordercolor",t[t.GrowBar_bar_borderwidth=3111]="GrowBar_bar_borderwidth",t[t.GrowBar_trace_data3=3112]="GrowBar_trace_data3",t[t.GrowBar_trace_data4=3113]="GrowBar_trace_data4",t[t.GrowBar_trace_data5=3114]="GrowBar_trace_data5",t[t.GrowBar_trace_data6=3115]="GrowBar_trace_data6",t[t.GrowBar_trace_data7=3116]="GrowBar_trace_data7",t[t.GrowBar_trace_data8=3117]="GrowBar_trace_data8",t[t.GrowBar_trace_data9=3118]="GrowBar_trace_data9",t[t.GrowBar_trace_data10=3119]="GrowBar_trace_data10",t[t.GrowBar_access=3120]="GrowBar_access",t[t.GrowBar_cycle=3121]="GrowBar_cycle",t[t.GrowBar_ref_object=3122]="GrowBar_ref_object",t[t.GrowBar_userdata_cb=3123]="GrowBar_userdata_cb",t[t.GrowTrend_y_max_value_0=3200]="GrowTrend_y_max_value_0",t[t.GrowTrend_y_min_value_0=3201]="GrowTrend_y_min_value_0",t[t.GrowTrend_curve_drawtype_0=3202]="GrowTrend_curve_drawtype_0",t[t.GrowTrend_rect_part=3203]="GrowTrend_rect_part",t[t.GrowTrend_trace_data1=3204]="GrowTrend_trace_data1",t[t.GrowTrend_trace_data2=3205]="GrowTrend_trace_data2",t[t.GrowTrend_trace_attr_type=3206]="GrowTrend_trace_attr_type",t[t.GrowTrend_trace_color=3207]="GrowTrend_trace_color",t[t.GrowTrend_horizontal_lines=3208]="GrowTrend_horizontal_lines",t[t.GrowTrend_vertical_lines=3209]="GrowTrend_vertical_lines",t[t.GrowTrend_fill_curve=3210]="GrowTrend_fill_curve",t[t.GrowTrend_curve_fill_drawtype_0=3211]="GrowTrend_curve_fill_drawtype_0",t[t.GrowTrend_no_of_points=3212]="GrowTrend_no_of_points",t[t.GrowTrend_curve_width=3213]="GrowTrend_curve_width",t[t.GrowTrend_scan_time=3214]="GrowTrend_scan_time",t[t.GrowTrend_y_max_value_1=3215]="GrowTrend_y_max_value_1",t[t.GrowTrend_y_min_value_1=3216]="GrowTrend_y_min_value_1",t[t.GrowTrend_curve_drawtype_1=3217]="GrowTrend_curve_drawtype_1",t[t.GrowTrend_curve_fill_drawtype_1=3218]="GrowTrend_curve_fill_drawtype_1",t[t.GrowTrend_trace_data3=3219]="GrowTrend_trace_data3",t[t.GrowTrend_trace_data4=3220]="GrowTrend_trace_data4",t[t.GrowTrend_trace_data5=3221]="GrowTrend_trace_data5",t[t.GrowTrend_trace_data6=3222]="GrowTrend_trace_data6",t[t.GrowTrend_trace_data7=3223]="GrowTrend_trace_data7",t[t.GrowTrend_trace_data8=3224]="GrowTrend_trace_data8",t[t.GrowTrend_trace_data9=3225]="GrowTrend_trace_data9",t[t.GrowTrend_trace_data10=3226]="GrowTrend_trace_data10",t[t.GrowTrend_access=3227]="GrowTrend_access",t[t.GrowTrend_cycle=3228]="GrowTrend_cycle",t[t.GrowTrend_ref_object=3229]="GrowTrend_ref_object",t[t.GrowTrend_userdata_cb=3230]="GrowTrend_userdata_cb",t[t.GrowTrend_x_max_value_0=3231]="GrowTrend_x_max_value_0",t[t.GrowTrend_x_min_value_0=3232]="GrowTrend_x_min_value_0",t[t.GrowTrend_x_max_value_1=3233]="GrowTrend_x_max_value_1",t[t.GrowTrend_x_min_value_1=3234]="GrowTrend_x_min_value_1",t[t.GrowTrend_mode=3235]="GrowTrend_mode",t[t.GrowSlider_grownode_part=3300]="GrowSlider_grownode_part",t[t.GrowSlider_direction=3301]="GrowSlider_direction",t[t.GrowSlider_max_value=3302]="GrowSlider_max_value",t[t.GrowSlider_min_value=3303]="GrowSlider_min_value",t[t.GrowSlider_max_pos=3304]="GrowSlider_max_pos",t[t.GrowSlider_min_pos=3305]="GrowSlider_min_pos",t[t.GrowImage_x_right=3400]="GrowImage_x_right",t[t.GrowImage_x_left=3401]="GrowImage_x_left",t[t.GrowImage_y_high=3402]="GrowImage_y_high",t[t.GrowImage_y_low=3403]="GrowImage_y_low",t[t.GrowImage_n_name=3404]="GrowImage_n_name",t[t.GrowImage_image_filename=3405]="GrowImage_image_filename",t[t.GrowImage_dynamic=3406]="GrowImage_dynamic",t[t.GrowImage_dynamicsize=3407]="GrowImage_dynamicsize",t[t.GrowImage_trf=3408]="GrowImage_trf",t[t.GrowImage_display_level=3409]="GrowImage_display_level",t[t.GrowImage_ll=3410]="GrowImage_ll",t[t.GrowImage_ur=3411]="GrowImage_ur",t[t.GrowImage_color_tone=3412]="GrowImage_color_tone",t[t.GrowImage_color_lightness=3413]="GrowImage_color_lightness",t[t.GrowImage_color_intensity=3414]="GrowImage_color_intensity",t[t.GrowImage_color_shift=3415]="GrowImage_color_shift",t[t.GrowImage_fixposition=3416]="GrowImage_fixposition",t[t.GrowGroup_grownode_part=3500]="GrowGroup_grownode_part",t[t.GrowGroup_nc=3501]="GrowGroup_nc",t[t.NodeGroup_nodeclass_part=3600]="NodeGroup_nodeclass_part",t[t.GrowAxis_max_value=3700]="GrowAxis_max_value",t[t.GrowAxis_min_value=3701]="GrowAxis_min_value",t[t.GrowAxis_rect_part=3702]="GrowAxis_rect_part",t[t.GrowAxis_lines=3703]="GrowAxis_lines",t[t.GrowAxis_longquotient=3704]="GrowAxis_longquotient",t[t.GrowAxis_valuequotient=3705]="GrowAxis_valuequotient",t[t.GrowAxis_format=3706]="GrowAxis_format",t[t.GrowAxis_text_size=3707]="GrowAxis_text_size",t[t.GrowAxis_text_drawtype=3708]="GrowAxis_text_drawtype",t[t.GrowAxis_text_color_drawtype=3709]="GrowAxis_text_color_drawtype",t[t.GrowAxis_userdata_cb=3710]="GrowAxis_userdata_cb",t[t.GrowRectRounded_x_right=3800]="GrowRectRounded_x_right",t[t.GrowRectRounded_x_left=3801]="GrowRectRounded_x_left",t[t.GrowRectRounded_y_high=3802]="GrowRectRounded_y_high",t[t.GrowRectRounded_y_low=3803]="GrowRectRounded_y_low",t[t.GrowRectRounded_n_name=3804]="GrowRectRounded_n_name",t[t.GrowRectRounded_rect_part=3805]="GrowRectRounded_rect_part",t[t.GrowRectRounded_dynamic=3806]="GrowRectRounded_dynamic",t[t.GrowRectRounded_dynamicsize=3807]="GrowRectRounded_dynamicsize",t[t.GrowRectRounded_original_border_drawtype=3808]="GrowRectRounded_original_border_drawtype",t[t.GrowRectRounded_original_fill_drawtype=3809]="GrowRectRounded_original_fill_drawtype",t[t.GrowRectRounded_fill_drawtype=3810]="GrowRectRounded_fill_drawtype",t[t.GrowRectRounded_border=3811]="GrowRectRounded_border",t[t.GrowRectRounded_trf=3812]="GrowRectRounded_trf",t[t.GrowRectRounded_round_amount=3813]="GrowRectRounded_round_amount",t[t.GrowRectRounded_shadow_width=3814]="GrowRectRounded_shadow_width",t[t.GrowRectRounded_relief=3815]="GrowRectRounded_relief",t[t.GrowRectRounded_shadow=3816]="GrowRectRounded_shadow",t[t.GrowRectRounded_shadow_contrast=3817]="GrowRectRounded_shadow_contrast",t[t.GrowRectRounded_disable_shadow=3818]="GrowRectRounded_disable_shadow",t[t.GrowRectRounded_gradient=3819]="GrowRectRounded_gradient",t[t.GrowRectRounded_gradient_contrast=3820]="GrowRectRounded_gradient_contrast",t[t.GrowRectRounded_disable_gradient=3821]="GrowRectRounded_disable_gradient",t[t.GrowRectRounded_fixposition=3822]="GrowRectRounded_fixposition",t[t.GrowConGlue_line_width_up=3900]="GrowConGlue_line_width_up",t[t.GrowConGlue_line_width_down=3901]="GrowConGlue_line_width_down",t[t.GrowConGlue_line_width_left=3902]="GrowConGlue_line_width_left",t[t.GrowConGlue_line_width_right=3903]="GrowConGlue_line_width_right",t[t.GrowConGlue_node_part=3904]="GrowConGlue_node_part",t[t.GrowConGlue_border=3905]="GrowConGlue_border",t[t.GrowWindow_file_name=4e3]="GrowWindow_file_name",t[t.GrowWindow_rect_part=4001]="GrowWindow_rect_part",t[t.GrowWindow_userdata_cb=4002]="GrowWindow_userdata_cb",t[t.GrowWindow_scrollbar_width=4003]="GrowWindow_scrollbar_width",t[t.GrowWindow_vertical_scrollbar=4004]="GrowWindow_vertical_scrollbar",t[t.GrowWindow_horizontal_scrollbar=4005]="GrowWindow_horizontal_scrollbar",t[t.GrowWindow_scrollbar_color=4006]="GrowWindow_scrollbar_color",t[t.GrowWindow_scrollbar_bg_color=4007]="GrowWindow_scrollbar_bg_color",t[t.GrowWindow_window_scale=4008]="GrowWindow_window_scale",t[t.GrowWindow_owner=4009]="GrowWindow_owner",t[t.GrowFolder_folders=4100]="GrowFolder_folders",t[t.GrowFolder_text_size=4101]="GrowFolder_text_size",t[t.GrowFolder_text_drawtype=4102]="GrowFolder_text_drawtype",t[t.GrowFolder_text_color_drawtype=4103]="GrowFolder_text_color_drawtype",t[t.GrowFolder_header_height=4104]="GrowFolder_header_height",t[t.GrowFolder_window_part=4105]="GrowFolder_window_part",t[t.GrowFolder_color_selected=4106]="GrowFolder_color_selected",t[t.GrowFolder_color_unselected=4107]="GrowFolder_color_unselected",t[t.GrowFolder_folder_file_names1=4120]="GrowFolder_folder_file_names1",t[t.GrowFolder_folder_text1=4121]="GrowFolder_folder_text1",t[t.GrowFolder_folder_scale1=4122]="GrowFolder_folder_scale1",t[t.GrowFolder_folder_v_scrollbar1=4123]="GrowFolder_folder_v_scrollbar1",t[t.GrowFolder_folder_h_scrollbar1=4124]="GrowFolder_folder_h_scrollbar1",t[t.GrowFolder_folder_file_names2=4125]="GrowFolder_folder_file_names2",t[t.GrowFolder_folder_text2=4126]="GrowFolder_folder_text2",t[t.GrowFolder_folder_scale2=4127]="GrowFolder_folder_scale2",t[t.GrowFolder_folder_v_scrollbar2=4128]="GrowFolder_folder_v_scrollbar2",t[t.GrowFolder_folder_h_scrollbar2=4129]="GrowFolder_folder_h_scrollbar2",t[t.GrowFolder_folder_file_names3=4130]="GrowFolder_folder_file_names3",t[t.GrowFolder_folder_text3=4131]="GrowFolder_folder_text3",t[t.GrowFolder_folder_scale3=4132]="GrowFolder_folder_scale3",t[t.GrowFolder_folder_v_scrollbar3=4133]="GrowFolder_folder_v_scrollbar3",t[t.GrowFolder_folder_h_scrollbar3=4134]="GrowFolder_folder_h_scrollbar3",t[t.GrowFolder_folder_file_names4=4135]="GrowFolder_folder_file_names4",t[t.GrowFolder_folder_text4=4136]="GrowFolder_folder_text4",t[t.GrowFolder_folder_scale4=4137]="GrowFolder_folder_scale4",t[t.GrowFolder_folder_v_scrollbar4=4138]="GrowFolder_folder_v_scrollbar4",t[t.GrowFolder_folder_h_scrollbar4=4139]="GrowFolder_folder_h_scrollbar4",t[t.GrowFolder_folder_file_names5=4140]="GrowFolder_folder_file_names5",t[t.GrowFolder_folder_text5=4141]="GrowFolder_folder_text5",t[t.GrowFolder_folder_scale5=4142]="GrowFolder_folder_scale5",t[t.GrowFolder_folder_v_scrollbar5=4143]="GrowFolder_folder_v_scrollbar5",t[t.GrowFolder_folder_h_scrollbar5=4144]="GrowFolder_folder_h_scrollbar5",t[t.GrowFolder_folder_file_names6=4145]="GrowFolder_folder_file_names6",t[t.GrowFolder_folder_text6=4146]="GrowFolder_folder_text6",t[t.GrowFolder_folder_scale6=4147]="GrowFolder_folder_scale6",t[t.GrowFolder_folder_v_scrollbar6=4148]="GrowFolder_folder_v_scrollbar6",t[t.GrowFolder_folder_h_scrollbar6=4149]="GrowFolder_folder_h_scrollbar6",t[t.GrowFolder_folder_file_names7=4150]="GrowFolder_folder_file_names7",t[t.GrowFolder_folder_text7=4151]="GrowFolder_folder_text7",t[t.GrowFolder_folder_scale7=4152]="GrowFolder_folder_scale7",t[t.GrowFolder_folder_v_scrollbar7=4153]="GrowFolder_folder_v_scrollbar7",t[t.GrowFolder_folder_h_scrollbar7=4154]="GrowFolder_folder_h_scrollbar7",t[t.GrowFolder_folder_file_names8=4155]="GrowFolder_folder_file_names8",t[t.GrowFolder_folder_text8=4156]="GrowFolder_folder_text8",t[t.GrowFolder_folder_scale8=4157]="GrowFolder_folder_scale8",t[t.GrowFolder_folder_v_scrollbar8=4158]="GrowFolder_folder_v_scrollbar8",t[t.GrowFolder_folder_h_scrollbar8=4159]="GrowFolder_folder_h_scrollbar8",t[t.GrowFolder_folder_file_names9=4160]="GrowFolder_folder_file_names9",t[t.GrowFolder_folder_text9=4161]="GrowFolder_folder_text9",t[t.GrowFolder_folder_scale9=4162]="GrowFolder_folder_scale9",t[t.GrowFolder_folder_v_scrollbar9=4163]="GrowFolder_folder_v_scrollbar9",t[t.GrowFolder_folder_h_scrollbar9=4164]="GrowFolder_folder_h_scrollbar9",t[t.GrowFolder_folder_file_names10=4165]="GrowFolder_folder_file_names10",t[t.GrowFolder_folder_text10=4166]="GrowFolder_folder_text10",t[t.GrowFolder_folder_scale10=4167]="GrowFolder_folder_scale10",t[t.GrowFolder_folder_v_scrollbar10=4168]="GrowFolder_folder_v_scrollbar10",t[t.GrowFolder_folder_h_scrollbar10=4169]="GrowFolder_folder_h_scrollbar10",t[t.GrowFolder_folder_file_names11=4170]="GrowFolder_folder_file_names11",t[t.GrowFolder_folder_text11=4171]="GrowFolder_folder_text11",t[t.GrowFolder_folder_scale11=4172]="GrowFolder_folder_scale11",t[t.GrowFolder_folder_v_scrollbar11=4173]="GrowFolder_folder_v_scrollbar11",t[t.GrowFolder_folder_h_scrollbar11=4174]="GrowFolder_folder_h_scrollbar11",t[t.GrowFolder_folder_file_names12=4175]="GrowFolder_folder_file_names12",t[t.GrowFolder_folder_text12=4176]="GrowFolder_folder_text12",t[t.GrowFolder_folder_scale12=4177]="GrowFolder_folder_scale12",t[t.GrowFolder_folder_v_scrollbar12=4178]="GrowFolder_folder_v_scrollbar12",t[t.GrowFolder_folder_h_scrollbar12=4179]="GrowFolder_folder_h_scrollbar12",t[t.GrowFolder_folder_owner1=4180]="GrowFolder_folder_owner1",t[t.GrowFolder_folder_owner2=4181]="GrowFolder_folder_owner2",t[t.GrowFolder_folder_owner3=4182]="GrowFolder_folder_owner3",t[t.GrowFolder_folder_owner4=4183]="GrowFolder_folder_owner4",t[t.GrowFolder_folder_owner5=4184]="GrowFolder_folder_owner5",t[t.GrowFolder_folder_owner6=4185]="GrowFolder_folder_owner6",t[t.GrowFolder_folder_owner7=4186]="GrowFolder_folder_owner7",t[t.GrowFolder_folder_owner8=4187]="GrowFolder_folder_owner8",t[t.GrowFolder_folder_owner9=4188]="GrowFolder_folder_owner9",t[t.GrowFolder_folder_owner10=4189]="GrowFolder_folder_owner10",t[t.GrowFolder_folder_owner11=4190]="GrowFolder_folder_owner11",t[t.GrowFolder_folder_owner12=4191]="GrowFolder_folder_owner12",t[t.GrowTable_rect_part=4200]="GrowTable_rect_part",t[t.GrowTable_userdata_cb=4202]="GrowTable_userdata_cb",t[t.GrowTable_scrollbar_width=4203]="GrowTable_scrollbar_width",t[t.GrowTable_vertical_scrollbar=4204]="GrowTable_vertical_scrollbar",t[t.GrowTable_horizontal_scrollbar=4205]="GrowTable_horizontal_scrollbar",t[t.GrowTable_scrollbar_color=4206]="GrowTable_scrollbar_color",t[t.GrowTable_scrollbar_bg_color=4207]="GrowTable_scrollbar_bg_color",t[t.GrowTable_window_scale=4208]="GrowTable_window_scale",t[t.GrowTable_rows=4209]="GrowTable_rows",t[t.GrowTable_columns=4210]="GrowTable_columns",t[t.GrowTable_header_row=4211]="GrowTable_header_row",t[t.GrowTable_header_column=4212]="GrowTable_header_column",t[t.GrowTable_text_size=4213]="GrowTable_text_size",t[t.GrowTable_text_drawtype=4214]="GrowTable_text_drawtype",t[t.GrowTable_header_row_height=4215]="GrowTable_header_row_height",t[t.GrowTable_row_height=4216]="GrowTable_row_height",t[t.GrowTable_text_color_drawtype=4217]="GrowTable_text_color_drawtype",t[t.GrowTable_header_text_size=4218]="GrowTable_header_text_size",t[t.GrowTable_header_text_drawtype=4219]="GrowTable_header_text_drawtype",t[t.GrowTable_header_text_color=4220]="GrowTable_header_text_color",t[t.GrowTable_header_text_bold=4221]="GrowTable_header_text_bold",t[t.GrowTable_options=4222]="GrowTable_options",t[t.GrowTable_font=4223]="GrowTable_font",t[t.GrowTable_column_width1=4240]="GrowTable_column_width1",t[t.GrowTable_header_text1=4241]="GrowTable_header_text1",t[t.GrowTable_column_width2=4242]="GrowTable_column_width2",t[t.GrowTable_header_text2=4243]="GrowTable_header_text2",t[t.GrowTable_column_width3=4244]="GrowTable_column_width3",t[t.GrowTable_header_text3=4245]="GrowTable_header_text3",t[t.GrowTable_column_width4=4246]="GrowTable_column_width4",t[t.GrowTable_header_text4=4247]="GrowTable_header_text4",t[t.GrowTable_column_width5=4248]="GrowTable_column_width5",t[t.GrowTable_header_text5=4249]="GrowTable_header_text5",t[t.GrowTable_column_width6=4250]="GrowTable_column_width6",t[t.GrowTable_header_text6=4251]="GrowTable_header_text6",t[t.GrowTable_column_width7=4252]="GrowTable_column_width7",t[t.GrowTable_header_text7=4253]="GrowTable_header_text7",t[t.GrowTable_column_width8=4254]="GrowTable_column_width8",t[t.GrowTable_header_text8=4255]="GrowTable_header_text8",t[t.GrowTable_column_width9=4256]="GrowTable_column_width9",t[t.GrowTable_header_text9=4257]="GrowTable_header_text9",t[t.GrowTable_column_width10=4258]="GrowTable_column_width10",t[t.GrowTable_header_text10=4259]="GrowTable_header_text10",t[t.GrowTable_column_width11=4260]="GrowTable_column_width11",t[t.GrowTable_header_text11=4261]="GrowTable_header_text11",t[t.GrowTable_column_width12=4262]="GrowTable_column_width12",t[t.GrowTable_header_text12=4263]="GrowTable_header_text12",t[t.GrowTable_select_drawtype=4264]="GrowTable_select_drawtype",t[t.GrowTable_column_adjustment1=4265]="GrowTable_column_adjustment1",t[t.GrowTable_column_adjustment2=4266]="GrowTable_column_adjustment2",t[t.GrowTable_column_adjustment3=4267]="GrowTable_column_adjustment3",t[t.GrowTable_column_adjustment4=4268]="GrowTable_column_adjustment4",t[t.GrowTable_column_adjustment5=4269]="GrowTable_column_adjustment5",t[t.GrowTable_column_adjustment6=4270]="GrowTable_column_adjustment6",t[t.GrowTable_column_adjustment7=4271]="GrowTable_column_adjustment7",t[t.GrowTable_column_adjustment8=4272]="GrowTable_column_adjustment8",t[t.GrowTable_column_adjustment9=4273]="GrowTable_column_adjustment9",t[t.GrowTable_column_adjustment10=4274]="GrowTable_column_adjustment10",t[t.GrowTable_column_adjustment11=4275]="GrowTable_column_adjustment11",t[t.GrowTable_column_adjustment12=4276]="GrowTable_column_adjustment12",t[t.GrowXYCurve_trend_part=4300]="GrowXYCurve_trend_part",t[t.GrowAxisArc_max_value=4400]="GrowAxisArc_max_value",t[t.GrowAxisArc_min_value=4401]="GrowAxisArc_min_value",t[t.GrowAxisArc_arc_part=4402]="GrowAxisArc_arc_part",t[t.GrowAxisArc_lines=4403]="GrowAxisArc_lines",t[t.GrowAxisArc_linelength=4404]="GrowAxisArc_linelength",t[t.GrowAxisArc_longquotient=4405]="GrowAxisArc_longquotient",t[t.GrowAxisArc_valuequotient=4406]="GrowAxisArc_valuequotient",t[t.GrowAxisArc_format=4407]="GrowAxisArc_format",t[t.GrowAxisArc_text_size=4408]="GrowAxisArc_text_size",t[t.GrowAxisArc_text_drawtype=4409]="GrowAxisArc_text_drawtype",t[t.GrowAxisArc_text_color_drawtype=4410]="GrowAxisArc_text_color_drawtype",t[t.GrowAxisArc_userdata_cb=4411]="GrowAxisArc_userdata_cb",t[t.GrowPie_arc_part=4500]="GrowPie_arc_part",t[t.GrowPie_sectors=4501]="GrowPie_sectors",t[t.GrowPie_min_value=4502]="GrowPie_min_value",t[t.GrowPie_max_value=4503]="GrowPie_max_value",t[t.GrowPie_sector_color1=4504]="GrowPie_sector_color1",t[t.GrowPie_sector_color2=4505]="GrowPie_sector_color2",t[t.GrowPie_sector_color3=4506]="GrowPie_sector_color3",t[t.GrowPie_sector_color4=4507]="GrowPie_sector_color4",t[t.GrowPie_sector_color5=4508]="GrowPie_sector_color5",t[t.GrowPie_sector_color6=4509]="GrowPie_sector_color6",t[t.GrowPie_sector_color7=4510]="GrowPie_sector_color7",t[t.GrowPie_sector_color8=4511]="GrowPie_sector_color8",t[t.GrowPie_sector_color9=4512]="GrowPie_sector_color9",t[t.GrowPie_sector_color10=4513]="GrowPie_sector_color10",t[t.GrowPie_sector_color11=4514]="GrowPie_sector_color11",t[t.GrowPie_sector_color12=4515]="GrowPie_sector_color12",t[t.GrowPie_sector_size1=4516]="GrowPie_sector_size1",t[t.GrowPie_sector_size2=4517]="GrowPie_sector_size2",t[t.GrowPie_sector_size3=4518]="GrowPie_sector_size3",t[t.GrowPie_sector_size4=4519]="GrowPie_sector_size4",t[t.GrowPie_sector_size5=4520]="GrowPie_sector_size5",t[t.GrowPie_sector_size6=4521]="GrowPie_sector_size6",t[t.GrowPie_sector_size7=4522]="GrowPie_sector_size7",t[t.GrowPie_sector_size8=4523]="GrowPie_sector_size8",t[t.GrowPie_sector_size9=4524]="GrowPie_sector_size9",t[t.GrowPie_sector_size10=4525]="GrowPie_sector_size10",t[t.GrowPie_sector_size11=4526]="GrowPie_sector_size11",t[t.GrowPie_sector_size12=4527]="GrowPie_sector_size12",t[t.GrowPie_userdata_cb=4528]="GrowPie_userdata_cb",t[t.GrowBarChart_rect_part=4600]="GrowBarChart_rect_part",t[t.GrowBarChart_bars=4601]="GrowBarChart_bars",t[t.GrowBarChart_barsegments=4602]="GrowBarChart_barsegments",t[t.GrowBarChart_min_value=4603]="GrowBarChart_min_value",t[t.GrowBarChart_max_value=4604]="GrowBarChart_max_value",t[t.GrowBarChart_bar_color1=4605]="GrowBarChart_bar_color1",t[t.GrowBarChart_bar_color2=4606]="GrowBarChart_bar_color2",t[t.GrowBarChart_bar_color3=4607]="GrowBarChart_bar_color3",t[t.GrowBarChart_bar_color4=4608]="GrowBarChart_bar_color4",t[t.GrowBarChart_bar_color5=4609]="GrowBarChart_bar_color5",t[t.GrowBarChart_bar_color6=4610]="GrowBarChart_bar_color6",t[t.GrowBarChart_bar_color7=4611]="GrowBarChart_bar_color7",t[t.GrowBarChart_bar_color8=4612]="GrowBarChart_bar_color8",t[t.GrowBarChart_bar_color9=4613]="GrowBarChart_bar_color9",t[t.GrowBarChart_bar_color10=4614]="GrowBarChart_bar_color10",t[t.GrowBarChart_bar_color11=4615]="GrowBarChart_bar_color11",t[t.GrowBarChart_bar_color12=4616]="GrowBarChart_bar_color12",t[t.GrowBarChart_vertical_lines=4617]="GrowBarChart_vertical_lines";t[t.GrowBarChart_horizontal_lines=4618]="GrowBarChart_horizontal_lines",t[t.GrowBarChart_userdata_cb=4619]="GrowBarChart_userdata_cb",t[t.GrowBarChart_line_color=4620]="GrowBarChart_line_color",t[t.GrowToolbar_grownode_part=4700]="GrowToolbar_grownode_part",t[t.GrowToolbar_nc=4701]="GrowToolbar_nc",t[t.CustomColors_colors_size=4800]="CustomColors_colors_size",t[t.CustomColors_colors=4801]="CustomColors_colors",t[t.CustomColors_colortheme_lightness=4802]="CustomColors_colortheme_lightness",t[t.CustomColors_is_default_colortheme=4803]="CustomColors_is_default_colortheme",t[t.GrowBarArc_max_value=4900]="GrowBarArc_max_value",t[t.GrowBarArc_min_value=4901]="GrowBarArc_min_value",t[t.GrowBarArc_bar_width=4902]="GrowBarArc_bar_width",t[t.GrowBarArc_bar_value=4903]="GrowBarArc_bar_value",t[t.GrowBarArc_bar_drawtype=4904]="GrowBarArc_bar_drawtype",t[t.GrowBarArc_direction=4905]="GrowBarArc_direction",t[t.GrowBarArc_arc_part=4906]="GrowBarArc_arc_part",t[t.GrowBarArc_bar_bordercolor=4907]="GrowBarArc_bar_bordercolor",t[t.GrowBarArc_bar_borderwidth=4908]="GrowBarArc_bar_borderwidth",t[t.GrowBarArc_userdata_cb=4909]="GrowBarArc_userdata_cb",t[t.GrowBarArc_bar_direction=4910]="GrowBarArc_bar_direction"}(M||(M={})),function(t){t[t.Absolute=0]="Absolute",t[t.Relative=1]="Relative"}(N||(N={})),function(t){t[t.VerticalSlider=0]="VerticalSlider",t[t.HorizontalSlider=1]="HorizontalSlider",t[t.Disable=2]="Disable"}(O||(O={})),function(t){t[t.CallBack=0]="CallBack",t[t.RegionSelect=1]="RegionSelect",t[t.RegionAddSelect=2]="RegionAddSelect",t[t.CreateCon=3]="CreateCon",t[t.CreateNode=4]="CreateNode",t[t.MoveNode=5]="MoveNode",t[t.Object=6]="Object",t[t.AnnotationInput=7]="AnnotationInput",t[t.Radiobutton=8]="Radiobutton",t[t.CreateGrowObject=9]="CreateGrowObject",t[t.Dynamics=10]="Dynamics",t[t.ColorTone=11]="ColorTone",t[t.Translate=12]="Translate",t[t.KeyAscii=13]="KeyAscii",t[t.Menu=14]="Menu",t[t.Table=15]="Table",t[t.Toolbar=16]="Toolbar",t[t.CustomColor=17]="CustomColor",t[t.Signal=18]="Signal"}(F||(F={}));class z{constructor(t){this.x=0,this.y=0,this.object=null,this.event=t,this.type=F.Object}}class j extends z{constructor(){super(...arguments),this.item=0}}class V extends z{constructor(){super(...arguments),this.column=0,this.row=0}}class U extends z{constructor(){super(...arguments),this.category=0,this.idx=0}}class H{}!function(t){t[t.Solid=0]="Solid",t[t.Dashed1=1]="Dashed1",t[t.Dashed2=2]="Dashed2",t[t.Dashed3=3]="Dashed3",t[t.Dotted=4]="Dotted",t[t.DotDashed1=5]="DotDashed1",t[t.DotDashed2=6]="DotDashed2"}(R||(R={})),function(t){t[t.Button=0]="Button",t[t.ButtonDisabled=1]="ButtonDisabled",t[t.PulldownMenu=2]="PulldownMenu"}(E||(E={})),function(t){t[t.Default=0]="Default",t[t.Disabled=1]="Disabled",t[t.SingleObject=2]="SingleObject",t[t.TraceAction=3]="TraceAction"}(D||(D={})),function(t){t[t.Inherit=0]="Inherit",t[t.Line=1]="Line",t[t.Points=2]="Points",t[t.LinePoints=3]="LinePoints",t[t.Square=4]="Square",t[t.DigSquare=5]="DigSquare"}(B||(B={})),function(t){t[t.CommonX=0]="CommonX",t[t.SeparateX=1]="SeparateX"}(P||(P={}));const q=12,X=200,Y=12},function(t,e,i){"use strict";i.d(e,"f",function(){return o}),i.d(e,"r",function(){return s}),i.d(e,"s",function(){return r}),i.d(e,"q",function(){return a}),i.d(e,"m",function(){return n}),i.d(e,"a",function(){return _}),i.d(e,"b",function(){return h}),i.d(e,"n",function(){return c}),i.d(e,"p",function(){return u}),i.d(e,"o",function(){return d}),i.d(e,"j",function(){return g}),i.d(e,"i",function(){return x}),i.d(e,"c",function(){return v}),i.d(e,"g",function(){return w}),i.d(e,"d",function(){return f}),i.d(e,"l",function(){return b}),i.d(e,"e",function(){return y}),i.d(e,"h",function(){return C}),i.d(e,"k",function(){return G});const o="localhost";function s(t){return t%2==0}function r(t){return t%2==1}function a(t,e,i){return t>i?i:t<e?e:t}var n,l,_,h,c,u,d,m,w,f,b,y,p;!function(t){t[t.Bit=32769]="Bit",t[t.Boolean=98305]="Boolean",t[t.Float32=98306]="Float32",t[t.Float64=98307]="Float64",t[t.Char=98308]="Char",t[t.Int8=98309]="Int8",t[t.Int16=98310]="Int16",t[t.Int32=98311]="Int32",t[t.UInt8=98312]="UInt8",t[t.UInt16=98313]="UInt16",t[t.UInt32=98314]="UInt32",t[t.Objid=98315]="Objid",t[t.Buffer=98316]="Buffer",t[t.String=98317]="String",t[t.Enum=98318]="Enum",t[t.Struct=98319]="Struct",t[t.Mask=98320]="Mask",t[t.Array=98321]="Array",t[t.Time=98322]="Time",t[t.Text=98323]="Text",t[t.AttrRef=98324]="AttrRef",t[t.UInt64=98325]="UInt64",t[t.Int64=98326]="Int64",t[t.ClassId=98327]="ClassId",t[t.TypeId=98328]="TypeId",t[t.VolumeId=98329]="VolumeId",t[t.ObjectIx=98330]="ObjectIx",t[t.RefId=98331]="RefId",t[t.DeltaTime=98332]="DeltaTime",t[t.Status=98333]="Status",t[t.NetStatus=98334]="NetStatus",t[t.CastId=98335]="CastId",t[t.ProString=98336]="ProString",t[t.DisableAttr=98337]="DisableAttr",t[t.DataRef=98338]="DataRef"}(n||(n={})),function(t){t[t.RtRead=1]="RtRead",t[t.RtWrite=2]="RtWrite",t[t.System=4]="System",t[t.Maintenance=8]="Maintenance",t[t.Process=16]="Process",t[t.Instrument=32]="Instrument",t[t.Operator1=64]="Operator1",t[t.Operator2=128]="Operator2",t[t.Operator3=256]="Operator3",t[t.Operator4=512]="Operator4",t[t.Operator5=1024]="Operator5",t[t.Operator6=2048]="Operator6",t[t.Operator7=4096]="Operator7",t[t.Operator8=8192]="Operator8",t[t.Operator9=16384]="Operator9",t[t.Operator10=32768]="Operator10",t[t.RtEventsAck=262144]="RtEventsAck",t[t.RtPlc=524288]="RtPlc",t[t.RtNavigator=1048576]="RtNavigator",t[t.DevRead=2097152]="DevRead",t[t.DevPlc=4194304]="DevPlc",t[t.DevConfig=8388608]="DevConfig",t[t.DevClass=16777216]="DevClass",t[t.RtEventsBlock=33554432]="RtEventsBlock",t[t.Administrator=67108864]="Administrator",t[t.SevRead=134217728]="SevRead",t[t.SevAdmin=268435456]="SevAdmin"}(l||(l={})),function(t){t[t.RtRead=1]="RtRead",t[t.RtWrite=2]="RtWrite",t[t.System=4]="System",t[t.Maintenance=8]="Maintenance",t[t.Process=16]="Process",t[t.Instrument=32]="Instrument",t[t.RtEventsBlock=33554432]="RtEventsBlock",t[t.RtEventsAck=262144]="RtEventsAck",t[t.RtPlc=524288]="RtPlc",t[t.RtNavigator=1048576]="RtNavigator",t[t.AllRt=35454975]="AllRt",t[t.AllOperators=65472]="AllOperators",t[t.AllPwr=-1]="AllPwr"}(_||(_={})),function(t){t[t.Pointer=1]="Pointer",t[t.Array=2]="Array",t[t.Backup=4]="Backup",t[t.Changelog=8]="Changelog",t[t.State=16]="State",t[t.Const=32]="Const",t[t.Rtvirtual=64]="Rtvirtual",t[t.Devbodyref=128]="Devbodyref",t[t.Dynamic=256]="Dynamic",t[t.Publicwrite=512]="Publicwrite",t[t.Noedit=1024]="Noedit",t[t.Invisible=2048]="Invisible",t[t.Refdirect=4096]="Refdirect",t[t.Noinvert=8192]="Noinvert",t[t.Noremove=16384]="Noremove",t[t.Rtdbref=32768]="Rtdbref",t[t.Private=65536]="Private",t[t.Class=131072]="Class",t[t.Superclass=262144]="Superclass",t[t.Buffer=524288]="Buffer",t[t.Nowbl=1048576]="Nowbl",t[t.Alwayswbl=2097152]="Alwayswbl",t[t.Disableattr=4194304]="Disableattr",t[t.Rthide=8388608]="Rthide"}(h||(h={})),function(t){t[t.IsConfigured=1]="IsConfigured"}(c||(c={})),function(t){t[t.OpenGraph=1]="OpenGraph",t[t.OpenObjectGraph=2]="OpenObjectGraph",t[t.OpenTrend=4]="OpenTrend",t[t.OpenHistory=8]="OpenHistory",t[t.OpenFast=16]="OpenFast",t[t.Camera=32]="Camera",t[t.HistEvent=64]="HistEvent",t[t.BlockEvents=128]="BlockEvents",t[t.Help=256]="Help",t[t.Photo=512]="Photo",t[t.Note=1024]="Note",t[t.ParentObjectGraph=2048]="ParentObjectGraph"}(u||(u={})),function(t){t[t.OpenObject=1]="OpenObject",t[t.OpenTrace=2]="OpenTrace",t[t.RtNavigator=4]="RtNavigator",t[t.OpenCrossref=8]="OpenCrossref",t[t.HelpClass=16]="HelpClass",t[t.DataSheet=32]="DataSheet",t[t.CircuitDiagram=64]="CircuitDiagram",t[t.Simulate=-2147483648]="Simulate"}(d||(d={}));class g{constructor(t,e){this.oix=e,this.vid=t}}class x{}class v{constructor(t,e){this.value=t,this.sts=e}}!function(t){t[t.Min=65793]="Min",t[t.Max=16711422]="Max"}(m||(m={}));!function(t){t[t.Common=0]="Common",t[t.Document=1]="Document",t[t.Trace=2]="Trace"}(w||(w={})),function(t){t[t.Straight=0]="Straight",t[t.Fixed=1]="Fixed",t[t.AllFixed=2]="AllFixed",t[t.Routed=3]="Routed",t[t.StepDiv=4]="StepDiv",t[t.StepConv=5]="StepConv",t[t.TransDiv=6]="TransDiv",t[t.TransConv=7]="TransConv",t[t.StraightOneArrow=8]="StraightOneArrow",t[t.Reference=9]="Reference"}(f||(f={})),function(t){t[t.Boolean=0]="Boolean",t[t.Int32=1]="Int32",t[t.Float32=2]="Float32",t[t.User=3]="User"}(b||(b={})),function(t){t[t.One=1]="One",t[t.Two=4]="Two",t[t.Three=8]="Three",t[t.Four=16]="Four",t[t.Five=32]="Five",t[t.Six=64]="Six"}(y||(y={})),function(t){t[t._=0]="_",t[t.UserDefined=1]="UserDefined",t[t.OneSecond=2]="OneSecond",t[t.TenSeconds=3]="TenSeconds",t[t.OneMinute=4]="OneMinute",t[t.TenMinutes=5]="TenMinutes",t[t.OneHour=6]="OneHour",t[t.OneDay=7]="OneDay",t[t.OneWeek=8]="OneWeek",t[t.OneMonth=9]="OneMonth",t[t.OneYear=10]="OneYear",t[t.LastSecond=11]="LastSecond",t[t.LastTenSeconds=12]="LastTenSeconds",t[t.LastMinute=13]="LastMinute",t[t.LastTenMinutes=14]="LastTenMinutes",t[t.LastHour=15]="LastHour",t[t.Today=16]="Today",t[t.Yesterday=17]="Yesterday",t[t.ThisWeek=18]="ThisWeek",t[t.LastWeek=19]="LastWeek",t[t.ThisMonth=20]="ThisMonth",t[t.LastMonth=21]="LastMonth",t[t.ThisYear=22]="ThisYear",t[t.AllTime=23]="AllTime",t[t.__=24]="__"}(p||(p={}));class C{constructor(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}set(t){this.x=t.x,this.y=t.y}static add(t,e){return new C(t.x+e.x,t.y+e.y)}}class G{constructor(t,e,i,o){this.ll=new C(t||0,e||0),this.ur=new C((t||0)+(i||0),(e||0)+(o||0))}set(t){this.ll.x=t.ll.x,this.ll.y=t.ll.y,this.ur.x=t.ur.x,this.ur.y=t.ur.y}width(){return this.ur.x-this.ll.x}height(){return this.ur.y-this.ll.y}static hit(t,e){return e.x>=t.ll.x&&e.x<=t.ur.x&&e.y>=t.ll.y&&e.y<=t.ur.y}static union(t,e){return new G(Math.min(t.ll.x,e.ll.x),Math.min(t.ll.y,e.ll.y),Math.max(t.ur.x,e.ur.x),Math.max(t.ur.y,e.ur.y))}}},,function(t,e,i){"use strict";var o;!function(t){t[t.Line=0]="Line",t[t.LineRed=1]="LineRed",t[t.LineGray=2]="LineGray",t[t.Color4=3]="Color4",t[t.Color5=4]="Color5",t[t.Color6=5]="Color6",t[t.Color7=6]="Color7",t[t.Color8=7]="Color8",t[t.Color9=8]="Color9",t[t.Color10=9]="Color10",t[t.Color11=10]="Color11",t[t.Color12=11]="Color12",t[t.Color13=12]="Color13",t[t.Color14=13]="Color14",t[t.Color15=14]="Color15",t[t.Color16=15]="Color16",t[t.Color17=16]="Color17",t[t.Color18=17]="Color18",t[t.Color19=18]="Color19",t[t.Color20=19]="Color20",t[t.Color21=20]="Color21",t[t.Color22=21]="Color22",t[t.Color23=22]="Color23",t[t.Color24=23]="Color24",t[t.Color25=24]="Color25",t[t.Color26=25]="Color26",t[t.Color27=26]="Color27",t[t.Color28=27]="Color28",t[t.Color29=28]="Color29",t[t.Color30=29]="Color30",t[t.Color31=30]="Color31",t[t.Color32=31]="Color32",t[t.Color33=32]="Color33",t[t.Color34=33]="Color34",t[t.Color35=34]="Color35",t[t.Color36=35]="Color36",t[t.Color37=36]="Color37",t[t.Color38=37]="Color38",t[t.Color39=38]="Color39",t[t.Color40=39]="Color40",t[t.Color41=40]="Color41",t[t.Color42=41]="Color42",t[t.Color43=42]="Color43",t[t.Color44=43]="Color44",t[t.Color45=44]="Color45",t[t.Color46=45]="Color46",t[t.Color47=46]="Color47",t[t.Color48=47]="Color48",t[t.Color49=48]="Color49",t[t.Color50=49]="Color50",t[t.Color51=50]="Color51",t[t.Color52=51]="Color52",t[t.Color53=52]="Color53",t[t.Color54=53]="Color54",t[t.Color55=54]="Color55",t[t.Color56=55]="Color56",t[t.Color57=56]="Color57",t[t.Color58=57]="Color58",t[t.Color59=58]="Color59",t[t.Color60=59]="Color60",t[t.Color61=60]="Color61",t[t.Color62=61]="Color62",t[t.Color63=62]="Color63",t[t.Color64=63]="Color64",t[t.Color65=64]="Color65",t[t.Color66=65]="Color66",t[t.Color67=66]="Color67",t[t.Color68=67]="Color68",t[t.Color69=68]="Color69",t[t.Color70=69]="Color70",t[t.Color71=70]="Color71",t[t.Color72=71]="Color72",t[t.Color73=72]="Color73",t[t.Color74=73]="Color74",t[t.Color75=74]="Color75",t[t.Color76=75]="Color76",t[t.Color77=76]="Color77",t[t.Color78=77]="Color78",t[t.Color79=78]="Color79",t[t.Color80=79]="Color80",t[t.Color81=80]="Color81",t[t.Color82=81]="Color82",t[t.Color83=82]="Color83",t[t.Color84=83]="Color84",t[t.Color85=84]="Color85",t[t.Color86=85]="Color86",t[t.Color87=86]="Color87",t[t.Color88=87]="Color88",t[t.Color89=88]="Color89",t[t.Color90=89]="Color90",t[t.Color91=90]="Color91",t[t.Color92=91]="Color92",t[t.Color93=92]="Color93",t[t.Color94=93]="Color94",t[t.Color95=94]="Color95",t[t.Color96=95]="Color96",t[t.Color97=96]="Color97",t[t.Color98=97]="Color98",t[t.Color99=98]="Color99",t[t.Color100=99]="Color100",t[t.Color101=100]="Color101",t[t.Color102=101]="Color102",t[t.Color103=102]="Color103",t[t.Color104=103]="Color104",t[t.Color105=104]="Color105",t[t.Color106=105]="Color106",t[t.Color107=106]="Color107",t[t.Color108=107]="Color108",t[t.Color109=108]="Color109",t[t.Color110=109]="Color110",t[t.Color111=110]="Color111",t[t.Color112=111]="Color112",t[t.Color113=112]="Color113",t[t.Color114=113]="Color114",t[t.Color115=114]="Color115",t[t.Color116=115]="Color116",t[t.Color117=116]="Color117",t[t.Color118=117]="Color118",t[t.Color119=118]="Color119",t[t.Color120=119]="Color120",t[t.Color121=120]="Color121",t[t.Color122=121]="Color122",t[t.Color123=122]="Color123",t[t.Color124=123]="Color124",t[t.Color125=124]="Color125",t[t.Color126=125]="Color126",t[t.Color127=126]="Color127",t[t.Color128=127]="Color128",t[t.Color129=128]="Color129",t[t.Color130=129]="Color130",t[t.Color131=130]="Color131",t[t.Color132=131]="Color132",t[t.Color133=132]="Color133",t[t.Color134=133]="Color134",t[t.Color135=134]="Color135",t[t.Color136=135]="Color136",t[t.Color137=136]="Color137",t[t.Color138=137]="Color138",t[t.Color139=138]="Color139",t[t.Color140=139]="Color140",t[t.Color141=140]="Color141",t[t.Color142=141]="Color142",t[t.Color143=142]="Color143",t[t.Color144=143]="Color144",t[t.Color145=144]="Color145",t[t.Color146=145]="Color146",t[t.Color147=146]="Color147",t[t.Color148=147]="Color148",t[t.Color149=148]="Color149",t[t.Color150=149]="Color150",t[t.Color151=150]="Color151",t[t.Color152=151]="Color152",t[t.Color153=152]="Color153",t[t.Color154=153]="Color154",t[t.Color155=154]="Color155",t[t.Color156=155]="Color156",t[t.Color157=156]="Color157",t[t.Color158=157]="Color158",t[t.Color159=158]="Color159",t[t.Color160=159]="Color160",t[t.Color161=160]="Color161",t[t.Color162=161]="Color162",t[t.Color163=162]="Color163",t[t.Color164=163]="Color164",t[t.Color165=164]="Color165",t[t.Color166=165]="Color166",t[t.Color167=166]="Color167",t[t.Color168=167]="Color168",t[t.Color169=168]="Color169",t[t.Color170=169]="Color170",t[t.Color171=170]="Color171",t[t.Color172=171]="Color172",t[t.Color173=172]="Color173",t[t.Color174=173]="Color174",t[t.Color175=174]="Color175",t[t.Color176=175]="Color176",t[t.Color177=176]="Color177",t[t.Color178=177]="Color178",t[t.Color179=178]="Color179",t[t.Color180=179]="Color180",t[t.Color181=180]="Color181",t[t.Color182=181]="Color182",t[t.Color183=182]="Color183",t[t.Color184=183]="Color184",t[t.Color185=184]="Color185",t[t.Color186=185]="Color186",t[t.Color187=186]="Color187",t[t.Color188=187]="Color188",t[t.Color189=188]="Color189",t[t.Color190=189]="Color190",t[t.Color191=190]="Color191",t[t.Color192=191]="Color192",t[t.Color193=192]="Color193",t[t.Color194=193]="Color194",t[t.Color195=194]="Color195",t[t.Color196=195]="Color196",t[t.Color197=196]="Color197",t[t.Color198=197]="Color198",t[t.Color199=198]="Color199",t[t.Color200=199]="Color200",t[t.Color201=200]="Color201",t[t.Color202=201]="Color202",t[t.Color203=202]="Color203",t[t.Color204=203]="Color204",t[t.Color205=204]="Color205",t[t.Color206=205]="Color206",t[t.Color207=206]="Color207",t[t.Color208=207]="Color208",t[t.Color209=208]="Color209",t[t.Color210=209]="Color210",t[t.Color211=210]="Color211",t[t.Color212=211]="Color212",t[t.Color213=212]="Color213",t[t.Color214=213]="Color214",t[t.Color215=214]="Color215",t[t.Color216=215]="Color216",t[t.Color217=216]="Color217",t[t.Color218=217]="Color218",t[t.Color219=218]="Color219",t[t.Color220=219]="Color220",t[t.Color221=220]="Color221",t[t.Color222=221]="Color222",t[t.Color223=222]="Color223",t[t.Color224=223]="Color224",t[t.Color225=224]="Color225",t[t.Color226=225]="Color226",t[t.Color227=226]="Color227",t[t.Color228=227]="Color228",t[t.Color229=228]="Color229",t[t.Color230=229]="Color230",t[t.Color231=230]="Color231",t[t.Color232=231]="Color232",t[t.Color233=232]="Color233",t[t.Color234=233]="Color234",t[t.Color235=234]="Color235",t[t.Color236=235]="Color236",t[t.Color237=236]="Color237",t[t.Color238=237]="Color238",t[t.Color239=238]="Color239",t[t.Color240=239]="Color240",t[t.Color241=240]="Color241",t[t.Color242=241]="Color242",t[t.Color243=242]="Color243",t[t.Color244=243]="Color244",t[t.Color245=244]="Color245",t[t.Color246=245]="Color246",t[t.Color247=246]="Color247",t[t.Color248=247]="Color248",t[t.Color249=248]="Color249",t[t.Color250=249]="Color250",t[t.Color251=250]="Color251",t[t.Color252=251]="Color252",t[t.Color253=252]="Color253",t[t.Color254=253]="Color254",t[t.Color255=254]="Color255",t[t.Color256=255]="Color256",t[t.Color257=256]="Color257",t[t.Color258=257]="Color258",t[t.Color259=258]="Color259",t[t.Color260=259]="Color260",t[t.Color261=260]="Color261",t[t.Color262=261]="Color262",t[t.Color263=262]="Color263",t[t.Color264=263]="Color264",t[t.Color265=264]="Color265",t[t.Color266=265]="Color266",t[t.Color267=266]="Color267",t[t.Color268=267]="Color268",t[t.Color269=268]="Color269",t[t.Color270=269]="Color270",t[t.Color271=270]="Color271",t[t.Color272=271]="Color272",t[t.Color273=272]="Color273",t[t.Color274=273]="Color274",t[t.Color275=274]="Color275",t[t.Color276=275]="Color276",t[t.Color277=276]="Color277",t[t.Color278=277]="Color278",t[t.Color279=278]="Color279",t[t.Color280=279]="Color280",t[t.Color281=280]="Color281",t[t.Color282=281]="Color282",t[t.Color283=282]="Color283",t[t.Color284=283]="Color284",t[t.Color285=284]="Color285",t[t.Color286=285]="Color286",t[t.Color287=286]="Color287",t[t.Color288=287]="Color288",t[t.Color289=288]="Color289",t[t.Color290=289]="Color290",t[t.Color291=290]="Color291",t[t.Color292=291]="Color292",t[t.Color293=292]="Color293",t[t.Color294=293]="Color294",t[t.Color295=294]="Color295",t[t.Color296=295]="Color296",t[t.Color297=296]="Color297",t[t.Color298=297]="Color298",t[t.Color299=298]="Color299",t[t.Color300=299]="Color300",t[t.LineErase=300]="LineErase",t[t.LineDashed=301]="LineDashed",t[t.LineDashedRed=302]="LineDashedRed",t[t.TextHelvetica=303]="TextHelvetica",t[t.TextHelveticaBold=304]="TextHelveticaBold",t[t.TextHelveticaErase=305]="TextHelveticaErase",t[t.TextHelveticaEraseBold=306]="TextHelveticaEraseBold",t[t.Color__=307]="Color__",t[t.CustomColor1=310]="CustomColor1",t[t.CustomColor2=314]="CustomColor2",t[t.CustomColor3=318]="CustomColor3",t[t.CustomColor4=322]="CustomColor4",t[t.CustomColor5=326]="CustomColor5",t[t.CustomColor6=330]="CustomColor6",t[t.CustomColor7=334]="CustomColor7",t[t.CustomColor8=338]="CustomColor8",t[t.CustomColor9=342]="CustomColor9",t[t.CustomColor10=346]="CustomColor10",t[t.CustomColor11=350]="CustomColor11",t[t.CustomColor12=354]="CustomColor12",t[t.CustomColor13=358]="CustomColor13",t[t.CustomColor14=362]="CustomColor14",t[t.CustomColor15=366]="CustomColor15",t[t.CustomColor16=370]="CustomColor16",t[t.CustomColor17=374]="CustomColor17",t[t.CustomColor18=378]="CustomColor18",t[t.CustomColor19=382]="CustomColor19",t[t.CustomColor20=386]="CustomColor20",t[t.CustomColor21=390]="CustomColor21",t[t.CustomColor22=394]="CustomColor22",t[t.CustomColor23=398]="CustomColor23",t[t.CustomColor24=402]="CustomColor24",t[t.CustomColor25=406]="CustomColor25",t[t.CustomColor26=410]="CustomColor26",t[t.CustomColor27=414]="CustomColor27",t[t.CustomColor28=418]="CustomColor28",t[t.CustomColor29=422]="CustomColor29",t[t.CustomColor30=426]="CustomColor30",t[t.CustomColor31=430]="CustomColor31",t[t.CustomColor32=434]="CustomColor32",t[t.CustomColor33=438]="CustomColor33",t[t.CustomColor34=442]="CustomColor34",t[t.CustomColor35=446]="CustomColor35",t[t.CustomColor36=450]="CustomColor36",t[t.CustomColor37=454]="CustomColor37",t[t.CustomColor38=458]="CustomColor38",t[t.CustomColor39=462]="CustomColor39",t[t.CustomColor40=466]="CustomColor40",t[t.CustomColor41=470]="CustomColor41",t[t.CustomColor42=474]="CustomColor42",t[t.CustomColor43=478]="CustomColor43",t[t.CustomColor44=482]="CustomColor44",t[t.CustomColor45=486]="CustomColor45",t[t.CustomColor46=490]="CustomColor46",t[t.CustomColor47=494]="CustomColor47",t[t.CustomColor48=498]="CustomColor48",t[t.CustomColor49=502]="CustomColor49",t[t.CustomColor50=506]="CustomColor50",t[t.CustomColor51=510]="CustomColor51",t[t.CustomColor52=514]="CustomColor52",t[t.CustomColor53=518]="CustomColor53",t[t.CustomColor54=522]="CustomColor54",t[t.CustomColor55=524]="CustomColor55",t[t.CustomColor56=530]="CustomColor56",t[t.CustomColor57=534]="CustomColor57",t[t.CustomColor58=538]="CustomColor58",t[t.CustomColor59=542]="CustomColor59",t[t.CustomColor60=546]="CustomColor60",t[t.CustomColor61=550]="CustomColor61",t[t.CustomColor62=554]="CustomColor62",t[t.CustomColor63=558]="CustomColor63",t[t.CustomColor64=562]="CustomColor64",t[t.CustomColor65=566]="CustomColor65",t[t.CustomColor66=570]="CustomColor66",t[t.CustomColor67=574]="CustomColor67",t[t.CustomColor68=578]="CustomColor68",t[t.CustomColor69=582]="CustomColor69",t[t.CustomColor70=586]="CustomColor70",t[t.CustomColor71=590]="CustomColor71",t[t.CustomColor72=594]="CustomColor72",t[t.CustomColor73=598]="CustomColor73",t[t.CustomColor74=602]="CustomColor74",t[t.CustomColor75=606]="CustomColor75",t[t.CustomColor76=610]="CustomColor76",t[t.CustomColor77=614]="CustomColor77",t[t.CustomColor78=618]="CustomColor78",t[t.CustomColor79=622]="CustomColor79",t[t.CustomColor80=626]="CustomColor80",t[t.CustomColor81=630]="CustomColor81",t[t.CustomColor82=634]="CustomColor82",t[t.CustomColor83=638]="CustomColor83",t[t.CustomColor84=642]="CustomColor84",t[t.CustomColor85=646]="CustomColor85",t[t.CustomColor86=650]="CustomColor86",t[t.CustomColor87=654]="CustomColor87",t[t.CustomColor88=658]="CustomColor88",t[t.CustomColor89=662]="CustomColor89",t[t.CustomColor90=666]="CustomColor90",t[t.CustomColor__=670]="CustomColor__",t[t._=670]="_",t[t.Green=671]="Green",t[t.Yellow=672]="Yellow",t[t.Inherit=9999]="Inherit",t[t.No=1e4]="No",t[t.FillHighlight=173]="FillHighlight",t[t.LineHighlight=175]="LineHighlight",t[t.ColorYellow=114]="ColorYellow",t[t.ColorRed=176]="ColorRed",t[t.DarkGray=29]="DarkGray",t[t.MediumGray=24]="MediumGray",t[t.LightGray=20]="LightGray"}(o||(o={})),e.a=o},function(t,e,i){"use strict";i.d(e,"a",function(){return c}),i.d(e,"b",function(){return u});var o=i(1),s=i(8),r=i(3),a=i(0),n=i(15);class l{constructor(t,e,i,o){this.s=t,this.i_min=e,this.i_max=i,this.a=o}}class _{constructor(t,e,i){this.h=t,this.hk=e,this.s=i}}class h{constructor(t,e,i){this.r=Object(o.q)(t,0,1),this.g=Object(o.q)(e,0,1),this.b=Object(o.q)(i,0,1)}}class c{static is_shiftable(t){return t>=20&&t<=r.a.Color300}static is_custom(t){return t>=r.a.CustomColor1&&t<=r.a.CustomColor__}static shift_drawtype(t,e,i){let o;if(e=Math.floor(e),null!==i&&i.getColorInverse()&&(e=-e),this.is_shiftable(t)){let i=10*Math.floor(t/10),s=e+t-i;o=s<0?r.a.Color4:s>=10?r.a.Color30:i+s}else o=this.is_custom(t)?-1===e?t+3:e<0?t+2:e>0?t+1:t:t;return Math.floor(o)}static get_drawtype(t,e,i,o,a,n){let l,_=null===o?0:o.getColorLightness(),h=null===o?0:o.getColorIntensity();if(i&&!n)l=e;else if(i&&n&&!a&&t===r.a.Line)l=e;else{if(null!==o&&o.getColorTone()!==s.a.No){let e=o.getColorTone();t>30&&t<300?e===s.a.LightGrayHighSaturation?l=r.a.Color31:e===s.a.DarkGrayHighSaturation?l=r.a.Color30:(e>=s.a.GrayHighSaturation&&e<s.a.GrayLowSaturation?(e-=27,h+=2):e>=s.a.GrayLowSaturation&&(e-=54,h-=1),e>=s.a.DarkGray&&e<s.a.LightGray?(e-=9,_-=2):e>=s.a.LightGray&&(e-=18,_+=2),l=t-30*Math.floor(t/30)+30*e):l=t}else l=null!==o&&1===a&&o.getFillDrawtype()!==r.a.No?o.getFillDrawtype():null!==o&&2===a&&o.getTextDrawtype()!==r.a.No?o.getTextDrawtype():null!==o&&3===a&&o.getBackgroundDrawtype()!==r.a.No?o.getBackgroundDrawtype():null===o||a||o.getDrawtype()===r.a.No?t:o.getDrawtype();if(null!==o&&_&&t>=30&&l<300){let t=10*Math.floor(l/10),e=-_+l-t;l=e<0?r.a.Color4:e>=10?r.a.Color30:t+e}if(null!==o&&h&&l>=60){let t=30*Math.floor(l/30),e=l-t;(l+=10*Math.min(2-Math.floor(e/10),h))<t&&(l=r.a.Color41+e)}if(null!==o&&o.getColorShift()&&l>=60&&l<300){let t=o.getColorShift()-8*Math.floor(o.getColorShift()/8);t<0&&(t+=8),(t=l+30*t)>=300&&(t-=240),l=t}null!==o&&o.getColorInverse()&&(l>=30&&l<300?l=l+10-l%10*2-1:this.is_custom(l)&&((l-r.a.CustomColor1)%4==1?l+=1:(l-r.a.CustomColor1)%4==2?l-=1:(l-r.a.CustomColor1)%4==3&&(l-=2))),null!==o&&o.getDimmed()&&(0===l?l=25:l>=26&&l<=29?l-=4:l>=36&&l<=39?l-=4:l>=46&&l<=49?l-=4:l>=56&&l<=59?l-=4:this.is_custom(l)&&(l===r.a.CustomColor37&&(l=r.a.CustomColor40),l===r.a.CustomColor38&&(l=r.a.CustomColor39)))}return l>=0&&l<=r.a.Color__||l>=r.a.CustomColor1&&l<r.a.CustomColor__||(console.log("** Invalid drawtype : ",l),l=r.a.Line),l}static rgb_color(t,e){if(300===t&&(t=31),0===t)return new h(0,0,0);if(2===t)return new h(.75,.75,.75);if(1===t)return new h(1,0,0);if(3===t)return new h(1,1,1);if(t<20)return this.his_to_rgb(360*(t-4)/16,1,1.5);if(t<60){let e=c.gray_i0;(t<30||t>=50&&t<60)&&(e=.25);let i=e+(c.gray_i1-e)*Math.pow((9-t%10)/9,.9);return new h(i,i,i)}if(t<300){let e=Math.floor((t-60)/30),i=Math.floor((t-60-30*e)/10),o=9-(t-60-30*e-10*i);if(0===e&&2===i||2===e&&2===i&&o>5)return new h(this.rgbtab[10*e+o].r,this.rgbtab[10*e+o].g,this.rgbtab[10*e+o].b);{let t=this.ctab[e].s[i].s,s=this.ctab[e].s[i].i_min+(this.ctab[e].s[i].i_max-this.ctab[e].s[i].i_min)*Math.pow(o/9,this.ctab[e].s[i].a),r=this.ctab[e].h+this.ctab[e].hk*o/9;return this.his_to_rgb(r,s,t)}}return t>=r.a.CustomColor1&&t<r.a.CustomColor__?e?e.get_color(t):new h(1,1,1):new h(0,0,0)}static his_to_rgb(t,e,i){let o=i*Math.sin(t*Math.PI/180),s=i*Math.cos(t*Math.PI/180),r=e/Math.sqrt(3),a=2*o/Math.sqrt(6)+r/Math.sqrt(3),n=-o/Math.sqrt(6)+s/Math.sqrt(2)+r/Math.sqrt(3),l=-o/Math.sqrt(6)-s/Math.sqrt(2)+r/Math.sqrt(3);return new h(a/2+.5,n/2+.5,l/2+.5)}}c.gray_i0=.32,c.gray_i1=.95,c.ctab=[new _(18,-20,[new l(.2,-1.4,2.8,.9),new l(.5,-1.4,3,.9),new l(1.5,-3.5,5,1)]),new _(28,10,[new l(.2,-1.4,2.8,.9),new l(.5,-1.4,3,.9),new l(1.5,-3.5,5,1)]),new _(45,20,[new l(.2,-1.3,2.8,.9),new l(.5,-1.3,3,.9),new l(1.5,-3.5,4.5,1)]),new _(90,0,[new l(.2,-1.1,2.8,.9),new l(.5,-1.1,3,.9),new l(1.5,-4.5,4.5,.8)]),new _(150,0,[new l(.2,-1,2.8,.9),new l(.5,-1,3,.9),new l(1.5,-3.5,5.9,1)]),new _(240,0,[new l(.2,-1,2.8,.9),new l(.4,-1,3,.9),new l(1.5,-3.5,5.5,.8)]),new _(280,0,[new l(.2,-1,2.8,.9),new l(.4,-1,3,.9),new l(1.5,-3.5,5.5,1.2)]),new _(355,-20,[new l(.2,-1,2.8,.9),new l(.4,-1,3,.9),new l(1.5,-4.5,3.5,1)])],c.rgbtab=[new h(.254,.329,0),new h(.357,.459,0),new h(.498,.639,0),new h(.624,.8,0),new h(.764,.976,0),new h(.808,1,.129),new h(.847,1,.31),new h(.898,1,.537),new h(.933,1,.71),new h(.949,1,.776),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(0,0,0),new h(1,.725,.42),new h(1,.796,.569),new h(1,.886,.667),new h(1,.937,.82)];class u{constructor(){this.colors_size=r.a.CustomColor__-r.a.CustomColor1,this.colors=new Array(this.colors_size),this.colortheme_lightness=0,this.is_default_colortheme=0,this.reset_colors()}get_color(t){return t<r.a.CustomColor1||t>=r.a.CustomColor__?null:this.colors[t-r.a.CustomColor1]}set_color(t,e,i,o){if(t<r.a.CustomColor1||t>=r.a.CustomColor__)return!1;let s=t-r.a.CustomColor1;this.colors[s]=new h(e,i,o),this.colors[s+1]=new h(e-.12,i-.12,o-.12);let a=(e+i+o)/3;return this.colors[s+2]=a>.4?new h(e+.18,i+.18,o+.18):new h(e+.35*a+.04,i+.35*a+.04,o+.35*a+.04),this.colors[s+3]=new h(e+.12,i+.12,o+.12),!0}reset_colors(){for(let t=0;t<this.colors_size;t++)this.colors[t]=new h(1,1,1)}open(t){let e=0;for(;;){let i=t.consumeInt();switch(i){case a.v.CustomColors:break;case a.v.CustomColors_colors_size:e=t.consumeInt();break;case a.v.CustomColors_colortheme_lightness:this.colortheme_lightness=t.consumeInt();break;case a.v.CustomColors_is_default_colortheme:this.is_default_colortheme=t.consumeInt();break;case a.v.CustomColors_colors:for(let i=0;i<e;i++){let e=t.consumeFloat(),o=t.consumeFloat(),s=t.consumeFloat();this.colors[i]=new h(e,o,s)}break;case a.v.End:return;default:console.log("Syntax error in GlowCustomColors:",i),t.consumeLine()}}}read_colorfile(t){let e="http://"+o.f+"/"+t,i=new XMLHttpRequest,s=this.open.bind(this);i.onload=function(){s(new n.a(i.responseText))},i.onerror=function(){console.log("Error! Failed to fetch resource "+e)},i.open("GET",e,!0),i.send()}}},,,function(t,e,i){"use strict";var o,s,r,a,n,l=i(1);class _{constructor(t){this.offset=0,this.dv=new DataView(t),this.tag=this.getUint8(),this.id=this.getUint32(),this.sts=this.getUint32()}getUint8(){return this.offset+=1,this.dv.getUint8(this.offset-1)}getUint16(){return this.offset+=2,this.dv.getUint16(this.offset-2)}getInt32(){return this.offset+=4,this.dv.getInt32(this.offset-4)}getUint32(){return this.offset+=4,this.dv.getUint32(this.offset-4)}getFloat32(){return this.offset+=4,this.dv.getFloat32(this.offset-4)}getString(){let t=this.getUint16(),e=new Uint8Array(t);for(let i=0;i<t;i++)e[i]=this.getUint8();return String.fromCharCode.apply(null,e)}}class h{constructor(t,e,i=null,o=null){this.ws=null,this.pending=[],this.pack8Bit=t=>this.reqData.push(255&t),this.ws=new WebSocket("ws://"+t+":"+String(e)),this.ws.binaryType="arraybuffer";let s=this;this.ws.onmessage=function(t){let e=new DataView(t.data).getUint32(1);(0,s.pending[e])(new _(t.data)),delete s.pending[e]},this.ws.onopen=function(){null!==i&&i()},this.ws.onclose=function(){null!==o&&(o(),s.reset())},this.ws.onerror=function(t){console.error("WebSocket error observed:",t)}}sendRequest(){let t=this;return new Promise((e,i)=>{t.pending[h.next_id]=e,h.next_id++,t.ws.send(Uint8Array.from(t.reqData))})}beginRequest(t){this.reqData=[t,0],this.pack32Bit(h.next_id)}reset(){this.pending=[]}pack16Bit(t){this.reqData.push(255&t),this.reqData.push(t>>8&255)}pack32Bit(t){this.reqData.push(255&t),this.reqData.push(t>>8&255),this.reqData.push(t>>16&255),this.reqData.push(t>>24&255)}packString(t){this.pack16Bit(t.length);for(let e=0;e<t.length;e++)this.reqData.push(t.charCodeAt(e))}}h.next_id=1234,i.d(e,"e",function(){return o}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return r}),i.d(e,"a",function(){return w}),i.d(e,"f",function(){return a}),i.d(e,"d",function(){return p}),function(t){t[t.Ack=1]="Ack",t[t.Block=2]="Block",t[t.Cancel=3]="Cancel",t[t.CancelBlock=4]="CancelBlock",t[t.Missing=5]="Missing",t[t.Reblock=6]="Reblock",t[t.Return=7]="Return",t[t.Unblock=8]="Unblock",t[t.InfoSuccess=32]="InfoSuccess",t[t.Alarm=64]="Alarm",t[t.MaintenanceAlarm=128]="MaintenanceAlarm",t[t.SystemAlarm=256]="SystemAlarm",t[t.UserAlarm1=512]="UserAlarm1",t[t.UserAlarm2=1024]="UserAlarm2",t[t.UserAlarm3=2048]="UserAlarm3",t[t.UserAlarm4=4096]="UserAlarm4",t[t.Info=8192]="Info"}(o||(o={})),function(t){t[t.D=64]="D",t[t.C=65]="C",t[t.B=66]="B",t[t.A=67]="A"}(s||(s={})),function(t){t[t.NotRet=1]="NotRet",t[t.NotAck=2]="NotAck",t[t.Block=4]="Block"}(r||(r={}));class c{}class u{}class d{}class m{}class w{}class f{}class b{constructor(){this.buttons=[]}}class y{}!function(t){t[t.GET_OP_SELF=1]="GET_OP_SELF",t[t.GET_OP_METHOD_PLC=2]="GET_OP_METHOD_PLC",t[t.GET_OP_METHOD_OBJECTGRAPH=3]="GET_OP_METHOD_OBJECTGRAPH",t[t.GET_OP_METHOD_GRAPH=4]="GET_OP_METHOD_GRAPH",t[t.GET_OP_METHOD_HELPCLASS=5]="GET_OP_METHOD_HELPCLASS"}(a||(a={})),function(t){t[t.SET_OBJECT_INFO_BOOLEAN=1]="SET_OBJECT_INFO_BOOLEAN",t[t.SET_OBJECT_INFO_FLOAT=2]="SET_OBJECT_INFO_FLOAT",t[t.SET_OBJECT_INFO_INT=3]="SET_OBJECT_INFO_INT",t[t.SET_OBJECT_INFO_STRING=4]="SET_OBJECT_INFO_STRING",t[t.GET_OBJECT_INFO_BOOLEAN=5]="GET_OBJECT_INFO_BOOLEAN",t[t.GET_OBJECT_INFO_FLOAT=6]="GET_OBJECT_INFO_FLOAT",t[t.GET_OBJECT_INFO_INT=7]="GET_OBJECT_INFO_INT",t[t.GET_OBJECT_INFO_STRING=8]="GET_OBJECT_INFO_STRING",t[t.TOGGLE_OBJECT_INFO=9]="TOGGLE_OBJECT_INFO",t[t.REF_OBJECT_INFO=10]="REF_OBJECT_INFO",t[t.GET_OBJECT_REF_INFO_BOOLEAN=11]="GET_OBJECT_REF_INFO_BOOLEAN",t[t.GET_OBJECT_REF_INFO_FLOAT=12]="GET_OBJECT_REF_INFO_FLOAT",t[t.GET_OBJECT_REF_INFO_INT=13]="GET_OBJECT_REF_INFO_INT",t[t.GET_OBJECT_REF_INFO_STRING=14]="GET_OBJECT_REF_INFO_STRING",t[t.UNREF_OBJECT_INFO=15]="UNREF_OBJECT_INFO",t[t.NAME_TO_OBJID=16]="NAME_TO_OBJID",t[t.OBJID_TO_NAME=17]="OBJID_TO_NAME",t[t.GET_ROOT_LIST=18]="GET_ROOT_LIST",t[t.GET_NEXT_OBJECT=19]="GET_NEXT_OBJECT",t[t.GET_CHILD=20]="GET_CHILD",t[t.GET_NEXT_SIBLING=21]="GET_NEXT_SIBLING",t[t.GET_OBJECT_CLASS=22]="GET_OBJECT_CLASS",t[t.GET_CLASS_LIST=23]="GET_CLASS_LIST",t[t.CLASS_ID_TO_OBJID=24]="CLASS_ID_TO_OBJID",t[t.GET_OBJECT_REF_INFO_ALL=25]="GET_OBJECT_REF_INFO_ALL",t[t.REF_OBJECT_INFO_LIST=26]="REF_OBJECT_INFO_LIST",t[t.POLL=27]="POLL",t[t.STATISTICS=28]="STATISTICS",t[t.CHECK_USER=29]="CHECK_USER",t[t.GET_NODE_OBJECT=30]="GET_NODE_OBJECT",t[t.LOG_STRING=31]="LOG_STRING",t[t.UNREF_OBJECT_INFO_ALL=32]="UNREF_OBJECT_INFO_ALL",t[t.CREATE_INSTANCE_FILE=33]="CREATE_INSTANCE_FILE",t[t.GET_ATTRIBUTE_CHAR=34]="GET_ATTRIBUTE_CHAR",t[t.GET_CLASS_ATTRIBUTE=35]="GET_CLASS_ATTRIBUTE",t[t.GET_ALL_CLASS_ATTRIBUTES=36]="GET_ALL_CLASS_ATTRIBUTES",t[t.GET_ALL_SIBLINGS=37]="GET_ALL_SIBLINGS",t[t.GET_ALL_XTT_SIBLINGS=38]="GET_ALL_XTT_SIBLINGS",t[t.GET_ALL_XTT_CHILDREN=39]="GET_ALL_XTT_CHILDREN",t[t.REF_OBJECT_INFO_VECTOR=40]="REF_OBJECT_INFO_VECTOR",t[t.GET_SUBSCRIPTIONS=41]="GET_SUBSCRIPTIONS",t[t.CRR_SIGNAL=42]="CRR_SIGNAL",t[t.CRR_OBJECT=43]="CRR_OBJECT",t[t.GET_PARENT=44]="GET_PARENT",t[t.GET_OBJECT_INFO_OBJID=45]="GET_OBJECT_INFO_OBJID",t[t.GET_OBJECT_REF_INFO_BOOLEAN_ARRAY=46]="GET_OBJECT_REF_INFO_BOOLEAN_ARRAY",t[t.GET_OBJECT_REF_INFO_FLOAT_ARRAY=47]="GET_OBJECT_REF_INFO_FLOAT_ARRAY",t[t.GET_OBJECT_REF_INFO_INT_ARRAY=48]="GET_OBJECT_REF_INFO_INT_ARRAY",t[t.GET_OBJECT_REF_INFO_STRING_ARRAY=49]="GET_OBJECT_REF_INFO_STRING_ARRAY",t[t.GET_MSG=50]="GET_MSG",t[t.GET_MSG_TEXT=51]="GET_MSG_TEXT",t[t.NAME_TO_ATTRREF=52]="NAME_TO_ATTRREF",t[t.ATTRREF_TO_NAME=53]="ATTRREF_TO_NAME",t[t.GET_ATTRREF_TID=54]="GET_ATTRREF_TID",t[t.GET_SUPER_CLASS=55]="GET_SUPER_CLASS",t[t.GET_ALL_CLASS_ATTRIBUTES_STRING=56]="GET_ALL_CLASS_ATTRIBUTES_STRING",t[t.GET_OBJECT_INFO_FLOAT_ARRAY=57]="GET_OBJECT_INFO_FLOAT_ARRAY",t[t.GET_OBJECT_INFO_INT_ARRAY=58]="GET_OBJECT_INFO_INT_ARRAY",t[t.GET_CIRCBUFF_INFO=59]="GET_CIRCBUFF_INFO",t[t.UPDATE_CIRCBUFF_INFO=60]="UPDATE_CIRCBUFF_INFO",t[t.GET_ATTRIBUTE_FLAGS=61]="GET_ATTRIBUTE_FLAGS",t[t.CLASSNAME_TO_ID=62]="CLASSNAME_TO_ID",t[t.GET_OBJECT=63]="GET_OBJECT",t[t.GET_OPWIND_MENU=64]="GET_OPWIND_MENU",t[t.GET_OBJECT_FROM_NAME=65]="GET_OBJECT_FROM_NAME",t[t.MH_SYNC=66]="MH_SYNC",t[t.MH_ACK=67]="MH_ACK",t[t.GET_OBJECT_FROM_AREF=68]="GET_OBJECT_FROM_AREF"}(n||(n={}));class p{constructor(t=null,e=null){this.sub=[],this.subscriptionCount=1,this.ws=new h(l.f,p.PORT,t,e)}getObjectInfoBoolean(t){return this.ws.beginRequest(n.GET_OBJECT_INFO_BOOLEAN),this.ws.packString(t),this.ws.sendRequest().then(function(t){let e=t.getUint8();return{sts:t.sts,value:e}})}getObjectInfoInt(t){return this.ws.beginRequest(n.GET_OBJECT_INFO_INT),this.ws.packString(t),this.ws.sendRequest().then(function(t){let e=t.getUint32();return{sts:t.sts,value:e}})}getObjectInfoIntArray(t,e){return this.ws.beginRequest(n.GET_OBJECT_INFO_INT_ARRAY),this.ws.pack32Bit(e),this.ws.packString(t),this.ws.sendRequest().then(function(t){let e=t.getInt32();for(let i=0;i<e;i++)(void 0).push(t.getUint32());return{sts:t.sts,value:void 0}})}getObjectInfoFloat(t){return this.ws.beginRequest(n.GET_OBJECT_INFO_FLOAT),this.ws.packString(t),this.ws.sendRequest().then(function(t){let e=t.getFloat32();return{sts:t.sts,value:e}})}getObjectInfoFloatArray(t,e){return this.ws.beginRequest(n.GET_OBJECT_INFO_FLOAT_ARRAY),this.ws.pack32Bit(e),this.ws.packString(t),this.ws.sendRequest().then(function(t){let e=t.getInt32();for(let i=0;i<e;i++)(void 0).push(t.getFloat32());return{sts:t.sts,value:void 0}})}refObjectInfo(t,e,i){let o=new d;return o.name=t,o.refid=this.subscriptionCount,o.type=e,o.elements=i,this.sub[this.subscriptionCount]=o,this.subscriptionCount++,this.ws.beginRequest(n.REF_OBJECT_INFO),this.ws.pack32Bit(o.refid),this.ws.pack32Bit(o.elements),this.ws.packString(o.name),this.ws.sendRequest(),o.refid}unrefObjectInfo(t){this.ws.beginRequest(n.UNREF_OBJECT_INFO),this.ws.pack32Bit(t),delete this.sub[t],this.ws.sendRequest()}getRefObjectInfoAll(t){this.ws.beginRequest(n.GET_OBJECT_REF_INFO_ALL);let e=this;this.ws.sendRequest().then(function(i){let o=i.getUint32();for(let t=0;t<o;t++){let t=i.getUint32(),o=i.getUint32(),s=e.sub[t];if(void 0!==s){let r;switch(s.type){case l.m.Boolean:if(s.elements<=1)r=i.getUint8();else{let e=o;e!==s.elements&&console.log("Subscription size error",e,s.elements,t),r=new Array(e);for(let t=0;t<e;t++)r[t]=i.getUint8()}break;case l.m.Float32:if(s.elements<=1)r=i.getFloat32();else{let e=o/4;e!==s.elements&&console.log("Subscription size error",e,s.elements,t),r=new Array(e);for(let t=0;t<e;t++)r[t]=i.getFloat32()}break;case l.m.Int8:case l.m.Int16:case l.m.Int32:case l.m.UInt8:case l.m.UInt16:case l.m.UInt32:case l.m.Status:case l.m.NetStatus:case l.m.Mask:case l.m.Enum:case l.m.Bit:if(s.elements<=1)r=i.getInt32();else{let e=o/4;e!==s.elements&&console.log("Subscription size error",e,s.elements,t),r=new Array(e);for(let t=0;t<e;t++)r[t]=i.getInt32()}break;case l.m.String:case l.m.Time:case l.m.DeltaTime:case l.m.AttrRef:case l.m.Objid:if(s.elements<=1)r=i.getString();else{let e=s.elements;e!==s.elements&&console.log("Subscription size error",e,s.elements,t),r=new Array(e);for(let t=0;t<e;t++)r[t]=i.getString()}}e.sub[t].value=r}}t()})}getObjectRefInfo(t){return this.sub[t].value}setObjectInfoBoolean(t,e){this.ws.beginRequest(n.SET_OBJECT_INFO_BOOLEAN),this.ws.pack32Bit(e),this.ws.packString(t),this.ws.sendRequest()}setObjectInfoInt(t,e){this.ws.beginRequest(n.SET_OBJECT_INFO_INT),this.ws.pack32Bit(e),this.ws.packString(t),this.ws.sendRequest()}setObjectInfoFloat(t,e){this.ws.beginRequest(n.SET_OBJECT_INFO_FLOAT);let i=new ArrayBuffer(4);new Float32Array(i)[0]=e;let o=new Uint8Array(i);this.ws.reqData.push(o[0]),this.ws.reqData.push(o[1]),this.ws.reqData.push(o[2]),this.ws.reqData.push(o[3]),this.ws.packString(t),this.ws.sendRequest()}setObjectInfoString(t,e){this.ws.beginRequest(n.SET_OBJECT_INFO_STRING),this.ws.packString(e),this.ws.packString(t),this.ws.sendRequest()}setObjectInfo(t,e,i){i===l.m.Boolean?this.setObjectInfoBoolean(t,e):i===l.m.Float32||i===l.m.Float64?this.setObjectInfoFloat(t,e):i===l.m.String?this.setObjectInfoString(t,e):this.setObjectInfoInt(t,e)}toggleObjectInfo(t){this.ws.beginRequest(n.TOGGLE_OBJECT_INFO),this.ws.packString(t),this.ws.sendRequest()}getAllXttChildren(t){return this.ws.beginRequest(n.GET_ALL_XTT_CHILDREN),this.ws.pack32Bit(t.vid),this.ws.pack32Bit(t.oix),this.ws.sendRequest().then(function(t){let e=[],i=t.getUint32();for(let o=0;o<i;o++){let i=new m,o=t.getUint32(),s=t.getUint32();i.objid=new l.j(o,s),i.cid=t.getUint32(),i.has_children=0!==t.getUint16(),i.name=t.getString(),i.description=t.getString(),i.classname=t.getString(),e.push(i)}return{sts:t.sts,value:e}})}getAllClassAttributes(t,e){return this.ws.beginRequest(n.GET_ALL_CLASS_ATTRIBUTES),this.ws.pack32Bit(t),this.ws.pack32Bit(e.vid),this.ws.pack32Bit(e.oix),this.ws.sendRequest().then(function(t){let e=[],i=t.getUint32();for(let o=0;o<i;o++){let i=new w;i.type=t.getUint32(),i.flags=t.getUint32(),i.size=t.getUint16(),i.elements=t.getUint16(),i.name=t.getString(),i.classname=t.getString(),e.push(i)}return{sts:t.sts,value:e}})}unpackGetObject(t){let e=null;if(Object(l.s)(t.sts)){e=new m;let i=t.getUint32(),o=t.getUint32();e.objid=new l.j(i,o),e.cid=t.getUint32(),e.has_children=0!==t.getUint16(),e.name=t.getString(),e.fullname=t.getString(),e.classname=t.getString(),e.description=t.getString(),e.param1=t.getString()}return{sts:t.sts,value:e}}getObject(t,e){return this.ws.beginRequest(n.GET_OBJECT),this.ws.pack16Bit(e),this.ws.pack32Bit(t.vid),this.ws.pack32Bit(t.oix),this.ws.sendRequest().then(this.unpackGetObject)}getObjectFromAref(t,e){return this.ws.beginRequest(n.GET_OBJECT_FROM_AREF),this.ws.pack16Bit(e),this.ws.pack32Bit(t.objid.vid),this.ws.pack32Bit(t.objid.oix),this.ws.pack32Bit(t.offset),this.ws.pack32Bit(t.body),this.ws.pack32Bit(t.size),this.ws.pack32Bit(t.flags),this.ws.sendRequest().then(this.unpackGetObject)}getObjectFromName(t,e){return this.ws.beginRequest(n.GET_OBJECT_FROM_NAME),this.ws.pack16Bit(e),this.ws.packString(t),this.ws.sendRequest().then(this.unpackGetObject)}crrSignal(t){return this.ws.beginRequest(n.CRR_SIGNAL),this.ws.pack32Bit(t.vid),this.ws.pack32Bit(t.oix),this.ws.sendRequest().then(function(t){let e=[];if(Object(l.s)(t.sts)){let i=t.getUint16();for(let o=0;o<i;o++){let i=new y;i.type=t.getUint16();let o=t.getUint32(),s=t.getUint32();i.objid=new l.j(o,s),i.name=t.getString(),i.classname=t.getString(),e.push(i)}}return{sts:t.sts,value:e}})}getOpwindMenu(t){return this.ws.beginRequest(n.GET_OPWIND_MENU),this.ws.packString(t),this.ws.sendRequest().then(function(t){let e=new b;if(Object(l.s)(t.sts)){e.title=t.getString(),e.text=t.getString(),e.enable_language=t.getUint32(),e.enable_login=t.getUint32(),e.enable_alarmlist=t.getUint32(),e.enable_eventlog=t.getUint32(),e.enable_navigator=t.getUint32(),e.disable_help=t.getUint32(),e.disable_proview=t.getUint32(),e.language=t.getUint32();let i=t.getUint16();for(let o=0;o<i;o++){let i=new f;i.type=t.getUint32(),i.text=t.getString(),i.name=t.getString(),i.url=t.getString(),e.buttons.push(i)}}return{sts:t.sts,value:e}})}login(t,e){return this.ws.beginRequest(n.CHECK_USER),this.ws.packString(t),this.ws.packString(e),this.ws.sendRequest().then(function(t){let e=Object(l.s)(t.sts)?t.getUint32():0;return{sts:t.sts,value:e}})}getMsg(t){return this.ws.beginRequest(n.GET_MSG),this.ws.pack32Bit(t),this.ws.sendRequest().then(function(t){let e=Object(l.s)(t.sts)?t.getString():"";return{sts:t.sts,value:e}})}mhSync(t){return this.ws.beginRequest(n.MH_SYNC),this.ws.pack32Bit(t),this.ws.sendRequest().then(function(t){let e=[],i=t.getUint32();for(let o=0;o<i;o++){let i=new u;i.eventTime=t.getString(),i.eventText=t.getString(),i.eventName=t.getString(),i.eventFlags=t.getUint32(),i.eventStatus=t.getUint32(),i.eventPrio=t.getUint32(),i.eventId=new c,i.eventId.nix=t.getUint32(),i.eventId.idx=t.getUint32(),i.eventId.birthTime=t.getString(),i.targetId=new c,i.targetId.nix=t.getUint32(),i.targetId.idx=t.getUint32(),i.targetId.birthTime=t.getString(),i.eventType=t.getUint32();let o=new l.j(0,0);o.vid=t.getUint32(),o.oix=t.getUint32(),i.object=new l.i,i.object.objid=o,i.object.offset=t.getUint32(),i.object.body=t.getUint32(),i.object.size=t.getUint32(),i.object.flags=t.getUint32();let s=new l.j(0,0);s.vid=t.getUint32(),s.oix=t.getUint32(),i.supObject=new l.i,i.supObject.objid=s,i.supObject.offset=t.getUint32(),i.supObject.body=t.getUint32(),i.supObject.size=t.getUint32(),i.supObject.flags=t.getUint32(),i.eventMoreText=t.getString(),i.syncIdx=t.getUint32(),e.push(i)}return{sts:t.sts,value:e}})}mhAcknowledge(t){return this.ws.beginRequest(n.MH_ACK),this.ws.pack32Bit(t.nix),this.ws.pack32Bit(t.idx),this.ws.packString(t.birthTime),this.ws.sendRequest().then(t=>t.sts)}}p.PORT=4448},function(t,e,i){"use strict";var o;!function(t){t[t.No=0]="No",t[t.Gray=1]="Gray",t[t.YellowGreen=2]="YellowGreen",t[t.Yellow=3]="Yellow",t[t.Orange=4]="Orange",t[t.Red=5]="Red",t[t.Magenta=6]="Magenta",t[t.Blue=7]="Blue",t[t.Seablue=8]="Seablue",t[t.Green=9]="Green",t[t.DarkGray=10]="DarkGray",t[t.DarkYellowGreen=11]="DarkYellowGreen",t[t.DarkYellow=12]="DarkYellow",t[t.DarkOrange=13]="DarkOrange",t[t.DarkRed=14]="DarkRed",t[t.DarkMagenta=15]="DarkMagenta",t[t.DarkBlue=16]="DarkBlue",t[t.DarkSeablue=17]="DarkSeablue",t[t.DarkGreen=18]="DarkGreen",t[t.LightGray=19]="LightGray",t[t.LightYellowGreen=20]="LightYellowGreen",t[t.LightYellow=21]="LightYellow",t[t.LightOrange=22]="LightOrange",t[t.LightRed=23]="LightRed",t[t.LightMagenta=24]="LightMagenta",t[t.LightBlue=25]="LightBlue",t[t.LightSeablue=26]="LightSeablue",t[t.LightGreen=27]="LightGreen",t[t.GrayHighSaturation=28]="GrayHighSaturation",t[t.YellowGreenHighSaturation=29]="YellowGreenHighSaturation",t[t.YellowHighSaturation=30]="YellowHighSaturation",t[t.OrangeHighSaturation=31]="OrangeHighSaturation",t[t.RedHighSaturation=32]="RedHighSaturation",t[t.MagentaHighSaturation=33]="MagentaHighSaturation",t[t.BlueHighSaturation=34]="BlueHighSaturation",t[t.SeablueHighSaturation=35]="SeablueHighSaturation",t[t.GreenHighSaturation=36]="GreenHighSaturation",t[t.DarkGrayHighSaturation=37]="DarkGrayHighSaturation",t[t.DarkYellowGreenHighSaturation=38]="DarkYellowGreenHighSaturation",t[t.DarkYellowHighSaturation=39]="DarkYellowHighSaturation",t[t.DarkOrangeHighSaturation=40]="DarkOrangeHighSaturation",t[t.DarkRedHighSaturation=41]="DarkRedHighSaturation",t[t.DarkMagentaHighSaturation=42]="DarkMagentaHighSaturation",t[t.DarkBlueHighSaturation=43]="DarkBlueHighSaturation",t[t.DarkSeablueHighSaturation=44]="DarkSeablueHighSaturation",t[t.DarkGreenHighSaturation=45]="DarkGreenHighSaturation",t[t.LightGrayHighSaturation=46]="LightGrayHighSaturation",t[t.LightYellowGreenHighSaturation=47]="LightYellowGreenHighSaturation",t[t.LightYellowHighSaturation=48]="LightYellowHighSaturation",t[t.LightOrangeHighSaturation=49]="LightOrangeHighSaturation",t[t.LightRedHighSaturation=50]="LightRedHighSaturation",t[t.LightMagentaHighSaturation=51]="LightMagentaHighSaturation",t[t.LightBlueHighSaturation=52]="LightBlueHighSaturation",t[t.LightSeablueHighSaturation=53]="LightSeablueHighSaturation",t[t.LightGreenHighSaturation=54]="LightGreenHighSaturation",t[t.GrayLowSaturation=55]="GrayLowSaturation",t[t.YellowGreenLowSaturation=56]="YellowGreenLowSaturation",t[t.YellowLowSaturation=57]="YellowLowSaturation",t[t.OrangeLowSaturation=58]="OrangeLowSaturation",t[t.RedLowSaturation=59]="RedLowSaturation",t[t.MagentaLowSaturation=60]="MagentaLowSaturation",t[t.BlueLowSaturation=61]="BlueLowSaturation",t[t.SeablueLowSaturation=62]="SeablueLowSaturation",t[t.GreenLowSaturation=63]="GreenLowSaturation",t[t.DarkGrayLowSaturation=64]="DarkGrayLowSaturation",t[t.DarkYellowGreenLowSaturation=65]="DarkYellowGreenLowSaturation",t[t.DarkYellowLowSaturation=66]="DarkYellowLowSaturation",t[t.DarkOrangeLowSaturation=67]="DarkOrangeLowSaturation",t[t.DarkRedLowSaturation=68]="DarkRedLowSaturation",t[t.DarkMagentaLowSaturation=69]="DarkMagentaLowSaturation",t[t.DarkBlueLowSaturation=70]="DarkBlueLowSaturation",t[t.DarkSeablueLowSaturation=71]="DarkSeablueLowSaturation",t[t.DarkGreenLowSaturation=72]="DarkGreenLowSaturation",t[t.LightGrayLowSaturation=73]="LightGrayLowSaturation",t[t.LightYellowGreenLowSaturation=74]="LightYellowGreenLowSaturation",t[t.LightYellowLowSaturation=75]="LightYellowLowSaturation",t[t.LightOrangeLowSaturation=76]="LightOrangeLowSaturation",t[t.LightRedLowSaturation=77]="LightRedLowSaturation",t[t.LightMagentaLowSaturation=78]="LightMagentaLowSaturation",t[t.LightBlueLowSaturation=79]="LightBlueLowSaturation",t[t.LightSeablueLowSaturation=80]="LightSeablueLowSaturation",t[t.LightGreenLowSaturation=81]="LightGreenLowSaturation",t[t._=82]="_"}(o||(o={})),e.a=o},,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return o});class o{constructor(t){this.str=t}consumeChar(){let t=this.str[0];return this.str=this.str.substring(1),t}consumeWord(){let t=this.str.search(/[ \n]/),e=this.str.substring(0,t);return this.str=this.str.substring(t+1),e}consumeLine(){let t=this.str.indexOf("\n"),e=this.str.substring(0,t);return this.str=this.str.substring(t+1),e}consumeBool(){return Boolean(parseInt(this.consumeWord(),10))}consumeInt(){return parseInt(this.consumeWord(),10)}consumeFloat(){return parseFloat(this.consumeWord())}consumeQuotedString(){if('"'!==this.str[0])return"";let t=1;for(;'"'!==this.str[t]||"\\"===this.str[t-1];)t++;let e=this.str.substring(1,t).replace('\\"','"');return this.str=this.str.substring(t+1),e}}},,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i(1),s=i(4),r=i(3),a=i(0);class n{constructor(){this.clip=new Array(10),this.clipCount=0,this.CUSTOMCOLORS_STACK_SIZE=10,this.customcolors=new Array(this.CUSTOMCOLORS_STACK_SIZE),this.customcolors_cnt=0,this.canvas=document.querySelector("canvas"),this.gctx=this.canvas.getContext("2d"),this.offset_top=this.canvas.offsetTop,this.gctx.save()}drawTypeToColor(t,e,i){i?t=r.a.LineGray:t==r.a.LineGray&&e?t=r.a.Line:e&&(t+=1);let o=s.a.rgb_color(t,this.get_customcolors());return"rgb("+Math.floor(255*o.r)+","+Math.floor(255*o.g)+","+Math.floor(255*o.b)+")"}getFont(t,e,i){return(e===r.a.TextHelveticaBold?"bold ":"")+i+"px "+["Helvetica","Times","NewCenturySchoolbook","Courier","LucidaSans"][t]}setupGCtx(t,e,i,o){this.gctx.lineWidth=e+1,this.gctx.fillStyle=this.drawTypeToColor(t,i,o),this.gctx.strokeStyle=this.gctx.fillStyle}rect(t,e,i,o,s,r,a=0,n=!1,l=!1){this.setupGCtx(s,a,n,l),r?this.gctx.fillRect(t,e,i,o):this.gctx.strokeRect(t,e,i,o)}arc(t,e,i,o,s,r,a,n,l=0,_=!1,h=!1){this.setupGCtx(a,l,_,h),this.gctx.beginPath(),360!==r&&this.gctx.moveTo(t+i/2,e+o/2),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+i/2,e+o/2,i/2,o/2,0,-s*Math.PI/180,-(s+r)*Math.PI/180,!0):this.gctx.arc(t+i/2,e+o/2,i/2,-s*Math.PI/180,-(s+r)*Math.PI/180,!0),n?this.gctx.fill():this.gctx.stroke()}line(t,e,i,o,s=r.a.Line,n=0,l=a.y.Solid,_=!1,h=!1){switch(this.setupGCtx(s,n,_,h),l){case a.y.Dashed1:this.gctx.setLineDash([n,n]);break;case a.y.Dashed2:this.gctx.setLineDash([2*n,2*n]);break;case a.y.Dashed3:this.gctx.setLineDash([4*n,4*n]);break;case a.y.Dotted:this.gctx.setLineDash([n,6*n]);break;case a.y.DotDashed1:this.gctx.setLineDash([n,2*n,4*n,2*n]);break;case a.y.DotDashed2:this.gctx.setLineDash([n,4*n,8*n,4*n])}this.gctx.beginPath(),this.gctx.moveTo(t,e),this.gctx.lineTo(i,o),this.gctx.stroke(),l!==a.y.Solid&&this.gctx.setLineDash([])}polyline(t,e,i,o,s=0,r=!1,a=!1){if(t&&t.length){this.setupGCtx(i,s,r,a),this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(let i=1;i<e;i++)this.gctx.lineTo(t[i].x,t[i].y);o?this.gctx.fill():this.gctx.stroke()}}text(t,e,i,o,s,r,a,n=0,l=!1,_=!1){this.gctx.font=this.getFont(r,o,a),this.gctx.lineWidth=a+1,this.gctx.fillStyle=this.drawTypeToColor(s,l,_);let h=this.getTextExtent(i,o,r,a),c=t+h.width/2,u=e+h.height/2;180===n?(c+=h.width/2,u+=h.height/4):270===n?(c-=h.height/4,u+=h.width/2):90===n?(c+=h.height/4,u-=h.width/2):(c-=h.width/2,u-=h.height/4),this.gctx.save(),this.gctx.translate(c,u),this.gctx.rotate(n*Math.PI/180);let d=i.split("\n");for(let t=0;t<d.length;t++)this.gctx.fillText(d[t],0,t*a);this.gctx.restore()}image(t,e,i,o,s,r=null){this.gctx.save(),r&&(this.gctx.putImageData(r,t,e),this.gctx.globalCompositeOperation="source-in"),this.gctx.drawImage(s,t,e,i,o),this.gctx.restore()}pixmaps_create(t){let e=null,i=new Array(9);for(let o=0;o<9;o++){if(0===o||t[o].bits!==e.bits){i[o]=this.gctx.createImageData(t[o].width,t[o].height);for(let e=0;e<t[o].bits.length;e++)i[o].data[e]=t[o].bits[e]}else i[o]=i[o-1];e=t[o]}return i}pixmap(t,e,i,o,s,r,a){this.setupGCtx(s,a,!1,!1),this.gctx.fillRect(t,e,i.width,i.height),this.setupGCtx(r,a,!1,!1),this.gctx.save(),this.gctx.putImageData(o,t,e),this.gctx.globalCompositeOperation="source-in",this.gctx.fillRect(t,e,i.width,i.height),this.gctx.restore()}getTextExtent(t,e,i,o,s=0){this.gctx.font=this.getFont(i,e,o),this.gctx.lineWidth=o+1;let r=0,a=0,n=t.split("\n");for(let t=0;t<n.length;t++)r=Math.max(r,this.gctx.measureText(n[t]).width),a+=o;return 90===s||270===s?{width:a,height:r,descent:.22*a}:{width:r,height:a,descent:.22*a}}createGradient(t,e,i,o,s,r,n,l){let _=Math.sqrt(i*i+o*o);l!==a.w.Globe&&l!==a.w.RadialCenter||(_/=2);let h,c=this.drawTypeToColor(s,!1,!1),u=this.drawTypeToColor(r,!1,!1),d=this.drawTypeToColor(n,!1,!1);switch(l){case a.w.HorizontalUp:case a.w.HorizontalDown:case a.w.HorizontalTube1:case a.w.HorizontalTube2:h=this.gctx.createLinearGradient(t,e,t,e+o);break;case a.w.VerticalRight:case a.w.VerticalLeft:case a.w.VerticalTube1:case a.w.VerticalTube2:h=this.gctx.createLinearGradient(t,e,t+i,e);break;case a.w.DiagonalUpperLeft:h=this.gctx.createLinearGradient(t,e,t+i,e+o);break;case a.w.DiagonalLowerLeft:h=this.gctx.createLinearGradient(t,e+o,t+i,e);break;case a.w.DiagonalUpperRight:h=this.gctx.createLinearGradient(t+i,e,t,e+o);break;case a.w.DiagonalLowerRight:h=this.gctx.createLinearGradient(t+i,e+o,t,e);break;case a.w.DiagonalUpTube:h=this.gctx.createLinearGradient(t+i/5,e+o/5,t+4*i/5,e+4*o/5);break;case a.w.DiagonalDownTube:h=this.gctx.createLinearGradient(t+4*i/5,e+o/5,t+i/5,e+4*o/5);break;case a.w.Globe:h=this.gctx.createRadialGradient(t+.3*i,e+.3*o,1,t+.3*i,e+.3*o,_);break;case a.w.RadialCenter:h=this.gctx.createRadialGradient(t+.5*i,e+.5*o,1,t+.5*i,e+.5*o,_);break;case a.w.RadialUpperLeft:h=this.gctx.createRadialGradient(t,e,1,t,e,_);break;case a.w.RadialLowerLeft:h=this.gctx.createRadialGradient(t,e+o,1,t,e+o,_);break;case a.w.RadialUpperRight:h=this.gctx.createRadialGradient(t+i,e,1,t+i,e,_);break;case a.w.RadialLowerRight:h=this.gctx.createRadialGradient(t+i,e+o,1,t+i,e+o,_);break;default:return}switch(l){case a.w.HorizontalTube1:case a.w.VerticalTube1:h.addColorStop(0,u),h.addColorStop(.5,d),h.addColorStop(1,u);break;case a.w.DiagonalUpTube:case a.w.DiagonalDownTube:h.addColorStop(.1,u),h.addColorStop(.5,d),h.addColorStop(.9,u);break;case a.w.HorizontalTube2:case a.w.VerticalTube2:h.addColorStop(0,c),h.addColorStop(.3,d),h.addColorStop(.95,u);break;default:h.addColorStop(.1,d),h.addColorStop(.9,u)}return h}gradient_rotate(t,e){let i=e,o=360*(t/360-Math.floor(t/360));for(;o>45;){switch(i){case a.w.HorizontalUp:i=a.w.VerticalRight;break;case a.w.HorizontalDown:i=a.w.VerticalLeft;break;case a.w.HorizontalTube1:i=a.w.VerticalTube1;break;case a.w.HorizontalTube2:i=a.w.VerticalTube2;break;case a.w.VerticalLeft:i=a.w.HorizontalUp;break;case a.w.VerticalRight:i=a.w.HorizontalDown;break;case a.w.VerticalTube1:i=a.w.HorizontalTube1;break;case a.w.VerticalTube2:i=a.w.HorizontalTube2;break;case a.w.DiagonalUpperLeft:i=a.w.DiagonalUpperRight;break;case a.w.DiagonalLowerLeft:i=a.w.DiagonalUpperLeft;break;case a.w.DiagonalUpperRight:i=a.w.DiagonalLowerRight;break;case a.w.DiagonalLowerRight:i=a.w.DiagonalLowerLeft;break;case a.w.DiagonalUpTube:i=a.w.DiagonalDownTube;break;case a.w.DiagonalDownTube:i=a.w.DiagonalUpTube;break;case a.w.RadialUpperLeft:i=a.w.RadialUpperRight;break;case a.w.RadialLowerLeft:i=a.w.RadialUpperLeft;break;case a.w.RadialUpperRight:i=a.w.RadialLowerRight;break;case a.w.RadialLowerRight:i=a.w.RadialLowerLeft}o-=90}return i}gradient_fill_rect(t,e,i,o,s,r,a,n){this.gctx.fillStyle=this.createGradient(t,e,i,o,s,r,a,n),this.gctx.fillRect(t,e,i,o)}gradient_fill_rectrounded(t,e,i,o,s,r,a,n,l){this.gctx.fillStyle=this.createGradient(t,e,i,o,r,a,n,l),this.gctx.beginPath(),this.gctx.moveTo(t+s,e),this.gctx.arcTo(t+i,e,t+i,e+o,s),this.gctx.arcTo(t+i,e+o,t,e+o,s),this.gctx.arcTo(t,e+o,t,e,s),this.gctx.arcTo(t,e,t+i,e,s),this.gctx.closePath(),this.gctx.fill()}gradient_fill_arc(t,e,i,o,s,r,a,n,l,_){this.gctx.fillStyle=this.createGradient(t,e,i,o,a,n,l,_),this.gctx.beginPath(),360!==r&&this.gctx.moveTo(t+i/2,e+o/2),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+i/2,e+o/2,i/2,o/2,0,-s*Math.PI/180,-(s+r)*Math.PI/180,!0):this.gctx.arc(t+i/2,e+o/2,i/2,-s*Math.PI/180,-(s+r)*Math.PI/180,!0),this.gctx.fill()}gradient_fill_polyline(t,e,i,o,s,r){if(!t||!t.length)return;let a=t.slice(0,e),n=a.reduce((t,e)=>Math.min(t,e.x),Number.MAX_VALUE),l=a.reduce((t,e)=>Math.min(t,e.y),Number.MAX_VALUE),_=a.reduce((t,e)=>Math.max(t,e.x),-Number.MAX_VALUE),h=a.reduce((t,e)=>Math.max(t,e.y),-Number.MAX_VALUE);this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(let i=1;i<e;i++)this.gctx.lineTo(t[i].x,t[i].y);this.gctx.fillStyle=this.createGradient(n,l,_-n,h-l,i,o,s,r),this.gctx.fill()}set_clip_rectangle(t,e,i,s){if(this.clipCount>0){if(this.clipCount>=10)return!1;t=Math.max(t,this.clip[this.clipCount-1].ll.x),e=Math.max(e,this.clip[this.clipCount-1].ll.y),i=Math.min(i,this.clip[this.clipCount-1].ur.x),s=Math.min(s,this.clip[this.clipCount-1].ur.y)}return this.clip[this.clipCount]=new o.k(t,e,i,s),this.clipCount++,this.gctx.restore(),this.gctx.save(),this.gctx.beginPath(),this.gctx.rect(t,e,i-t,s-e),this.gctx.clip(),!0}reset_clip_rectangle(){this.clipCount?(this.clipCount--,this.clipCount>0?(this.gctx.restore(),this.gctx.save(),this.gctx.beginPath(),this.gctx.rect(this.clip[this.clipCount-1].ll.x,this.clip[this.clipCount-1].ll.y,this.clip[this.clipCount-1].width(),this.clip[this.clipCount-1].height()),this.gctx.clip()):(this.gctx.restore(),this.gctx.save())):console.log("Clip mismatch")}get_clip_rectangle(){return this.clip[this.clipCount-1]||null}set_customcolors(t){this.customcolors[0]=t,this.customcolors_cnt=1}push_customcolors(t){if(this.customcolors_cnt>this.CUSTOMCOLORS_STACK_SIZE)console.log("** Max number custom colors exceede");else{for(let t=this.customcolors_cnt;t>0;t--)this.customcolors[t]=this.customcolors[t-1];this.customcolors[0]=t,this.customcolors_cnt++}}pop_customcolors(){this.customcolors_cnt;for(let t=0;t<this.customcolors_cnt-1;t++)this.customcolors[t]=this.customcolors[t+1];this.customcolors_cnt--}get_customcolors(){return this.customcolors_cnt?this.customcolors[0]:null}}},,,,,,function(t,e,i){"use strict";i.r(e);var o,s=i(1),r=i(7),a=i(15),n=i(0),l=i(4),_=i(20),h=i(3);class c extends s.h{constructor(t,e,i){super(e||0,i||0),this.z_x=()=>this.x*this.ctx.mw.zoom_factor.x,this.z_y=()=>this.y*this.ctx.mw.zoom_factor.y,this.ctx=t}type(){return n.C.Point}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Point:break;case n.v.Point_x:this.x=t.consumeFloat();break;case n.v.Point_y:this.y=t.consumeFloat();break;case n.v.End:return;default:console.log("Syntax error in GlowPoint:",e),t.consumeLine()}}}}class u{constructor(t,e=0,i=0,o=0,s=0,r=0,a=0,n=h.a.Line,l=1,_=!1){this.ctx=t,this.angle1=r,this.angle2=a,this.ll=new c(t,e,i),this.ur=new c(t,o,s),this.draw_type=n,this.line_width=l,this.fill=_}type(){return n.C.Arc}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Arc:break;case n.v.Arc_draw_type:this.draw_type=t.consumeInt();break;case n.v.Arc_angle1:this.angle1=t.consumeInt();break;case n.v.Arc_angle2:this.angle2=t.consumeInt();break;case n.v.Arc_line_width:this.line_width=t.consumeInt();break;case n.v.Arc_fill:this.fill=t.consumeBool();break;case n.v.Arc_ll:this.ll.open(t);break;case n.v.Arc_ur:this.ur.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowArc:",e),t.consumeLine()}}}draw(t,e){let i=this.ll.z_x()-this.ctx.mw.offset.x,o=this.ll.z_y()-this.ctx.mw.offset.y,s=this.ur.z_x()-this.ctx.mw.offset.x,r=this.ur.z_y()-this.ctx.mw.offset.y;if(i===s&&o===r)return;let a=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);a+=e,a=Math.max(0,a),a=Math.min(a,n.f-1),this.ctx.gdraw.arc(i,o,s-i,r-o,this.angle1,this.angle2,this.draw_type,!1,a,t)}draw_shadow(t,e,i,o){let s=this.ll.z_x()-this.ctx.mw.offset.x,r=this.ll.z_y()-this.ctx.mw.offset.y,a=this.ur.z_x()-this.ctx.mw.offset.x,_=this.ur.z_y()-this.ctx.mw.offset.y,c=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);c+=o,c=Math.max(0,c),c=Math.min(c,n.f-1);let u=Number(this.border);this.shadow&&c>2&&(0===this.angle1?(this.ctx.gdraw.arc(s+c/2-c+u,r+c/2-c+u,a-s+c-2*u,_-r+c-2*u,this.angle1+45,this.angle2-45,l.a.shift_drawtype(this.draw_type,-2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-c+u,r+c/2-c+u,a-s+c-2*u,_-r+c-2*u,this.angle1,this.angle2-45,l.a.shift_drawtype(this.draw_type,2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-u,r+c/2-u,Math.max(0,a-s-c+2*u),Math.max(0,_-r-c+2*u),this.angle1+45,this.angle2-45,l.a.shift_drawtype(this.draw_type,2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-u,r+c/2-u,Math.max(0,a-s-c+2*u),Math.max(0,_-r-c+2*u),this.angle1,this.angle2-45,l.a.shift_drawtype(this.draw_type,-2,null),!1,0,i)):90===this.angle1?(this.ctx.gdraw.arc(s+c/2-c+u,r+c/2-c+u,a-s+c-2*u,_-r+c-2*u,this.angle1,this.angle2,l.a.shift_drawtype(this.draw_type,-2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-u,r+c/2-u,Math.max(0,a-s-c+2*u),Math.max(0,_-r-c+2*u),this.angle1,this.angle2,l.a.shift_drawtype(this.draw_type,2,null),!1,0,i)):180===this.angle1?(this.ctx.gdraw.arc(s+c/2-c+u,r+c/2-c+u,a-s+c-2*u,_-r+c-2*u,this.angle1+45,this.angle2-45,l.a.shift_drawtype(this.draw_type,2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-c+u,r+c/2-c+u,a-s+c-2*u,_-r+c-2*u,this.angle1,this.angle2-45,l.a.shift_drawtype(this.draw_type,-2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-u,r+c/2-u,Math.max(0,a-s-c+2*u),Math.max(0,_-r-c+2*u),this.angle1+45,this.angle2-45,l.a.shift_drawtype(this.draw_type,-2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-u,r+c/2-u,Math.max(0,a-s-c+2*u),Math.max(0,_-r-c+2*u),this.angle1,this.angle2-45,l.a.shift_drawtype(this.draw_type,2,null),!1,0,i)):270===this.angle1&&(this.ctx.gdraw.arc(s+c/2-c+u,r+c/2-c+u,a-s+c-2*u,_-r+c-2*u,this.angle1,this.angle2,l.a.shift_drawtype(this.draw_type,2,null),!1,0,i),this.ctx.gdraw.arc(s+c/2-u,r+c/2-u,Math.max(0,a-s-c+2*u),Math.max(0,_-r-c+2*u),this.angle1,this.angle2,l.a.shift_drawtype(this.draw_type,-2,null),!1,0,i))),t&&(this.ctx.gdraw.arc(s+c/2-c,r+c/2-c,a-s+c,_-r+c,this.angle1,this.angle2,h.a.Line,!1,0,i),c>0&&this.ctx.gdraw.arc(s+c/2,r+c/2,Math.max(0,a-s-c),Math.max(0,_-r-c),this.angle1,this.angle2,h.a.Line,!1,0,i))}get_borders(t,e,i){e.set(s.k.union(e,new s.k(t.x+this.ll.x,t.y+this.ll.y,t.x+this.ur.x,t.y+this.ur.y)))}}class d{constructor(t){this.ctx=t,this.p_dest=new c(t),this.p1=new c(t),this.p2=new c(t)}type(){return n.C.Arrow}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Arrow:break;case n.v.Arrow_arrow_width:this.arrow_width=t.consumeFloat();break;case n.v.Arrow_arrow_length:this.arrow_length=t.consumeFloat();break;case n.v.Arrow_draw_type:this.draw_type=t.consumeInt();break;case n.v.Arrow_line_width:this.line_width=t.consumeInt();break;case n.v.Arrow_p_dest:this.p_dest.open(t);break;case n.v.Arrow_p1:this.p1.open(t);break;case n.v.Arrow_p2:this.p2.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowArrow:",e),t.consumeLine()}}}}class m extends s.k{constructor(t){super(),this.point_x=new Array(m.MAX_POINT),this.point_y=new Array(m.MAX_POINT),this.highlight=!1,this.hot=!1,this.ctx=t,this.line_a=new wt(t),this.arc_a=new wt(t),this.arrow_a=new wt(t),this.ref_a=new wt(t)}type(){return n.C.Con}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Con:break;case n.v.Con_cc:{let e=t.consumeLine();this.cc=this.ctx.get_conclass_from_name(e),this.cc||console.log("GlowCon: ConClass not found:",e);break}case n.v.Con_c_name:this.c_name=t.consumeLine();break;case n.v.Con_x_right:this.ur.x=t.consumeFloat();break;case n.v.Con_x_left:this.ll.x=t.consumeFloat();break;case n.v.Con_y_high:this.ur.y=t.consumeFloat();break;case n.v.Con_y_low:this.ll.y=t.consumeFloat();break;case n.v.Con_dest_node:{let e=t.consumeLine();this.dest_node=this.ctx.get_node_from_name(e),this.dest_node||console.log("GlowCon:dest_node not found:",e);break}case n.v.Con_source_node:{let e=t.consumeLine();this.source_node=this.ctx.get_node_from_name(t.consumeLine()),this.source_node||console.log("GlowCon:source_node not found:",e);break}case n.v.Con_dest_conpoint:this.dest_conpoint=t.consumeInt();break;case n.v.Con_source_conpoint:this.source_conpoint=t.consumeInt();break;case n.v.Con_dest_direction:this.dest_direction=t.consumeInt();break;case n.v.Con_source_direction:this.source_direction=t.consumeInt();break;case n.v.Con_line_a:this.line_a.open(t);break;case n.v.Con_arc_a:this.arc_a.open(t);break;case n.v.Con_arrow_a:this.arrow_a.open(t);break;case n.v.Con_ref_a:this.ref_a.open(t);break;case n.v.Con_p_num:this.p_num=t.consumeInt();break;case n.v.Con_l_num:this.l_num=t.consumeInt();break;case n.v.Con_a_num:this.a_num=t.consumeInt();break;case n.v.Con_arrow_num:this.arrow_num=t.consumeInt();break;case n.v.Con_ref_num:this.ref_num=t.consumeInt();break;case n.v.Con_point_x:for(let e=0;e<this.p_num;e++)this.point_x[e]=t.consumeFloat();break;case n.v.Con_point_y:for(let e=0;e<this.p_num;e++)this.point_y[e]=t.consumeFloat();break;case n.v.Con_source_ref_cnt:this.source_ref_cnt=t.consumeInt();break;case n.v.Con_dest_ref_cnt:this.dest_ref_cnt=t.consumeInt();break;case n.v.Con_trace_object:this.trace_object=t.consumeLine();break;case n.v.Con_trace_attribute:this.trace_attribute=t.consumeLine();break;case n.v.Con_trace_attr_type:this.trace_attr_type=t.consumeInt();break;case n.v.Con_temporary_ref:this.temporary_ref=t.consumeBool();break;case n.v.Con_border:this.border=t.consumeBool();break;case n.v.Con_shadow:this.shadow=t.consumeBool();break;case n.v.End:return;default:console.log("Syntax error in GlowCon:",e),t.consumeLine()}}}draw(t=null,e=this.highlight,i=this.hot,o=null,r=null){if(this.temporary_ref||this.cc.con_type===s.d.Reference);else{let a=this.line_a.slice(0,this.l_num),l=this.arc_a.slice(0,this.a_num);a.forEach(s=>s.draw(t,e,i,o,r)),l.forEach(s=>s.draw(t,e,i,o,r)),(this.shadow||this.border)&&this.cc.con_type===s.d.Routed&&this.cc.corner===n.d.Rounded&&(a.forEach(t=>t.draw_shadow(this.border,this.shadow,e,i)),l.forEach(t=>t.draw_shadow(this.border,this.shadow,e,i)))}}static getName(){return"Con"}event_handler(t){return 0}}m.MAX_POINT=8,function(t){t[t.Common=0]="Common",t[t.Trace=1]="Trace"}(o||(o={}));class w{constructor(t){this.ctx=t}type(){return n.C.ConClass}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.ConClass:break;case n.v.ConClass_cc_name:this.cc_name=t.consumeLine();break;case n.v.ConClass_con_type:this.con_type=t.consumeInt();break;case n.v.ConClass_corner:this.corner=t.consumeInt();break;case n.v.ConClass_draw_type:this.draw_type=t.consumeInt();break;case n.v.ConClass_line_width:this.line_width=t.consumeInt();break;case n.v.ConClass_arrow_width:this.arrow_width=t.consumeFloat();break;case n.v.ConClass_arrow_length:this.arrow_length=t.consumeFloat();break;case n.v.ConClass_round_corner_amount:this.round_corner_amount=t.consumeFloat();break;case n.v.ConClass_group:this.group=t.consumeInt();break;case n.v.End:return;default:console.log("Syntax error in GlowConClass:",e),t.consumeLine()}}}}class f{constructor(){this.a11=1,this.a12=0,this.a13=0,this.a21=0,this.a22=1,this.a23=0,this.rotation=0}set(t){this.a11=t.a11,this.a12=t.a12,this.a13=t.a13,this.a21=t.a21,this.a22=t.a22,this.a23=t.a23,this.rotation=t.rotation}apply(t){return new c(t.ctx,t.x*this.a11+t.y*this.a12+this.a13,t.x*this.a21+t.y*this.a22+this.a23)}static multiply(t,e){if(!e)return t;if(!t)return e;let i=new f;return i.a11=t.a11*e.a11+t.a12*e.a21,i.a12=t.a11*e.a12+t.a12*e.a22,i.a13=t.a11*e.a13+t.a12*e.a23+t.a13,i.a21=t.a21*e.a11+t.a22*e.a21,i.a22=t.a21*e.a12+t.a22*e.a22,i.a23=t.a21*e.a13+t.a22*e.a23+t.a23,i.rotation=t.rotation+e.rotation,i}vertical_scale(){return Math.sqrt(this.a12*this.a12+this.a22*this.a22)}}class b extends f{constructor(){super(),this.stored=!1,this.s=new f}store(){this.s.set(this),this.stored=!0}revert(){this.set(this.s)}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Transform:break;case n.v.Transform_a11:this.a11=t.consumeFloat();break;case n.v.Transform_a12:this.a12=t.consumeFloat();break;case n.v.Transform_a13:this.a13=t.consumeFloat();break;case n.v.Transform_a21:this.a21=t.consumeFloat();break;case n.v.Transform_a22:this.a22=t.consumeFloat();break;case n.v.Transform_a23:this.a23=t.consumeFloat();break;case n.v.Transform_rotation:this.rotation=t.consumeFloat();break;case n.v.End:return;default:console.log("Syntax error in GlowTransform:",e),t.consumeLine()}}}scale(t,e,i,o){let s=new f;s.a11=t,s.a22=e,this.set(f.multiply(s,this)),this.a13+=i*(1-t),this.a23+=o*(1-e)}rotate(t,e,i){let o=-1,s=0;-90.01<t&&t<-89.99||(o=Math.sin(t/180*3.14159),s=Math.cos(t/180*3.14159));let r=new f;r.a11=s,r.a12=-o,r.a21=o,r.a22=s,r.rotation=t,this.set(f.multiply(r,this)),this.a13+=e*(1-s)+i*o,this.a23+=i*(1-s)-e*o}move(t,e){this.a13+=t,this.a23+=e}move_from_stored(t,e){this.a13=this.s.a13+t,this.a23=this.s.a23+e}posit(t,e){this.a13=t,this.a23=e}reverse(t,e){if(0===this.a11||this.a12*this.a21-this.a11*this.a22==0)return 0===this.a11&&0===this.a22&&0!==this.a12&&0!==this.a21?new s.h((e-this.a23)/this.a21,(t-this.a13)/this.a12):new s.h;let i=new s.h;return i.y=(this.a11*(this.a23-e)-this.a21*(this.a13-t))/(this.a12*this.a21-this.a11*this.a22),i.x=(t-this.a12*i.y-this.a13)/this.a11,i}is_stored(){return this.stored}}class y{constructor(t,e=0,i=0,o=0,r=n.h.Center){this.trace_attribute="",this.trace_attr_type=s.l.Boolean,this.ctx=t,this.trf=new b,this.number=o,this.p=new c(t,e,i),this.direction=r}type(){return n.C.ConPoint}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.ConPoint:break;case n.v.ConPoint_number:this.number=t.consumeInt();break;case n.v.ConPoint_direction:this.direction=t.consumeInt();break;case n.v.ConPoint_p:this.p.open(t);break;case n.v.ConPoint_trace_attr_type:this.trace_attr_type=t.consumeInt();break;case n.v.ConPoint_trace_attribute:this.trace_attribute=t.consumeLine();break;case n.v.ConPoint_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowConPoint:",e),t.consumeLine()}}}draw(){}event_handler(t){return 0}get_borders(t,e){}get_background_object_limits(t,e,i){return null}}class p{constructor(t,e=0,i=0,o=0,s=0,r=h.a.Line,a=1,n=!1){this.ctx=t,this.p1=new c(t,e,i),this.p2=new c(t,o,s),this.draw_type=r,this.line_width=a,this.fix_line_width=n}type(){return n.C.Line}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Line:break;case n.v.Line_draw_type:this.draw_type=t.consumeInt();break;case n.v.Line_line_width:this.line_width=t.consumeInt();break;case n.v.Line_p1:this.p1.open(t);break;case n.v.Line_p2:this.p2.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowLine:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=!1,s=!1){let r=this.p1.z_x()-this.ctx.mw.offset.x,a=this.p1.z_y()-this.ctx.mw.offset.y,l=this.p2.z_x()-this.ctx.mw.offset.x,_=this.p2.z_y()-this.ctx.mw.offset.y;if(r===l&&a===_)return;let h=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);h+=Number(i),h=Math.max(0,h),h=Math.min(h,n.f-1),this.ctx.gdraw.line(r,a,l,_,this.draw_type,h,n.y.Solid,e)}draw_shadow(t,e,i,o){let s=this.p1.z_x()-this.ctx.mw.offset.x,r=this.p1.z_y()-this.ctx.mw.offset.y,a=this.p2.z_x()-this.ctx.mw.offset.x,_=this.p2.z_y()-this.ctx.mw.offset.y;if(s===a&&r===_)return;let c=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);c+=o,c=Math.max(0,c),c=Math.min(c,n.f-1);let u=t;e&&c>2&&(s===a?(this.ctx.gdraw.line(s+c/2-c+u,r,a+c/2-c+u,_,l.a.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.line(s+c/2-u,r,a+c/2-u,_,l.a.shift_drawtype(this.draw_type,2,null),0,i)):(this.ctx.gdraw.line(s,r+c/2-c+u,a,_+c/2-c+u,l.a.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.line(s,r+c/2-u,a,_+c/2-u,l.a.shift_drawtype(this.draw_type,2,null),0,i))),t&&(s===a?(this.ctx.gdraw.line(s+c/2-c,r,a+c/2-c,_,h.a.Line,0,i),c>0&&this.ctx.gdraw.line(s+c/2,r,a+c/2,_,h.a.Line,0,i)):(this.ctx.gdraw.line(s,r+c/2-c,a,_+c/2-c,h.a.Line,0,i),c>0&&this.ctx.gdraw.line(s,r+c/2,a,_+c/2,h.a.Line,0,i)))}}var g=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class x{constructor(t,e,i=s.g.Common){this.nc_name="",this.group=0,this.slider=!1,this.next_nodeclass="",this.animation_count=0,this.cycle=n.e.Slow,this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.input_focus_mark=0,this.dynamicsize=0,this.userdata=null,this.argtype=new Array(20),this.argname=new Array(20),this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.dyn_color=new Array(4),this.dyn_attr=new Array(4),this.next_nc=null,this.prev_nc=null,this.recursive_trace=!1,this.ctx=t,this.a=new wt(t),this.nc_name=e,this.group=i}type(){return n.C.NodeClass}open(t){let e=!1;for(;;){let i=t.consumeInt();switch(i){case n.v.NodeClass:break;case n.v.NodeClass_nc_name:this.nc_name=t.consumeLine();break;case n.v.NodeClass_a:this.a.open(t);break;case n.v.NodeClass_group:this.group=t.consumeInt();break;case n.v.NodeClass_arg_cnt:this.arg_cnt=t.consumeInt();break;case n.v.NodeClass_argname:for(let e=0;e<this.arg_cnt;e++)this.argname[e]=t.consumeLine();break;case n.v.NodeClass_argtype:for(let e=0;e<this.arg_cnt;e++)this.argtype[e]=t.consumeInt();break;case n.v.NodeClass_no_con_obstacle:this.no_con_obstacle=t.consumeBool();break;case n.v.NodeClass_dyn_type1:this.dyn_type1=t.consumeInt();break;case n.v.NodeClass_dyn_type2:this.dyn_type2=t.consumeInt();break;case n.v.NodeClass_dyn_action_type1:this.action_type1=t.consumeInt();break;case n.v.NodeClass_dyn_action_type2:this.action_type2=t.consumeInt();break;case n.v.NodeClass_dyn_color1:case n.v.NodeClass_dyn_color2:case n.v.NodeClass_dyn_color3:case n.v.NodeClass_dyn_color4:{let e=i-n.v.NodeClass_dyn_color1;this.dyn_color[e]=t.consumeInt();break}case n.v.NodeClass_dyn_attr1:case n.v.NodeClass_dyn_attr2:case n.v.NodeClass_dyn_attr3:case n.v.NodeClass_dyn_attr4:{let e=i-n.v.NodeClass_dyn_attr1;this.dyn_attr[e]=t.consumeInt();break}case n.v.NodeClass_java_name:t.consumeLine();break;case n.v.NodeClass_slider:this.slider=t.consumeBool();break;case n.v.NodeClass_next_nodeclass:this.next_nodeclass=t.consumeLine();break;case n.v.NodeClass_animation_count:this.animation_count=t.consumeInt();break;case n.v.NodeClass_cycle:this.cycle=t.consumeInt();break;case n.v.NodeClass_y0:this.y0=t.consumeFloat();break;case n.v.NodeClass_y1:this.y1=t.consumeFloat();break;case n.v.NodeClass_x0:this.x0=t.consumeFloat();break;case n.v.NodeClass_x1:this.x1=t.consumeFloat();break;case n.v.NodeClass_input_focus_mark:this.input_focus_mark=t.consumeInt();break;case n.v.NodeClass_recursive_trace:this.recursive_trace=t.consumeBool();break;case n.v.NodeClass_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.NodeClass_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.NodeClass_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.NodeClass));break;case n.v.End:e=!0;break;default:console.log("Syntax error in GlowNodeClass:",i),t.consumeLine()}if(e)break}null!==this.next_nodeclass&&""!==this.next_nodeclass&&(this.next_nc=this.ctx.get_nodeclass_from_name(this.next_nodeclass),null===this.next_nc?(console.log("GlowNode:next_nodeclass not found: ",this.nc_name,this.next_nodeclass),console.log("Note! nodeclass has to be intern")):null!==this.next_nc.prev_nc?(this.next_nc=null,console.log("GlowNode:next_nodeclass already chained: ",this.nc_name,this.next_nodeclass)):this.next_nc.prev_nc=this)}event_handler(t){return g(this,void 0,void 0,function*(){for(let e=0;e<this.a.length;e++){let i=yield this.a[e].event_handler(t);if(i)return i}return 0})}draw(t=null,e=!1,i=!1,o=null,s=null){this.a.forEach(r=>r.draw(t,e,i,o,s))}get_borders(t,e){let i=this.get_base_nc();if(t&&!(Math.abs(t.rotation/90-Math.floor(t.rotation/90))<Number.EPSILON)||(Math.abs(i.x0-i.x1)<Number.EPSILON||Math.abs(i.y0-i.y1)<Number.EPSILON))this.a.forEach(i=>i.get_borders(t,e));else{let o=new c(this.ctx,i.x0,i.y0),r=new c(this.ctx,i.x1,i.y1);t&&(o=t.apply(o),r=t.apply(r)),e.set(s.k.union(e,new s.k(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.max(o.x,r.x),Math.max(o.y,r.y))))}}get_obstacle_borders(t,e,i){this.group!==s.g.Document?this.a.forEach(o=>o.get_borders(t,e,i)):this.a.filter(t=>t.type()===n.C.Rect).forEach(o=>o.get_borders(t,e,i))}get_base_nc(){let t;for(t=this;null!==t.prev_nc;t=t.prev_nc);return t}getAnnotBackground(t,e){for(let i=this.a.length-1;i>=0;i--)if(this.a[i].type()===n.C.GrowRect){let o=this.a[i].getAnnotBackground(t,e);if(o)return o}return null}getAnnotationInfo(t,e){for(let i=this.a.length-1;i>=0;i--)if(this.a[i].type()===n.C.GrowAnnot&&this.a[i].getNumber()===e)return this.a[i].getAnnotationInfo(t);return null}getAnnotationTextExtent(t,e,i){for(let o=0;o<this.a.length;o++)if(this.a[o].type()===n.C.GrowAnnot&&this.a[o].getNumber()===i){let i=this.a[o].getTextExtent(t,e);return i.x/=this.ctx.mw.zoom_factor.x,i.y/=this.ctx.mw.zoom_factor.y,i}return null}}class v extends x{constructor(t,e,i){super(t,e,s.g.Common),i&&(this.a=Object.assign({},i))}type(){return n.C.NodeGroup}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.NodeGroup:break;case n.v.NodeGroup_nodeclass_part:super.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowNodeGroup:",e),t.consumeLine()}}}}class C{constructor(t,e=0,i=0,o=0,r=0,a=h.a.Line,n=1,l=!1,_=s.e.One,u=!1){this.draw_type=0,this.ctx=t,this.ll=new c(t,e,i),this.ur=new c(t,e+o,i+r),this.draw_type=a,this.line_width=n,this.fix_line_width=l,this.display_level=_,this.fill=u}type(){return n.C.Rect}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Rect:break;case n.v.Rect_draw_type:this.draw_type=t.consumeInt();break;case n.v.Rect_line_width:this.line_width=t.consumeInt();break;case n.v.Rect_display_level:this.display_level=t.consumeInt();break;case n.v.Rect_fill:this.fill=t.consumeBool();break;case n.v.Rect_ll:this.ll.open(t);break;case n.v.Rect_ur:this.ur.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowRect:",e),t.consumeLine()}}}draw(t,e=!1,i=!1,o=null){let r=Object(s.q)(this.line_width+Number(i),0,n.f-1);this.ctx.gdraw.rect(this.ll.x+t.x,this.ll.y+t.y,this.ur.x-this.ll.x,this.ur.y-this.ll.y,this.draw_type,this.fill,r*Number(this.fill),e)}get_borders(t,e,i){this.display_level===s.e.One&&e.set(s.k.union(e,new s.k(t.x+this.ll.x,t.y+this.ll.y,t.x+this.ur.x,t.y+this.ur.y)))}}class G{constructor(t,e,i=0,o=0,r=h.a.TextHelveticaBold,a=h.a.Line,n=2,l=s.e.One){this.ctx=t,this.p=new c(t,i,o),this.draw_type=r,this.text_size=n,this.display_level=l,this.color_drawtype=a,this.text=e}type(){return n.C.Text}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Text:break;case n.v.Text_draw_type:this.draw_type=t.consumeInt();break;case n.v.Text_text_size:this.text_size=t.consumeInt();break;case n.v.Text_color_drawtype:this.color_drawtype=t.consumeInt();break;case n.v.Text_text:this.text=t.consumeLine();break;case n.v.Text_p:this.p.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowText:",e),t.consumeLine()}}}draw(t,e=!1,i=!1,o=null){Object(s.q)(this.text_size,0,n.f-1);this.ctx.gdraw.text(this.p.x+t.x,this.p.y+t.y,this.text,this.draw_type,this.color_drawtype,n.j.Helvetica,8+2*this.text_size,0,e)}}class k{constructor(t,e=0,i=0,o=0,r=h.a.TextHelveticaBold,a=h.a.Line,l=2,_=n.b.OneLine,u=!1,d=s.e.One){this.protect=!1,this.ctx=t,this.number=o,this.p=new c(t,e,i),this.draw_type=r,this.text_size=l,this.annot_type=_,this.relative_pos=u,this.display_level=d,this.color_drawtype=a,this.font=n.j.Helvetica}type(){return n.C.Annot}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Annot:break;case n.v.Annot_number:this.number=t.consumeInt();break;case n.v.Annot_draw_type:this.draw_type=t.consumeInt();break;case n.v.Annot_color_drawtype:this.color_drawtype=t.consumeInt();break;case n.v.Annot_text_size:this.text_size=t.consumeInt();break;case n.v.Annot_display_level:this.display_level=t.consumeInt();break;case n.v.Annot_p:this.p.open(t);break;case n.v.Annot_annot_type:this.annot_type=t.consumeInt();break;case n.v.Annot_font:this.font=t.consumeInt();break;case n.v.Annot_protect:this.protect=t.consumeBool();break;case n.v.End:return;default:console.log("Syntax error in GlowAnnot:",e),t.consumeLine()}}}}class T extends k{constructor(t,e=0,i=0,o=0,r=h.a.TextHelveticaBold,a=h.a.Line,l=2,_=n.b.OneLine,c=!1,u=s.e.One){super(t,e,i,o,r,a,l,_,c,u),this.adjustment=n.a.Left,this.trf=new b}type(){return n.C.GrowAnnot}getNumber(){return this.number}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowAnnot:break;case n.v.GrowAnnot_adjustment:this.adjustment=t.consumeInt();break;case n.v.GrowAnnot_annot_part:super.open(t);break;case n.v.GrowAnnot_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowAnnot:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){if(null===o.annotv[this.number])return;let a=f.multiply(t,this.trf),_=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,c=Math.floor(a.vertical_scale()*_*(this.text_size+4)-4),u=a.vertical_scale()*_*(8+2*this.text_size);if(c<0)return;c=Math.min(c,n.f-1);let d,m,w=new s.h;null!==o&&o.annot_scrollingtext===this.number&&(w=new s.h(o.annot_offset.z_x(),o.annot_offset.z_y())),null!==o&&o.text_font!==n.j.No?(d=o.text_font,m=o.text_type):(d=this.font,m=this.draw_type);let b=a.apply(this.p);b.x=Math.floor(b.z_x()+w.x)-this.ctx.mw.offset.x,b.y=Math.floor(b.z_y()+w.y)-this.ctx.mw.offset.y;let y=Math.floor(a.rotation<0?a.rotation%360+360:a.rotation%360);switch(this.annot_type){case n.b.OneLine:let i,s=l.a.get_drawtype(this.color_drawtype,h.a.LineHighlight,e,r,2,!1);((y<45||y>=315)&&o.annotv_inputmode[this.number]&&o.input_selected||!(y<45||y>=315)||this.adjustment===n.a.Right||this.adjustment===n.a.Center)&&(i=this.getTextExtent(t,o)),this.adjustment===n.a.Right?b.x-=i.width:this.adjustment===n.a.Center&&(b.x-=i.width/2),y<45||y>=315?o.annotv_inputmode[this.number]&&o.input_selected&&this.ctx.gdraw.rect(b.x,b.y-i.height+i.descent,i.width,i.height,h.a.MediumGray,!0):this.adjustment===n.a.Center?y>=45&&y<135?(b.x+=i.width/2,b.y+=i.width/2):y>=135&&y<225?b.y+=i.height-i.descent:y>=225&&y<315?(b.x+=i.width/2-i.height+i.descent,b.y-=i.width/2-i.height+i.descent):b.x-=i.width:(y>=45&&y<135?b.y+=i.height-i.descent:y>=135&&y<225?(b.x-=i.width,b.y+=i.height-i.descent):b.x-=i.width,y=0),this.ctx.gdraw.text(b.x,b.y,o.annotv[this.number],m,s,d,u,y,e);break;case n.b.MultiLine:}}getTextExtent(t,e){if(null===e.annotv[this.number]||""===e.annotv[this.number])return new s.h;let i=f.multiply(t,this.trf).vertical_scale(),o=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,r=Math.floor(i*o*(this.text_size+4)-4),a=i*o*(8+2*this.text_size);return r<0?new s.h:(r=Math.min(r,n.f-1),this.ctx.gdraw.getTextExtent(e.annotv[this.number],this.draw_type,this.font,a))}event_handler(t){return 0}get_borders(t,e){}get_background_object_limits(t,e,i){return null}getAnnotationInfo(t){let e=this.draw_type,i=this.font;return t&&t.text_font!==n.j.No&&(e=t.text_type,i=t.text_font),{color:l.a.get_drawtype(this.color_drawtype,h.a.LineHighlight,!1,t,2,!1),size:this.text_size,type:this.annot_type,font:i,drawtype:e}}}class S extends u{constructor(t){super(t),this.n_name="",this.background_drawtype=h.a.No,this.trf=new b}type(){return n.C.GrowArc}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowArc:break;case n.v.GrowArc_n_name:this.n_name=t.consumeLine();break;case n.v.GrowArc_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowArc_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowArc_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowArc_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowArc_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case n.v.GrowArc_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case n.v.GrowArc_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case n.v.GrowArc_background_drawtype:this.background_drawtype=t.consumeInt();break;case n.v.GrowArc_border:this.border=t.consumeBool();break;case n.v.GrowArc_shadow_width:this.shadow_width=t.consumeFloat();break;case n.v.GrowArc_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case n.v.GrowArc_shadow:this.shadow=t.consumeBool();break;case n.v.GrowArc_relief:this.relief=t.consumeInt();break;case n.v.GrowArc_disable_shadow:this.disable_shadow=t.consumeBool();break;case n.v.GrowArc_fixcolor:this.fixcolor=t.consumeBool();break;case n.v.GrowArc_fixposition:this.fixposition=t.consumeBool();break;case n.v.GrowArc_gradient:this.gradient=t.consumeInt();break;case n.v.GrowArc_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case n.v.GrowArc_disable_gradient:this.disable_gradient=t.consumeBool();break;case n.v.GrowArc_fill_eq_background:this.fill_eq_background=t.consumeBool();break;case n.v.GrowArc_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowArc_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowArc_arc_part:super.open(t);break;case n.v.GrowArc_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowArc:",e),t.consumeLine()}}}event_handler(t){if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y);return this.ll.x<=e.x&&e.x<=this.ur.x&&this.ll.y<=e.y&&e.y<=this.ur.y}draw(t=null,e=!1,i=!1,o=null,r=null){let a=0;this.ctx.hot_indication===n.x.No?i=!1:this.ctx.hot_indication===n.x.DarkColor?(a=Number(i),i=!1):this.ctx.hot_indication===n.x.LightColor&&(a=-Number(i),i=!1),this.fixcolor&&(r=null);let _=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor;_*=o&&o.line_width?o.line_width:this.line_width,_=Object(s.q)(Math.floor(_-1)+Number(i),0,n.f-1);let c=f.multiply(t,this.trf),u=c.apply(this.ll),d=c.apply(this.ur),m=u.z_x()-this.ctx.mw.offset.x,w=u.z_y()-this.ctx.mw.offset.y,b=d.z_x()-this.ctx.mw.offset.x,y=d.z_y()-this.ctx.mw.offset.y,p=Math.floor(c.rotation);if(p%90&&Math.abs(this.ur.x-this.ll.x-(this.ur.y-this.ll.y))<Number.MIN_VALUE){let t=f.multiply(c,this.trf).vertical_scale(),e=(u.z_x()-this.ctx.mw.offset.x+(d.z_x()-this.ctx.mw.offset.x))/2,i=(u.z_y()-this.ctx.mw.offset.y+(d.z_y()-this.ctx.mw.offset.y))/2;m=-t*(this.ur.z_x()-this.ll.z_x())/2+e,w=-t*(this.ur.z_y()-this.ll.z_y())/2+i,b=t*(this.ur.z_x()-this.ll.z_x())/2+e,y=t*(this.ur.z_y()-this.ll.z_y())/2+i}let g=Math.min(m,b),x=Math.max(m,b),v=Math.min(w,y),C=Math.max(w,y);if(this.fill){let t,i=(null!==o&&o.shadow||this.shadow)&&!this.disable_shadow;t=this.fill_eq_background?l.a.get_drawtype(this.background_drawtype,h.a.FillHighlight,e,r,3,!1):l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,r,1,!1);let s=this.gradient;if(this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(s=o.gradient),i&&0!==this.shadow_width&&360===this.angle2){let e=this.shadow_width/100*Math.min(x-g,C-v),i=this.shadow_contrast;if(this.relief===n.D.Down&&(i=-this.shadow_contrast),s===n.w.No||t===h.a.ColorRed){let o=l.a.shift_drawtype(t,-i+a,r);this.ctx.gdraw.arc(g,v,x-g,C-v,35,140,o,!0),o=l.a.shift_drawtype(t,i+a,r),this.ctx.gdraw.arc(g,v,x-g,C-v,215,140,o,!0),o=0===a?t:l.a.shift_drawtype(t,a,null),this.ctx.gdraw.arc(g,v,x-g,C-v,-5,40,o,!0),this.ctx.gdraw.arc(g,v,x-g,C-v,175,40,o,!0),this.ctx.gdraw.arc(g+e,v+e,x-g-2*e,C-v-2*e,this.angle1-p,this.angle2,o,!0)}else{let o=l.a.shift_drawtype(t,-i+a,r),_=l.a.shift_drawtype(t,i+a,r);this.ctx.gdraw.gradient_fill_arc(g,v,x-g,C-v,this.angle1-p,this.angle2,t,_,o,n.w.DiagonalUpperLeft),this.gradient_contrast,_=l.a.shift_drawtype(t,-this.gradient_contrast/2+a,null),o=l.a.shift_drawtype(t,this.gradient_contrast/2+a,null),this.ctx.gdraw.gradient_fill_arc(g+e,v+e,x-g-2*e,C-v-2*e,this.angle1-p,this.angle2,t,o,_,s)}}else if(s===n.w.No||t===h.a.ColorRed){let e=0===a?t:l.a.shift_drawtype(t,a,null);this.ctx.gdraw.arc(g,v,x-g,C-v,this.angle1-p,this.angle2,e,!0)}else{let e,i;this.gradient_contrast,i=l.a.shift_drawtype(t,-this.gradient_contrast/2+a,null),e=l.a.shift_drawtype(t,this.gradient_contrast/2+a,null),this.ctx.gdraw.gradient_fill_arc(g,v,x-g,C-v,this.angle1-p,this.angle2,t,e,i,s)}}if(this.border||!this.fill){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);this.ctx.gdraw.arc(g,v,x-g,C-v,this.angle1-p,this.angle2,t,!1,_)}}get_borders(t,e){let i=f.multiply(t,this.trf),o=i.apply(this.ll),r=i.apply(this.ur);e.set(s.k.union(e,new s.k(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.max(o.x,r.x),Math.max(o.y,r.y))))}get_background_object_limits(t,e,i){return null}}var I,L=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class A extends C{constructor(t,e,i=0,o=0,r=0,a=0,l=h.a.Line,_=1,c=!1,u=s.e.One,d=!1,m=!0,w=!1,f=h.a.Line,y=!1){if(super(t,i,o,r,a,l,_,c,u,d),this.n_name=null,this.original_border_drawtype=0,this.original_fill_drawtype=0,this.fill_drawtype=0,this.background_drawtype=h.a.No,this.border=!1,this.shadow_width=5,this.shadow_contrast=2,this.shadow=!1,this.relief=n.D.Up,this.disable_shadow=!1,this.invisible=!1,this.fixcolor=!1,this.fixposition=!1,this.gradient=n.w.No,this.gradient_contrast=4,this.disable_gradient=!1,this.bgcolor_gradient=!1,this.fill_eq_background=!1,this.dynamicsize=0,this.userdata=null,this.original_border_drawtype=l,this.original_fill_drawtype=f,this.fill_drawtype=f,this.border=m,this.shadow=w,this.n_name=e,this.trf=new b,t.grid_on){let e=t.find_grid(this.ll);this.ll.set(e),e=t.find_grid(this.ur),this.ur.set(e)}this.get_node_borders(),y||t.set_dirty()}type(){return n.C.GrowRect}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowRect:break;case n.v.GrowRect_n_name:this.n_name=t.consumeLine();break;case n.v.GrowRect_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowRect_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowRect_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowRect_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowRect_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case n.v.GrowRect_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case n.v.GrowRect_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case n.v.GrowRect_background_drawtype:this.background_drawtype=t.consumeInt();break;case n.v.GrowRect_border:this.border=t.consumeBool();break;case n.v.GrowRect_shadow_width:this.shadow_width=t.consumeFloat();break;case n.v.GrowRect_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case n.v.GrowRect_shadow:this.shadow=t.consumeBool();break;case n.v.GrowRect_relief:this.relief=t.consumeInt();break;case n.v.GrowRect_disable_shadow:this.disable_shadow=t.consumeBool();break;case n.v.GrowRect_invisible:this.invisible=t.consumeBool();break;case n.v.GrowRect_fixcolor:this.fixcolor=t.consumeBool();break;case n.v.GrowRect_fixposition:this.fixposition=t.consumeBool();break;case n.v.GrowRect_gradient:this.gradient=t.consumeInt();break;case n.v.GrowRect_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case n.v.GrowRect_disable_gradient:this.disable_gradient=t.consumeBool();break;case n.v.GrowRect_bgcolor_gradient:this.bgcolor_gradient=t.consumeBool();break;case n.v.GrowRect_fill_eq_background:this.fill_eq_background=t.consumeBool();break;case n.v.GrowRect_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowRect_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowRect_rect_part:super.open(t);break;case n.v.GrowRect_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowRect:",e),t.consumeLine()}}}event_handler(t){return L(this,void 0,void 0,function*(){if(!(t.event instanceof MouseEvent)||"mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y);return Number(this.ll.x<=e.x&&e.x<=this.ur.x&&this.ll.y<=e.y&&e.y<=this.ur.y)})}draw(t=null,e=!1,i=!1,o=null,r=null){if(this.invisible&&(!e||null!==o))return;let a;this.fixcolor&&(r=null),a=null!==o&&o.line_width?this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1:this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1,a+=i,a=Math.max(0,a),a=Math.min(a,n.f-1);let _,c=f.multiply(t,this.trf),u=c.apply(this.ll),d=c.apply(this.ur),m=u.z_x()-this.ctx.mw.offset.x,w=u.z_y()-this.ctx.mw.offset.y,b=d.z_x()-this.ctx.mw.offset.x,y=d.z_y()-this.ctx.mw.offset.y,p=Math.min(m,b),g=Math.max(m,b),x=Math.min(w,y),v=Math.max(w,y),C=this.shadow_width/100*Math.min(g-p,v-x)+.5,G=(null!==o&&o.shadow||this.shadow)&&!this.disable_shadow;_=this.fill_eq_background?l.a.get_drawtype(this.background_drawtype,h.a.FillHighlight,e,r,3,!1):l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,r,1,!1);let k=this.gradient;if(this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(k=o.gradient),G&&C){let t=this.relief===n.D.Down?-this.shadow_contrast:this.shadow_contrast,e=l.a.shift_drawtype(_,0-t,r),i=[new s.h(p,x),new s.h(g,x),new s.h(g-C,x+C),new s.h(p+C,x+C),new s.h(p+C,v-C),new s.h(p,v),new s.h(p,x)];this.ctx.gdraw.polyline(i,7,e,!0),e=l.a.shift_drawtype(_,t+0,r),i=[new s.h(g,v),new s.h(p,v),new s.h(p+C,v-C),new s.h(g-C,v-C),new s.h(g-C,x+C),new s.h(g,x),new s.h(g,v)],this.ctx.gdraw.polyline(i,7,e,!0)}if(this.fill)if(G&&C)if(k===n.w.No||_===h.a.ColorRed){let t=_;this.ctx.gdraw.rect(p+C,x+C,g-p-2*C,v-x-2*C,t,!0)}else{let t,i=_,o=_;this.bgcolor_gradient&&this.background_drawtype!==h.a.No?i=t=l.a.get_drawtype(this.background_drawtype,h.a.FillHighlight,e,r,1,!1):(this.gradient_contrast,o=l.a.shift_drawtype(_,-this.gradient_contrast/2+l.a.shift_drawtype(_,0,null),null),t=l.a.shift_drawtype(_,this.gradient_contrast/2+l.a.shift_drawtype(_,0,null),null)),this.ctx.gdraw.gradient_fill_rect(p+C,x+C,g-p-2*C,v-x-2*C,i,t,o,this.ctx.gdraw.gradient_rotate(c.rotation,k))}else if(k===n.w.No||_===h.a.ColorRed){let t=_;this.ctx.gdraw.rect(p,x,g-p,v-x,t,!0)}else{let t,i=_,o=_;this.bgcolor_gradient&&this.background_drawtype!==h.a.No?i=t=l.a.get_drawtype(this.background_drawtype,h.a.FillHighlight,e,r,1,!1):this.gradient_contrast>=0?(o=l.a.shift_drawtype(_,-this.gradient_contrast/2+0,null),t=l.a.shift_drawtype(_,this.gradient_contrast/2+0,null)):(o=l.a.shift_drawtype(_,-this.gradient_contrast/2+0,null),t=l.a.shift_drawtype(_,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_rect(p,x,g-p,v-x,i,t,o,this.ctx.gdraw.gradient_rotate(c.rotation,k))}if(this.border||!(this.fill||G&&this.shadow_width)){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);this.ctx.gdraw.rect(p,x,g-p,v-x,t,!1,a)}}get_borders(t,e){if(this.display_level!==s.e.One)return;let i=f.multiply(t,this.trf),o=i.apply(this.ll),r=i.apply(this.ur);e.set(s.k.union(e,new s.k(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.max(o.x,r.x),Math.max(o.y,r.y))))}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.get_borders(null,t),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}set_scale(t,e,i,o,s){if(this.trf.s.a11&&this.trf.s.a22&&Math.abs(t-this.trf.a11/this.trf.s.a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s.a22)<Number.MIN_VALUE)return;switch(s){case n.F.LowerLeft:i=this.x_left,o=this.y_low;break;case n.F.LowerRight:i=this.x_right,o=this.y_low;break;case n.F.UpperRight:i=this.x_right,o=this.y_high;break;case n.F.UpperLeft:i=this.x_left,o=this.y_high;break;case n.F.FixPoint:break;case n.F.Center:i=(this.x_left+this.x_right)/2,o=(this.y_low+this.y_high)/2}let r=this.x_left,a=this.x_right,l=this.y_low,_=this.y_high;switch(this.trf.revert(),this.trf.scale(t,e,i,o),this.get_node_borders(),s){case n.F.LowerLeft:this.x_left=r,this.y_low=l;break;case n.F.LowerRight:this.x_right=a,this.y_low=l;break;case n.F.UpperRight:this.x_right=a,this.y_high=_;break;case n.F.UpperLeft:this.x_left=r,this.y_high=_;break;case n.F.FixPoint:break;case n.F.Center:i=(this.x_left+this.x_right)/2,o=(this.y_low+this.y_high)/2}this.ctx.set_dirty()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return n.e.Slow}get_background_object_limits(t,e,i){return null}getAnnotBackground(t,e){return this.fill?l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,!1,e,1,!1):null}}!function(t){let e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};t.sprintf=function(t,...o){return function(t,i){let o,s,r,a,n,l,_,h,c,u=1,d=t.length,m="";for(s=0;s<d;s++)if("string"==typeof t[s])m+=t[s];else if("object"==typeof t[s]){if((a=t[s]).keys)for(o=i[u],r=0;r<a.keys.length;r++){if(null==o)throw new Error("[sprintf] Cannot access property "+a.keys[r]+" of undefined value "+a.keys[r-1]);o=o[a.keys[r]]}else o=a.param_no?i[a.param_no]:i[u++];if(e.not_type.test(a.type)&&e.not_primitive.test(a.type)&&o instanceof Function&&(o=o()),e.numeric_arg.test(a.type)&&"number"!=typeof o&&isNaN(o))throw new TypeError("[sprintf] expecting number but found");switch(e.number.test(a.type)&&(h=o>=0),a.type){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,a.width?parseInt(a.width,10):0);break;case"e":o=a.precision?parseFloat(o).toExponential(a.precision):parseFloat(o).toExponential();break;case"f":o=a.precision?parseFloat(o).toFixed(a.precision):parseFloat(o);break;case"g":o=a.precision?String(Number(o.toPrecision(a.precision))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=a.precision?o.substring(0,a.precision):o;break;case"t":o=String(!!o),o=a.precision?o.substring(0,a.precision):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=a.precision?o.substring(0,a.precision):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=a.precision?o.substring(0,a.precision):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase();break;case"m":o="Msg: "+parseInt(o,10)}e.json.test(a.type)?m+=o:(!e.number.test(a.type)||h&&!a.sign?c="":(c=h?"+":"-",o=o.toString().replace(e.sign,"")),l=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",_=a.width-(c+o).length,n=a.width&&_>0?l.repeat(_):"",m+=a.align?c+o+n:"0"===l?c+n+o:n+c+o)}return m}(function(t){if(i[t])return i[t];let o,s=t,r=[],a=0;for(;s;){if(null!==(o=e.text.exec(s)))r.push(o[0]);else if(null!==(o=e.modulo.exec(s)))r.push("%");else{if(null===(o=e.placeholder.exec(s)))throw new SyntaxError("[sprintf] unexpected placeholder");if(o[2]){a|=1;var n=[],l=o[2],_=[];if(null===(_=e.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(n.push(_[1]);""!==(l=l.substring(_[0].length));)if(null!==(_=e.key_access.exec(l)))n.push(_[1]);else{if(null===(_=e.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");n.push(_[1])}o[2]=n}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:o[0],param_no:o[1],keys:o[2],sign:o[3],pad_char:o[4],align:o[5],width:o[6],precision:o[7],type:o[8]})}s=s.substring(o[0].length)}return i[t]=r}(t),arguments)};let i=Object.create(null)}(I||(I={}));class M{constructor(t,e,i,o,s){this.lines=t,this.longq=e,this.vvalq=i,this.hvalq=o,this.format=s}}const N=[[new M(26,5,5,10,"%3.1f"),new M(21,5,5,10,"%3.1f"),new M(31,5,10,10,"%3.1f"),new M(41,5,10,20,"%3.1f"),new M(26,5,5,10,"%1.0f"),new M(31,5,10,10,"%1.0f"),new M(36,5,10,10,"%1.0f"),new M(17,2,4,4,"%1.0f"),new M(19,2,4,4,"%1.0f"),new M(21,2,4,8,"%2.0f"),new M(23,2,4,8,"%2.0f"),new M(13,4,4,4,"%2.0f"),new M(14,4,4,4,"%2.0f"),new M(15,4,4,4,"%2.0f"),new M(16,5,5,5,"%2.0f"),new M(17,5,5,5,"%2.0f"),new M(18,5,5,5,"%2.0f"),new M(19,5,5,5,"%2.0f"),new M(20,5,5,5,"%2.0f"),new M(21,5,5,5,"%2.0f"),new M(22,5,5,5,"%2.0f"),new M(23,5,5,5,"%2.0f"),new M(24,5,5,5,"%2.0f"),new M(25,5,5,5,"%2.0f"),new M(26,5,5,10,"%2.0f")],[new M(101,5,10,20,"%3.1f"),new M(101,5,10,20,"%3.1f"),new M(61,10,10,20,"%3.1f"),new M(81,10,10,20,"%3.1f"),new M(101,10,20,20,"%1.0f"),new M(61,5,10,20,"%1.0f"),new M(71,5,10,20,"%1.0f"),new M(81,5,10,20,"%1.0f"),new M(91,5,10,20,"%1.0f"),new M(101,5,10,20,"%2.0f"),new M(56,5,5,5,"%2.0f"),new M(61,5,10,10,"%2.0f"),new M(66,5,10,20,"%2.0f"),new M(71,5,10,20,"%2.0f"),new M(76,5,10,20,"%2.0f"),new M(81,5,10,20,"%2.0f"),new M(86,5,10,20,"%2.0f"),new M(91,5,10,20,"%2.0f"),new M(96,5,10,20,"%2.0f"),new M(101,5,10,25,"%2.0f"),new M(43,2,6,6,"%2.0f"),new M(45,2,4,8,"%2.0f"),new M(47,2,4,8,"%2.0f"),new M(49,2,4,8,"%2.0f"),new M(26,5,5,5,"%2.0f")]];class O extends A{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=2,c=h.a.TextHelvetica,u=!1){super(t,e,i,o,r-i,a-o,n,l,!1,s.e.One,!1,!0,!1,h.a.Line,!0),this.text_color_drawtype=h.a.Line,this.max_value=100,this.min_value=0,this.lines=11,this.longquotient=1,this.valuequotient=1,this.increment=0,this.format="%3.0f",this.sb=null,this.text_size=_,this.text_drawtype=c,this.text_color_drawtype=h.a.Line,this.configure(),u||t.set_dirty()}type(){return n.C.GrowAxis}configure(){this.lines<=1&&(this.lines=2),this.longquotient<=0&&(this.longquotient=1),this.valuequotient<=0&&(this.valuequotient=1),this.increment=(this.max_value-this.min_value)/(this.lines-1)}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowAxis:break;case n.v.GrowAxis_text_size:this.text_size=t.consumeInt();break;case n.v.GrowAxis_text_drawtype:this.text_drawtype=t.consumeInt();break;case n.v.GrowAxis_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case n.v.GrowAxis_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowAxis_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowAxis_lines:this.lines=t.consumeInt();break;case n.v.GrowAxis_longquotient:this.longquotient=t.consumeInt();break;case n.v.GrowAxis_valuequotient:this.valuequotient=t.consumeInt();break;case n.v.GrowAxis_format:this.format=t.consumeLine();break;case n.v.GrowAxis_rect_part:super.open(t);break;case n.v.GrowAxis_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return void this.configure();default:console.log("Syntax error in GrowAxis:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){let a,_,c=Math.abs(this.increment)>Number.MIN_VALUE,u=0,d=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,m=Math.floor(d*(this.text_size+4)-4),w=d*(8+2*this.text_size);if(m=Object(s.q)(m,0,n.f-1),null!==o&&o.invisible||this.invisible)return;let b=d;b*=null!==o&&o.line_width?o.line_width:this.line_width,b=Object(s.q)(b-1+Number(i),0,n.f-1);let y,p=f.multiply(t,this.trf),g=p.apply(this.ll),x=p.apply(this.ur),v=g.z_x()-this.ctx.mw.offset.x,C=g.z_y()-this.ctx.mw.offset.y,G=x.z_x()-this.ctx.mw.offset.x,k=x.z_y()-this.ctx.mw.offset.y,T=360*(p.rotation/360-Math.floor(p.rotation/360)),S=Math.min(v,G),I=Math.max(v,G),L=Math.min(C,k),A=Math.max(C,k),M=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);if(T<=45||T>315){if(this.ctx.gdraw.line(I,L,I,A,M,b),c){for(let t=0;t<this.lines;t++)if(t%this.valuequotient==0){let e=this.format_text(this.format,this.max_value-t*this.increment);u<(y=this.ctx.gdraw.getTextExtent(e,this.text_drawtype,n.j.Helvetica,w)).width&&(u=y.width)}_=S+u,a=Math.max(I-S-u,3)}else _=S,a=I-S;for(let t=0;t<this.lines;t++){let i=Math.floor(L+(A-L)/(this.lines-1)*t);if(t%this.longquotient==0?this.ctx.gdraw.line(I-a,i,I,i,M,b):this.ctx.gdraw.line(I-Math.floor(2/3*a),i,I,i,M,b),c){let o=this.format_text(this.format,this.max_value-t*this.increment);if(m>=0&&u<I-S&&t%this.valuequotient==0){let s;s=t===this.lines-1?i:0===t?i+y.height-y.descent-3:i+(y.height-y.descent)/2,this.ctx.gdraw.text(S,s,o,this.text_drawtype,this.text_color_drawtype,n.j.Helvetica,w,0,e)}}}}else if(T>45&&T<=135){this.ctx.gdraw.line(S,A,I,A,M,b),c?(y=this.ctx.gdraw.getTextExtent("0",this.text_drawtype,n.j.Helvetica,w),a=Math.max(A-L-y.height,3)):a=A-L;for(let t=0;t<this.lines;t++){let i=Math.floor(S+(I-S)/(this.lines-1)*(this.lines-1-t));if(t%this.longquotient==0?this.ctx.gdraw.line(i,A-a,i,A,M,b):this.ctx.gdraw.line(i,A-Math.floor(2/3*a),i,A,M,b),c&&t%this.valuequotient==0){let o=this.format_text(this.format,this.max_value-t*this.increment);y=this.ctx.gdraw.getTextExtent(o,this.text_drawtype,n.j.Helvetica,w),m>=0&&y.height<A-L&&(_=t===this.lines-1?i:0===t?i-y.width:i-y.width/2,this.ctx.gdraw.text(_,L+y.height-y.descent,o,this.text_drawtype,this.text_color_drawtype,n.j.Helvetica,w,0,e))}}}else if(T>135&&T<=225){if(this.ctx.gdraw.line(S,L,S,A,M,b),c){for(let t=0;t<this.lines;t++)if(t%this.valuequotient==0){let e=this.format_text(this.format,this.max_value-t*this.increment);u<(y=this.ctx.gdraw.getTextExtent(e,this.text_drawtype,n.j.Helvetica,w)).width&&(u=y.width)}_=I-u,a=Math.max(I-S-u,3)}else _=I,a=I-S;for(let t=0;t<this.lines;t++){let i=Math.floor(L+(A-L)/(this.lines-1)*(this.lines-1-t));t%this.longquotient==0?this.ctx.gdraw.line(S,i,S+a,i,M,b):this.ctx.gdraw.line(S,i,S+Math.floor(2/3*a),i,M,b);let o=this.format_text(this.format,this.max_value-t*this.increment);if(c&&m>=0&&u<I-S&&t%this.valuequotient==0){let s;s=t===this.lines-1?i+y.height-y.descent-3:0===t?i:i+(y.height-y.descent)/2,this.ctx.gdraw.text(_,s,o,this.text_drawtype,this.text_color_drawtype,n.j.Helvetica,w,0,e)}}}else{this.ctx.gdraw.line(S,L,I,L,M,b),c?(y=this.ctx.gdraw.getTextExtent("0",this.text_drawtype,n.j.Helvetica,w),a=Math.max(A-L-(y.height-y.descent),3)):a=A-L;for(let t=0;t<this.lines;t++){let i=Math.floor(S+(I-S)/(this.lines-1)*t);if(t%this.longquotient==0?this.ctx.gdraw.line(i,L,i,L+a,M,b):this.ctx.gdraw.line(i,L,i,L+Math.floor(2/3*a),M,b),c&&t%this.valuequotient==0){let o=this.format_text(this.format,this.max_value-t*this.increment);y=this.ctx.gdraw.getTextExtent(o,this.text_drawtype,n.j.Helvetica,w),m>=0&&y.height-y.descent<A-L&&(_=t===this.lines-1?i-y.width:0===t?i:i-y.width/2,this.ctx.gdraw.text(_,A,o,this.text_drawtype,this.text_color_drawtype,n.j.Helvetica,w,0,e))}}}}format_text(t,e){return Math.abs(e)<Number.MIN_VALUE&&(e=0),I.sprintf(this.format,e)}set_range(t,e,i){this.max_value=e,this.min_value=t;let o=this.trf.apply(this.ll),s=this.trf.apply(this.ur),r=o.z_x()-this.ctx.mw.offset.x,a=o.z_y()-this.ctx.mw.offset.y,n=s.z_x()-this.ctx.mw.offset.x,l=s.z_y()-this.ctx.mw.offset.y,_=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));if(0===i){let i=_<45||_>135&&_<225||_>315?0:1,o=0===i?Math.abs(l-a):Math.abs(n-r),s=Number(!(o<150)),h=Math.abs(e-t);h<5&&(h*=1e3);let c=Math.floor(h+.5);for(;c>=25;)c=Math.floor(c/10+.5);c>0&&c<=25&&(this.lines=N[s][c-1].lines,this.longquotient=N[s][c-1].longq,this.valuequotient=0===i?N[s][c-1].vvalq:N[s][c-1].hvalq);let u=Math.max(Math.abs(e),Math.abs(t));this.format=u<.01?"%g":u<.1?"%5.3f":u<1?"%4.2f":0===s&&u<3||1===s&&u<=4?"%3.1f":u<=20?"%2.0f":u<=200?"%3.0f":u<2e3?"%4.0f":u<2e4?"%5.0f":"%g"}this.configure(),this.draw()}setVisibility(t){t===n.H.Visible?this.invisible=!1:t===n.H.Invisible&&(this.invisible=!0,this.draw())}set_conf(t,e,i,o,s,r,a){this.max_value=t,this.min_value=e,this.lines=i,this.longquotient=o,this.valuequotient=s,this.trf.rotation=r,this.format&&(this.format=a),this.configure(),this.ctx.set_dirty()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,i){return null}}class F extends S{constructor(t){super(t),this.format="",this.userdata=null}type(){return n.C.GrowAxisArc}configure(){this.lines<=1&&(this.lines=2),this.longquotient<=0&&(this.longquotient=1),this.valuequotient<=0&&(this.valuequotient=1),this.increment=(this.max_value-this.min_value)/(this.lines-1)}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowAxisArc:break;case n.v.GrowAxisArc_text_size:this.text_size=t.consumeInt();break;case n.v.GrowAxisArc_text_drawtype:this.text_drawtype=t.consumeInt();break;case n.v.GrowAxisArc_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case n.v.GrowAxisArc_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowAxisArc_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowAxisArc_lines:this.lines=t.consumeInt();break;case n.v.GrowAxisArc_linelength:this.linelength=t.consumeFloat();break;case n.v.GrowAxisArc_longquotient:this.longquotient=t.consumeInt();break;case n.v.GrowAxisArc_valuequotient:this.valuequotient=t.consumeInt();break;case n.v.GrowAxisArc_format:this.format=t.consumeLine();break;case n.v.GrowAxisArc_arc_part:super.open(t);break;case n.v.GrowAxisArc_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return void this.configure();default:console.log("Syntax error in GrowAxisArc:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){let a=Math.abs(this.increment)>Number.MIN_VALUE,_=0,c=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,u=Math.floor(c*(this.text_size+4)-4),d=c*(8+2*this.text_size);u=Object(s.q)(u,0,n.f-1);let m=c;m*=null!==o&&o.line_width?o.line_width:this.line_width,m=Object(s.q)(m-1+Number(i),0,n.f-1);let w=f.multiply(t,this.trf),b=w.apply(this.ll),y=w.apply(this.ur),p=b.z_x()-this.ctx.mw.offset.x,g=b.z_y()-this.ctx.mw.offset.y,x=y.z_x()-this.ctx.mw.offset.x,v=y.z_y()-this.ctx.mw.offset.y,C=360*(w.rotation/360-Math.floor(w.rotation/360)),G=Math.min(p,x),k=Math.max(p,x),T=Math.min(g,v),S=Math.max(g,v),I=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);{if(this.ctx.gdraw.arc(G,T,k-G,S-T,this.angle1-C,this.angle2,I,!1,m),1===this.lines)return;let t;t=this.increment>0?this.format_text(this.format,this.min_value+(this.lines-2)*this.increment):this.format_text(this.format,this.min_value+this.increment);let i=this.ctx.gdraw.getTextExtent(t,this.text_drawtype,n.j.Helvetica,d);_=Math.max(_,i.width);let o=this.angle2/(this.lines-1);for(let s=0;s<this.lines;s++){let r=Math.sin((this.angle1+s*o)/180*Math.PI),l=Math.cos((this.angle1+s*o)/180*Math.PI);g=Math.floor((S-T)/2*(1-r)+T),p=Math.floor((k-G)/2*(l+1)+G),s%this.longquotient==0?(v=Math.floor((S-T)/2*(-r*(1-this.linelength)+1)+T),x=Math.floor((k-G)/2*(l*(1-this.linelength)+1)+G)):(v=Math.floor((S-T)/2*(-r*(1-this.linelength/2)+1)+T),x=Math.floor((k-G)/2*(l*(1-this.linelength/2)+1)+G));let h=Math.floor((S-T)/2*(-r*(1-this.linelength)+1)+T+r*(i.height-i.descent)/2),c=Math.floor((k-G)/2*(l*(1-this.linelength)+1)+G-l*i.width/2);this.ctx.gdraw.line(p,g,x,v,I,m),a&&u>=0&&s%this.valuequotient==0&&(360!==this.angle2||!(this.increment>0&&s===this.lines-1||this.increment<0&&0===s))&&(t=this.format_text(this.format,this.min_value+s*this.increment),i=this.ctx.gdraw.getTextExtent(t,this.text_drawtype,n.j.Helvetica,d),_=Math.max(_,i.width),s===this.lines-1&&0===this.angle1&&180===this.angle2?c-=i.width/2:0===s&&0===this.angle1&&360!==this.angle2?c-=i.width/2:(h+=(i.height-i.descent)/2,c-=i.width/2),this.ctx.gdraw.text(c,h,t,this.text_drawtype,this.text_color_drawtype,n.j.Helvetica,d,0,e))}}}format_text(t,e){return Math.abs(e)<Number.MIN_VALUE&&(e=0),I.sprintf(this.format,e)}set_range(t,e,i){this.max_value=e,this.min_value=t;let o=this.trf.apply(this.ll),s=this.trf.apply(this.ur),r=o.z_x()-this.ctx.mw.offset.x,a=o.z_y()-this.ctx.mw.offset.y,n=s.z_x()-this.ctx.mw.offset.x,l=s.z_y()-this.ctx.mw.offset.y,_=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));if(0===i){let i=_<45||_>135&&_<225||_>315?0:1,o=0===i?Math.abs(l-a):Math.abs(n-r),s=Number(!(o<150)),h=Math.abs(e-t);h<5&&(h*=1e3);let c=Math.floor(h+.5);for(;c>=25;)c/=10;c>0&&c<=25&&(this.lines=N[s][c-1].lines,this.longquotient=N[s][c-1].longq,this.valuequotient=0===i?N[s][c-1].vvalq:N[s][c-1].hvalq);let u=Math.max(Math.abs(e),Math.abs(t));this.format=u<.01?"%g":u<.1?"%5.3f":u<1?"%4.2f":0===s&&u<3||1===s&&u<=4?"%3.1f":u<=20?"%2.0f":u<=200?"%3.0f":u<2e3?"%4.0f":u<2e4?"%5.0f":"%g"}this.configure(),this.draw()}set_conf(t,e,i,o,s,r,a){this.max_value=t,this.min_value=e,this.lines=i,this.longquotient=o,this.valuequotient=s,this.trf.rotation=r,this.format&&(this.format=a),this.configure(),this.ctx.set_dirty()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,i){return null}}class R extends A{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=s.e.One,c=!1,u=!0,d=h.a.Line,m=!1){super(t,e,i,o,r,a,n,l,!1,_,c,u,!1,d,m),this.max_value=100,this.min_value=0,this.bar_value=35,this.bar_bordercolor=h.a.Inherit,this.bar_borderwidth=1,this.bar_drawtype=h.a.Inherit,this.userdata=null,m||t.set_dirty()}type(){return n.C.GrowBar}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowBar:break;case n.v.GrowBar_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowBar_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowBar_bar_value:this.bar_value=t.consumeFloat();break;case n.v.GrowBar_bar_bordercolor:this.bar_bordercolor=t.consumeInt();break;case n.v.GrowBar_bar_borderwidth:this.bar_borderwidth=t.consumeInt();break;case n.v.GrowBar_bar_drawtype:this.bar_drawtype=t.consumeInt();break;case n.v.GrowBar_rect_part:super.open(t);break;case n.v.GrowBar_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.GrowBar_trace_data1:case n.v.GrowBar_trace_data2:case n.v.GrowBar_trace_attr_type:case n.v.GrowBar_trace_color:case n.v.GrowBar_trace_data3:case n.v.GrowBar_trace_data4:case n.v.GrowBar_trace_data5:case n.v.GrowBar_trace_data6:case n.v.GrowBar_trace_data7:case n.v.GrowBar_trace_data8:case n.v.GrowBar_trace_data9:case n.v.GrowBar_trace_data10:case n.v.GrowBar_access:case n.v.GrowBar_cycle:case n.v.GrowBar_ref_object:t.consumeLine();break;case n.v.End:return;default:console.log("Syntax error in GrowBar:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,s=null){let r=this.gradient;this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(r=o.gradient);let a,_=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.bar_borderwidth-1);_=Math.min(n.f-1,Math.max(0,_)),a=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),a+=i,a=Math.max(0,a),a=Math.min(a,n.f-1);let c=f.multiply(t,this.trf),u=c.apply(this.ll),d=c.apply(this.ur),m=u.z_x()-this.ctx.mw.offset.x,w=u.z_y()-this.ctx.mw.offset.y,b=d.z_x()-this.ctx.mw.offset.x,y=d.z_y()-this.ctx.mw.offset.y,p=Math.min(m,b),g=Math.max(m,b),x=Math.min(w,y),v=Math.max(w,y);if(this.fill){let t=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,s,1,!1);if(r===n.w.No)this.ctx.gdraw.rect(p,x,g-p,v-x,t,!0);else{let e,i;this.gradient_contrast,i=l.a.shift_drawtype(t,-this.gradient_contrast/2,null),e=l.a.shift_drawtype(t,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_rect(p,x,g-p,v-x,t,e,i,this.ctx.gdraw.gradient_rotate(c.rotation,r))}}let C=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);if(this.max_value!==this.min_value){let t,e,i,o,s,a,u,d,m=360*(c.rotation/360-Math.floor(c.rotation/360));t=p,e=x,i=g-p,o=v-x,s=p,a=x,u=g,d=v,m<=45||m>315?(o=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(v-x)),e=v-(o=Math.max(0,Math.min(o,v-x))),a=v-o,d=v-o):m>45&&m<=135?(i=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(g-p)),s=p+(i=Math.max(0,Math.min(i,g-p))),u=p+i):m>135&&m<=225?(o=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(v-x)),a=x+(o=Math.max(0,Math.min(o,v-x))),d=x+o):(i=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(g-p)),t=g-(i=Math.max(0,Math.min(i,g-p))),s=g-i,u=g-i);let w=C;if(this.bar_drawtype!==h.a.Inherit&&(w=this.bar_drawtype),r===n.w.No)this.ctx.gdraw.rect(t,e,i,o,w,!0);else{let s,a;this.gradient_contrast,a=l.a.shift_drawtype(w,-this.gradient_contrast/2,null),s=l.a.shift_drawtype(w,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_rect(t,e,i,o,w,s,a,this.ctx.gdraw.gradient_rotate(c.rotation,r))}w=C,this.bar_bordercolor!==h.a.Inherit&&(w=this.bar_bordercolor),this.ctx.gdraw.line(s,a,u,d,w,_)}this.border&&this.ctx.gdraw.rect(p,x,g-p,v-x,C,!1,a)}set_range(t,e){this.max_value=e,this.min_value=t,this.draw()}set_value(t){this.bar_value=t,this.draw()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,i){return null}}class E extends S{constructor(t){super(t),this.userdata=null}type(){return n.C.GrowBarChart}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowBarArc:break;case n.v.GrowBarArc_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowBarArc_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowBarArc_bar_width:this.bar_width=t.consumeFloat();break;case n.v.GrowBarArc_bar_direction:this.bar_direction=t.consumeInt();break;case n.v.GrowBarArc_bar_value:this.bar_value=t.consumeFloat();break;case n.v.GrowBarArc_bar_bordercolor:this.bar_bordercolor=t.consumeInt();break;case n.v.GrowBarArc_bar_borderwidth:this.bar_borderwidth=t.consumeInt();break;case n.v.GrowBarArc_bar_drawtype:this.bar_drawtype=t.consumeInt();break;case n.v.GrowBarArc_arc_part:super.open(t);break;case n.v.GrowBarArc_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return;default:console.log("Syntax error in GrowBarArc:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,s=null){let r,a=Math.floor(this.bar_width*this.ctx.mw.zoom_factor.x),_=Math.max(this.min_value,Math.min(this.bar_value,this.max_value));r=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,n.f-1);let c=f.multiply(t,this.trf),u=c.apply(this.ll),d=c.apply(this.ur),m=u.z_x()-this.ctx.mw.offset.x,w=u.z_y()-this.ctx.mw.offset.y,b=d.z_x()-this.ctx.mw.offset.x,y=d.z_y()-this.ctx.mw.offset.y,p=t?this.trf.rotation+t.rotation:this.trf.rotation;p=360*(p/360-Math.floor(p/360));let g=Math.min(m,b),x=Math.max(m,b),v=Math.min(w,y),C=Math.max(w,y),G=(C-v)/(x-g);a>x-g&&(a=x-g);let k=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,s,1,!1),T=this.background_drawtype===h.a.No?this.ctx.background_color:this.background_drawtype;this.ctx.gdraw.arc(g,v,x-g,C-v,0,360,T,!0),this.ctx.gdraw.arc(g,v,x-g,C-v,this.angle1-Math.floor(p),this.angle2,k,!0);let S=this.angle1-p;if(this.bar_direction&&(S+=this.angle2*(this.max_value-_)/(this.max_value-this.min_value)),this.gradient===n.w.No)this.ctx.gdraw.arc(g,v,x-g,C-v,S,this.angle2*(_-this.min_value)/(this.max_value-this.min_value),this.bar_drawtype,!0);else{let t,e;this.gradient_contrast,e=l.a.shift_drawtype(this.bar_drawtype,-this.gradient_contrast/2,null),t=l.a.shift_drawtype(this.bar_drawtype,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_arc(g,v,x-g,C-v,S,this.angle2*(_-this.min_value)/(this.max_value-this.min_value),this.bar_drawtype,t,e,this.gradient)}if(this.ctx.gdraw.arc(g+a,v+G*a,x-g-2*a,C-v-2*G*a,0,360,T,!0),S=0===this.bar_direction?Math.PI*(this.angle1-p+this.angle2*(_-this.min_value)/(this.max_value-this.min_value))/180:Math.PI*(this.angle1-p+this.angle2*(this.max_value-_)/(this.max_value-this.min_value))/180,this.ctx.gdraw.line((x+g)/2+(x-g)/2*Math.cos(S),(C+v)/2-(C-v)/2*Math.sin(S),(x+g)/2+((x-g)/2-a)*Math.cos(S),(C+v)/2-G*((x-g)/2-a)*Math.sin(S),this.bar_bordercolor,this.bar_borderwidth),this.border){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);this.ctx.gdraw.arc(g,v,x-g,C-v,this.angle1-Math.floor(p),this.angle2,t,!1,r),this.ctx.gdraw.arc(g+a,v+G*a,x-g-2*a,C-v-2*G*a,this.angle1-Math.floor(p),this.angle2,t,!1,r),S=Math.PI*(this.angle1-p)/180,this.ctx.gdraw.line((x+g)/2+(x-g)/2*Math.cos(S),(C+v)/2-(C-v)/2*Math.sin(S),(x+g)/2+((x-g)/2-a)*Math.cos(S),(C+v)/2-G*((x-g)/2-a)*Math.sin(S),t,r),S=Math.PI*(this.angle1+this.angle2-p)/180,this.ctx.gdraw.line((x+g)/2+(x-g)/2*Math.cos(S),(C+v)/2-(C-v)/2*Math.sin(S),(x+g)/2+((x-g)/2-a)*Math.cos(S),(C+v)/2-G*((x-g)/2-a)*Math.sin(S),t,r)}}set_range(t,e){this.max_value=e,this.min_value=t,this.draw()}set_value(t){this.bar_value=t,this.draw()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,i){return null}}class D extends A{constructor(t,e,i=0,o=0,r=0,a=0,l=h.a.Line,_=1,c=!0,u=!1,d=h.a.Line,m=!1){super(t,e,i,o,r,a,l,_,!1,s.e.One,!0,c,u,d,m),this.bars=1,this.barsegments=1,this.min_value=0,this.max_value=1,this.vertical_lines=0,this.horizontal_lines=0,this.line_color=h.a.Line,this.bar_color=new Array(n.o),this.bar_values=new Array(n.o*n.n),m||t.set_dirty()}type(){return n.C.GrowBarChart}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowBarChart:break;case n.v.GrowBarChart_rect_part:super.open(t);break;case n.v.GrowBarChart_bars:this.bars=t.consumeInt();break;case n.v.GrowBarChart_barsegments:this.barsegments=t.consumeInt();break;case n.v.GrowBarChart_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowBarChart_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowBarChart_horizontal_lines:this.horizontal_lines=t.consumeInt();break;case n.v.GrowBarChart_vertical_lines:this.vertical_lines=t.consumeInt();break;case n.v.GrowBarChart_line_color:this.line_color=t.consumeInt();break;case n.v.GrowBarChart_bar_color1:case n.v.GrowBarChart_bar_color2:case n.v.GrowBarChart_bar_color3:case n.v.GrowBarChart_bar_color4:case n.v.GrowBarChart_bar_color5:case n.v.GrowBarChart_bar_color6:case n.v.GrowBarChart_bar_color7:case n.v.GrowBarChart_bar_color8:case n.v.GrowBarChart_bar_color9:case n.v.GrowBarChart_bar_color10:case n.v.GrowBarChart_bar_color11:case n.v.GrowBarChart_bar_color12:{let i=e-n.v.GrowBarChart_bar_color1;this.bar_color[i]=t.consumeInt();break}case n.v.GrowBarChart_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return;default:console.log("Syntax error in GrowBarChart:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,s=null){let r,a=0;this.ctx.hot_indication===n.x.No?i=!1:this.ctx.hot_indication===n.x.DarkColor?(a=Number(i),i=!1):this.ctx.hot_indication===n.x.LightColor&&(a=-Number(i),i=!1),r=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,n.f-1);let _=f.multiply(t,this.trf),c=_.apply(this.ll),u=_.apply(this.ur),d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,w=u.z_x()-this.ctx.mw.offset.x,b=u.z_y()-this.ctx.mw.offset.y,y=Math.min(d,w),p=Math.max(d,w),g=Math.min(m,b),x=Math.max(m,b),v=this.gradient;this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(v=o.gradient);let C,G,k,T=y,S=0,I=0,L=0,A=0,M=0,N=0,O=0,F=0,R=0,E=(p-y)/this.bars;for(let t=0;t<this.bars;t++){C=T,T=t===this.bars-1?p:y+(t+1)*E,G=x,k=x,this.min_value<0&&(k=G+=this.min_value*(x-g)/(this.max_value-this.min_value),M=L=x+this.min_value*(x-g)/(this.max_value-this.min_value));for(let i=0;i<this.barsegments+1;i++){if(void 0===this.bar_values[i])continue;let o=0;if(this.min_value>=0||this.bar_values[i*this.bars+t]>0){let r=0;if(S=G,i===this.barsegments?(G<=g?r=1:G=g,o=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,s,1,!1)):this.bar_values[i*this.bars+t]<=this.min_value?r=1:S<=g?r=1:(k-=this.bar_values[i*this.bars+t]*(x-g)/(this.max_value-this.min_value),(G=Math.floor(k))<g&&(G=g),o=l.a.get_drawtype(this.bar_color[i],h.a.FillHighlight,e,s,1,!1)),0===r)if(v===n.w.No||o===h.a.ColorRed||i===this.barsegments){let t=a?l.a.shift_drawtype(o,a,null):o;this.ctx.gdraw.rect(C,G,T-C,S-G,t,!0)}else{let t,e;this.gradient_contrast,e=l.a.shift_drawtype(o,-this.gradient_contrast/2+a,null),t=l.a.shift_drawtype(o,this.gradient_contrast/2+a,null),this.ctx.gdraw.gradient_fill_rect(C,G,T-C,S-G,o,t,e,v)}}else{let r=0;if(I=L,i===this.barsegments?(A=L,L>=x?r=1:L=x,o=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,s,1,!1)):this.bar_values[i*this.bars+t]>=0?r=1:I>=x?r=1:((L=M-=this.bar_values[i*this.bars+t]*(x-g)/(this.max_value-this.min_value))>x&&(L=x),o=l.a.get_drawtype(this.bar_color[i],h.a.FillHighlight,e,s,1,!1)),!r)if(v===n.w.No||o===h.a.ColorRed||i===this.barsegments){let t=a?l.a.shift_drawtype(o,a,null):o;this.ctx.gdraw.rect(C,I,T-C,L-I,t,!0)}else{let t,e;this.gradient_contrast,e=l.a.shift_drawtype(o,-this.gradient_contrast/2+a,null),t=l.a.shift_drawtype(o,this.gradient_contrast/2+a,null),this.ctx.gdraw.gradient_fill_rect(C,I,T-C,L-I,o,t,e,v)}}if(this.border&&i===this.barsegments){if(t>0){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);this.ctx.gdraw.rect(N,O,F,R,t,!1,r)}if(this.min_value>=0?(N=C,O=G,F=T-C,R=x-G):(N=C,O=G,F=T-C,R=x+this.min_value*(x-g)/(this.max_value-this.min_value)-G),t===this.bars-1){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);this.ctx.gdraw.rect(N,O,F,R,t,!1,r)}if(this.min_value<0){if(t>0){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);this.ctx.gdraw.rect(N,O,F,R,t,!1,r)}if(N=C,F=T-C,R=A-(O=x+this.min_value*(x-g)/(this.max_value-this.min_value)),t===this.bars-1){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);this.ctx.gdraw.rect(N,O,F,R,t,!1,r)}}}}}let D=l.a.get_drawtype(this.line_color,h.a.LineHighlight,e,s,0,!1);for(let t=0;t<this.vertical_lines;t++){let e=Math.floor(y+(p-y)/(this.vertical_lines+1)*(t+1));this.ctx.gdraw.line(e,g,e,x,D)}for(let t=0;t<this.horizontal_lines;t++){let e=Math.floor(g+(x-g)/(this.horizontal_lines+1)*(t+1));this.ctx.gdraw.line(y,e,p,e,D)}this.border&&(D=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1),this.ctx.gdraw.rect(y,g,p-y,x-g,D,!1,r))}set_conf(t,e,i,o,s,r,a,n){this.bars=t,this.barsegments=e,this.min_value=i,this.max_value=o,this.vertical_lines=s,this.horizontal_lines=r,this.line_color=a;for(let t=0;t<this.bars;t++)this.bar_color[t]=n[t];this.draw()}get_conf(){return{bars:this.bars,barsegments:this.barsegments,max_value:this.max_value,min_value:this.min_value}}set_values(t){for(let e=0;e<t.length;e++){let i=t[e];if(e<this.barsegments&&i)for(let t=0;t<this.bars;t++)this.bar_values[e*this.bars+t]=i[t]}}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return n.e.Slow}get_background_object_limits(t,e,i){return null}}var B=i(8);class P{constructor(){this.data=Array(10),this.p=null}}class z{constructor(t,e,i,o,r,a=!1,n=!1){if(this.hot=!1,this.nc=null,this.nc_root=null,this.highlight=!1,this.annotsize=new Array(10),this.annotv=new Array(10),this.annotv_inputmode=new Array(10),this.n_name="",this.userdata=null,this.refcon_cnt=new Array(z.MAX_CONPOINTS),this.obst=new s.k,this.ll=new c(t,o,r),this.ur=new c(t,o,r),this.obst=new s.k(o,r,o,r),this.ctx=t,this.nc=i,this.nc_root=i,this.pos=new c(t,o,r),this.trace=new P,this.n_name=e,i){if(t.grid_on){let e=t.find_grid(new s.h(o,r));this.pos.set(e)}this.ll.set(new s.h(1e37,1e37)),this.ur.set(new s.h(-1e37,-1e37)),this.get_node_borders(),this.nc.group===s.g.Document?(this.obst.set(new s.k(1e37,1e37,-1e37,-1e37)),this.get_node_obstacle_borders()):this.obst.set(new s.k(this.ll.x,this.ll.y,this.ur.x,this.ur.y))}}type(){return n.C.Node}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.Node:break;case n.v.Node_nc:let i=t.consumeLine();this.ctx instanceof pt&&this.type()===n.C.GrowGroup||(this.nc=this.ctx.get_nodeclass_from_name(i),this.nc||console.log("GlowNode: NodeClass not found",i),this.nc&&this.nc.recursive_trace&&(this.nc=Object.assign({},this.nc),this.local_nc=!0),this.nc_root=this.nc);break;case n.v.Node_n_name:this.n_name=t.consumeLine();break;case n.v.Node_refcon_cnt:for(let e=0;e<z.MAX_CONPOINTS;e++)this.refcon_cnt[e]=t.consumeInt();break;case n.v.Node_x_right:this.ur.x=t.consumeFloat();break;case n.v.Node_x_left:this.ll.x=t.consumeFloat();break;case n.v.Node_y_high:this.ur.y=t.consumeFloat();break;case n.v.Node_y_low:this.ll.y=t.consumeFloat();break;case n.v.Node_obst_x_right:this.obst.ur.x=t.consumeFloat();break;case n.v.Node_obst_x_left:this.obst.ll.x=t.consumeFloat();break;case n.v.Node_obst_y_high:this.obst.ur.y=t.consumeFloat();break;case n.v.Node_obst_y_low:this.obst.ll.y=t.consumeFloat();break;case n.v.Node_annotsize:for(let e=0;e<10;e++)this.annotsize[e]=t.consumeInt();break;case n.v.Node_annotv:for(let e=0;e<10;e++)this.annotsize[e]&&(this.annotv[e]=t.consumeQuotedString(),t.consumeLine());break;case n.v.Node_pos:this.pos.open(t);break;case n.v.Node_trace_data1:case n.v.Node_trace_data2:case n.v.Node_trace_data3:case n.v.Node_trace_data4:case n.v.Node_trace_data5:case n.v.Node_trace_data6:case n.v.Node_trace_data7:case n.v.Node_trace_data8:case n.v.Node_trace_data9:case n.v.Node_trace_data10:{let i=e-n.v.Node_trace_data1;this.trace.data[i]=t.consumeLine();break}case n.v.Node_trace_attr_type:this.trace.attr_type=t.consumeInt();break;case n.v.Node_trace_color:this.trace.color=t.consumeInt();break;case n.v.Node_trace_color2:this.trace.color2=t.consumeInt();break;case n.v.Node_access:this.trace.access=t.consumeInt();break;case n.v.Node_cycle:this.trace.cycle=t.consumeInt();break;case n.v.Node_ref_object:this.trace.ref_object=t.consumeLine();break;case n.v.End:return;default:console.log("Syntax error in GlowNode:",e),t.consumeLine()}}}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.nc.a.forEach(e=>e.get_borders(this.pos,t,this)),this.ll.set(t.ll),this.ur.set(t.ur)}get_node_obstacle_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.nc.get_obstacle_borders(this.pos,t,this),this.obst.set(t)}}z.MAX_CONPOINTS=32;var j=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class V extends z{constructor(t,e,i,o,s,r=!1,a=!1){super(t,e,i,o,s,r,a),this.original_border_drawtype=h.a.No,this.background_drawtype=h.a.No,this.original_fill_drawtype=h.a.No,this.original_text_drawtype=h.a.No,this.original_background_drawtype=h.a.No,this.original_color_tone=B.a.No,this.original_color_lightness=0,this.original_color_intensity=0,this.original_color_shift=0,this.color_inverse=!1,this.color_lightness=0,this.color_intensity=0,this.color_shift=0,this.color_tone=B.a.No,this.fill_drawtype=h.a.No,this.text_drawtype=0,this.draw_type=0,this.dimmed=!1,this.invisible=!1,this.flip_horizontal=!1,this.flip_vertical=!1,this.dynamicsize=0,this.arg_cnt=0,this.argv=Array(20),this.argsize=Array(20),this.line_width=0,this.shadow=!1,this.gradient=0,this.text_type=h.a.TextHelvetica,this.text_font=n.j.No,this.disable_cb=!1,this.input_selected=!1,this.fill_level=1,this.level_fill_drawtype=h.a.No,this.level_color_tone=B.a.No,this.level_direction=0,this.annot_scrollingtext=-1,this.trf=new b,this.annot_offset=new c(t)}type(){return n.C.GrowNode}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowNode:break;case n.v.GrowNode_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case n.v.GrowNode_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case n.v.GrowNode_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case n.v.GrowNode_text_drawtype:this.text_drawtype=t.consumeInt();break;case n.v.GrowNode_original_text_drawtype:this.original_text_drawtype=t.consumeInt();break;case n.v.GrowNode_draw_type:this.draw_type=t.consumeInt();break;case n.v.GrowNode_original_color_tone:this.original_color_tone=t.consumeInt();break;case n.v.GrowNode_original_background_drawtype:this.original_background_drawtype=t.consumeInt();break;case n.v.GrowNode_background_drawtype:this.background_drawtype=t.consumeInt();break;case n.v.GrowNode_color_tone:this.color_tone=t.consumeInt();break;case n.v.GrowNode_original_color_lightness:this.original_color_lightness=t.consumeInt();break;case n.v.GrowNode_color_lightness:this.color_lightness=t.consumeInt();break;case n.v.GrowNode_original_color_intensity:this.original_color_intensity=t.consumeInt();break;case n.v.GrowNode_color_intensity:this.color_intensity=t.consumeInt();break;case n.v.GrowNode_original_color_shift:this.original_color_shift=t.consumeInt();break;case n.v.GrowNode_color_shift:this.color_shift=t.consumeInt();break;case n.v.GrowNode_invisible:this.invisible=t.consumeBool();break;case n.v.GrowNode_flip_horizontal:this.flip_horizontal=t.consumeBool();break;case n.v.GrowNode_flip_vertical:this.flip_vertical=t.consumeBool();break;case n.v.GrowNode_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowNode_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowNode_node_part:super.open(t);break;case n.v.GrowNode_trf:this.trf.open(t);break;case n.v.GrowNode_arg_cnt:this.arg_cnt=t.consumeInt();break;case n.v.GrowNode_argsize:for(let e=0;e<this.arg_cnt;e++)this.argsize[e]=t.consumeInt();break;case n.v.GrowNode_argv:t.consumeLine();for(let e=0;e<this.arg_cnt;e++)this.argsize[e]&&(this.argv[e]=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowNode_line_width:this.line_width=t.consumeInt();break;case n.v.GrowNode_shadow:this.shadow=t.consumeBool();break;case n.v.GrowNode_gradient:this.gradient=t.consumeInt();break;case n.v.GrowNode_text_type:this.text_type=t.consumeInt();break;case n.v.GrowNode_text_font:this.text_font=t.consumeInt();break;case n.v.GrowNode_disable_cb:this.disable_cb=t.consumeBool();break;case n.v.GrowNode_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return;default:console.log("Syntax error in GrowNode:",e),t.consumeLine()}}}event_handler(t){return j(this,void 0,void 0,function*(){if(this.invisible||this.dimmed)return 0;if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y),i=Object.assign({},t);i.x=e.x,i.y=e.y;let o=yield this.nc.event_handler(i);return o?(this.type()===n.C.GrowGroup&&null!==this.ctx.callback_object||this.ctx.register_callback_object(n.C.Node,this),o):0})}draw(t=null,e=!1,i=!1,o=null,s=null){if(o=o||this,s=s||this,!this.invisible&&!o.invisible){if(-1!==this.annot_scrollingtext&&this.ctx.gdraw.set_clip_rectangle(this.ll.z_x()-this.ctx.mw.offset.x,this.ll.z_y()-this.ctx.mw.offset.y,this.ur.z_x()-this.ctx.mw.offset.x,this.ur.z_y()-this.ctx.mw.offset.y),1===this.fill_level)t?this.nc.draw(f.multiply(t,this.trf),e,i,this,this):this.nc.draw(this.trf,e,i,o,o);else{let s=0,r=0,a=!1,l=this.color_tone,_=this.fill_drawtype,c=t?t.apply(this.ll):this.ll,u=t?t.apply(this.ur):this.ur,d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,w=u.z_x()-this.ctx.mw.offset.x,b=u.z_y()-this.ctx.mw.offset.y,y=this.level_direction===n.h.Right,p=this.level_direction===n.h.Left,g=this.level_direction===n.h.Up,x=this.level_direction===n.h.Down;y?s=this.fill_level*(w-d):p?s=(1-this.fill_level)*(w-d):g?r=this.fill_level*(b-m):x&&(r=(1-this.fill_level)*(b-m)),y||p?a=this.ctx.gdraw.set_clip_rectangle(d-1,m-1,d+s,b+1):(g||x)&&(a=this.ctx.gdraw.set_clip_rectangle(d-1,m-1,w+1,m+r)),(p||x)&&(this.level_color_tone!==B.a.No?this.color_tone=this.level_color_tone:this.level_fill_drawtype!==h.a.No&&(this.fill_drawtype=this.level_fill_drawtype)),t?this.nc.draw(f.multiply(t,this.trf),e,i,this,this):this.nc.draw(this.trf,e,i,o,o),a&&this.ctx.gdraw.reset_clip_rectangle(),p||y?a=this.ctx.gdraw.set_clip_rectangle(d+s,m-1,w+1,b+1):(g||x)&&(a=this.ctx.gdraw.set_clip_rectangle(d-1,m+r,w+1,b+1)),(p||x)&&(this.level_color_tone!==B.a.No?this.color_tone=l:this.level_fill_drawtype!==h.a.No&&(this.fill_drawtype=_)),(y||g)&&(this.level_color_tone!==B.a.No?this.color_tone=this.level_color_tone:this.level_fill_drawtype!==h.a.No&&(this.fill_drawtype=this.level_fill_drawtype)),t?this.nc.draw(f.multiply(t,this.trf),e,i,this,this):this.nc.draw(this.trf,e,i,o,o),a&&this.ctx.gdraw.reset_clip_rectangle(),this.color_tone=l,this.fill_drawtype=_}-1!==this.annot_scrollingtext&&this.ctx.gdraw.reset_clip_rectangle()}}set_position(t,e){this.trf.a13===this.trf.s.a13+t&&this.trf.a23===this.trf.s.a23+e||(this.trf.move_from_stored(t,e),this.get_node_borders(),this.ctx.set_dirty())}move(t,e){this.trf.move(t,e),this.get_node_borders(),this.ctx.set_dirty()}move_to(t,e){this.trf.move(t-this.ll.x,e-this.ll.y),this.get_node_borders(),this.ctx.set_dirty()}set_scale_pos(t,e,i,o,s,r,a){this.ctx.set_nodraw(),this.set_scale(i,o,s,r,a),this.ctx.reset_nodraw(),this.trf.move(t-this.ll.x,e-this.ll.y),this.get_node_borders()}set_scale(t,e,i,o,s){let r,a,l,_;if(-1===t&&1===e||1===t&&-1===e||(t<0&&(t=0),e<0&&(e=0)),!(this.trf.s.a11&&this.trf.s.a22&&Math.abs(t-this.trf.a11/this.trf.s.a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s.a22)<Number.MIN_VALUE)){switch(s){case n.F.LowerLeft:i=this.ll.x,o=this.ll.y;break;case n.F.LowerRight:i=this.ur.x,o=this.ll.y;break;case n.F.UpperRight:i=this.ur.x,o=this.ur.y;break;case n.F.UpperLeft:i=this.ll.x,o=this.ur.y;break;case n.F.FixPoint:break;case n.F.Center:i=(this.ll.x+this.ur.x)/2,o=(this.ll.y+this.ur.y)/2}r=this.ll.x,a=this.ur.x,l=this.ll.y,_=this.ur.y,this.trf.revert(),this.trf.scale(t,e,i,o),this.get_node_borders(),this.ctx.set_dirty()}}setRotation(t,e,i,o){if(Math.abs(t-this.trf.rotation+this.trf.s.rotation)<Number.EPSILON)return;switch(o){case n.E.LowerLeft:e=this.ll.x,i=this.ll.y;break;case n.E.LowerRight:e=this.ur.x,i=this.ll.y;break;case n.E.UpperRight:e=this.ur.x,i=this.ur.y;break;case n.E.UpperLeft:e=this.ll.x,i=this.ur.y;break;case n.E.Center:e=(this.ll.x+this.ur.x)/2,i=(this.ur.y+this.ll.y)/2;break;case n.E.Zero:e=this.trf.s.a13,i=this.trf.s.a23}let s=new b;s.rotate(t,e,i),this.trf.set(f.multiply(s,this.trf.s)),this.get_node_borders()}storeTransform(){this.trf.store()}transformIsStored(){return this.trf.is_stored()}set_next_nodeclass(){return null!==this.nc.next_nc?(this.set_nodeclass(this.nc.next_nc),1):0}set_first_nodeclass(){this.set_root_nodeclass()}set_last_nodeclass(){let t;for(t=this.nc_root;null!==t.next_nc;t=t.next_nc);t!==this.nc&&this.set_nodeclass(t)}set_nodeclass_by_index(t){let e,i;for(e=this.nc_root,i=0;i<t;i++){if(null===e.next_nc)return 0;e=e.next_nc}return e!==this.nc&&this.set_nodeclass(e),1}set_previous_nodeclass(){return null!==this.nc.prev_nc?(this.set_nodeclass(this.nc.prev_nc),1):0}set_root_nodeclass(){this.nc_root!==this.nc&&this.set_nodeclass(this.nc_root)}get_animation_count(){return this.nc.animation_count}get_nodeclass_dyn_attr1(){return this.nc.dyn_attr[0]}set_nodeclass(t){this.nc=t,this.get_node_borders(),this.ctx.set_dirty()}getLimits(){let t={status:1,direction:0,min:0,max:0};if(0===this.nc.y0&&0===this.nc.y1||0!==this.nc.x0||0!==this.nc.x1)return t.status=0,t;let e=this.trf.apply(new c(this.ctx,0,this.nc.y0)),i=this.trf.apply(new c(this.ctx,0,this.nc.y1)),o=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));return o<=45||o>315?(t.direction=n.h.Down,t.min=e.y,t.max=i.y):o>45&&o<=135?(t.direction=n.h.Right,t.min=i.x,t.max=e.x):o>135&&o<=225?(t.direction=n.h.Up,t.min=i.y,t.max=e.y):o>225&&o<=315&&(t.direction=n.h.Left,t.min=e.x,t.max=i.x),t}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.nc.get_borders(this.trf,t),this.ll.set(t.ll),this.ur.set(t.ur)}get_borders(t,e){let i=t?f.multiply(t,this.trf):this.trf;this.nc.get_borders(i,e)}get_background_object_limits(t,e,i){if(0==(t&this.nc.get_base_nc().dyn_type1))return null;if(0===this.nc.y0&&0===this.nc.y1)return null;let o=new s.k(1e38,1e38,-1e38,-1e38);if(this.nc.get_borders(this.trf,o),s.k.hit(o,new s.h(e,i))){let t,e,i,o=this.trf.apply(new c(this.ctx,0,this.nc.y0)),s=this.trf.apply(new c(this.ctx,0,this.nc.y1)),r=360*(this.trf.rotation/360-Math.floor(this.trf.rotation/360));return r<=45||r>315?(t=n.h.Down,e=o.y,i=s.y):r>45&&r<=135?(t=n.h.Left,e=s.x,i=o.x):r>135&&r<=225?(t=n.h.Up,e=s.y,i=o.y):r>225&&r<=315&&(t=n.h.Right,e=o.x,i=s.x),{background:this,direction:t,min:e,max:i}}return null}getColorInverse(){return this.color_inverse}getColorLightness(){return this.color_lightness}getColorIntensity(){return this.color_intensity}getColorShift(){return this.color_shift}getColorTone(){return this.color_tone}getFillDrawtype(){return this.fill_drawtype}getTextDrawtype(){return this.text_drawtype}getBackgroundDrawtype(){return this.background_drawtype}getDrawtype(){return this.draw_type}getDimmed(){return this.dimmed}getClassTraceColor1(){return this.nc.dyn_color[0]}getClassTraceColor2(){return this.nc.dyn_color[1]}getClassDynType1(){return this.nc.dyn_type1}getClassDynType2(){return this.nc.dyn_type2}getClassActionType1(){return this.nc.action_type1}getClassActionType2(){return this.nc.action_type2}getClassCycle(){return this.nc.cycle}getClassUserData(){return this.nc.userdata}setColorTone(t){this.color_tone=t}resetColorTone(){this.color_tone=this.original_color_tone}setFillColor(t){this.fill_drawtype=t,this.color_tone=B.a.No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0,this.draw()}resetFillColor(){this.fill_drawtype=this.original_fill_drawtype,this.color_tone=this.original_color_tone,this.color_shift=this.original_color_shift,this.color_lightness=this.original_color_lightness,this.color_intensity=this.original_color_intensity}setBorderColor(t){this.draw_type=t,this.color_tone=B.a.No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0}resetBorderColor(){this.draw_type=this.original_border_drawtype}setTextColor(t){this.text_drawtype=t,this.color_tone=B.a.No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0}resetTextColor(){this.text_drawtype=this.original_text_drawtype}setBackgroundColor(t){this.background_drawtype=t}resetBackgroundColor(){this.background_drawtype=this.original_background_drawtype}setColorInverse(t){this.color_inverse=t,this.draw()}setLevelFillColor(t){this.level_fill_drawtype=t}setLevelColorTone(t){this.level_color_tone=t}setLevelDirection(t){this.level_direction=t}setFillLevel(t){this.fill_level=t||0}setVisibility(t){this.invisible=t===n.H.Invisible,this.dimmed=t===n.H.Dimmed,(this.invisible||this.dimmed)&&this.draw()}getAnnotation(t){return this.annotv[t]}set_annotation(t,e,i,o=!1){this.annotv_inputmode[t]||this.set_annotation_input(t,e,i,o)}set_annotation_input(t,e,i,o=!1){this.annotv[t]=e||"",i||this.invisible||this.ctx.set_dirty()}setAnnotationTextOffset(t,e){-1===this.annot_scrollingtext&&(this.annot_scrollingtext=t),t===this.annot_scrollingtext&&this.annot_offset.set(e)}getAnnotationTextExtent(t){return this.nc.getAnnotationTextExtent(this.trf,this,t)}getAnnotationInfo(t){let e=this.nc.getAnnotationInfo(this,t);return{color:e.color,size:e.size,type:e.type,font:e.font,drawtype:e.drawtype,bg_color:this.nc.getAnnotBackground(null,this)||h.a.No,scale:this.trf.vertical_scale()}}setColorThemeLightness(){null!==this.ctx.customcolors&&this.ctx.customcolors.colortheme_lightness!==this.color_lightness&&(this.color_lightness=this.ctx.customcolors.colortheme_lightness)}find_nc(t){if(this.nc===t)return!0;for(let e=this.nc.next_nc;e;e=e.next_nc)if(t==e)return!0;return this.nc.a.find(e=>e.find_nc(t))}}var U=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class H extends V{constructor(t,e,i=0,o=0,r=!1){if(super(t,e,null,i,o,!0,!1),this.line_width_up=-1,this.line_width_down=-1,this.line_width_left=-1,this.line_width_right=-1,this.nc=t.find_nodeclass_from_name("pwr_conglue"),!this.nc){let e=t.grid_on;t.grid_on=0,this.nc=new x(t,"pwr_conglue");let i=new y(t,0,-.5,0,n.h.Down);this.nc.a.push(i),i=new y(t,.5,0,1,n.h.Right),this.nc.a.push(i),i=new y(t,0,.5,2,n.h.Up),this.nc.a.push(i),i=new y(t,-.5,0,3,n.h.Left),this.nc.a.push(i);let o=new A(t,"",-.5,-.5,1,1,h.a.Line,1,!1,s.e.One,!1,!0,!1,h.a.Line,!0);this.nc.a.push(o),t.grid_on=e,t.a_nc.push(this.nc)}if(this.draw_type=h.a.Line,t.grid_on){let e=t.find_grid(new s.h(i,o));this.trf.move(e.x-i,e.y-o)}this.get_node_borders(),r||t.set_dirty()}type(){return n.C.GrowConGlue}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowConGlue:break;case n.v.GrowConGlue_line_width_up:this.line_width_up=t.consumeInt();break;case n.v.GrowConGlue_line_width_down:this.line_width_down=t.consumeInt();break;case n.v.GrowConGlue_line_width_left:this.line_width_left=t.consumeInt();break;case n.v.GrowConGlue_line_width_right:this.line_width_right=t.consumeInt();break;case n.v.GrowConGlue_border:this.border=t.consumeBool();break;case n.v.GrowConGlue_node_part:super.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowConGlue:",e),t.consumeLine()}}}draw(t=null,e=this.highlight,i=this.hot,o=null,r=null){let a=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);a+=Number(i);let _=t?t.apply(this.ll):this.ll,c=t?t.apply(this.ur):this.ur;_.x=_.z_x()-this.ctx.mw.offset.x,_.y=_.z_y()-this.ctx.mw.offset.y,c.x=c.z_x()-this.ctx.mw.offset.x,c.y=c.z_y()-this.ctx.mw.offset.y;let u=Math.min(_.x,c.x),d=Math.max(_.x,c.x),m=Math.min(_.y,c.y),w=Math.max(_.y,c.y),f=(_.x+c.x)/2,b=(_.y+c.y)/2,y=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1),p=this.line_width_down,g=this.line_width_right,x=this.line_width_up,v=this.line_width_left,C=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*x-1),G=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*p-1),k=Math.floor(this.ctx.mw.zoom_factor.x/this.ctx.mw.base_zoom_factor*v-1),T=Math.floor(this.ctx.mw.zoom_factor.x/this.ctx.mw.base_zoom_factor*g-1);a=Object(s.q)(a,0,n.f-1),C=Object(s.q)(C+Number(i),0,n.f-1)/2,G=Object(s.q)(G+Number(i),0,n.f-1)/2,k=Object(s.q)(k+Number(i),0,n.f-1)/2,T=Object(s.q)(T+Number(i),0,n.f-1)/2;let S=l.a.shift_drawtype(this.draw_type,2,null),I=l.a.shift_drawtype(this.draw_type,-2,null),L=this.ctx.gdraw,A=L.line,M=(t,e,i,o)=>L.rect(t,e,i,o,y,!0),N=(t,e,i,o)=>L.line(t,e,i,o,S),O=(t,e,i,o)=>L.line(t,e,i,o,I);-1!==x&&-1===p&&-1===g&&-1===v?(M(f-C,b,2*C+1,w-b),this.shadow&&C>1&&(N(f+(C-=Number(this.border)),b+=Number(this.border),f+C,w),O(f-C,b,f-C,w),O(f-C,b,f+C,b),C+=Number(this.border),b-=Number(this.border)),this.border&&(A(f-C,b,f-C,w),A(f+C,b,f+C,w),A(f-C,b,f+C,b))):-1===x&&-1!==p&&-1===g&&-1===v?(M(f-G,m,2*G+1,b-m),this.shadow&&G>1&&(N(f+(G-=Number(this.border)),m,f+G,b-=Number(this.border)),N(f-G,b,f+G,b),O(f-G,m,f-G,b),G+=Number(this.border),b+=Number(this.border)),this.border&&(A(f-G,m,f-G,b),A(f+G,m,f+G,b),A(f-G,b,f+G,b))):-1===x&&-1===p&&-1!==g&&-1===v?(M(f,b-T,d-f,2*T+1),this.shadow&&T>1&&(T-=Number(this.border),N(f+=Number(this.border),b+T,d,b+T),O(f,b-T,d,b-T),O(f,b-T,f,b+T),T+=Number(this.border),f-=Number(this.border)),this.border&&(A(f,b-T,d,b-T),A(f,b+T,d,b+T),A(f,b-T,f,b+T))):-1===x&&-1===p&&-1===g&&-1!==v?(M(u,b-k,f-u,2*k+1),this.shadow&&k>1&&(N(u,b+(k-=Number(this.border)),f-=Number(this.border),b+k),N(f,b-k,f,b+k),O(u,b-k,f,b-k),k+=Number(this.border),f+=Number(this.border)),this.border&&(A(u,b-k,f,b-k),A(u,b+k,f,b+k),A(f,b-k,f,b+k))):-1!==x&&-1!==p&&-1===g&&-1===v?(M(f-C,b,2*C+1,w-b),M(f-G,m,2*G+1,b-m),this.shadow&&G>1&&(C-=Number(this.border),O(f-(G-=Number(this.border)),m,f-G,b),O(f-C,b,f-C,w),N(f+G,m,f+G,b),N(f+C,b,f+C,w),C+=Number(this.border),G+=Number(this.border)),this.border&&(A(f-G,m,f-G,b),A(f+G,m,f+G,b),A(f-C,b,f-C,w),A(f+C,b,f+C,w),G!==C&&(A(f-C,b,f-G,b),A(f+C,b,f+G,b)))):-1!==v&&-1!==g&&-1===x&&-1===p?(M(f,b-T,d-f,2*T+1),M(u,b-k,f-u,2*k+1),this.shadow&&(k>1||T>1)&&(k-=Number(this.border),T-=Number(this.border),O(u,b-k,f,b-k),O(f,b-T,d,b-T),N(u,b+k,f,b+k),N(f,b+T,d,b+T),k+=Number(this.border),T+=Number(this.border)),this.border&&(A(u,b-k,f,b-k),A(u,b+k,f,b+k),A(f,b-T,d,b-T),A(f,b+T,d,b+T),k!==T&&(A(f,b-T,f,b-k),A(f,b+T,f,b+k)))):-1!==v&&-1===g&&-1!==x&&-1===p?(M(f-C,b+k,2*C+1,w-(b+k)),M(u,b-k,f+C-u+1,2*k+1),this.shadow&&(k>1||C>1)&&(O(u,b-(k-=Number(this.border)),f+(C-=Number(this.border)),b-k),O(f-C,b+k,f-C,w),N(u,b+k,f-C,b+k),N(f+C,b-k,f+C,w),k+=Number(this.border),C+=Number(this.border)),this.border&&(A(u,b-k,f+C,b-k),A(u,b+k,f-C,b+k),A(f-C,b+k,f-C,w),A(f+C,b-k,f+C,w))):-1===v&&-1!==g&&-1!==x&&-1===p?(M(f-C,b-T,2*C+1,w-(b-T)),M(f+C,b-T,d-(f+C),2*T+1),this.shadow&&(T>1||C>1)&&(T-=Number(this.border),O(f-(C-=Number(this.border)),b-T,d,b-T),O(f-C,b-T,f-C,w),N(f+C,b+T,d,b+T),N(f+C,b+T,f+C,w),T+=Number(this.border),C+=Number(this.border)),this.border&&(A(f-C,b-T,d,b-T),A(f+C,b+T,d,b+T),A(f-C,b-T,f-C,w),A(f+C,b+T,f+C,w))):-1===v&&-1!==g&&-1===x&&-1!==p?(M(f-G,m,2*G+1,b-T-m),M(f-G,b-T,d-(f-G),2*T+1),this.shadow&&(T>1||G>1)&&(T-=Number(this.border),O(f+(G-=Number(this.border)),b-T,d,b-T),O(f-G,m,f-G,b+T),N(f-G,b+T,d,b+T),N(f+G,m,f+G,b-T),T+=Number(this.border),G+=Number(this.border)),this.border&&(A(f-G,b+T,d,b+T),A(f+G,b-T,d,b-T),A(f-G,m,f-G,b+T),A(f+G,m,f+G,b-T))):-1!==v&&-1===g&&-1===x&&-1!==p?(M(f-G,m,2*G+1,b+k-m+1),M(u,b-k,f-G-u,2*k+1),this.shadow&&(k>1||G>1)&&(O(u,b-(k-=Number(this.border)),f-(G-=Number(this.border)),b-k),O(f-G,m,f-G,b-k),N(u,b+k,f+G,b+k),N(f+G,m,f+G,b+k),k+=Number(this.border),G+=Number(this.border)),this.border&&(A(u,b-k,f-G,b-k),A(u,b+k,f+G,b+k),A(f+G,m,f+G,b+k),A(f-G,m,f-G,b-k))):-1!==v&&-1!==g&&-1===x&&-1!==p?(M(f-G,m,2*G+1,b-m+1),M(u,b-k,f+G-u,2*k+1),M(f-G,b-T,d-(f-G),2*T+1),this.shadow&&(k>1||T>1||G>1)&&(k-=Number(this.border),T-=Number(this.border),O(u,b-k,f-(G-=Number(this.border)),b-k),O(f-G,m,f-G,b-k),O(f+G,b-T,d,b-T),N(f+G,m,f+G,b-T),T===k?N(u,b+k,d,b+k):T>k?(N(u,b+k,f-G,b+k),N(f-G,b+T,d,b+T)):(N(u,b+k,f+G,b+k),N(f+G,b+T,d,b+T)),k+=Number(this.border),T+=Number(this.border),G+=Number(this.border)),this.border&&(A(u,b-k,f-G,b-k),A(f-G,m,f-G,b-k),A(f+G,b-T,d,b-T),A(f+G,m,f+G,b-T),T===k?A(u,b+k,d,b+k):T>k?(A(u,b+k,f-G,b+k),A(f-G,b+T,d,b+T),A(f-G,b+T,f-G,b+k)):(A(u,b+k,f+G,b+k),A(f+G,b+T,d,b+T),A(f+G,b+T,f+G,b+k)))):-1!==v&&-1!==g&&-1!==x&&-1===p?(M(f-C,b,2*C+1,w-b),M(u,b-k,f+C-u,2*k+1),M(f-C,b-T,d-(f-C),2*T+1),this.shadow&&(k>1||T>1||C>1)&&(k-=Number(this.border),T-=Number(this.border),O(f-(C-=Number(this.border)),b+k,f-C,w),T===k?O(u,b-k,d,b-k):T>k?(O(u,b-k,f-C,b-k),O(f-C,b-T,d,b-T),O(f-C,b-T,f-C,b-k)):(O(u,b-k,f+C,b-k),O(f+C,b-T,d,b-T),O(f+C,b-T,f+C,b-k)),N(u,b+k,f-C,b+k),N(f+C,b+T,d,b+T),N(f+C,b+T,f+C,w),k+=Number(this.border),T+=Number(this.border),C+=Number(this.border)),this.border&&(A(u,b+k,f-C,b+k),A(f-C,b+k,f-C,w),A(f+C,b+T,d,b+T),A(f+C,b+T,f+C,w),T===k?A(u,b-k,d,b-k):T>k?(A(u,b-k,f-C,b-k),A(f-C,b-T,d,b-T),A(f-C,b-T,f-C,b-k)):(A(u,b-k,f+C,b-k),A(f+C,b-T,d,b-T),A(f+C,b-T,f+C,b-k)))):-1!==v&&-1===g&&-1!==x&&-1!==p?(M(u,b-k,f-u,2*k+1),M(f-C,b-k,2*C+1,w-(b-k)),M(f-G,m,2*G+1,b+k-m),this.shadow&&(k>1||G>1||C>1)&&(k-=Number(this.border),G-=Number(this.border),C-=Number(this.border),O(u,b-k,f-G,b-k),O(f-G,m,f-G,b-k),O(f-C,b+k,f-C,w),N(u,b+k,f-C,b+k),C===G?N(f+G,m,f+G,w):G>C?(N(f+G,m,f+G,b+k),N(f+C,b+k,f+C,w),N(f+C,b+k,f+G,b+k)):(N(f+G,m,f+G,b-k),N(f+C,b-k,f+C,w),N(f+C,b-k,f+G,b-k)),k+=Number(this.border),G+=Number(this.border),C+=Number(this.border)),this.border&&(A(u,b-k,f-G,b-k),A(f-G,m,f-G,b-k),A(u,b+k,f-C,b+k),A(f-C,b+k,f-C,w),C===G?A(f+G,m,f+G,w):G>C?(A(f+G,m,f+G,b+k),A(f+C,b+k,f+C,w),A(f+C,b+k,f+G,b+k)):(A(f+G,m,f+G,b-k),A(f+C,b-k,f+C,w),A(f+C,b-k,f+G,b-k)))):-1===v&&-1!==g&&-1!==x&&-1!==p?(M(f,b-T,d-f,2*T+1),M(f-C,b-T,2*C+1,w-(b-T)),M(f-G,m,2*G+1,b+T-m),this.shadow&&(T>1||G>1||C>1)&&(T-=Number(this.border),G-=Number(this.border),C-=Number(this.border),O(f+G,b-T,d,b-T),C===G?O(f-G,m,f-G,w):G>C?(O(f-G,m,f-G,b+T),O(f-C,b+T,f-C,w)):(O(f-G,m,f-G,b-T),O(f-C,b-T,f-C,w),O(f-C,b-T,f-G,b-T)),N(f+G,m,f+G,b-T),N(f+C,b+T,d,b+T),N(f+C,b+T,f+C,w),T+=Number(this.border),G+=Number(this.border),C+=Number(this.border)),this.border&&(A(f+G,b-T,d,b-T),A(f+G,m,f+G,b-T),A(f+C,b+T,d,b+T),A(f+C,b+T,f+C,w),C===G?A(f-G,m,f-G,w):G>C?(A(f-G,m,f-G,b+T),A(f-C,b+T,f-C,w),A(f-C,b+T,f-G,b+T)):(A(f-G,m,f-G,b-T),A(f-C,b-T,f-C,w),A(f-C,b-T,f-G,b-T)))):-1!==v&&-1!==g&&-1!==x&&-1!==p?(M(f,b-T,d-f,2*T+1),M(u,b-k,f-u,2*k+1),M(f-C,b,2*C+1,w-b),M(f-G,m,2*G+1,b-m),this.shadow&&(k>1||T>1||G>1||C>1)&&(T-=Number(this.border),k-=Number(this.border),G-=Number(this.border),C-=Number(this.border),O(f+G,b-T,d,b-T),O(u,b-k,f-G,b-k),O(f-G,m,f-G,b-k),O(f-C,b+k,f-C,w),N(f+C,b+T,d,b+T),N(u,b+k,f-C,b+k),N(f+C,b+T,f+C,w),N(f+G,m,f+G,b-T),T+=Number(this.border),k+=Number(this.border),G+=Number(this.border),C+=Number(this.border)),this.border&&(A(f+G,b-T,d,b-T),A(f+G,m,f+G,b-T),A(f+C,b+T,d,b+T),A(f+C,b+T,f+C,w),A(u,b-k,f-G,b-k),A(f-G,m,f-G,b-k),A(u,b+k,f-C,b+k),A(f-C,b+k,f-C,w))):(A(f,m,f,b,y,a),A(f,b,f,w,y,a),A(u,b,f,b,y,a),A(f,b,d,b,y,a))}event_handler(t){return U(this,void 0,void 0,function*(){return 0})}get_borders(t,e){}get_background_object_limits(t,e,i){return null}}class q extends y{constructor(t,e,i=0,o=0,r=0,a=n.h.Center,l=!1){if(super(t,i,o,r,a),this.arc=new u(t,i-t.draw_delta,o-t.draw_delta,i+t.draw_delta,o+t.draw_delta,0,360,h.a.Line,2),this.n_name=e,t.grid_on){let e=t.find_grid(this.p);this.p.set(e)}this.arc.ll.set(new s.h(-t.draw_delta,-t.draw_delta)),this.arc.ur.set(new s.h(t.draw_delta,t.draw_delta)),this.get_node_borders(),l||t.set_dirty()}type(){return n.C.GrowConPoint}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowConPoint:break;case n.v.GrowConPoint_n_name:this.n_name=t.consumeLine();break;case n.v.GrowConPoint_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowConPoint_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowConPoint_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowConPoint_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowConPoint_conpoint_part:super.open(t);break;case n.v.GrowConPoint_arc:this.arc.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowConPoint:",e),t.consumeLine()}}}get_borders(t,e){let i=(t?f.multiply(t,this.trf):this.trf).apply(this.p);e.set(s.k.union(e,new s.k(i.x,i.y,i.x,i.y)))}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37),e=this.trf.apply(this.p);this.arc.get_borders(e,t,null),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}}var X=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class Y extends A{constructor(t,e,i=0,o=0,r=0,a=0,l=n.g.Vertical,_=h.a.Line,c=1,u=s.e.One,d=h.a.Line,m=h.a.LightGray,w=!1){super(t,e,i,o,r,a,_,c,!1,u,!0,!1,!1,d,w),this.max_value=100,this.min_value=0,this.bar_value=35,this.bar_length=10,this.user_data=null,this.movement_active=!1,this.start_pos=0,this.start_value=0,this.value_changed_cb=null,this.direction=l,this.bar_color=m,w||t.set_dirty()}type(){return n.C.GrowScrollBar}draw(t=null,e=!1,i=!1,o=null,r=null){let a=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);a=Object(s.q)(a+Number(i),0,n.f-1);let _=f.multiply(t,this.trf),c=_.apply(this.ll),u=_.apply(this.ur),d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()-this.ctx.mw.offset.y,w=u.z_x()-this.ctx.mw.offset.x,b=u.z_y()-this.ctx.mw.offset.y,y=Math.min(d,w),p=Math.max(d,w),g=Math.min(m,b),x=Math.max(m,b),v=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,r,1,!1),C=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);if(this.ctx.gdraw.rect(y,g,p-y,x-g,v,!0),this.shadow){let t=l.a.shift_drawtype(this.fill_drawtype,2,null);this.ctx.gdraw.line(y+1,g+1,y+1,x-1,t),this.ctx.gdraw.line(y+1,g+1,p-1,g+1,t),t=l.a.shift_drawtype(this.fill_drawtype,-2,null),this.ctx.gdraw.line(y+1,x-1,p-1,x-1,t),this.ctx.gdraw.line(p-1,g+1,p-1,x-1,t)}if(this.max_value!==this.min_value){let t=y,e=g,i=p-y,o=x-g,r=this.max_value-this.min_value,_=(this.bar_value-this.min_value)/r;if(this.direction===n.g.Vertical?(e+=Math.floor(_*o),o=Object(s.q)(Math.floor(this.bar_length/r*o),0,o)):this.direction===n.g.Horizontal&&(t+=Math.floor(_*i),i=Object(s.q)(Math.floor(this.bar_length/r*i),0,i)),this.ctx.gdraw.rect(t,e,i,o,this.bar_color,!0),this.shadow){let s=l.a.shift_drawtype(this.bar_color,-2,null);this.ctx.gdraw.line(t+1,e+1,t+1,e+o-1,s),this.ctx.gdraw.line(t+1,e+1,t+i-1,e+1,s),s=l.a.shift_drawtype(this.bar_color,2,null),this.ctx.gdraw.line(t+1,e+o-1,t+i-1,e+o-1,s),this.ctx.gdraw.line(t+i-1,e+1,t+i-1,e+o-1,s)}this.ctx.gdraw.rect(t,e,i,o,C,!1,a)}this.ctx.gdraw.rect(y,g,p-y,x-g,C,!1,a)}set_value(t,e=0){this.bar_length=e,this.bar_value=Object(s.q)(t,this.min_value,this.max_value-this.bar_length),this.draw()}event_handler(t){return X(this,void 0,void 0,function*(){let e=Math.min(this.ll.x,this.ur.x),i=Math.max(this.ll.x,this.ur.x),o=Math.min(this.ll.y,this.ur.y),r=Math.max(this.ll.y,this.ur.y);if(!(t.event instanceof MouseEvent))return 0;let a=t.event;if(!(this.movement_active||e<=t.x&&t.x<=i&&o<=t.y&&t.y<=r))return 0;if("mousemove"===a.type&&a.buttons&&!this.movement_active)return 0;if(this.min_value===this.max_value)return 1;if("mousedown"!==a.type||a.button){if("mouseup"===a.type&&0===a.button)this.movement_active=!1,this.ctx.sliderActive=!1;else if("mousemove"===a.type&&a.buttons&&this.movement_active){if(this.bar_length>=this.max_value-this.min_value)return;this.direction===n.g.Vertical?this.bar_value=(t.y-this.start_pos)/(r-o):this.direction===n.g.Horizontal&&(this.bar_value=(t.x-this.start_pos)/(i-e)),this.bar_value=Object(s.q)(this.bar_value*(this.max_value-this.min_value)+this.start_value,this.min_value,this.max_value-this.bar_length),this.value_changed_cb(this.bar_value)}}else if(this.direction===n.g.Vertical){let e=(r-o)/(this.max_value-this.min_value),i=(this.bar_value-this.min_value)*e;o+i<=t.y&&t.y<=o+i+this.bar_length*e&&(this.start_pos=t.y,this.start_value=this.bar_value,this.movement_active=!0,this.ctx.sliderActive=!0)}else if(this.direction===n.g.Horizontal){let o=(i-e)/(this.max_value-this.min_value),s=(this.bar_value-this.min_value)*o;e+s<=t.x&&t.x<=e+s+this.bar_length*o&&(this.start_pos=t.x,this.start_value=this.bar_value,this.movement_active=!0,this.ctx.sliderActive=!0)}return 1})}set_range(t,e){this.max_value=e,this.min_value=t,this.draw()}set_shadow(t){this.shadow=t}set_position(t,e,i,o){this.ll.set(new s.h(t,e)),this.ur.set(new s.h(t+i,e+o))}}var W=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class J extends A{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=s.e.One,c=!1){super(t,name,i,o,r,a,n,l,!1,_,!1,!0,!1,h.a.Line,c),this.file_name="",this.input_file_name="",this.owner="",this.userdata=null,this.windowCtx=null,this.y_low_offs=0,this.h_value=0,this.v_value=0,this.v_scrollbar=null,this.h_scrollbar=null,c||t.set_dirty()}type(){return n.C.GrowWindow}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowWindow:break;case n.v.GrowWindow_file_name:this.file_name=t.consumeLine();break;case n.v.GrowWindow_scrollbar_width:this.scrollbar_width=t.consumeFloat();break;case n.v.GrowWindow_scrollbar_color:this.scrollbar_color=t.consumeInt();break;case n.v.GrowWindow_scrollbar_bg_color:this.scrollbar_bg_color=t.consumeInt();break;case n.v.GrowWindow_vertical_scrollbar:this.vertical_scrollbar=t.consumeBool();break;case n.v.GrowWindow_horizontal_scrollbar:this.horizontal_scrollbar=t.consumeBool();break;case n.v.GrowWindow_window_scale:this.window_scale=t.consumeFloat();break;case n.v.GrowWindow_owner:this.owner=t.consumeLine();break;case n.v.GrowWindow_rect_part:super.open(t);break;case n.v.GrowWindow_userdata_cb:this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return void(this.file_name&&""!==this.file_name&&this.new_ctx());default:console.log("Syntax error in GrowWindow:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){let a=Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1);a=Object(s.q)(a+Number(i),0,n.f-1);let _=f.multiply(t,this.trf),c=_.apply(this.ll),u=_.apply(this.ur);c.x=Math.min(c.x,u.x),u.x=Math.max(c.x,u.x),c.y=Math.min(c.y,u.y),u.y=Math.max(c.y,u.y),this.v_scrollbar&&(this.v_scrollbar.set_position(u.x-this.scrollbar_width,c.y+this.y_low_offs,this.scrollbar_width,u.y-(c.y+this.y_low_offs)-(this.h_scrollbar?this.scrollbar_width:0)),this.v_scrollbar.draw()),this.h_scrollbar&&(this.h_scrollbar.set_position(c.x,u.y-this.scrollbar_width,u.x-c.x-(this.v_scrollbar?this.scrollbar_width:0),this.scrollbar_width),this.h_scrollbar.draw());let d=c.z_x()-this.ctx.mw.offset.x,m=c.z_y()+this.y_low_offs*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y;if(this.windowCtx){let t=u.z_x()-(this.vertical_scrollbar?this.scrollbar_width:0)*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,e=u.z_y()-(this.horizontal_scrollbar?this.scrollbar_width:0)*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y;this.windowCtx.mw.window_size.x=(this.x_right-this.x_left)*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.window_size.y=(this.y_high-this.y_low)*this.ctx.mw.zoom_factor.y,this.windowCtx.mw.subwindow.x=this.x_left*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.windowCtx.mw.subwindow.y=this.y_low*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,this.windowCtx.mw.offset.x=-d+this.h_value*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.offset.y=-m+this.v_value*this.ctx.mw.zoom_factor.y,this.windowCtx.mw.zoom_factor.x=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.zoom_factor.y=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor.y,this.fill&&this.ctx.gdraw.rect(d,m,t-d,e-m,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(d,m,t,e),this.windowCtx.customcolors&&this.ctx.gdraw.push_customcolors(this.windowCtx.customcolors),this.windowCtx.is_dirty=!0,this.windowCtx.draw(),this.windowCtx.customcolors&&this.ctx.gdraw.pop_customcolors(),this.ctx.gdraw.reset_clip_rectangle()}let w=u.z_x()-this.ctx.mw.offset.x,b=u.z_y()-this.ctx.mw.offset.y,y=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);this.ctx.gdraw.rect(d,m,w-d,b-m,y,!1,a)}new_ctx(){if("_no_"===this.file_name||""===this.file_name)return;let t;-1!==(t=this.file_name.indexOf("/"))&&(this.file_name=this.file_name.substring(t+1)),-1===this.file_name.indexOf(".")&&(this.file_name+=".pwg");let e=this.owner;for(let t=0;t<4;t++){let t;if(-1===(t=e.indexOf("$object")))break;e=e.substring(0,t)+this.ctx.owner+e.substring(t+7)}this.owner=e,this.windowCtx=new pt(this.ctx.appl.baseCtx),this.windowCtx.appl=this.ctx.appl;let i="http://"+s.f+"/"+this.file_name,o=new XMLHttpRequest,r=this.read_cb.bind(this);o.onload=function(){r(o.responseText)},o.onerror=function(){console.log("Error! Failed to fetch resource "+i)},o.open("GET",i,!0),o.send()}read_cb(t){let e=this.ctx.appl.ctxPop(this.ctx);this.windowCtx.gdraw=this.ctx.gdraw,this.windowCtx.open(new a.a(t)),this.windowCtx.draw(),this.windowCtx.owner=this.owner,this.windowCtx.mw.subwindow_scale=this.window_scale,this.windowCtx.mw.zoom_factor.x=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor.x,this.windowCtx.mw.zoom_factor.y=this.windowCtx.mw.zoom_factor.x,this.input_file_name=this.file_name,this.windowCtx.background_color!==h.a.Inherit&&(this.fill_drawtype=this.windowCtx.background_color,this.original_fill_drawtype=this.fill_drawtype,this.fill=!0),this.windowCtx.x0!==this.windowCtx.x1&&this.windowCtx.y0!==this.windowCtx.y1?(this.wctx_x0=this.windowCtx.x0,this.wctx_x1=this.windowCtx.x1,this.wctx_y0=this.windowCtx.y0,this.wctx_y1=this.windowCtx.y1):(this.wctx_x0=this.windowCtx.ll.x,this.wctx_x1=this.windowCtx.ur.x,this.wctx_y0=this.windowCtx.ll.y,this.wctx_y1=this.windowCtx.ur.y),this.windowCtx.mw.window_size.x=this.ur.z_x()-this.ll.z_x(),this.windowCtx.mw.window_size.y=this.ur.z_y()-this.ll.z_y(),this.windowCtx.mw.subwindow.x=this.ll.z_x()-this.ctx.mw.offset.x,this.windowCtx.mw.subwindow.y=this.ll.z_y()-this.ctx.mw.offset.y,this.configureScrollbars(),this.windowCtx.customcolors&&this.ctx.gdraw.pop_customcolors(),this.windowCtx.traceConnect(),this.draw(),e&&this.ctx.appl.ctxPush()}event_handler(t){const e=Object.create(null,{event_handler:{get:()=>super.event_handler}});return W(this,void 0,void 0,function*(){let i=this.v_scrollbar?yield this.v_scrollbar.event_handler(t):0,o=this.h_scrollbar?yield this.h_scrollbar.event_handler(t):0;if(i||o)return 1;let s=yield e.event_handler.call(this,t);if(this.ctx.callback_object===this&&(this.ctx.callback_object=null,this.ctx.callback_object_type=n.C.NoObject),this.windowCtx&&s){let e=(this.x_right-(this.vertical_scrollbar?this.scrollbar_width:0))*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,i=this.x_left*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,o=(this.y_high-(this.horizontal_scrollbar?this.scrollbar_width:0))*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,r=(this.y_low+this.y_low_offs)*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y;this.ctx.gdraw.set_clip_rectangle(i,r,e,o);let a=Object.assign({},t);a.x=(t.x-this.x_left+this.h_value)/this.windowCtx.mw.subwindow_scale,a.y=(t.y-this.y_low+this.v_value)/this.windowCtx.mw.subwindow_scale,s=yield this.windowCtx.event_handler(a),this.ctx.gdraw.reset_clip_rectangle()}return s})}configureScrollbars(){let t=this.wctx_y0*this.windowCtx.mw.subwindow_scale,e=this.horizontal_scrollbar?this.scrollbar_width:0;if(this.vertical_scrollbar){let i=this.y_high-this.y_low-this.y_low_offs-e;this.v_scrollbar||(this.v_scrollbar=new Y(this.ctx,"vScrollbar",this.x_right-this.scrollbar_width,this.y_low+this.y_low_offs,this.scrollbar_width,i,n.g.Vertical,h.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.v_scrollbar.value_changed_cb=this.verticalScrollValueChanged.bind(this),this.v_scrollbar.set_shadow(this.shadow)),this.windowCtx&&(this.v_scrollbar.set_range(t,this.wctx_y1*this.windowCtx.mw.subwindow_scale),this.v_scrollbar.set_value(t,i),this.v_value=t)}else this.v_value=t;let i=this.wctx_x0*this.windowCtx.mw.subwindow_scale;if(e=this.vertical_scrollbar?this.scrollbar_width:0,this.horizontal_scrollbar){let t=this.x_right-this.x_left-e;this.h_scrollbar||(this.h_scrollbar=new Y(this.ctx,"hScrollbar",this.x_left,this.y_high-this.scrollbar_width,t,this.scrollbar_width,n.g.Horizontal,h.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.h_scrollbar.value_changed_cb=this.horizontalScrollValueChanged.bind(this),this.h_scrollbar.set_shadow(this.shadow)),this.windowCtx&&(this.h_scrollbar.set_range(i,this.wctx_x1*this.windowCtx.mw.subwindow_scale),this.h_scrollbar.set_value(i,t),this.h_value=i)}else this.h_value=i}verticalScrollValueChanged(t){this.v_value!==t&&(this.v_value=t,this.draw())}horizontalScrollValueChanged(t){this.h_value!==t&&(this.h_value=t,this.draw())}update_attributes(){let t=this.ctx.appl.ctxPop(this.ctx);null===this.owner&&(this.owner=""),this.input_file_name===this.file_name&&null!==this.windowCtx&&this.windowCtx.owner===this.owner||(this.ctx.gdraw.set_clip_rectangle(this.x_left*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.y_low*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,this.x_right*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.y_high*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y),this.windowCtx&&(this.windowCtx.trace_started&&this.windowCtx.traceDisconnect(),this.fill_drawtype=h.a.Inherit,this.original_fill_drawtype=this.fill_drawtype,this.fill=!1),this.file_name=this.input_file_name,this.new_ctx(),this.ctx.gdraw.reset_clip_rectangle()),t&&this.ctx.appl.ctxPush()}traceConnect(){this.windowCtx&&this.windowCtx.traceConnect()}traceDisconnect(){this.windowCtx&&this.windowCtx.traceDisconnect()}traceScan(){this.windowCtx&&this.windowCtx.traceScan()}setSource(t,e){this.input_file_name=t,this.owner=e,this.update_attributes()}get_background_object_limits(t,e,i){for(let o=0;o<this.windowCtx.a.length;o++){let s=this.windowCtx.a[o].get_background_object_limits(t,e,i);if(s)return s}return null}}var Q=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class K extends J{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=h.a.LightGray,c=h.a.MediumGray,u=s.e.One,d=!1){super(t,e,i,o,r,a,n,l,u,d),this.folders=2,this.text_size=1,this.text_drawtype=h.a.TextHelveticaBold,this.text_color_drawtype=h.a.Line,this.header_height=.5,this.folder_file_names=new Array(K.MAX_FOLDERS),this.folder_text=new Array(K.MAX_FOLDERS),this.folder_scale=new Array(K.MAX_FOLDERS),this.folder_v_scrollbar=new Array(K.MAX_FOLDERS),this.folder_h_scrollbar=new Array(K.MAX_FOLDERS),this.folder_owner=new Array(K.MAX_FOLDERS),this.current_folder=0,this.color_selected=_,this.color_unselected=c;for(let t=0;t<K.MAX_FOLDERS;t++)this.folder_file_names[t]="",this.folder_text[t]="",this.folder_scale[t]=1,this.folder_v_scrollbar[t]=null,this.folder_h_scrollbar[t]=null,this.folder_owner[t]="";this.y_low_offs=this.header_height,d||t.set_dirty()}type(){return n.C.GrowFolder}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowFolder:break;case n.v.GrowFolder_folders:this.folders=t.consumeInt();break;case n.v.GrowFolder_text_size:this.text_size=t.consumeInt();break;case n.v.GrowFolder_text_drawtype:this.text_drawtype=t.consumeInt();break;case n.v.GrowFolder_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case n.v.GrowFolder_header_height:this.header_height=t.consumeFloat();break;case n.v.GrowFolder_color_selected:this.color_selected=t.consumeInt();break;case n.v.GrowFolder_color_unselected:this.color_unselected=t.consumeInt();break;case n.v.GrowFolder_folder_file_names1:case n.v.GrowFolder_folder_file_names2:case n.v.GrowFolder_folder_file_names3:case n.v.GrowFolder_folder_file_names4:case n.v.GrowFolder_folder_file_names5:case n.v.GrowFolder_folder_file_names6:case n.v.GrowFolder_folder_file_names7:case n.v.GrowFolder_folder_file_names8:case n.v.GrowFolder_folder_file_names9:case n.v.GrowFolder_folder_file_names10:case n.v.GrowFolder_folder_file_names11:case n.v.GrowFolder_folder_file_names12:{let i=(e-n.v.GrowFolder_folder_file_names1)/5;this.folder_file_names[i]=t.consumeLine();break}case n.v.GrowFolder_folder_text1:case n.v.GrowFolder_folder_text2:case n.v.GrowFolder_folder_text3:case n.v.GrowFolder_folder_text4:case n.v.GrowFolder_folder_text5:case n.v.GrowFolder_folder_text6:case n.v.GrowFolder_folder_text7:case n.v.GrowFolder_folder_text8:case n.v.GrowFolder_folder_text9:case n.v.GrowFolder_folder_text10:case n.v.GrowFolder_folder_text11:case n.v.GrowFolder_folder_text12:{let i=(e-n.v.GrowFolder_folder_file_names1)/5;this.folder_text[i]=t.consumeLine();break}case n.v.GrowFolder_folder_scale1:case n.v.GrowFolder_folder_scale2:case n.v.GrowFolder_folder_scale3:case n.v.GrowFolder_folder_scale4:case n.v.GrowFolder_folder_scale5:case n.v.GrowFolder_folder_scale6:case n.v.GrowFolder_folder_scale7:case n.v.GrowFolder_folder_scale8:case n.v.GrowFolder_folder_scale9:case n.v.GrowFolder_folder_scale10:case n.v.GrowFolder_folder_scale11:case n.v.GrowFolder_folder_scale12:{let i=(e-n.v.GrowFolder_folder_scale1)/5;this.folder_scale[i]=t.consumeFloat();break}case n.v.GrowFolder_folder_v_scrollbar1:case n.v.GrowFolder_folder_v_scrollbar2:case n.v.GrowFolder_folder_v_scrollbar3:case n.v.GrowFolder_folder_v_scrollbar4:case n.v.GrowFolder_folder_v_scrollbar5:case n.v.GrowFolder_folder_v_scrollbar6:case n.v.GrowFolder_folder_v_scrollbar7:case n.v.GrowFolder_folder_v_scrollbar8:case n.v.GrowFolder_folder_v_scrollbar9:case n.v.GrowFolder_folder_v_scrollbar10:case n.v.GrowFolder_folder_v_scrollbar11:case n.v.GrowFolder_folder_v_scrollbar12:n.v.GrowFolder_folder_v_scrollbar1;this.folder_v_scrollbar[0]=t.consumeBool();break;case n.v.GrowFolder_folder_h_scrollbar1:case n.v.GrowFolder_folder_h_scrollbar2:case n.v.GrowFolder_folder_h_scrollbar3:case n.v.GrowFolder_folder_h_scrollbar4:case n.v.GrowFolder_folder_h_scrollbar5:case n.v.GrowFolder_folder_h_scrollbar6:case n.v.GrowFolder_folder_h_scrollbar7:case n.v.GrowFolder_folder_h_scrollbar8:case n.v.GrowFolder_folder_h_scrollbar9:case n.v.GrowFolder_folder_h_scrollbar10:case n.v.GrowFolder_folder_h_scrollbar11:case n.v.GrowFolder_folder_h_scrollbar12:n.v.GrowFolder_folder_h_scrollbar1;this.folder_h_scrollbar[0]=t.consumeBool();break;case n.v.GrowFolder_folder_owner1:case n.v.GrowFolder_folder_owner2:case n.v.GrowFolder_folder_owner3:case n.v.GrowFolder_folder_owner4:case n.v.GrowFolder_folder_owner5:case n.v.GrowFolder_folder_owner6:case n.v.GrowFolder_folder_owner7:case n.v.GrowFolder_folder_owner8:case n.v.GrowFolder_folder_owner9:case n.v.GrowFolder_folder_owner10:case n.v.GrowFolder_folder_owner11:case n.v.GrowFolder_folder_owner12:{let i=e-n.v.GrowFolder_folder_owner1;this.folder_owner[i]=t.consumeLine();break}case n.v.GrowFolder_window_part:super.open(t);break;case n.v.End:return this.y_low_offs=this.header_height,this.input_file_name=this.folder_file_names[0],this.window_scale=this.folder_scale[0],this.vertical_scrollbar=this.folder_v_scrollbar[0],this.horizontal_scrollbar=this.folder_h_scrollbar[0],this.owner=this.folder_owner[0],void this.update_attributes();default:console.log("Syntax error in GrowFolder:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){let a=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,_=Math.floor(a*this.line_width-1);_=Object(s.q)(_+Number(i),0,n.f-1);let c=Math.floor(a*(this.text_size+4)-4),u=a*(8+2*this.text_size);c=Math.min(c,n.f-1);let d=f.multiply(t,this.trf),m=d.apply(this.ll),w=d.apply(this.ur);m.x=Math.min(m.x,w.x),w.x=Math.max(m.x,w.x),m.y=Math.min(m.y,w.y),w.y=Math.max(m.y,w.y);let b,y=m.z_x()-this.ctx.mw.offset.x,p=w.z_x()-this.ctx.mw.offset.x,g=m.z_y()+this.y_low_offs*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,x=m.z_y()-this.ctx.mw.offset.y,v=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1),C=l.a.shift_drawtype(this.color_unselected,-2,r),G=l.a.shift_drawtype(this.color_unselected,2,r),k=(p-y)/this.folders,T=g-x,S=new Array(4);for(let t=0;t<4;t++)S[t]=new s.h;for(let t=this.folders-1;t>=-1;t--)if(t!==this.current_folder){if(-1===t&&(t=this.current_folder),b=y+t*k,S[0].x=0===t?y:b-T/4,S[0].y=x+T,S[1].x=b+T/4,S[1].y=x,S[2].x=b+k-T/4,S[2].y=x,t===this.folders-1?S[3].x=p:S[3].x=b+k+T/4,S[3].y=x+T,t===this.current_folder)this.ctx.gdraw.polyline(S,4,this.color_selected,!0);else if(this.ctx.gdraw.polyline(S,4,this.color_unselected,!0),this.shadow&&(this.ctx.gdraw.line(S[0].x+1,S[0].y,S[1].x+1,S[1].y,C),t)){let t=[new s.h(b+T/4,x+T),new s.h(b,x+T/2),new s.h(b+T/8,x+T/4),new s.h(b+T/2,x+T)];this.ctx.gdraw.polyline(t,4,G,!0)}if(this.shadow&&(t===this.current_folder&&(C=l.a.shift_drawtype(this.color_selected,-2,r),this.ctx.gdraw.line(S[0].x+1,S[0].y,S[1].x+1,S[1].y,C)),this.ctx.gdraw.line(S[1].x,S[1].y+1,S[2].x,S[2].y+1,C)),this.ctx.gdraw.polyline(S,4,v,!1,_),c>=0&&null!==this.folder_text[t]&&this.ctx.gdraw.text(b+T/2,x+T-2,this.folder_text[t],this.text_drawtype,this.text_color_drawtype,n.j.Helvetica,u,0,e),t===this.current_folder)break}super.draw(t,e,i,o,r),this.ctx.gdraw.line(S[0].x+1,S[0].y,S[3].x-1,S[3].y,this.color_selected,_)}event_handler(t){const e=Object.create(null,{event_handler:{get:()=>super.event_handler}});return Q(this,void 0,void 0,function*(){if("click"===t.event.type&&this.x_left<=t.x&&t.x<=this.x_right&&this.y_low<=t.y&&t.y<=this.y_low+this.header_height){let e=(this.x_right-this.x_left)/this.folders,i=this.x_left+e;for(let o=0;o<this.folders;o++){if(t.x<=i){this.input_file_name=this.folder_file_names[o],this.window_scale=this.folder_scale[o],this.vertical_scrollbar=this.folder_v_scrollbar[o],this.horizontal_scrollbar=this.folder_h_scrollbar[o],this.owner=this.folder_owner[o],this.current_folder=o,this.update_attributes(),this.draw();break}i+=e}return 1}let i=new n.r(t.event);return i.type=t.type,i.x=t.x,i.y=t.y-this.header_height,i.object=t.object,e.event_handler.call(this,i)})}}K.MAX_FOLDERS=12;class Z extends V{constructor(t,e,i,o=!1){super(t,e,null,0,0,o,!1),this.nc=new v(t,e,i),this.nc.a.forEach(t=>t.set_parent(this)),this.get_node_borders()}type(){return n.C.GrowGroup}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowGroup:break;case n.v.GrowGroup_grownode_part:super.open(t);break;case n.v.GrowGroup_nc:this.nc=new v(this.ctx,this.n_name),this.nc.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowGroup:",e),t.consumeLine()}}}get_object_group(t){for(let e=0;e<this.nc.a.length;e++)if(this.nc.a[e].type()===n.C.GrowGroup){let i=this.nc.a[e].get_object_group(t);if(null!==i)return i}else if(this.nc.a[e]===t)return this;return null}get_object_list(){return this.nc.a}}class ${constructor(t){this.image_filename="",this.ctx=t,this.trf=new b,this.ll=new c(t),this.ur=new c(t),this.image=new Image;let e=this.draw.bind(this);this.image.onload=function(){console.log("Loading image"),e()}}type(){return n.C.GrowImage}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowImage:break;case n.v.GrowImage_n_name:this.n_name=t.consumeLine();break;case n.v.GrowImage_image_filename:this.image_filename=t.consumeLine(),this.image.src=this.image_filename;break;case n.v.GrowImage_x_right:this.ur.x=t.consumeFloat();break;case n.v.GrowImage_x_left:this.ll.x=t.consumeFloat();break;case n.v.GrowImage_y_high:this.ur.y=t.consumeFloat();break;case n.v.GrowImage_y_low:this.ll.y=t.consumeFloat();break;case n.v.GrowImage_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowImage_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowImage_trf:this.trf.open(t);break;case n.v.GrowImage_display_level:this.display_level=t.consumeInt();break;case n.v.GrowImage_ll:this.ll.open(t);break;case n.v.GrowImage_ur:this.ur.open(t);break;case n.v.GrowImage_color_tone:this.color_tone=t.consumeInt();break;case n.v.GrowImage_color_lightness:this.color_lightness=t.consumeInt();break;case n.v.GrowImage_color_intensity:this.color_intensity=t.consumeInt();break;case n.v.GrowImage_color_shift:this.color_shift=t.consumeInt();break;case n.v.GrowImage_fixposition:this.fixposition=t.consumeBool();break;case n.v.End:return;default:console.log("Syntax error in GrowImage:",e),t.consumeLine()}}}event_handler(t){if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y);return this.ll.x<=e.x&&e.x<=this.ur.x&&this.ll.y<=e.y&&e.y<=this.ur.y}draw(t=null,e=!1,i=!1,o=null,s=null){if(0===this.image.naturalWidth)return;let r;r=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor-1),r+=i,r=Math.max(0,r),r=Math.min(r,n.f-1);let a=f.multiply(t,this.trf),l=a.apply(this.ll),_=a.apply(this.ur),h=l.z_x()-this.ctx.mw.offset.x,c=l.z_y()-this.ctx.mw.offset.y,u=_.z_x()-this.ctx.mw.offset.x,d=_.z_y()-this.ctx.mw.offset.y,m=Math.min(h,u),w=Math.max(h,u),b=Math.min(c,d),y=Math.max(c,d);this.ctx.gdraw.image(m,b,w-m,y-b,this.image)}get_borders(t,e){let i=f.multiply(t,this.trf),o=i.apply(this.ll),r=i.apply(this.ur);e.set(s.k.union(e,new s.k(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.max(o.x,r.x),Math.max(o.y,r.y))))}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.get_borders(null,t),this.ll.set(t.ll),this.ur.set(t.ur)}set_scale(t,e,i,o,s){if(this.trf.s.a11&&this.trf.s.a22&&Math.abs(t-this.trf.a11/this.trf.s.a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s.a22)<Number.MIN_VALUE)return;switch(s){case n.F.LowerLeft:i=this.ll.x,o=this.ll.y;break;case n.F.LowerRight:i=this.ur.x,o=this.ll.y;break;case n.F.UpperRight:i=this.ur.x,o=this.ur.y;break;case n.F.UpperLeft:i=this.ll.x,o=this.ur.y;break;case n.F.FixPoint:break;case n.F.Center:i=(this.ll.x+this.ur.x)/2,o=(this.ll.y+this.ur.y)/2}let r=this.ll.x,a=this.ur.x,l=this.ll.y,_=this.ur.y;switch(this.trf.revert(),this.trf.scale(t,e,i,o),this.get_node_borders(),s){case n.F.LowerLeft:this.ll.x=r,this.ll.y=l;break;case n.F.LowerRight:this.ur.x=a,this.ll.y=l;break;case n.F.UpperRight:this.ur.x=a,this.ur.y=_;break;case n.F.UpperLeft:this.ll.x=r,this.ur.y=_;break;case n.F.FixPoint:break;case n.F.Center:i=(this.ll.x+this.ur.x)/2,o=(this.ll.y+this.ur.y)/2}this.ctx.set_dirty()}getName(){return this.n_name}get_background_object_limits(t,e,i){return null}}class tt extends p{constructor(t,e,i=0,o=0,s=0,r=0,a=h.a.Line,l=1,_=!1,c=!1){if(super(t,i,o,s,r,a,l,_),this.n_name="",this.line_type=n.y.Solid,this.dynamicsize=0,this.trf=new b,this.original_border_drawtype=a,this.n_name=e,t.grid_on){let e=t.find_grid(this.p1);this.p1.set(e),e=t.find_grid(this.p2),this.p2.set(e)}c||t.set_dirty(),this.get_node_borders()}type(){return n.C.GrowLine}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowLine:break;case n.v.GrowLine_n_name:this.n_name=t.consumeLine();break;case n.v.GrowLine_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowLine_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowLine_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowLine_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowLine_line_type:this.line_type=t.consumeInt();break;case n.v.GrowLine_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case n.v.GrowLine_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowLine_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowLine_line_part:super.open(t);break;case n.v.GrowLine_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowLine:",e),t.consumeLine()}}}event_handler(t){return 0}draw(t=null,e=!1,i=!1,o=null,s=null){let r;i&&this.ctx.hot_indication!==n.x.LineWidth&&(i=!1),r=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,n.f-1);let a=f.multiply(t,this.trf),_=a.apply(this.p1),c=a.apply(this.p2),u=_.z_x()-this.ctx.mw.offset.x,d=_.z_y()-this.ctx.mw.offset.y,m=c.z_x()-this.ctx.mw.offset.x,w=c.z_y()-this.ctx.mw.offset.y;if(u===m&&d===w)return;let b=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1);this.ctx.gdraw.line(u,d,m,w,b,r,this.line_type)}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.get_borders(null,t),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}get_borders(t,e){let i=t?f.multiply(t,this.trf):this.trf,o=i.apply(this.p1),r=i.apply(this.p2);e.set(s.k.union(e,new s.k(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.max(o.x,r.x),Math.max(o.y,r.y))))}get_background_object_limits(t,e,i){return null}}class et extends S{constructor(t){super(t),this.sector_color=new Array(n.p),this.sector_size=new Array(n.p)}type(){return n.C.GrowPie}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowPie:break;case n.v.GrowPie_arc_part:super.open(t);break;case n.v.GrowPie_sectors:this.sectors=t.consumeInt();break;case n.v.GrowPie_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowPie_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowPie_sector_color1:case n.v.GrowPie_sector_color2:case n.v.GrowPie_sector_color3:case n.v.GrowPie_sector_color4:case n.v.GrowPie_sector_color5:case n.v.GrowPie_sector_color6:case n.v.GrowPie_sector_color7:case n.v.GrowPie_sector_color8:case n.v.GrowPie_sector_color9:case n.v.GrowPie_sector_color10:case n.v.GrowPie_sector_color11:case n.v.GrowPie_sector_color12:{let i=e-n.v.GrowPie_sector_color1;this.sector_color[i]=t.consumeInt();break}case n.v.GrowPie_sector_size1:case n.v.GrowPie_sector_size2:case n.v.GrowPie_sector_size3:case n.v.GrowPie_sector_size4:case n.v.GrowPie_sector_size5:case n.v.GrowPie_sector_size6:case n.v.GrowPie_sector_size7:case n.v.GrowPie_sector_size8:case n.v.GrowPie_sector_size9:case n.v.GrowPie_sector_size10:case n.v.GrowPie_sector_size11:case n.v.GrowPie_sector_size12:{let i=e-n.v.GrowPie_sector_size1;this.sector_size[i]=t.consumeFloat();break}case n.v.GrowPie_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return;default:console.log("Syntax error in GrowPie:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){let a=0;this.ctx.hot_indication===n.x.No?i=!1:this.ctx.hot_indication===n.x.DarkColor?(a=Number(i),i=!1):this.ctx.hot_indication===n.x.LightColor&&(a=-i,i=!1),this.fixcolor&&(r=null);let _=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor;_*=o&&o.line_width?o.line_width:this.line_width,_=Object(s.q)(Math.floor(_-1)+Number(i),0,n.f-1);let c=f.multiply(t,this.trf),u=c.apply(this.ll),d=c.apply(this.ur),m=u.z_x()-this.ctx.mw.offset.x,w=u.z_y()-this.ctx.mw.offset.y,b=d.z_x()-this.ctx.mw.offset.x,y=d.z_y()-this.ctx.mw.offset.y,p=Math.floor(c.rotation),g=Math.min(m,b),x=Math.max(m,b),v=Math.min(w,y),C=Math.max(w,y),G=(null!==o&&o.shadow||this.shadow)&&!this.disable_shadow,k=this.gradient;this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(k=o.gradient);let T,S=this.angle1,I=0,L=this.angle1;for(let t=0;t<this.sectors+1;t++){let i;if(t===this.sectors){if(L>=this.angle1+this.angle2)break;T=this.angle1+this.angle2-L,i=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,r,1,!1)}else{if(this.sector_size[t]<=this.min_value)continue;if(S>=this.angle2+this.angle1)break;S+(I=this.sector_size[t]/(this.max_value-this.min_value)*this.angle2)>this.angle1+this.angle2&&(I=this.angle1+this.angle2-S),T=I+S-L,i=l.a.get_drawtype(this.sector_color[t],h.a.FillHighlight,e,r,1,!1)}if(k===n.w.No||i===h.a.ColorRed){let t=0===a?i:l.a.shift_drawtype(i,a,null);this.ctx.gdraw.arc(g,v,x-g,C-v,L-p,T,t,!0)}else if(G&&0!==this.shadow_width){let t=this.shadow_width/100*Math.min(x-g,C-v),e=this.shadow_contrast;this.relief===n.D.Down&&(e=-this.shadow_contrast);let o=l.a.shift_drawtype(i,-e+a,r),s=l.a.shift_drawtype(i,e+a,r);this.ctx.gdraw.gradient_fill_arc(g,v,x-g,C-v,L-p,T,i,s,o,n.w.DiagonalUpperLeft),this.gradient_contrast,s=l.a.shift_drawtype(i,-this.gradient_contrast/2+a,null),o=l.a.shift_drawtype(i,this.gradient_contrast/2+a,null),this.ctx.gdraw.gradient_fill_arc(g+t,v+t,x-g-2*t,C-v-2*t,L-p,T,i,o,s,k)}else{let t,e;this.gradient_contrast>=0?(e=l.a.shift_drawtype(i,-this.gradient_contrast/2+a,null),t=l.a.shift_drawtype(i,this.gradient_contrast/2+a,null)):(e=l.a.shift_drawtype(i,-this.gradient_contrast/2+a,null),t=l.a.shift_drawtype(i,this.gradient_contrast/2+a,0)),this.ctx.gdraw.gradient_fill_arc(g,v,x-g,C-v,L-p,T,i,t,e,k)}S+=I,L+=T}if(this.border){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);this.ctx.gdraw.arc(g,v,x-g,C-v,this.angle1-p,this.angle2,t,!1,_)}}set_conf(t,e,i,o){this.sectors=t,this.min_value=e,this.max_value=i;for(let t=0;t<this.sectors;t++)this.sector_color[t]=o[t];this.draw()}get_conf(){return{sector_num:this.sectors,min_val:this.min_value,max_val:this.max_value}}set_values(t){for(let e=0;e<this.sectors;e++)this.sector_size[e]=t[e];this.draw()}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return n.e.Slow}get_background_object_limits(t,e,i){return null}}class it{constructor(t,e,i){this.draw_type=0,this.line_width=0,this.fill=!1,this.closed_line=!1,this.ctx=t,this.points=new Array(i),this.a_points=new wt(t);for(let o=0;o<i;o++)this.a_points.push(new c(t,e[o].x,e[o].y)),this.points[o]=new c(t)}type(){return n.C.PolyLine}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.PolyLine:break;case n.v.PolyLine_draw_type:this.draw_type=t.consumeInt();break;case n.v.PolyLine_line_width:this.line_width=t.consumeInt();break;case n.v.PolyLine_fill:this.fill=t.consumeBool();break;case n.v.PolyLine_closed_line:this.closed_line=t.consumeBool();break;case n.v.PolyLine_a_points:this.a_points.open(t);break;case n.v.End:return;default:console.log("Syntax error in GlowPolyline:",e),t.consumeLine()}}}}class ot{}class st extends it{constructor(t,e,i,o,s,r,a,l,_,c,u,d,m,w,f=n.q.Line){super(t,i,o),this.n_name="",this.original_border_drawtype=0,this.original_fill_drawtype=0,this.fill_drawtype=0,this.background_drawtype=0,this.border=!0,this.fill_eq_border=!1,this.shadow_width=0,this.shadow_contrast=0,this.shadow=!1,this.relief=0,this.disable_shadow=!1,this.fixcolor=!1,this.fixposition=!1,this.gradient=0,this.gradient_contrast=0,this.disable_gradient=!1,this.fill_eq_light=!1,this.fill_eq_shadow=!1,this.fill_eq_bglight=!1,this.fill_eq_bgshadow=!1,this.fill_eq_background=!1,this.dynamicsize=0,this.trf=new b,this.original_border_drawtype=s,this.fill_drawtype=u,this.border=_,this.shadow=c,this.shadow_width=5,this.relief=n.D.Up,this.shadow_contrast=2,this.gradient=n.w.No,this.gradient_contrast=4,this.n_name=e,this.draw_type=s,this.line_width=r,this.fill=l,this.background_drawtype=h.a.No}type(){return n.C.GrowPolyLine}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowPolyLine:break;case n.v.GrowPolyLine_n_name:this.n_name=t.consumeLine();break;case n.v.GrowPolyLine_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowPolyLine_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowPolyLine_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowPolyLine_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowPolyLine_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case n.v.GrowPolyLine_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case n.v.GrowPolyLine_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case n.v.GrowPolyLine_background_drawtype:this.background_drawtype=t.consumeInt();break;case n.v.GrowPolyLine_border:this.border=t.consumeBool();break;case n.v.GrowPolyLine_shadow_width:this.shadow_width=t.consumeFloat();break;case n.v.GrowPolyLine_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case n.v.GrowPolyLine_shadow:this.shadow=t.consumeBool();break;case n.v.GrowPolyLine_relief:this.relief=t.consumeInt();break;case n.v.GrowPolyLine_disable_shadow:this.disable_shadow=t.consumeBool();break;case n.v.GrowPolyLine_fixcolor:this.fixcolor=t.consumeBool();break;case n.v.GrowPolyLine_fixposition:this.fixposition=t.consumeBool();break;case n.v.GrowPolyLine_gradient:this.gradient=t.consumeInt();break;case n.v.GrowPolyLine_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case n.v.GrowPolyLine_disable_gradient:this.disable_gradient=t.consumeBool();break;case n.v.GrowPolyLine_fill_eq_border:this.fill_eq_border=t.consumeBool();break;case n.v.GrowPolyLine_fill_eq_light:this.fill_eq_light=t.consumeBool();break;case n.v.GrowPolyLine_fill_eq_shadow:this.fill_eq_shadow=t.consumeBool();break;case n.v.GrowPolyLine_fill_eq_bglight:this.fill_eq_bglight=t.consumeBool();break;case n.v.GrowPolyLine_fill_eq_bgshadow:this.fill_eq_bgshadow=t.consumeBool();break;case n.v.GrowPolyLine_fill_eq_background:this.fill_eq_background=t.consumeBool();break;case n.v.GrowPolyLine_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowPolyLine_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowPolyLine_polyline_part:super.open(t);break;case n.v.GrowPolyLine_trf:this.trf.open(t);break;case n.v.End:for(let t=0;t<this.a_points.length;t++)this.points[t]=new s.h;return;default:console.log("Syntax error in GrowPolyline:",e),t.consumeLine()}}}event_handler(t){return 0}draw(t=null,e=!1,i=!1,o=null,r=null){let a,_=0;i&&(this.ctx.hot_indication===n.x.No?i=!1:this.ctx.hot_indication===n.x.DarkColor?(_=Number(i),i=!1):this.ctx.hot_indication===n.x.LightColor&&(_=-Number(i),i=!1)),this.fixcolor&&(r=null),a=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),a+=i,a=Math.max(0,a),a=Math.min(a,n.f-1);let c=f.multiply(t,this.trf);for(let t=0;t<this.a_points.length;t++){let e=c.apply(this.a_points[t]);this.points[t].x=e.x*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,this.points[t].y=e.y*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y}if(this.fill){let t,i=this.gradient;if(this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(i=o.gradient),t=this.fill_eq_border?l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1):this.fill_eq_background?l.a.get_drawtype(this.background_drawtype,h.a.FillHighlight,e,r,3,!1):l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,r,1,!1),this.fill_eq_light&&null!==o&&o.shadow?t=l.a.shift_drawtype(t,-this.shadow_contrast+_,r):this.fill_eq_bglight?t=null!==r&&o.background_drawtype!==h.a.No?l.a.shift_drawtype(r.background_drawtype,-this.shadow_contrast+_,r):l.a.shift_drawtype(this.original_fill_drawtype,-this.shadow_contrast+_,r):this.fill_eq_shadow&&null!==o&&o.shadow?t=l.a.shift_drawtype(t,this.shadow_contrast+_,r):this.fill_eq_bgshadow?t=null!==r&&o.background_drawtype!==h.a.No?l.a.shift_drawtype(r.background_drawtype,this.shadow_contrast+_,r):l.a.shift_drawtype(this.original_fill_drawtype,this.shadow_contrast+_,r):_&&(t=l.a.shift_drawtype(t,_,null)),i===n.w.No||t===h.a.ColorRed)this.ctx.gdraw.polyline(this.points,this.a_points.length,t,!0);else{let e,o;this.gradient_contrast,o=l.a.shift_drawtype(t,-this.gradient_contrast/2,null),e=l.a.shift_drawtype(t,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_polyline(this.points,this.a_points.length,t,e,o,this.ctx.gdraw.gradient_rotate(c.rotation,i))}}let u=(o&&o.shadow||this.shadow)&&!this.disable_shadow&&!this.fill_eq_light&&!this.fill_eq_shadow;if(u&&this.shadow_width){let t=c.vertical_scale(),i=this.shadow_width/100*t*Math.min((this.x_right-this.x_left)*this.ctx.mw.zoom_factor.x,(this.y_high-this.y_low)*this.ctx.mw.zoom_factor.y);if(i>=1){let t=this.calculate_shadow(i,e,r,0,_);for(let e=0;e<t.length-1;e++){let i=[this.points[e],new s.h(t[e].x,t[e].y),new s.h(t[e+1].x,t[e+1].y),this.points[e+1]];this.ctx.gdraw.polyline(i,4,t[e].drawtype,!0)}}}if(this.border||!(this.fill||u&&this.shadow_width)){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1);this.ctx.gdraw.polyline(this.points,this.a_points.length,t,a,0)}}calculate_shadow(t,e,i,o,s){let r,a=this.a_points.length;this.points[0].x===this.points[a-1].x&&this.points[0].y===this.points[a-1].y&&a--,r=this.points[0].x===this.points[this.a_points.length-1].x&&this.points[0].y===this.points[this.a_points.length-1].y?new Array(a+1):new Array(a);let _=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,i,1,!1),c=this.shadow_contrast;this.relief===n.D.Down&&(c=-this.shadow_contrast);let u=l.a.shift_drawtype(_,-c+s,i),d=l.a.shift_drawtype(_,c+s,i),m=this.shadow_direction();for(let e=0;e<a;e++){let i,o;r[e]=new ot,0===e?(i=this.points[a-1].x,o=this.points[a-1].y):(i=this.points[e-1].x,o=this.points[e-1].y);let s,n,l=this.points[e].x,_=this.points[e].y;e===a-1?(s=this.points[0].x,n=this.points[0].y):(s=this.points[e+1].x,n=this.points[e+1].y);let h=m;if(-1!==e&&(Math.abs(i-l)<Number.MIN_VALUE?l>s&&_<o?h=-m:l<s&&_>o&&(h=-m):Math.abs(l-s)<Number.MIN_VALUE?i<l&&n>_?h=-m:i>l&&n<_&&(h=-m):l>i&&s<l?h=-m:l<i&&s>l&&(h=-m)),Math.abs(i-l)<Number.MIN_VALUE)if(Math.abs(l-s)<Number.MIN_VALUE){let i=l+m*t;r[e].x=i,r[e].y=_}else{let i=(n-_)/(s-l),o=_-l*i+h*t/Math.abs(Math.cos(Math.atan(i))),a=l+m*t;r[e].x=a,r[e].y=i*a+o}else if(Math.abs(l-s)<Number.MIN_VALUE){let s=(_-o)/(l-i),a=o-i*s+m*t/Math.abs(Math.cos(Math.atan(s))),n=l+h*t;r[e].x=n,r[e].y=s*n+a}else{let a=(_-o)/(l-i),c=(n-_)/(s-l),u=o-i*a+m*t/Math.abs(Math.cos(Math.atan(a))),d=_-l*c+h*t/Math.abs(Math.cos(Math.atan(c)));if(Math.abs(a-c)<Number.MIN_VALUE)if(Math.abs(a)<Number.MIN_VALUE)r[e].x=l,r[e].y=u;else{let t=((d=n-(c=-c)*s)-u)/(a-c);r[e].x=t,r[e].y=c*t+d,c=a,d=u}else{let t=(d-u)/(a-c);r[e].x=t,r[e].y=c*t+d}}r[e].drawtype=1===h?u:d,m=h}return this.points[0].x===this.points[this.a_points.length-1].x&&this.points[0].y===this.points[this.a_points.length-1].y&&(r[a]=new ot,r[a].x=r[0].x,r[a].y=r[0].y),r}shadow_direction(){let t=this.a_points.length;this.points[t-1].x===this.points[0].x&&this.points[t-1].y===this.points[0].y&&t--;let e,i,o,s=0,r=0,a=0,n=0;for(let o=0;o<t;o++)o===t-1?(this.points[0].x===this.points[o].x?(e=90,this.points[0].y<this.points[o].y&&(e+=180)):e=180*Math.atan((this.points[0].y-this.points[o].y)/(this.points[0].x-this.points[o].x))/Math.PI,this.points[0].x<this.points[o].x&&(e+=180)):(this.points[o+1].x===this.points[o].x?(e=90,this.points[o+1].y<this.points[o].y&&(e+=180)):e=180*Math.atan((this.points[o+1].y-this.points[o].y)/(this.points[o+1].x-this.points[o].x))/Math.PI,this.points[o+1].x<this.points[o].x&&(e+=180)),0===o?n=e:o>0&&((i=e-(a-180))<0?i+=360:i>=360&&(i-=360),s+=i,r+=360-i),o===t-1&&((i=n-(e-180))<0?i+=360:i>=360&&(i-=360),s+=i,r+=360-i),a=e;o=this.points[0].x===this.points[this.a_points.length-1].x&&this.points[0].y===this.points[this.a_points.length-1].y?this.points[this.a_points.length-2]:this.points[this.a_points.length-1];let l=-1;return r-s<0?this.points[0].x===o.x?this.points[0].x<this.points[1].x&&(l=1):this.points[0].x>o.x&&(l=1):this.points[0].x===o.x?this.points[0].x<this.points[1].x&&(l=1):this.points[0].x<o.x&&(l=1),l}add_and_shift_y_value(t){for(let t=this.a_points.length-1;t>0;t--)this.a_points[t].y=this.a_points[t-1].y;this.a_points[0].y=t}add_and_shift_y_values(t,e){if(e)if(e>=this.a_points.length)for(let e=0;e<this.a_points.length;e++)this.a_points[e].y=t[e];else{for(let t=this.a_points.length-1;t>=e;t--)this.a_points[t].y=this.a_points[t-e].y;for(let i=0;i<e;i++)this.a_points[i].y=t[i]}}add_and_shift_y_value_filled(t){for(let t=this.a_points.length-2;t>1;t--)this.a_points[t].y=this.a_points[t-1].y;this.a_points[1].y=t}add_and_shift_y_values_filled(t,e){if(e){for(let t=this.a_points.length-2;t>=e;t--)this.a_points[t].y=this.a_points[t-e].y;for(let i=0;i<e;i++)this.a_points[i+1].y=t[i]}}get_borders(t,e){let i=f.multiply(t,this.trf),o=new s.h;for(let t=0;t<this.a_points.length-1;t++){let r=this.a_points[t],a=new s.h(o.x,o.y);0===t&&(a=i.apply(r)),o=i.apply(r),e.set(s.k.union(e,new s.k(Math.min(a.x,o.x),Math.min(a.y,o.y),Math.max(a.x,o.x),Math.max(a.y,o.y))))}}get_background_object_limits(t,e,i){return null}}class rt extends A{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=!1,c=s.e.One,u=!1,d=!0,m=!1,w=h.a.Line,f=!1){super(t,e,i,o,r,a,n,l,_,c,u,d,m,w,f),this.round_amount=15}type(){return n.C.GrowRectRounded}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowRectRounded:break;case n.v.GrowRectRounded_n_name:this.n_name=t.consumeLine();break;case n.v.GrowRectRounded_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowRectRounded_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowRectRounded_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowRectRounded_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowRectRounded_original_border_drawtype:this.original_border_drawtype=t.consumeInt();break;case n.v.GrowRectRounded_original_fill_drawtype:this.original_fill_drawtype=t.consumeInt();break;case n.v.GrowRectRounded_fill_drawtype:this.fill_drawtype=t.consumeInt();break;case n.v.GrowRectRounded_border:this.border=t.consumeBool();break;case n.v.GrowRectRounded_round_amount:this.round_amount=t.consumeFloat();break;case n.v.GrowRectRounded_shadow_width:this.shadow_width=t.consumeFloat();break;case n.v.GrowRectRounded_shadow_contrast:this.shadow_contrast=t.consumeInt();break;case n.v.GrowRectRounded_shadow:this.shadow=t.consumeBool();break;case n.v.GrowRectRounded_relief:this.relief=t.consumeInt();break;case n.v.GrowRectRounded_disable_shadow:this.disable_shadow=t.consumeBool();break;case n.v.GrowRectRounded_fixposition:this.fixposition=t.consumeBool();break;case n.v.GrowRectRounded_gradient:this.gradient=t.consumeInt();break;case n.v.GrowRectRounded_gradient_contrast:this.gradient_contrast=t.consumeInt();break;case n.v.GrowRectRounded_disable_gradient:this.disable_gradient=t.consumeBool();break;case n.v.GrowRectRounded_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowRectRounded_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowRectRounded_rect_part:C.prototype.open.call(this,t);break;case n.v.GrowRectRounded_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowRectRounded:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,s=null){let r;r=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,n.f-1);let a=f.multiply(t,this.trf),_=a.apply(this.ll),c=a.apply(this.ur),u=_.z_x()-this.ctx.mw.offset.x,d=_.z_y()-this.ctx.mw.offset.y,m=c.z_x()-this.ctx.mw.offset.x,w=c.z_y()-this.ctx.mw.offset.y,b=Math.min(u,m),y=Math.max(u,m),p=Math.min(d,w),g=Math.max(d,w),x=this.round_amount/100*Math.min(y-b,g-p);if(this.fill){let t=this.shadow_width/100*Math.min(y-b,g-p),i=(null!==o&&o.shadow||this.shadow)&&!this.disable_shadow,r=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,s,1,!1),_=this.gradient;if(this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(_=o.gradient),i&&0!==t){let e=this.relief===n.D.Down?-this.shadow_contrast:this.shadow_contrast,i=l.a.shift_drawtype(r,0-e,s);if(this.ctx.gdraw.rect(b+x,p,y-b-2*x,t,i,!0),this.ctx.gdraw.rect(b,p+x,t,g-p-2*x,i,!0),this.ctx.gdraw.arc(b,p,2*x,2*x,90,90,i,!0),this.ctx.gdraw.arc(b,g-2*x,2*x,2*x,180,45,i,!0),this.ctx.gdraw.arc(y-2*x,p,2*x,2*x,45,45,i,!0),i=l.a.shift_drawtype(r,e+0,s),this.ctx.gdraw.rect(b+x,g-t,y-b-2*x,t,i,!0),this.ctx.gdraw.rect(y-t,p+x,t,g-p-2*x,i,!0),this.ctx.gdraw.arc(b,g-2*x,2*x,2*x,225,45,i,!0),this.ctx.gdraw.arc(y-2*x,p,2*x,2*x,0,45,i,!0),this.ctx.gdraw.arc(y-2*x,g-2*x,2*x,2*x,270,90,i,!0),_===n.w.No){let e=r;x>t?(this.ctx.gdraw.rect(b+t,p+x,y-b-2*t,g-p-2*x,e,!0),this.ctx.gdraw.rect(b+x,p+t,y-b-2*x,x-t,e,!0),this.ctx.gdraw.rect(b+x,g-x,y-b-2*x,x-t,e,!0),this.ctx.gdraw.arc(b+t,p+t,2*x-2*t,2*x-2*t,90,90,e,!0),this.ctx.gdraw.arc(b+t,g-2*x+t,2*x-2*t,2*x-2*t,180,90,e,!0),this.ctx.gdraw.arc(y-2*x+t,g-2*x+t,2*x-2*t,2*x-2*t,270,90,e,!0),this.ctx.gdraw.arc(y-2*x+t,p+t,2*x-2*t,2*x-2*t,0,90,e,!0)):this.ctx.gdraw.rect(b+x,p+x,y-b-2*x,g-p-2*x,e,!0)}else{let e,i;this.gradient_contrast,i=l.a.shift_drawtype(r,-this.gradient_contrast/2+0,null),e=l.a.shift_drawtype(r,this.gradient_contrast/2+0,null),this.ctx.gdraw.gradient_fill_rectrounded(b+t,p+t,y-b-2*t,g-p-2*t,x-t,r,e,i,this.ctx.gdraw.gradient_rotate(a.rotation,_))}}else if(_===n.w.No){let t=r;this.ctx.gdraw.rect(b,p+x,y-b,g-p-2*x,t,!0),this.ctx.gdraw.rect(b+x,p,y-b-2*x,x,t,!0),this.ctx.gdraw.rect(b+x,g-x,y-b-2*x,x,t,!0),this.ctx.gdraw.arc(b,p,2*x,2*x,90,90,t,!0),this.ctx.gdraw.arc(b,g-2*x,2*x,2*x,180,90,t,!0),this.ctx.gdraw.arc(y-2*x,g-2*x,2*x,2*x,270,90,t,!0),this.ctx.gdraw.arc(y-2*x,p,2*x,2*x,0,90,t,!0)}else{let t,e;this.gradient_contrast,e=l.a.shift_drawtype(r,-this.gradient_contrast/2+0,null),t=l.a.shift_drawtype(r,this.gradient_contrast/2+0,null),this.ctx.gdraw.gradient_fill_rectrounded(b,p,y-b,g-p,x,r,t,e,this.ctx.gdraw.gradient_rotate(a.rotation,_))}}if(this.border||!this.fill){let t=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,s,0,!1),i=0;this.ctx.gdraw.line(b+x,p,y-x,p,t,r),this.ctx.gdraw.line(b,p-i+x,b,g-i-x,t,r),this.ctx.gdraw.line(b+x,g,y-x,g,t,r),this.ctx.gdraw.line(y-i,p+x,y-i,g-x,t,r),this.ctx.gdraw.arc(b,p,2*x,2*x,90,90,t,r),this.ctx.gdraw.arc(b,g-2*x,2*x,2*x,180,90,t,r),this.ctx.gdraw.arc(y-2*x,g-2*x,2*x,2*x,270,90,t,r),this.ctx.gdraw.arc(y-2*x,p,2*x,2*x,0,90,t,r)}}}class at extends V{constructor(t,e,i,o,s,r=!1,a=!1){super(t,e,i,o,s,r,a),this.direction=n.h.Down,this.max_value=100,this.min_value=0,this.max_pos=100,this.min_pos=0}type(){return n.C.GrowSlider}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowSlider:break;case n.v.GrowSlider_direction:this.direction=t.consumeInt();break;case n.v.GrowSlider_max_value:this.max_value=t.consumeFloat();break;case n.v.GrowSlider_min_value:this.min_value=t.consumeFloat();break;case n.v.GrowSlider_max_pos:this.max_pos=t.consumeFloat();break;case n.v.GrowSlider_min_pos:this.min_pos=t.consumeFloat();break;case n.v.GrowSlider_grownode_part:super.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowSlider:",e),t.consumeLine()}}}get_origo(t){let e=new b,i=new s.k(1e38,1e38,-1e38,-1e38);switch(this.nc.get_borders(e,i),this.direction){case n.h.Down:case n.h.Up:return Math.abs(i.height())<Number.MIN_VALUE?this.ll.y:(this.nc.y0-i.ll.y)*(this.ur.y-this.ll.y)/i.height();case n.h.Left:case n.h.Right:return Math.abs(i.height())<Number.MIN_VALUE?this.ll.y:(this.nc.y0-i.ll.y)*(this.ur.x-this.ll.x)/i.height();default:return 0}}get_info(){return{direction:this.direction,max_value:this.max_value,min_value:this.min_value,max_position:this.max_pos,min_position:this.min_pos}}set_info(t){this.direction=t.direction,this.max_value=t.max_value,this.min_value=t.min_value,this.max_pos=t.max_position,this.min_pos=t.min_position}}var nt,lt=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};!function(t){t[t.No=0]="No",t[t.ZeroIfHeader=1]="ZeroIfHeader",t[t.ZeroIfHeaderIs0=2]="ZeroIfHeaderIs0"}(nt||(nt={}));class _t extends A{constructor(t,e,i=0,o=0,r=0,a=0,l=h.a.Line,_=1,c=!1,u=h.a.Line,d=s.e.One,m=!1){super(t,e,i,o,r,a,l,_,!1,d,c,!0,!1,u,m),this.userdata=null,this.vertical_scrollbar=!1,this.horizontal_scrollbar=!1,this.scrollbar_width=.5,this.v_scrollbar=null,this.h_scrollbar=null,this.v_value=0,this.h_value=0,this.table_x0=0,this.table_x1=0,this.table_y0=0,this.table_y1=0,this.scrollbar_color=h.a.LightGray,this.scrollbar_bg_color=h.a.MediumGray,this.window_scale=1,this.y_low_offs=0,this.x_left_offs=0,this.rows=10,this.columns=2,this.header_row=!1,this.header_column=!1,this.text_size=1,this.text_drawtype=h.a.TextHelvetica,this.text_color_drawtype=h.a.Line,this.header_text_size=1,this.header_text_drawtype=h.a.TextHelvetica,this.header_text_color=h.a.Line,this.header_row_height=.8,this.row_height=.6,this.column_width=new Array(_t.MAX_COL),this.header_text=new Array(_t.MAX_COL),this.column_size=new Array(_t.MAX_COL),this.column_adjustment=new Array(_t.MAX_COL),this.value_size=0,this.cell_value=null,this.selected_cell_row=-1,this.selected_cell_column=-1,this.select_drawtype=h.a.Inherit,this.input_focus=!1,this.options=nt.No,this.font=n.j.Helvetica;for(let t=0;t<_t.MAX_COL;t++)this.header_text[t]="",this.column_width[t]=4,this.column_size[t]=12,this.column_adjustment[t]=n.a.Left;this.configure(),m||t.set_dirty()}type(){return n.C.GrowTable}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowTable:break;case n.v.GrowTable_scrollbar_width:this.scrollbar_width=t.consumeFloat();break;case n.v.GrowTable_scrollbar_color:this.scrollbar_color=t.consumeInt();break;case n.v.GrowTable_scrollbar_bg_color:this.scrollbar_bg_color=t.consumeInt();break;case n.v.GrowTable_vertical_scrollbar:this.vertical_scrollbar=t.consumeBool();break;case n.v.GrowTable_horizontal_scrollbar:this.horizontal_scrollbar=t.consumeBool();break;case n.v.GrowTable_window_scale:this.window_scale=t.consumeFloat();break;case n.v.GrowTable_rows:this.rows=t.consumeInt();break;case n.v.GrowTable_columns:this.columns=t.consumeInt();break;case n.v.GrowTable_header_row:this.header_row=t.consumeBool();break;case n.v.GrowTable_header_column:this.header_column=t.consumeBool();break;case n.v.GrowTable_text_size:this.text_size=t.consumeInt();break;case n.v.GrowTable_text_drawtype:this.text_drawtype=t.consumeInt();break;case n.v.GrowTable_text_color_drawtype:this.text_color_drawtype=t.consumeInt();break;case n.v.GrowTable_header_text_size:this.header_text_size=t.consumeInt();break;case n.v.GrowTable_header_text_drawtype:this.header_text_drawtype=t.consumeInt();break;case n.v.GrowTable_header_text_color:this.header_text_color=t.consumeInt();break;case n.v.GrowTable_header_text_bold:this.header_text_bold=t.consumeBool();break;case n.v.GrowTable_header_row_height:this.header_row_height=t.consumeFloat();break;case n.v.GrowTable_row_height:this.row_height=t.consumeFloat();break;case n.v.GrowTable_options:this.options=t.consumeInt();break;case n.v.GrowTable_select_drawtype:this.select_drawtype=t.consumeInt();break;case n.v.GrowTable_font:this.font=t.consumeInt();break;case n.v.GrowTable_column_width1:case n.v.GrowTable_column_width2:case n.v.GrowTable_column_width3:case n.v.GrowTable_column_width4:case n.v.GrowTable_column_width5:case n.v.GrowTable_column_width6:case n.v.GrowTable_column_width7:case n.v.GrowTable_column_width8:case n.v.GrowTable_column_width9:case n.v.GrowTable_column_width10:case n.v.GrowTable_column_width11:case n.v.GrowTable_column_width12:{let i=(e-n.v.GrowTable_column_width1)/2;this.column_width[i]=t.consumeFloat();break}case n.v.GrowTable_header_text1:case n.v.GrowTable_header_text2:case n.v.GrowTable_header_text3:case n.v.GrowTable_header_text4:case n.v.GrowTable_header_text5:case n.v.GrowTable_header_text6:case n.v.GrowTable_header_text7:case n.v.GrowTable_header_text8:case n.v.GrowTable_header_text9:case n.v.GrowTable_header_text10:case n.v.GrowTable_header_text11:case n.v.GrowTable_header_text12:{let i=(e-n.v.GrowTable_header_text1)/2;this.header_text[i]=t.consumeLine();break}case n.v.GrowTable_column_adjustment1:case n.v.GrowTable_column_adjustment2:case n.v.GrowTable_column_adjustment3:case n.v.GrowTable_column_adjustment4:case n.v.GrowTable_column_adjustment5:case n.v.GrowTable_column_adjustment6:case n.v.GrowTable_column_adjustment7:case n.v.GrowTable_column_adjustment8:case n.v.GrowTable_column_adjustment9:case n.v.GrowTable_column_adjustment10:case n.v.GrowTable_column_adjustment11:case n.v.GrowTable_column_adjustment12:{let i=e-n.v.GrowTable_column_adjustment1;this.column_adjustment[i]=t.consumeInt();break}case n.v.GrowTable_rect_part:super.open(t);break;case n.v.GrowTable_userdata_cb:this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return this.configure(),void this.configure_scrollbars();default:console.log("Syntax error in GrowTable:",e),t.consumeLine()}}}configure(){this.table_x0=0,this.table_y0=0,this.table_x1=0;for(let t=0;t<this.columns;t++)this.header_column&&0===t||(this.table_x1+=this.column_width[t]);this.table_y1=this.row_height*this.rows,this.y_low_offs=this.header_row?this.header_row_height:0,this.x_left_offs=this.header_column?this.column_width[0]:0,this.cell_value=new Array(this.columns*this.rows)}configure_scrollbars(){if(this.vertical_scrollbar&&null===this.v_scrollbar){let t=this.x_right-this.scrollbar_width,e=this.y_low+this.y_low_offs,i=this.scrollbar_width,o=this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*Number(this.horizontal_scrollbar);this.v_scrollbar=new Y(this.ctx,"vScrollbar",t,e,i,o,n.g.Vertical,h.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.v_scrollbar.value_changed_cb=this.verticalScrollValueChanged.bind(this),this.v_scrollbar.set_range(this.table_y0*this.window_scale,this.table_y1*this.window_scale),this.v_scrollbar.set_value(this.table_y0*this.window_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*Number(this.horizontal_scrollbar)),this.v_scrollbar.set_shadow(this.shadow),this.v_value=this.table_y0*this.window_scale}else!this.vertical_scrollbar&&this.v_scrollbar?(this.v_scrollbar=null,this.v_value=this.table_y0*this.window_scale):this.v_scrollbar?(this.v_scrollbar.set_range(this.table_y0*this.window_scale,this.table_y1*this.window_scale),this.v_scrollbar.set_value(this.table_y0*this.window_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*Number(this.horizontal_scrollbar)),this.v_value=this.table_y0*this.window_scale,this.v_scrollbar.set_shadow(this.shadow)):this.v_value=this.table_y0*this.window_scale;if(this.horizontal_scrollbar&&null===this.h_scrollbar){let t=this.x_left+this.x_left_offs,e=this.y_high-this.scrollbar_width,i=this.scrollbar_width,o=this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*Number(this.vertical_scrollbar);this.h_scrollbar=new Y(this.ctx,"hScrollbar",t,e,o,i,n.g.Horizontal,h.a.Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,!0),this.h_scrollbar.value_changed_cb=this.horizontalScrollValueChanged.bind(this),this.h_scrollbar.set_range(this.table_x0*this.window_scale,this.table_x1*this.window_scale),this.h_scrollbar.set_value(this.table_x0*this.window_scale,this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*Number(this.vertical_scrollbar)),this.h_scrollbar.set_shadow(this.shadow),this.h_value=this.table_x0*this.window_scale}else!this.horizontal_scrollbar&&this.h_scrollbar?(this.h_scrollbar=null,this.h_value=this.table_x0*this.window_scale):this.h_scrollbar?(this.h_scrollbar.set_value(this.table_x0*this.window_scale,this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*Number(this.vertical_scrollbar)),this.h_value=this.table_x0*this.window_scale,this.h_scrollbar.set_range(this.table_x0*this.window_scale,this.table_x1*this.window_scale),this.h_scrollbar.set_shadow(this.shadow)):this.h_value=this.table_x0*this.window_scale}draw(t=null,e=!1,i=!1,o=null,r=null){let a=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,_=Math.floor(a*this.line_width-1);_=Object(s.q)(_+Number(i),0,n.f-1);let c=Math.floor(a*(this.text_size+4)-4),u=a*(8+2*this.text_size);c=Math.min(c,n.f-1);let d=Math.floor(a*(this.header_text_size+4)-4);d=Math.min(d,n.f-1);let m=a*(8+2*this.header_text_size),w=f.multiply(t,this.trf),b=w.apply(this.ll),y=w.apply(this.ur);b.x=Math.min(b.x,y.x),y.x=Math.max(b.x,y.x),b.y=Math.min(b.y,y.y),y.y=Math.max(b.y,y.y),this.v_scrollbar&&(this.v_scrollbar.set_position(y.x-this.scrollbar_width,b.y+this.y_low_offs,this.scrollbar_width,y.y-(b.y+this.y_low_offs)-(this.h_scrollbar?this.scrollbar_width:0)),this.v_scrollbar.draw()),this.h_scrollbar&&(this.h_scrollbar.set_position(b.x+this.x_left_offs,y.y-this.scrollbar_width,y.x-(b.x+this.x_left_offs)-(this.v_scrollbar?this.scrollbar_width:0),this.scrollbar_width),this.h_scrollbar.draw());let p=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1),g=l.a.shift_drawtype(this.fill_drawtype,2,null),x=l.a.shift_drawtype(this.fill_drawtype,-2,null),v=this.select_drawtype===h.a.Inherit?g:this.select_drawtype,C=b.z_x()-this.ctx.mw.offset.x,G=b.z_y()-this.ctx.mw.offset.y,k=y.z_x()-this.ctx.mw.offset.x,T=y.z_y()-this.ctx.mw.offset.y,S=b.z_x()+this.x_left_offs*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,I=b.z_y()+this.y_low_offs*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,L=y.z_x()-Number(this.vertical_scrollbar)*this.scrollbar_width*this.ctx.mw.zoom_factor.x-this.ctx.mw.offset.x,A=y.z_y()-Number(this.horizontal_scrollbar)*this.scrollbar_width*this.ctx.mw.zoom_factor.y-this.ctx.mw.offset.y,M=S-Math.floor(this.h_value*this.ctx.mw.zoom_factor.x),N=I-Math.floor(this.v_value*this.ctx.mw.zoom_factor.y),O=M+Math.floor(this.table_x1*this.ctx.mw.zoom_factor.x),F=N+Math.floor(this.table_y1*this.ctx.mw.zoom_factor.y),R=0,E=0;if(this.header_row&&(R=Math.floor(this.header_row_height*this.ctx.mw.zoom_factor.y)),this.header_column&&(E=Math.floor(this.column_width[0]*this.ctx.mw.zoom_factor.x)),this.header_row){if(this.fill&&this.ctx.gdraw.rect(C,G,k-C,R,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(C+E,G,k,G+R),this.shadow){let t=M;for(let e=Number(this.header_column);e<this.columns+1&&!(t>k);e++)e!==Number(this.header_column)&&this.ctx.gdraw.line(t-1,G,t-1,G+R,g),e!==this.columns&&this.ctx.gdraw.line(t+1,G,t+1,G+R,x),t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;this.ctx.gdraw.line(C,G+1,O,G+1,x),this.ctx.gdraw.line(C,G+R-1,O,G+R-1,g,1)}let t=M;for(let e=Number(this.header_column);e<this.columns+1&&!(t>k);e++)this.ctx.gdraw.line(t,G,t,G+R,p,_),t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;t=M;for(let i=Number(this.header_column);i<this.columns&&(d>=0&&""!==this.header_text[i]&&this.ctx.gdraw.text(Math.floor(t+10),Math.floor(G+R-4),this.header_text[i],this.header_text_drawtype,this.header_text_color,this.font,m,0,e),!((t+=this.column_width[i]*this.ctx.mw.zoom_factor.x)>k));i++);this.ctx.gdraw.reset_clip_rectangle(),E&&(this.shadow&&(this.ctx.gdraw.line(C+E-1,G,C+E-1,G+R,g,1),this.ctx.gdraw.line(C-1,G+R-1,C+E,G+R-1,g,1),this.ctx.gdraw.line(C,G+1,C+E,G+1,x),this.ctx.gdraw.line(C+1,G,C+1,G+R,x)),this.ctx.gdraw.line(C+E,G,C+E,G+R,p,_)),this.ctx.gdraw.rect(C,G,k-C,R,p,!1,_),this.header_column&&(t=C,d>=0&&""!==this.header_text[0]&&this.ctx.gdraw.text(Math.floor(t+10),Math.floor(G+R-4),this.header_text[0],this.header_text_drawtype,this.header_text_color,this.font,u,0,e))}if(this.header_column){if(this.fill&&this.ctx.gdraw.rect(C,G+R,E,T-G-R,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(C,G+R,C+E,T),this.selected_cell_row>=0&&0===this.selected_cell_column){let t=C,e=N+this.row_height*this.ctx.mw.zoom_factor.y*this.selected_cell_row;this.ctx.gdraw.rect(t,e,E,this.row_height*this.ctx.mw.zoom_factor.y,v,!0)}if(this.shadow){let t=N;for(let e=0;e<this.rows+1&&!(t>T);e++)t>G&&(e&&this.ctx.gdraw.line(C,t-1,C+E,t-1,g),e!==this.rows&&this.ctx.gdraw.line(C,t+1,C+E,t+1,x)),t+=this.row_height*this.ctx.mw.zoom_factor.y;this.ctx.gdraw.line(C+1,G+R,C+1,T,x),this.ctx.gdraw.line(C+E-1,G+R,C+E-1,T,g,1)}let t=C,i=N;for(let o=0;o<this.rows&&!((i+=this.row_height*this.ctx.mw.zoom_factor.y)-this.row_height*this.ctx.mw.zoom_factor.y>T);o++)if(i>G){this.ctx.gdraw.line(C,i,C+E,i,p,_);let s=o;if(c>=0&&this.cell_value[s]&&""!==this.cell_value[s]){let o=t+10;if(this.column_adjustment[0]===n.a.Right||this.column_adjustment[0]===n.a.Center){let e=this.ctx.gdraw.getTextExtent(this.cell_value[s],this.text_drawtype,this.font,u);switch(this.column_adjustment[0]){case n.a.Left:break;case n.a.Right:o=t+E-10-e.width;break;case n.a.Center:o=Math.floor(t+(E-e.width)/2)}}this.ctx.gdraw.text(o,Math.floor(i-5),this.cell_value[s],this.text_drawtype,this.text_color_drawtype,this.font,u,0,e)}}this.ctx.gdraw.reset_clip_rectangle(),this.ctx.gdraw.rect(C,G+R-1,E,T-G-R+1,p,!1,_)}if(this.fill&&this.ctx.gdraw.rect(S,I,L-S,A-I,this.fill_drawtype,!0),this.ctx.gdraw.set_clip_rectangle(S,I,L,A),this.selected_cell_row>=0&&(!this.header_column||0!==this.selected_cell_column)){let t=M;for(let e=Number(this.header_column);e<this.selected_cell_column;e++)t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;let e=N+this.row_height*this.ctx.mw.zoom_factor.y*this.selected_cell_row;this.ctx.gdraw.rect(t,e,Math.floor(this.column_width[this.selected_cell_column]*this.ctx.mw.zoom_factor.x),Math.floor(this.row_height*this.ctx.mw.zoom_factor.y),v,!0)}if(this.shadow){let t=M,e=N;for(let e=Number(this.header_column);e<this.columns+1&&!(t>k);e++)t>C&&(e!==Number(this.header_column)&&this.ctx.gdraw.line(t-1,N,t-1,F,g),e!==this.columns&&this.ctx.gdraw.line(t+1,N,t+1,F,x)),t+=this.column_width[e]*this.ctx.mw.zoom_factor.x;for(let t=0;t<this.rows+1&&!(e>T);t++)e>G&&(t&&this.ctx.gdraw.line(M,e-1,O,e-1,g),t!==this.rows&&this.ctx.gdraw.line(M,e+1,O,e+1,x)),e+=this.row_height*this.ctx.mw.zoom_factor.y}let D=M,B=N;for(let t=Number(this.header_column);t<this.columns+1&&!(D>k);t++)D>C&&this.ctx.gdraw.line(D,N,D,F,p,_),D+=this.column_width[t]*this.ctx.mw.zoom_factor.x;for(let t=0;t<this.rows+1&&!(B>T);t++)B>G&&this.ctx.gdraw.line(M,B,O,B,p,_),B+=this.row_height*this.ctx.mw.zoom_factor.y;let P=Number(this.header_column)*this.rows;D=M;let z=C-Math.floor(this.column_width[0]*this.ctx.mw.zoom_factor.x);for(let t=Number(this.header_column);t<this.columns&&!(D>k);t++){if(D>z){B=N;for(let i=0;i<this.rows&&!((B+=this.row_height*this.ctx.mw.zoom_factor.y)-this.row_height*this.ctx.mw.zoom_factor.y>T);i++)if((!(this.options&nt.ZeroIfHeader)||null!==this.cell_value[i]&&""!==this.cell_value[i])&&(!(this.options&nt.ZeroIfHeaderIs0)||null!==this.cell_value[i]&&"0"!==this.cell_value[i])&&B>G){let o=P+i;if(c>=0&&this.cell_value[o]&&""!==this.cell_value[o]){let i=D+10;if(this.column_adjustment[t]===n.a.Right||this.column_adjustment[t]===n.a.Center){let e=this.ctx.gdraw.getTextExtent(this.cell_value[o],this.text_drawtype,this.font,u);switch(this.column_adjustment[t]){case n.a.Left:break;case n.a.Right:i=D+this.column_width[t]*this.ctx.mw.zoom_factor.x-10-e.width;break;case n.a.Center:i=D+(this.column_width[t]*this.ctx.mw.zoom_factor.x-e.width)/2}}this.ctx.gdraw.text(i,B-5,this.cell_value[o],this.text_drawtype,this.text_color_drawtype,this.font,u,0,e)}}}D+=this.column_width[t]*this.ctx.mw.zoom_factor.x,P+=this.rows}this.ctx.gdraw.reset_clip_rectangle(),this.ctx.gdraw.rect(S,I,k-S,T-I,p,!1,_),this.input_focus&&(this.ctx.gdraw.line(C-2,G-2,C-2,T+2,h.a.DarkGray),this.ctx.gdraw.line(C-2,G-2,k+2,G-2,h.a.DarkGray),this.ctx.gdraw.line(C-2,T+2,k+2,T+2,h.a.LightGray),this.ctx.gdraw.line(k+2,G-2,k+2,T+2,h.a.LightGray))}verticalScrollValueChanged(t){this.v_value!==t&&(this.v_value=t,this.draw())}horizontalScrollValueChanged(t){this.h_value!==t&&(this.h_value=t,this.draw())}event_handler(t){const e=Object.create(null,{event_handler:{get:()=>super.event_handler}});return lt(this,void 0,void 0,function*(){let i=!!this.v_scrollbar&&(yield this.v_scrollbar.event_handler(t)),o=!!this.h_scrollbar&&(yield this.h_scrollbar.event_handler(t));if(i||o)return 1;if(!(t.event instanceof MouseEvent)||"click"!==t.event.type)return 0;let s=yield e.event_handler.call(this,t),r=-1,a=-1,n=this.x_left+this.x_left_offs,l=this.y_low+this.y_low_offs,_=this.x_right-Number(this.vertical_scrollbar)*this.scrollbar_width,h=this.y_high-Number(this.horizontal_scrollbar)*this.scrollbar_width,c=n-this.h_value,u=l-this.v_value;if(l<=t.y&&t.y<=h){if(this.header_column&&this.x_left<=t.x&&t.x<=this.x_left+this.x_left_offs)r=0;else if(n<=t.x&&t.x<=_){let e=c;for(let i=Number(this.header_column);i<this.columns;i++)if(e+=this.column_width[i],t.x<=e){r=i;break}}let e=u;for(let i=0;i<this.rows;i++)if(e+=this.row_height,t.y<=e){a=i;break}}return-1!==a&&-1!==r&&this.ctx.send_table_callback(this,t.event,r,a),s})}getTableInfo(){let t={columns:this.columns,rows:this.rows,column_size:[]};for(let e=0;e<_t.MAX_COL;e++)t.column_size.push(this.column_size[e]);return t}setTableInfo(t){this.columns=t.columns,this.rows=t.rows;for(let e=0;e<_t.MAX_COL;e++)this.column_size[e]=t.column_size[e]}setValue(t,e,i){this.cell_value[e*this.rows+i]=t}setSelectedCell(t,e){this.selected_cell_column===t&&this.selected_cell_row===e||t>=this.columns||e>=this.rows||(this.selected_cell_column=t,this.selected_cell_row=e,this.draw())}getSelectedCellRow(){return this.selected_cell_row}getSelectedCellColumn(){return-1===this.selected_cell_row?-1:this.selected_cell_column}}_t.MAX_COL=30;class ht extends G{constructor(t,e,i,o=0,r=0,a=h.a.TextHelveticaBold,l=h.a.Line,_=2,c=n.j.Helvetica,u=s.e.One,d=!1){if(super(t,i,o,r,a,l,_,u),this.original_color_drawtype=h.a.Line,this.adjustment=n.a.Left,this.dynamicsize=0,this.trf=new b,this.font=c,this.n_name=e,t.grid_on){let e=t.find_grid(this.p);this.p.set(e)}this.get_node_borders(),d||t.set_dirty()}type(){return n.C.GrowText}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowText:break;case n.v.GrowText_n_name:this.n_name=t.consumeLine();break;case n.v.GrowText_x_right:this.x_right=t.consumeFloat();break;case n.v.GrowText_x_left:this.x_left=t.consumeFloat();break;case n.v.GrowText_y_high:this.y_high=t.consumeFloat();break;case n.v.GrowText_y_low:this.y_low=t.consumeFloat();break;case n.v.GrowText_original_color_drawtype:this.original_color_drawtype=t.consumeInt();break;case n.v.GrowText_font:this.font=t.consumeInt();break;case n.v.GrowText_adjustment:this.adjustment=t.consumeInt();break;case n.v.GrowText_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowText_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowText_text_part:super.open(t);break;case n.v.GrowText_trf:this.trf.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowText:",e),t.consumeLine()}}}event_handler(t){return 0}draw(t=null,e=!1,i=!1,o=null,s=null){if(null===this.text)return;let r=f.multiply(t,this.trf),a=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,_=Math.floor(r.vertical_scale()*a*(this.text_size+4)-4),c=r.vertical_scale()*a*(8+2*this.text_size);_=Math.min(_,n.f-1);let u,d,m=e;null!==o&&(m=o.highlight),null!==o&&o.text_font!==n.j.No?(u=o.text_font,d=o.text_type):(u=this.font,d=this.draw_type);let w=0,b=0,y=r.apply(this.p),p=y.z_x()-this.ctx.mw.offset.x,g=y.z_y()-this.ctx.mw.offset.y,x=0;this.adjustment===n.a.Center&&(x=Math.floor(r.rotation<0?r.rotation%360+360:r.rotation%360));let v={width:0,height:0,descent:0};if(""!==this.text){if(m||i&&null===o||this.adjustment!==n.a.Left)switch(v=this.ctx.gdraw.getTextExtent(this.text,d,u,c,x),this.adjustment){case n.a.Left:w=p,b=g-(v.height-v.descent);break;case n.a.Right:w=p-=v.width,b=g-(v.height-v.descent);break;case n.a.Center:switch(x){case 90:w=p-v.width/2,b=g-v.height/2,p-=v.width/2,g+=v.height/2;break;case 270:w=p-v.width/2,b=g-v.height/2,p-=v.width/2,g-=v.height/2-v.width/2;break;default:w=p-v.width/2,b=g-v.height/2,p-=v.width/2,g+=v.height/2-v.descent}}if(m?this.ctx.gdraw.rect(w,b,v.width,v.height,h.a.FillHighlight,!1,Math.max(1,Math.min(_+Number(i),2))):i&&null===o&&this.ctx.gdraw.rect(w,b,v.width,v.height,h.a.LineGray,!1,Math.max(Math.min(_,2),1)),_>=0){let t=l.a.get_drawtype(this.color_drawtype,h.a.LineHighlight,e,s,2,!1);this.ctx.gdraw.text(p,g,this.text,d,t,u,c,x,e)}}else _>=0&&(v=this.ctx.gdraw.getTextExtent("A",d,u,c,x),this.ctx.gdraw.rect(p,g-(v.height-v.descent),v.width,v.height,h.a.LineGray,!1,_))}get_node_borders(){let t=new s.k(1e37,1e37,-1e37,-1e37);this.get_borders(this.trf,t),this.x_left=t.ll.x,this.y_low=t.ll.y,this.x_right=t.ur.x,this.y_high=t.ur.y}get_borders(t,e){if(this.display_level!==s.e.One)return;let i,o,r,a,l,_=t?f.multiply(t,this.trf):this.trf,h=_.apply(this.p),c=_.rotation;if(c=this.adjustment==n.a.Center?c<0?c%360+360:c%360:0,this.text){let t=Math.floor(_.vertical_scale()*this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),e=_.vertical_scale()*this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);t=Object(s.q)(t,0,n.f-1),i=this.ctx.gdraw.getTextExtent(this.text,this.draw_type,this.font,e,c)}else i=this.ctx.gdraw.getTextExtent("A",this.draw_type,this.font,this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size),c);switch(this.adjustment){case n.a.Left:o=h.x,a=h.x+i.width/this.ctx.mw.zoom_factor.y,r=h.y-(i.height-i.descent)/this.ctx.mw.zoom_factor.y,l=h.y+i.descent/this.ctx.mw.zoom_factor.y;break;case n.a.Right:a=h.x,o=h.x-i.width/this.ctx.mw.zoom_factor.y,r=h.y-(i.height-i.descent)/this.ctx.mw.zoom_factor.y,l=h.y+i.descent/this.ctx.mw.zoom_factor.y;break;case n.a.Center:o=h.x-i.width/this.ctx.mw.zoom_factor.y/2,a=h.x+i.width/this.ctx.mw.zoom_factor.y/2,r=h.y-i.height/this.ctx.mw.zoom_factor.y/2,l=h.y+i.height/this.ctx.mw.zoom_factor.y/2}e.set(s.k.union(e,new s.k(o,r,a,l)))}get_background_object_limits(t,e,i){return null}}var ct=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class ut extends V{constructor(t,e,i,o,s,r,a,n,l,_=!1){super(t,e,null,n,l,_,!1),this.tools1_mask=0,this.tools2_mask=0,0==r&&0==a||(this.nc=t.get_nodeclass_from_name(i),this.nc||(this.nc=new x(t,e),this.configure(o,s,r,a,31,15,0,0),t.nodeclass_insert(this.nc)),this.get_node_borders())}type(){return n.C.GrowToolbar}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowToolbar:break;case n.v.GrowToolbar_grownode_part:super.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowToolbar:",e),t.consumeLine()}}}event_handler(t){return ct(this,void 0,void 0,function*(){if(this.invisible||this.dimmed)return 0;if("mousemove"===t.event.type&&!t.event.buttons)return 0;let e=this.trf.reverse(t.x,t.y),i=Object.assign({},t);if(i.x=e.x,i.y=e.y,t.event instanceof MouseEvent&&0===t.event.button){let e=yield this.nc_event_handler(i);if(e)if("mousedown"===t.event.type)this.nc.a[e-1].setColorInverse(1);else if("mouseup"===t.event.type)this.nc.a[e-1].setColorInverse(0);else if("click"===t.event.type){let i=this.get_mask_index(e-1);if(null===i)return 0;this.ctx.send_toolbar_callback(this,i[0],i[1],t.event)}}else{let t=yield this.nc_event_handler(i);if(t)return t}return 0})}nc_event_handler(t){return ct(this,void 0,void 0,function*(){for(let e=0;e<this.nc.a.length;e++){if(yield this.nc.a[e].event_handler(t))return e+1}return 0})}configure(t,e,i,o,s,r,a,l){console.log("Configure show_mask "+s+" "+r);let _=0;this.nc.a.clear(),this.tools1_mask=0;let h=1;for(let e=0;e<i;e++){if(h&s){if(""===t[e]){h<<=1;continue}let i=t[e],o=this.ctx.get_nodeclass_from_name(i);if(null===o){1&this.ctx.loadSubgraph(i+".pwsg")&&(o=this.ctx.get_nodeclass_from_name(i))}if(null!==o){let t;t=new V(this.ctx,i,o,_,0),console.log("Button "+i+" "+_),this.nc.a.push(t),h&a&&t.setVisibility(n.H.Dimmed),_+=t.measure().width()+ut.TOOLBAR_SPACING,this.tools1_mask|=h}}h<<=1}_&&(_+=2*ut.TOOLBAR_SPACING),this.tools2_mask=0,h=1;for(let t=0;t<o;t++){if(h&r){if(""===e[t]){h<<=1;continue}let i=e[t],o=this.ctx.get_nodeclass_from_name(i);if(null===o){1&this.ctx.loadSubgraph(i+".pwsg")&&(o=this.ctx.get_nodeclass_from_name(i))}if(null!==o){let t;t=new V(this.ctx,i,o,_,0),console.log("Button "+i+" "+_),this.nc.a.push(t),h&l&&t.setVisibility(n.H.Dimmed),_+=t.measure().width()+ut.TOOLBAR_SPACING,this.tools2_mask|=h}}h<<=1}this.get_node_borders(),this.scale(),console.log("Toolbar configure tools_mask "+this.tools1_mask+" "+this.tools2_mask)}get_mask_index(t){let e=0;for(let i=0;i<64;i++){let o=i<32?1<<i:1<<i-32;if((i<32&&this.tools1_mask&o||i>=32&&this.tools2_mask&o)&&e++,e===t+1){let t=i%32,e=i/32+1,o=new Array(2);return o[0]=e,o[1]=t,o}}return null}scale(){if(0!==this.ctx.mw.window_size.x&&this.ur.z_x()-this.ctx.mw.offset.x>this.ctx.mw.window_size.x){let t=(this.ctx.mw.window_size.x-(this.ll.z_x()-this.ctx.mw.offset.x)-10)/(this.ur.z_x()-this.ll.z_x());this.trf.scale(t,1,this.ll.x,this.ll.y),this.get_node_borders()}}}ut.TOOLBAR_SPACING=.2;class dt extends A{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=s.e.One,c=!1,u=!0,d=h.a.Line,m=!1){super(t,e,i,o,r,a,n,l,!1,_,c,u,!1,d,m),this.y_max_value=new Array(dt.MAX_CURVES),this.y_min_value=new Array(dt.MAX_CURVES),this.x_max_value=new Array(dt.MAX_CURVES),this.x_min_value=new Array(dt.MAX_CURVES),this.vertical_lines=0,this.horizontal_lines=0,this.fill_curve=!1,this.no_of_points=100,this.curve_width=1,this.curve_drawtype=new Array(dt.MAX_CURVES),this.curve_fill_drawtype=new Array(dt.MAX_CURVES),this.scan_time=1,this.curve=new Array(dt.MAX_CURVES),this.curve_cnt=1,this.userdata=null,this.display_x_mark1=!1,this.display_x_mark2=!1,this.display_y_mark1=!1,this.display_y_mark2=!1,this.x_mark1=0,this.x_mark2=0,this.y_mark1=0,this.y_mark2=0,this.mark1_color=h.a.Inherit,this.mark2_color=h.a.Inherit;for(let t=0;t<dt.MAX_CURVES;t++)this.y_min_value[t]=0,this.y_max_value[t]=100,this.x_min_value[t]=0,this.x_max_value[t]=100,this.curve[t]=null,this.curve_drawtype[t]=h.a.Inherit,this.curve_fill_drawtype[t]=h.a.Inherit;this.configure_curves(),m||t.set_dirty()}type(){return n.C.GrowTrend}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowTrend:break;case n.v.GrowTrend_y_max_value_0:this.y_max_value[0]=t.consumeFloat();break;case n.v.GrowTrend_y_max_value_1:this.y_max_value[1]=t.consumeFloat();break;case n.v.GrowTrend_y_min_value_0:this.y_min_value[0]=t.consumeFloat();break;case n.v.GrowTrend_y_min_value_1:this.y_min_value[1]=t.consumeFloat();break;case n.v.GrowTrend_x_max_value_0:this.x_max_value[0]=t.consumeFloat();break;case n.v.GrowTrend_x_max_value_1:this.x_max_value[1]=t.consumeFloat();break;case n.v.GrowTrend_x_min_value_0:this.x_min_value[0]=t.consumeFloat();break;case n.v.GrowTrend_x_min_value_1:this.x_min_value[1]=t.consumeFloat();break;case n.v.GrowTrend_horizontal_lines:this.horizontal_lines=t.consumeInt();break;case n.v.GrowTrend_vertical_lines:this.vertical_lines=t.consumeInt();break;case n.v.GrowTrend_fill_curve:this.fill_curve=t.consumeBool();break;case n.v.GrowTrend_curve_drawtype_0:this.curve_drawtype[0]=t.consumeInt();break;case n.v.GrowTrend_curve_drawtype_1:this.curve_drawtype[1]=t.consumeInt();break;case n.v.GrowTrend_curve_fill_drawtype_0:this.curve_fill_drawtype[0]=t.consumeInt();break;case n.v.GrowTrend_curve_fill_drawtype_1:this.curve_fill_drawtype[1]=t.consumeInt();break;case n.v.GrowTrend_no_of_points:this.no_of_points=t.consumeInt();break;case n.v.GrowTrend_curve_width:this.curve_width=t.consumeInt();break;case n.v.GrowTrend_scan_time:this.scan_time=t.consumeFloat();break;case n.v.GrowTrend_rect_part:super.open(t);break;case n.v.GrowTrend_trace_data1:case n.v.GrowTrend_trace_data2:case n.v.GrowTrend_trace_data3:case n.v.GrowTrend_trace_data4:case n.v.GrowTrend_trace_data5:case n.v.GrowTrend_trace_data6:case n.v.GrowTrend_trace_data7:case n.v.GrowTrend_trace_data8:case n.v.GrowTrend_trace_data9:case n.v.GrowTrend_trace_data10:case n.v.GrowTrend_trace_attr_type:case n.v.GrowTrend_trace_color:case n.v.GrowTrend_access:case n.v.GrowTrend_cycle:case n.v.GrowTrend_ref_object:t.consumeLine();break;case n.v.GrowTrend_userdata_cb:null!==this.ctx.appl&&(this.userdata=this.ctx.appl.growUserdataOpen(t,n.G.Node));break;case n.v.End:return void this.configure_curves();default:console.log("Syntax error in GrowTrend:",e),t.consumeLine()}}}draw(t=null,e=!1,i=!1,o=null,r=null){let a;a=null!==o&&o.line_width?Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*o.line_width-1):Math.floor(this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor*this.line_width-1),a=Object(s.q)(a+i,0,n.f-1);let _=f.multiply(t,this.trf),u=_.apply(this.ll),d=_.apply(this.ur),m=Math.floor(u.z_x())-this.ctx.mw.offset.x,w=Math.floor(u.z_y())-this.ctx.mw.offset.y,b=Math.floor(d.z_x())-this.ctx.mw.offset.x,y=Math.floor(d.z_y())-this.ctx.mw.offset.y,p=Math.min(m,b),g=Math.max(m,b),x=Math.min(w,y),v=Math.max(w,y);if(this.fill){let t=this.gradient;this.gradient!==n.w.No||null===o||o.gradient===n.w.No||this.disable_gradient||(t=o.gradient);let i=l.a.get_drawtype(this.fill_drawtype,h.a.FillHighlight,e,r,1,!1);if(t===n.w.No)this.ctx.gdraw.rect(p,x,g-p,v-x,i,!0);else{let e,o;this.gradient_contrast,o=l.a.shift_drawtype(i,-this.gradient_contrast/2,null),e=l.a.shift_drawtype(i,this.gradient_contrast/2,null),this.ctx.gdraw.gradient_fill_rect(p,x,g-p,v-x,i,e,o,this.ctx.gdraw.gradient_rotate(_.rotation,t))}}let C=l.a.get_drawtype(this.draw_type,h.a.LineHighlight,e,r,0,!1),G=this.curve.slice(0,this.curve_cnt).filter(t=>null!==t);this.fill_curve&&(G.forEach(t=>t.border=!1),G.forEach(t=>t.draw(_,e,i,o,r)),G.forEach(t=>t.border=!0));for(let t=0;t<this.vertical_lines;t++){let e=Math.floor(p+(g-p)/(this.vertical_lines+1)*(t+1));this.ctx.gdraw.line(e,x,e,v,C)}for(let t=0;t<this.horizontal_lines;t++){let e=Math.floor(x+(v-x)/(this.horizontal_lines+1)*(t+1));this.ctx.gdraw.line(p,e,g,e,C)}if(this.fill_curve&&G.forEach(t=>t.fill=!1),G.forEach(t=>t.draw(_,e,i,o,r)),this.fill_curve&&G.forEach(t=>t.fill=!0),this.display_x_mark1){let t=_.apply(new c(this.ctx,this.x_mark1,this.ll.y)).z_x()-this.ctx.mw.offset.x;t>=p&&t<=g&&((C=this.mark1_color)===h.a.Inherit&&(C=h.a.ColorYellow),this.ctx.gdraw.line(t,x,t,v,C,a))}if(this.display_x_mark2){let t=_.apply(new c(this.ctx,this.x_mark2,this.ll.y)).z_x()-this.ctx.mw.offset.x;t>=p&&t<=g&&((C=this.mark2_color)===h.a.Inherit&&(C=h.a.ColorYellow),this.ctx.gdraw.line(t,x,t,v,C,a))}if(this.display_y_mark1){let t=_.apply(new c(this.ctx,this.ll.x,this.y_mark1)).z_y()-this.ctx.mw.offset.y;t>=x&&t<=v&&((C=this.mark1_color)===h.a.Inherit&&(C=h.a.ColorYellow),this.ctx.gdraw.line(p,t,g,t,C,a))}if(this.display_y_mark2){let t=_.apply(new c(this.ctx,this.ll.x,this.y_mark2)).z_y()-this.ctx.mw.offset.y;t>=x&&t<=v&&((C=this.mark2_color)===h.a.Inherit&&(C=h.a.ColorYellow),this.ctx.gdraw.line(p,t,g,t,C,a))}this.border&&this.ctx.gdraw.rect(p,x,g-p,v-x,C,!1,a)}set_range(t,e,i){0!==t&&1!==t||(this.y_max_value[t]=i,this.y_min_value[t]=e,this.configure_curves())}configure_curves(t){this.curve_cnt=2,this.no_of_points=Math.max(2,this.no_of_points);let e=this.no_of_points;this.fill_curve&&(e+=2),this.curve_width=Math.min(n.f,Math.max(1,this.curve_width));let i=[];for(let t=0;t<e;t++)if(this.fill_curve){let o;o=0===t?this.ur.x:t===e-1?this.ll.x:this.ur.x-(t-1)*(this.ur.x-this.ll.x)/(e-3),i.push(new c(this.ctx,o,this.ur.y))}else{let o=this.ur.x-t*(this.ur.x-this.ll.x)/(e-1);i.push(new c(this.ctx,o,this.ur.y))}for(let t=0;t<this.curve_cnt;t++){let o=this.curve_drawtype[t]===h.a.Inherit?this.draw_type:this.curve_drawtype[t],s=this.curve_fill_drawtype[t]===h.a.Inherit?this.draw_type:this.curve_fill_drawtype[t];this.ctx.set_nodraw(),this.curve[t]=new st(this.ctx,"",i,e,o,this.curve_width,!1,this.fill_curve,!0,!1,s),this.ctx.reset_nodraw()}}set_range_y(t,e,i){if(0===t||1===t){if(0===t){if(this.display_y_mark1){let t=this.y_min_value[0]-(this.y_mark1-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark1=this.ur.y-(t-e)/(i-e)*(this.ur.y-this.ll.y)}if(this.display_y_mark2){let t=this.y_min_value[0]-(this.y_mark2-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark2=this.ur.y-(t-e)/(i-e)*(this.ur.y-this.ll.y)}}this.y_max_value[t]=i,this.y_min_value[t]=e,this.configure_curves()}}add_value(t,e){if(e>=this.curve_cnt)return;let i=0;this.y_max_value[e]!==this.y_min_value[e]&&(i=this.ur.y-(t-this.y_min_value[e])/(this.y_max_value[e]-this.y_min_value[e])*(this.ur.y-this.ll.y)),i=Object(s.q)(i,this.ll.y,this.ur.y),this.fill_curve?this.curve[e].add_and_shift_y_value_filled(i):this.curve[e].add_and_shift_y_value(i),this.draw()}set_scan_time(t){this.scan_time=t,this.configure_curves()}get_scan_time(){return this.scan_time}get_no_of_points(){return this.no_of_points}set_x_mark1(t){this.display_x_mark1=!0,this.x_mark1=this.ll.x+(t-this.x_min_value[0])/(this.x_max_value[0]-this.x_min_value[0])*(this.ur.x-this.ll.x),this.draw()}set_x_mark2(t){this.display_x_mark2=!0,this.x_mark2=this.ll.x+(t-this.x_min_value[0])/(this.x_max_value[0]-this.x_min_value[0])*(this.ur.x-this.ll.x),this.draw()}set_y_mark1(t){this.display_y_mark1=!0,this.y_mark1=this.ur.y-(t-this.y_min_value[0])/(this.y_max_value[0]-this.y_min_value[0])*(this.ur.y-this.ll.y),this.draw()}set_y_mark2(t){this.display_y_mark2=!0,this.y_mark2=this.ur.y-(t-this.y_min_value[0])/(this.y_max_value[0]-this.y_min_value[0])*(this.ur.y-this.ll.y),this.draw()}set_mark_color(t,e){this.mark1_color=t,this.mark2_color=e}set_lines(t,e){this.vertical_lines=t,this.horizontal_lines=e}getClassDynType1(){return 0}getClassDynType2(){return 0}getClassActionType1(){return 0}getClassActionType2(){return 0}getClassCycle(){return 0}getClassUserData(){return null}get_background_object_limits(t,e,i){return null}}dt.MAX_CURVES=11;class mt extends dt{constructor(t,e,i=0,o=0,r=0,a=0,n=h.a.Line,l=1,_=s.e.One,c=!1,u=!0,d=h.a.Line,m=!1){super(t,e,i,o,r,a,n,l,_,c,u,d,m)}type(){return n.C.GrowXYCurve}open(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowXYCurve:break;case n.v.GrowXYCurve_trend_part:super.open(t);break;case n.v.End:return;default:console.log("Syntax error in GrowXYCurve:",e),t.consumeLine()}}}set_xy_range_x(t,e,i){if(!(t>dt.MAX_CURVES||t<0)){if(0===t){if(this.display_x_mark1){let t=(this.x_mark1-this.ll.x)*(this.x_max_value[0]-this.x_min_value[0])/(this.ur.x-this.ll.x)+this.x_min_value[0];this.x_mark1=this.ll.x+(t-e)/(i-e)*(this.ur.x-this.ll.x)}if(this.display_x_mark2){let t=(this.x_mark2-this.ll.x)*(this.x_max_value[0]-this.x_min_value[0])/(this.ur.x-this.ll.x)+this.x_min_value[0];this.x_mark2=this.ll.x+(t-e)/(i-e)*(this.ur.x-this.ll.x)}}this.x_max_value[t]=i,this.x_min_value[t]=e}}set_xy_range_y(t,e,i){if(!(t>dt.MAX_CURVES||t<0)){if(0===t){if(this.display_y_mark1){let t=this.y_min_value[0]-(this.y_mark1-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark1=this.ur.y-(t-e)/(i-e)*(this.ur.y-this.ll.y)}if(this.display_y_mark2){let t=this.y_min_value[0]-(this.y_mark2-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark2=this.ur.y-(t-e)/(i-e)*(this.ur.y-this.ll.y)}}this.y_max_value[t]=i,this.y_min_value[t]=e}}set_xy_noofcurves(t){this.curve_cnt=t}set_xy_curve_color(t,e,i){t>dt.MAX_CURVES||t<0||(this.curve_drawtype[t]=e,this.curve_fill_drawtype[t]=i)}set_xy_data(t,e,i,o){if(i>dt.MAX_CURVES||i<0)return;this.no_of_points=Math.max(2,this.no_of_points);let r=Math.min(this.no_of_points,o);this.fill_curve&&(r+=2),this.curve_width=Object(s.q)(this.curve_width,1,n.f);let a=new Array(r),l=i,_=0;for(let i=0;i<r;i++){let o=new s.h;a[i]=new s.h,this.fill_curve?0===i?(this.x_max_value[l]!==this.x_min_value[l]&&(o.x=this.ll.x+(e[_]-this.x_min_value[l])/(this.x_max_value[l]-this.x_min_value[l])*(this.ur.x-this.ll.x)),o.x=Object(s.q)(o.x,this.ll.x,this.ur.x),o.y=this.ur.y,_--):i===r-1?(this.x_max_value[l]!==this.x_min_value[l]&&(o.x=this.ll.x+(e[_-1]-this.x_min_value[l])/(this.x_max_value[l]-this.x_min_value[l])*(this.ur.x-this.ll.x)),o.x=Object(s.q)(o.x,this.ll.x,this.ur.x),o.y=this.ur.y):(this.y_max_value[l]!==this.y_min_value[l]&&(o.y=this.ur.y-(t[_]-this.y_min_value[l])/(this.y_max_value[l]-this.y_min_value[l])*(this.ur.y-this.ll.y)),o.y=Object(s.q)(o.y,this.ll.y,this.ur.y),this.x_max_value[l]!==this.x_min_value[l]&&(o.x=this.ll.x+(e[_]-this.x_min_value[l])/(this.x_max_value[l]-this.x_min_value[l])*(this.ur.x-this.ll.x)),o.x=Object(s.q)(o.x,this.ll.x,this.ur.x)):(_=i,this.y_max_value[l]!==this.y_min_value[l]&&(o.y=this.ur.y-(t[_]-this.y_min_value[l])/(this.y_max_value[l]-this.y_min_value[l])*(this.ur.y-this.ll.y)),o.y=Object(s.q)(o.y,this.ll.y,this.ur.y),this.x_max_value[l]!==this.x_min_value[l]&&(o.x=this.ll.x+(e[_]-this.x_min_value[l])/(this.x_max_value[l]-this.x_min_value[l])*(this.ur.x-this.ll.x)),o.x=Object(s.q)(o.x,this.ll.x,this.ur.x)),_++}let c=this.curve_drawtype[l]===h.a.Inherit?this.draw_type:this.curve_drawtype[l],u=this.curve_fill_drawtype[l]===h.a.Inherit?this.draw_type:this.curve_fill_drawtype[l];this.ctx.set_nodraw(),this.curve[l]=new st(this.ctx,"",a,r,c,this.curve_width,!1,this.fill_curve,!0,!1,u),this.ctx.reset_nodraw(),this.ctx.set_dirty()}}class wt extends Array{constructor(t){super(),this.clear=()=>this.length=0,this.ctx=t}remove(t){let e=this.indexOf(t);return-1!=e&&this.splice(e,1),-1!=e}open(t){for(;;){let e,i=t.consumeInt();switch(i){case n.v.Array:break;case n.v.NodeClass:(e=new x(this.ctx,"")).open(t),this.push(e);break;case n.v.NodeGroup:(e=new v(this.ctx,"")).open(t),this.push(e);break;case n.v.ConClass:(e=new w(this.ctx)).open(t),this.push(e);break;case n.v.Con:(e=new m(this.ctx)).open(t),this.push(e);break;case n.v.GrowNode:if((e=new V(this.ctx,"",null,0,0)).open(t),null===e.nc)break;this.push(e);break;case n.v.GrowSlider:(e=new at(this.ctx,"",null,0,0)).open(t),this.push(e);break;case n.v.GrowGroup:(e=new Z(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowConGlue:(e=new H(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowRect:(e=new A(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowRectRounded:(e=new rt(this.ctx,"")).open(t),this.push(e);break;case n.v.Line:(e=new p(this.ctx)).open(t),this.push(e);break;case n.v.Arc:(e=new u(this.ctx)).open(t),this.push(e);break;case n.v.Rect:(e=new C(this.ctx)).open(t),this.push(e);break;case n.v.Text:(e=new G(this.ctx,"")).open(t),this.push(e);break;case n.v.Arrow:(e=new d(this.ctx)).open(t),this.push(e);break;case n.v.GrowArc:(e=new S(this.ctx)).open(t),this.push(e);break;case n.v.GrowLine:(e=new tt(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowPolyLine:(e=new st(this.ctx)).open(t),this.push(e);break;case n.v.GrowText:(e=new ht(this.ctx,"","")).open(t),this.push(e);break;case n.v.ConPoint:(e=new y(this.ctx)).open(t),this.push(e);break;case n.v.GrowConPoint:(e=new q(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowAnnot:(e=new T(this.ctx)).open(t),this.push(e);break;case n.v.GrowBar:(e=new R(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowBarArc:(e=new E(this.ctx)).open(t),this.push(e);break;case n.v.GrowTrend:(e=new dt(this.ctx,"",0,0,0,0,h.a.Line,1,s.e.One,!1,!0,h.a.Line,!0)).open(t),this.push(e);break;case n.v.GrowXYCurve:(e=new mt(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowTable:(e=new _t(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowAxis:(e=new O(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowAxisArc:(e=new F(this.ctx)).open(t),this.push(e);break;case n.v.GrowImage:(e=new $(this.ctx)).open(t),this.push(e);break;case n.v.GrowWindow:(e=new J(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowFolder:(e=new K(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowPie:(e=new et(this.ctx)).open(t),this.push(e);break;case n.v.GrowBarChart:(e=new D(this.ctx,"")).open(t),this.push(e);break;case n.v.GrowToolbar:(e=new ut(this.ctx,"","",null,null,0,0,0,0,!1)).open(t),this.push(e);break;case n.v.Point:(e=new c(this.ctx)).open(t),this.push(e);break;case n.v.End:return;default:console.log("Syntax error in GlowVector:",i),t.consumeLine()}}}}class ft{constructor(){this.zoom_factor=new s.h(1,1),this.base_zoom_factor=1,this.offset=new s.h,this.window_size=new s.h,this.subwindow=new s.h,this.subwindow_scale=1}}class bt extends s.k{constructor(){super(),this.nodraw=0,this.grid_size=new s.h,this.mw=new ft,this.navw=new ft}draw(t=null,e=!1,i=!1,o=null,s=null){!this.nodraw&&this.is_dirty&&(this.a.forEach(function(t){t.type()===n.C.Con&&t.draw()}),this.a.forEach(function(t){t.type()!==n.C.Con&&t.draw()}),this.is_dirty=!1)}find_grid(t){if(!this.grid_on)return t;let e=Math.floor(t.x/this.grid_size.x)*this.grid_size.x,i=Math.floor(t.y/this.grid_size.y)*this.grid_size.y;return new s.h(t.x-e<.5*this.grid_size.x?e:e+this.grid_size.x,t.y-i<.5*this.grid_size.y?i:i+this.grid_size.y)}zoom_absolute(t){Math.abs(t)<Number.EPSILON||(this.mw.offset.x=Math.floor((this.mw.offset.x-this.mw.window_size.x/2*(this.mw.zoom_factor.x/t-1))*t/this.mw.zoom_factor.x),this.mw.offset.y=Math.floor((this.mw.offset.y-this.mw.window_size.y/2*(this.mw.zoom_factor.y/t-1))*t/this.mw.zoom_factor.y),this.mw.zoom_factor.x=this.mw.zoom_factor.y=t)}scroll(t,e){let i=t*this.mw.window_size.x,o=e*this.mw.window_size.y;o<0&&this.mw.offset.y+this.mw.window_size.y>this.ur.y*this.mw.zoom_factor.y?o=0:o>0&&this.mw.offset.y<this.ll.y*this.mw.zoom_factor.y&&(o=0),i<0&&this.mw.offset.x+this.mw.window_size.x>this.ur.x*this.mw.zoom_factor.x?i=0:i>0&&this.mw.offset.x<this.ll.x*this.mw.zoom_factor.x&&(i=0),0==i&&0==o||this.scroll2(i,o)}scroll2(t,e){this.mw.offset.x-=t,this.mw.offset.y-=e,this.set_dirty()}set_nodraw(){this.nodraw++}reset_nodraw(){this.nodraw>0&&this.nodraw--}set_dirty(){this.nodraw||this.is_dirty||(this.is_dirty=!0,setTimeout(this.draw.bind(this),25))}zoom(t){Math.abs(t)<Number.EPSILON||(this.mw.zoom_factor.x*=t,this.mw.zoom_factor.y*=t,this.mw.offset.x=Math.floor((this.mw.offset.x-this.mw.window_size.x/2*(1/t-1))*t),this.mw.offset.y*=Math.floor((this.mw.offset.y-this.mw.window_size.y/2*(1/t-1))*t))}zoom_x(t){Math.abs(t)<Number.EPSILON||(this.mw.zoom_factor.x=t)}zoom_y(t){Math.abs(t)<Number.EPSILON||(this.mw.zoom_factor.y=t)}enable_event(t,e,i){switch(e){case n.i.RegionSelect:this.event_region_select=t;break;case n.i.RegionAddSelect:this.event_region_add_select=t;break;case n.i.CreateCon:this.event_create_con=t;break;case n.i.CreateNode:this.event_create_node=t;break;case n.i.MoveNode:this.event_move_node=t}this.event_callback[t]=i}disable_event(t){this.event_region_select==t?this.event_region_select=null:this.event_create_con==t?this.event_create_con=null:this.event_create_node==t?this.event_create_node=null:this.event_move_node==t&&(this.event_move_node=null),this.event_callback[t]=0}disable_event_all(){this.event_region_select=null,this.event_create_con=null,this.event_create_node=null,this.event_move_node=null,this.event_callback.clear()}}var yt=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class pt extends bt{constructor(t){super(),this.appl=null,this.antiAliasing=0,this.name=null,this.version=0,this.background_color=0,this.dynamicsize=0,this.arg_cnt=0,this.argname=[],this.argtype=[],this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.path_cnt=0,this.path=[],this.dyn_type1=0,this.dyn_type2=0,this.dyn_action_type1=0,this.dyn_action_type2=0,this.dyn_color=[],this.dyn_attr=[],this.slider=0,this.subgraph=0,this.scantime=0,this.fast_scantime=0,this.animation_scantime=0,this.java_width=0,this.background_image=null,this.background_tiled=0,this.double_buffered=!1,this.cycle=0,this.mb3_action=0,this.translate_on=0,this.input_focus_mark=0,this.hot_indication=0,this.app_motion=n.c.Both,this.color_theme=null,this.default_color_theme="pwr_colortheme1.pwgc",this.userdata=null,this.callback_object=null,this.callback_object_type=0,this.hot_mode=0,this.hot_found=0,this.restriction_object=null,this.move_restriction=0,this.restriction_max_limit=0,this.restriction_min_limit=0,this.recursive_trace=0,this.owner="",this.sliderActive=!1,this.sliderObject=null,this.node_move_last_x=0,this.node_move_last_y=0,this.slider_cursor_offset=0,this.trace_started=!1,this.drawing=!1,this.polyline_last_end=new s.h,this.customcolors=new l.b,this.a=new wt(this),this.a_nc=new wt(this),this.a_cc=new wt(this),this.gdraw=t?t.gdraw:new _.a}open(t){let e=!1,i=!1;for(;;){let o=t.consumeInt();switch(o){case n.v.Ctx:break;case n.v.Ctx_zoom_factor_x:this.mw.zoom_factor.x=t.consumeFloat();break;case n.v.Ctx_zoom_factor_y:this.mw.zoom_factor.y=t.consumeFloat(),e=!0;break;case n.v.Ctx_base_zoom_factor:this.mw.base_zoom_factor=t.consumeFloat();break;case n.v.Ctx_offset_x:this.mw.offset.x=t.consumeInt();break;case n.v.Ctx_offset_y:this.mw.offset.y=t.consumeInt();break;case n.v.Ctx_nav_zoom_factor_x:this.navw.zoom_factor.x=t.consumeFloat();break;case n.v.Ctx_nav_zoom_factor_y:this.navw.zoom_factor.y=t.consumeFloat();break;case n.v.Ctx_print_zoom_factor:this.print_zoom_factor=t.consumeFloat();break;case n.v.Ctx_nav_offset_x:this.navw.offset.x=t.consumeInt();break;case n.v.Ctx_nav_offset_y:this.navw.offset.y=t.consumeInt();break;case n.v.Ctx_x_right:this.ur.x=t.consumeFloat();break;case n.v.Ctx_x_left:this.ll.x=t.consumeFloat();break;case n.v.Ctx_y_high:this.ur.y=t.consumeFloat();break;case n.v.Ctx_y_low:this.ll.y=t.consumeFloat();break;case n.v.Ctx_nav_rect_ll_x:this.nav_rect_ll_x=t.consumeInt();break;case n.v.Ctx_nav_rect_ll_y:this.nav_rect_ll_y=t.consumeInt();break;case n.v.Ctx_nav_rect_ur_x:this.nav_rect_ur_x=t.consumeInt();break;case n.v.Ctx_nav_rect_ur_y:this.nav_rect_ur_y=t.consumeInt();break;case n.v.Ctx_nav_rect_hot:this.nav_rect_hot=t.consumeBool();break;case n.v.Ctx_name:this.name=t.consumeLine();break;case n.v.Ctx_user_highlight:this.user_highlight=t.consumeBool();break;case n.v.Ctx_grid_size_x:this.grid_size.x=t.consumeFloat();break;case n.v.Ctx_grid_size_y:this.grid_size.y=t.consumeFloat();break;case n.v.Ctx_grid_on:this.grid_on=t.consumeBool();break;case n.v.Ctx_draw_delta:this.draw_delta=t.consumeFloat();break;case n.v.Ctx_refcon_width:this.refcon_width=t.consumeFloat();break;case n.v.Ctx_refcon_height:this.refcon_height=t.consumeFloat();break;case n.v.Ctx_refcon_textsize:this.refcon_textsize=t.consumeInt();break;case n.v.Ctx_refcon_linewidth:this.refcon_linewidth=t.consumeInt();break;case n.v.Ctx_version:this.version=t.consumeInt();break;case n.v.Ctx_hot_indication:this.hot_indication=t.consumeInt();break;case n.v.Ctx_tiptext_size:this.tiptext_size=t.consumeInt();break;case n.v.Ctx_app_motion:this.app_motion=t.consumeInt();break;case n.v.Ctx_color_theme:this.color_theme=t.consumeLine();break;case n.v.Ctx_grow:this.open_grow(t);break;case n.v.Ctx_a_nc:this.a_nc.open(t);break;case n.v.Ctx_a_cc:this.a_cc.open(t);break;case n.v.Ctx_a:this.a.open(t);break;case n.v.Ctx_comment:this.open_comment(t);break;case n.v.End:i=!0;break;case n.v.Comment:t.consumeLine();break;default:console.log("Syntax error in GrowCtx",o)}if(i)break}e||(this.mw.zoom_factor.y=this.mw.zoom_factor.x),this.color_theme&&("$default"===this.color_theme?this.default_color_theme&&(this.customcolors.read_colorfile(this.default_color_theme),this.gdraw.push_customcolors(this.customcolors)):(this.customcolors.read_colorfile(this.color_theme),this.gdraw.push_customcolors(this.customcolors)))}open_comment(t){for(t.consumeLine();;){let e=t.consumeLine();if("!"!==e[0]&&!e.startsWith("!*/"))break}}open_grow(t){for(;;){let e=t.consumeInt();switch(e){case n.v.GrowCtx:break;case n.v.GrowCtx_conpoint_num_cnt:this.conpoint_num_cnt=t.consumeInt();break;case n.v.GrowCtx_objectname_cnt:this.objectname_cnt=t.consumeInt();break;case n.v.GrowCtx_name:this.name=t.consumeLine();break;case n.v.GrowCtx_background_color:this.background_color=t.consumeInt();break;case n.v.GrowCtx_dynamicsize:this.dynamicsize=t.consumeInt();break;case n.v.GrowCtx_dynamic:this.dynamicsize&&(this.dynamic=t.consumeQuotedString(),t.consumeLine());break;case n.v.GrowCtx_arg_cnt:this.arg_cnt=t.consumeInt();break;case n.v.GrowCtx_argname:for(let e=0;e<this.arg_cnt;e++)this.argname[e]=t.consumeLine();break;case n.v.GrowCtx_argtype:for(let e=0;e<this.arg_cnt;e++)this.argtype[e]=t.consumeInt();break;case n.v.GrowCtx_x0:this.x0=t.consumeFloat();break;case n.v.GrowCtx_y0:this.y0=t.consumeFloat();break;case n.v.GrowCtx_x1:this.x1=t.consumeFloat();break;case n.v.GrowCtx_y1:this.y1=t.consumeFloat();break;case n.v.End:return this.mw.offset.x=this.x0*this.mw.zoom_factor.x,void(this.mw.offset.y=this.y0*this.mw.zoom_factor.y);case n.v.GrowCtx_path_cnt:this.path_cnt=t.consumeInt();break;case n.v.GrowCtx_path:for(let e=0;e<this.path_cnt;e++)this.path[e]=t.consumeLine();break;case n.v.GrowCtx_dyn_type1:this.dyn_type1=t.consumeInt();break;case n.v.GrowCtx_dyn_type2:this.dyn_type2=t.consumeInt();break;case n.v.GrowCtx_dyn_action_type1:this.dyn_action_type1=t.consumeInt();break;case n.v.GrowCtx_dyn_action_type2:this.dyn_action_type2=t.consumeInt();break;case n.v.GrowCtx_dyn_color1:this.dyn_color[0]=t.consumeInt();break;case n.v.GrowCtx_dyn_color2:this.dyn_color[1]=t.consumeInt();break;case n.v.GrowCtx_dyn_color3:this.dyn_color[2]=t.consumeInt();break;case n.v.GrowCtx_dyn_color4:this.dyn_color[3]=t.consumeInt();break;case n.v.GrowCtx_dyn_attr1:this.dyn_attr[0]=t.consumeInt();break;case n.v.GrowCtx_dyn_attr2:this.dyn_attr[1]=t.consumeInt();break;case n.v.GrowCtx_dyn_attr3:this.dyn_attr[2]=t.consumeInt();break;case n.v.GrowCtx_dyn_attr4:this.dyn_attr[3]=t.consumeInt();break;case n.v.GrowCtx_no_con_obstacle:this.no_con_obstacle=t.consumeBool();break;case n.v.GrowCtx_slider:this.slider=t.consumeInt();break;case n.v.GrowCtx_subgraph:this.subgraph=t.consumeInt();break;case n.v.GrowCtx_java_name:t.consumeLine();break;case n.v.GrowCtx_is_javaapplet:case n.v.GrowCtx_is_javaapplication:t.consumeInt();break;case n.v.GrowCtx_next_subgraph:this.next_subgraph=t.consumeLine();break;case n.v.GrowCtx_animation_count:this.animation_count=t.consumeInt();break;case n.v.GrowCtx_scantime:this.scantime=t.consumeFloat();break;case n.v.GrowCtx_fast_scantime:this.fast_scantime=t.consumeFloat();break;case n.v.GrowCtx_animation_scantime:this.animation_scantime=t.consumeFloat();break;case n.v.GrowCtx_java_width:this.java_width=t.consumeInt();break;case n.v.GrowCtx_background_image:this.background_image=t.consumeLine();break;case n.v.GrowCtx_background_tiled:this.background_tiled=t.consumeInt();break;case n.v.GrowCtx_double_buffered:this.double_buffered=t.consumeBool();break;case n.v.GrowCtx_cycle:this.cycle=t.consumeInt();break;case n.v.GrowCtx_mb3_action:this.mb3_action=t.consumeInt();break;case n.v.GrowCtx_translate_on:this.translate_on=t.consumeInt();break;case n.v.GrowCtx_input_focus_mark:this.input_focus_mark=t.consumeInt();break;case n.v.GrowCtx_recursive_trace:this.recursive_trace=t.consumeInt();break;case n.v.GrowCtx_userdata_cb:this.appl&&(this.userdata=this.appl.growUserdataOpen(t,n.G.Ctx));break;case n.v.GrowCtx_bitmap_fonts:t.consumeInt();break;case n.v.GrowCtx_customcolors:this.customcolors||(this.customcolors=new l.b),this.customcolors.open(t);break;default:console.log("Syntax error in GrowCtx:",e),t.consumeLine()}}}get_nodeclass_from_name(t){return this.a_nc.find(e=>e.nc_name===t)}get_conclass_from_name(t){return this.a_cc.find(e=>e.cc_name===t)}event_handler(t){return yt(this,void 0,void 0,function*(){let e=0;t.x,this.mw.zoom_factor.x,this.mw.offset.x,t.y,this.mw.zoom_factor.y,this.mw.offset.y;this.callback_object=null,this.callback_object_type=n.C.NoObject;for(let i=this.a.length-1;i>=0;i--){if((e=yield this.a[i].event_handler(t))===n.m)return e;if(1===e||e===n.k)break}if("mousedown"===t.event.type){if(1===e&&this.callback_object&&this.callback_object.type()===n.C.GrowSlider){this.node_move_last_x=t.x,this.node_move_last_y=t.y,this.sliderActive=!0,this.sliderObject=this.callback_object;let e=new n.r(new CustomEvent("SliderMoveStart"));e.type=n.i.Object,e.x=t.x,e.y=t.y,e.object=this.callback_object,yield this.appl.event_handler(e),this.restriction_object&&(this.move_restriction===n.B.VerticalSlider?this.slider_cursor_offset=this.restriction_object.ll.y-t.y:this.slider_cursor_offset=this.restriction_object.ll.x-t.x)}}else if("mouseup"===t.event.type){if(this.sliderActive){if(this.restriction_object){let e=new n.r(new CustomEvent("SliderMoveEnd"));e.type=n.i.Object,e.x=t.x,e.y=t.y,e.object=this.restriction_object,yield this.appl.event_handler(e),this.restriction_object=null}this.sliderObject=null,this.sliderActive=!1}}else if("mousemove"===t.event.type&&t.event.buttons&&this.sliderActive&&this.restriction_object)switch(this.move_restriction){case n.B.VerticalSlider:{let e,i=t.y;if(i+this.slider_cursor_offset>this.restriction_max_limit){if(this.node_move_last_y+this.slider_cursor_offset>this.restriction_max_limit)break;e=this.restriction_max_limit-this.node_move_last_y-this.slider_cursor_offset}else if(i+this.slider_cursor_offset<this.restriction_min_limit){if(this.node_move_last_y+this.slider_cursor_offset<this.restriction_min_limit)break;e=this.restriction_min_limit-this.node_move_last_y-this.slider_cursor_offset}else e=this.node_move_last_y+this.slider_cursor_offset>this.restriction_max_limit?i+this.slider_cursor_offset-this.restriction_max_limit:this.node_move_last_y+this.slider_cursor_offset<this.restriction_min_limit?i+this.slider_cursor_offset-this.restriction_min_limit:t.y-this.node_move_last_y;if(0===e)break;this.node_move_last_x=t.x,this.node_move_last_y=t.y,e=Object(s.q)(e,this.restriction_min_limit-this.restriction_object.ll.y,this.restriction_max_limit-this.restriction_object.ll.y),this.restriction_object.move(0,e);let o=new n.r(new CustomEvent("SliderMoved"));o.type=n.i.Object,o.x=t.x,o.y=this.node_move_last_y+e,o.object=this.restriction_object,yield this.appl.event_handler(o);break}case n.B.HorizontalSlider:{let e,i=t.x;if(i+this.slider_cursor_offset>this.restriction_max_limit){if(this.node_move_last_x+this.slider_cursor_offset>this.restriction_max_limit)break;e=this.restriction_max_limit-this.node_move_last_x-this.slider_cursor_offset}else if(i+this.slider_cursor_offset<this.restriction_min_limit){if(this.node_move_last_x+this.slider_cursor_offset<this.restriction_min_limit)break;e=this.restriction_min_limit-this.node_move_last_x-this.slider_cursor_offset}else e=this.node_move_last_x+this.slider_cursor_offset>this.restriction_max_limit?i+this.slider_cursor_offset-this.restriction_max_limit:this.node_move_last_x+this.slider_cursor_offset<this.restriction_min_limit?i+this.slider_cursor_offset-this.restriction_min_limit:t.x-this.node_move_last_x;if(0===e)break;this.node_move_last_x=t.x,this.node_move_last_y=t.y,e=Object(s.q)(e,this.restriction_min_limit-this.restriction_object.ll.x,this.restriction_max_limit-this.restriction_object.ll.x),this.restriction_object.move(e,0);let o=new n.r(new CustomEvent("SliderMoved"));o.type=n.i.Object,o.x=this.node_move_last_x+e,o.y=t.y,o.object=this.restriction_object,yield this.appl.event_handler(o);break}}if(this.event_handler[t.event.type]&&e!==n.k){let e=new n.r(t.event);e.type=n.i.Object,e.x=(t.x+this.mw.offset.x)/this.mw.zoom_factor.x,e.y=(t.y+this.mw.offset.y)/this.mw.zoom_factor.y,this.callback_object_type!==n.C.NoObject&&(e.object=this.callback_object);let i=this.event_callback[t.event.type](this,e);if(i===n.m||i===n.l)return i}return 1===e&&this.appl&&(t.object=this.callback_object,yield this.appl.event_handler(t)),e})}getWidth(){return this.gdraw.canvas.width}getHeight(){return this.gdraw.canvas.height}traceConnect(){this.nodraw++;let t=this.appl;this.a.forEach(function(e){e.type()!==n.C.GrowNode&&e.type()!==n.C.GrowGroup&&e.type()!==n.C.GrowBar&&e.type()!==n.C.GrowBarArc&&e.type()!==n.C.GrowTrend&&e.type()!==n.C.GrowTable&&e.type()!==n.C.GrowSlider&&e.type()!==n.C.GrowWindow&&e.type()!==n.C.GrowFolder&&e.type()!==n.C.GrowXYCurve&&e.type()!==n.C.GrowPie&&e.type()!==n.C.GrowBarChart&&e.type()!==n.C.GrowToolbar&&e.type()!==n.C.GrowAxis&&e.type()!==n.C.GrowAxisArc||(t.traceConnect(e),e.type()===n.C.GrowGroup?e.nc.a.forEach(function(e){e.type()!==n.C.GrowNode&&e.type()!==n.C.GrowGroup||t.traceConnect(e)}):e.type()!==n.C.GrowWindow&&e.type()!==n.C.GrowFolder||e.traceConnect())}),this.nodraw--,this.trace_started=!0}traceDisconnect(){this.trace_started=!1;let t=this.appl;this.a.forEach(function(e){e.type()!==n.C.GrowNode&&e.type()!==n.C.GrowGroup&&e.type()!==n.C.GrowBar&&e.type()!==n.C.GrowBarArc&&e.type()!==n.C.GrowTrend&&e.type()!==n.C.GrowTable&&e.type()!==n.C.GrowSlider&&e.type()!==n.C.GrowWindow&&e.type()!==n.C.GrowFolder&&e.type()!==n.C.GrowXYCurve&&e.type()!==n.C.GrowPie&&e.type()!==n.C.GrowBarChart&&e.type()!==n.C.GrowAxis&&e.type()!==n.C.GrowAxisArc||(t.traceDisconnect(e),e.type()===n.C.GrowGroup?e.nc.a.forEach(function(e){e.type()!==n.C.GrowNode&&e.type()!==n.C.GrowGroup||t.traceDisconnect(e)}):e.type()!==n.C.GrowWindow&&e.type()!==n.C.GrowFolder||e.traceDisconnect())})}traceScan(){let t=this.appl;this.a.forEach(function(e){e.type()!==n.C.GrowNode&&e.type()!==n.C.GrowGroup&&e.type()!==n.C.GrowBar&&e.type()!==n.C.GrowBarArc&&e.type()!==n.C.GrowTrend&&e.type()!==n.C.GrowTable&&e.type()!==n.C.GrowSlider&&e.type()!==n.C.GrowWindow&&e.type()!==n.C.GrowFolder&&e.type()!==n.C.GrowXYCurve&&e.type()!==n.C.GrowPie&&e.type()!==n.C.GrowBarChart&&e.type()!==n.C.GrowAxis&&e.type()!==n.C.GrowAxisArc||(t.traceScan(e),e.type()===n.C.GrowGroup?e.nc.a.forEach(function(e){e.type()!==n.C.GrowNode&&e.type()!==n.C.GrowGroup||t.traceScan(e)}):e.type()!==n.C.GrowWindow&&e.type()!==n.C.GrowFolder||e.traceScan())})}get_node_from_name(t){return this.a.find(e=>e.type()===n.C.GrowNode&&t===e.n_name)}get_object_group(t){return this.a.find(e=>e.type()===n.C.GrowGroup&&null!==e.get_object_group(t))}register_callback_object(t,e){this.callback_object=e,this.callback_object_type=t}send_menu_callback(t,e,i){let o=new n.s(i);return o.type=n.i.Menu,o.object=t,o.item=e,this.appl.event_handler(o)}send_table_callback(t,e,i,o){let s=new n.t(e);return s.type=n.i.Table,s.object=t,s.column=i,s.row=o,this.appl.event_handler(s)}send_toolbar_callback(t,e,i,o){let s=new n.u(o);return s.type=n.i.Toolbar,s.object=t,s.category=e,s.idx=i,this.appl.event_handler(s)}getBackgroundObjectLimits(t,e,i){for(let o=0;o<this.a.length;o++){let s=this.a[o].get_background_object_limits(t,e,i);if(s)return s}return null}setMoveRestrictions(t,e,i,o){this.move_restriction=t,this.restriction_max_limit=e,this.restriction_min_limit=i,this.restriction_object=o}findByName(t){return this.a.find(e=>e.n_name.toUpperCase()===t.toUpperCase())}setSubwindowSource(t,e,i){let o=this.findByName(t);null!==o&&o.type()===n.C.GrowWindow?o.setSource(e,i):console.log("Window "+t+" not found "+o)}loadSubgraph(t){return 0}measure_window(){return new s.k(this.mw.offset.x/this.mw.zoom_factor.x,(this.mw.offset.x+this.mw.window_size.x)/this.mw.zoom_factor.x,this.mw.offset.y/this.mw.zoom_factor.y,(this.mw.offset.y+this.mw.window_size.y)/this.mw.zoom_factor.y)}reset_custom_colors(){this.customcolors&&this.customcolors.reset_colors()}scroll2(t,e){super.scroll2(t,e),this.polyline_last_end.x+=t,this.polyline_last_end.y+=e}object_deleted(t){let e=new n.r(event);return e.type=n.i.Object,e.object=t,this.appl.event_handler(e)}delete_all(){this.set_nodraw();for(let t=0;t<this.a.length;t++){if(this.a[t].type()!==n.C.Con)continue;let e=this.a[t];this.a.remove(e),this.a_sel.remove(e),this.a_move.remove(e),t--}for(let t=0;t<this.a.length;t++){let e=this.a[t];this.a.remove(e),this.a_sel.remove(e),this.a_move.remove(e),this.object_deleted(e),t--}this.reset_nodraw(),this.set_dirty()}clear_all(t){let e;if(this.delete_all(),this.version=4510,this.conpoint_num_cnt=0,this.objectname_cnt=0,this.subgraph=0,this.scantime=.5,this.fast_scantime=.5,this.animation_scantime=.5,this.java_width=0,this.name="",this.background_image="",this.background_tiled=0,this.cycle=n.e.Slow,this.translate_on=0,this.color_theme="",this.x0=this.y0=this.x1=this.y1=0,this.set_nodraw(),this.reset_custom_colors(),this.zoom_absolute(this.mw.base_zoom_factor),this.mw.offset.x=0,this.mw.offset.y=0,t)for(let t=this.a_nc.length-1;t>=0;t--){let i=!1;for(let e=0;e<this.a_paste.length&&(this.a_paste[e].type()!=n.C.GrowNode&&this.a_paste[e].type()!=n.C.GrowSlider&&this.a_paste[e].type()!=n.C.GrowGroup&&this.a_paste[e].type()!=n.C.GrowToolbar&&this.a_paste[e].type()!=n.C.GrowConGlue||!(i=this.a_paste[e].find_nc(this.a_nc[t])));e++);i||(e=this.a_nc[t],this.a_nc.remove(e))}else{for(let t=this.a_nc.length-1;t>=0;t--)e=this.a_nc[t],this.a_nc.remove(e);this.a_paste.length=0}this.reset_nodraw(),this.set_dirty(),this.reset_custom_colors()}}const gt=20001;var xt,vt,Ct,Gt,kt,Tt,St,It,Lt,At,Mt,Nt,Ot,Ft,Rt;!function(t){t[t.Success=0]="Success",t[t.Error=1]="Error",t[t.SyntaxError=2]="SyntaxError",t[t.MinValueExceeded=3]="MinValueExceeded",t[t.MaxValueExceeded=4]="MaxValueExceeded"}(xt||(xt={})),function(t){t[t.XYArrays=0]="XYArrays",t[t.PointArray=1]="PointArray",t[t.TableObject=2]="TableObject"}(vt||(vt={})),function(t){t[t.One=1]="One",t[t.Two=2]="Two",t[t.Three=4]="Three",t[t.Four=8]="Four",t[t.Five=16]="Five",t[t.Six=32]="Six",t[t.Seven=64]="Seven",t[t.Eight=128]="Eight",t[t.Nine=256]="Nine",t[t.Ten=512]="Ten",t[t.Eleven=1024]="Eleven",t[t.Twelve=2048]="Twelve",t[t.Thirteen=4096]="Thirteen",t[t.Fourteen=8192]="Fourteen",t[t.Fifteen=16384]="Fifteen",t[t.Sixteen=32768]="Sixteen",t[t.Seveteen=65536]="Seveteen",t[t.Eighteen=131072]="Eighteen",t[t.Nineteen=262144]="Nineteen",t[t.Twenty=524288]="Twenty",t[t.TwentyOne=1048576]="TwentyOne",t[t.TwentyTwo=2097152]="TwentyTwo",t[t.TwentyThree=4194304]="TwentyThree",t[t.TwentyFour=8388608]="TwentyFour",t[t.TwentyFive=16777216]="TwentyFive",t[t.TwentySix=33554432]="TwentySix",t[t.TwentySeven=67108864]="TwentySeven",t[t.TwentyEight=134217728]="TwentyEight",t[t.TwentyNine=268435456]="TwentyNine",t[t.Thirty=536870912]="Thirty",t[t.ThirtyOne=1073741824]="ThirtyOne",t[t.ThirtyTwo=-2147483648]="ThirtyTwo"}(Ct||(Ct={})),function(t){t[t.No=0]="No",t[t.Inherit=1]="Inherit",t[t.Tone=2]="Tone",t[t.DigLowColor=4]="DigLowColor",t[t.DigColor=8]="DigColor",t[t.DigError=16]="DigError",t[t.DigWarning=32]="DigWarning",t[t.DigFlash=64]="DigFlash",t[t.Invisible=128]="Invisible",t[t.DigBorder=256]="DigBorder",t[t.DigText=512]="DigText",t[t.Value=1024]="Value",t[t.AnalogColor=2048]="AnalogColor",t[t.Rotate=4096]="Rotate",t[t.Move=8192]="Move",t[t.AnalogShift=16384]="AnalogShift",t[t.DigShift=32768]="DigShift",t[t.Animation=65536]="Animation",t[t.Bar=131072]="Bar",t[t.Trend=262144]="Trend",t[t.SliderBackground=524288]="SliderBackground",t[t.Video=1048576]="Video",t[t.FillLevel=2097152]="FillLevel",t[t.FastCurve=4194304]="FastCurve",t[t.AnalogText=8388608]="AnalogText",t[t.Table=16777216]="Table",t[t.StatusColor=33554432]="StatusColor",t[t.HostObject=67108864]="HostObject",t[t.DigSound=134217728]="DigSound",t[t.XY_Curve=268435456]="XY_Curve",t[t.DigCommand=536870912]="DigCommand",t[t.Pie=1073741824]="Pie",t[t.BarChart=-2147483648]="BarChart"}(Gt||(Gt={})),function(t){t[t.No=0]="No",t[t.Axis=1]="Axis",t[t.DigTextColor=2]="DigTextColor",t[t.TimeoutColor=4]="TimeoutColor",t[t.DigFourShift=8]="DigFourShift",t[t.ScrollingText=16]="ScrollingText",t[t.ColorThemeLightness=32]="ColorThemeLightness",t[t.DigBackgroundColor=64]="DigBackgroundColor",t[t.DigSwap=128]="DigSwap",t[t.DigScript=256]="DigScript"}(kt||(kt={})),function(t){t[t.No=0]="No",t[t.Inherit=1]="Inherit",t[t.PopupMenu=2]="PopupMenu",t[t.SetDig=4]="SetDig",t[t.ResetDig=8]="ResetDig",t[t.ToggleDig=16]="ToggleDig",t[t.StoDig=32]="StoDig",t[t.Command=64]="Command",t[t.CommandDoubleClick=128]="CommandDoubleClick",t[t.Confirm=256]="Confirm",t[t.IncrAnalog=512]="IncrAnalog",t[t.RadioButton=1024]="RadioButton",t[t.Slider=2048]="Slider",t[t.ValueInput=4096]="ValueInput",t[t.TipText=8192]="TipText",t[t.Help=16384]="Help",t[t.OpenGraph=32768]="OpenGraph",t[t.OpenURL=65536]="OpenURL",t[t.InputFocus=131072]="InputFocus",t[t.CloseGraph=262144]="CloseGraph",t[t.PulldownMenu=524288]="PulldownMenu",t[t.OptionMenu=1048576]="OptionMenu",t[t.SetValue=2097152]="SetValue",t[t.MethodToolbar=4194304]="MethodToolbar",t[t.MethodPulldownMenu=8388608]="MethodPulldownMenu",t[t.Script=16777216]="Script",t[t.CatchSignal=33554432]="CatchSignal",t[t.EmitSignal=67108864]="EmitSignal"}(Tt||(Tt={})),function(t){t[t.No=0]="No"}(St||(St={})),function(t){
//! Priority order for dyntypes and actiontypes. Lower value gives higher priority.
t[t.DigSound=0]="DigSound",t[t.HostObject=1]="HostObject",t[t.Invisible=2]="Invisible",t[t.DigFlash=3]="DigFlash",t[t.TimeoutColor=4]="TimeoutColor",t[t.DigError=5]="DigError",t[t.DigWarning=6]="DigWarning",t[t.AnalogColor=7]="AnalogColor",t[t.DigColor=8]="DigColor",t[t.DigLowColor=9]="DigLowColor",t[t.DigBackgroundColor=10]="DigBackgroundColor",t[t.DigTextColor=11]="DigTextColor",t[t.DigBorder=12]="DigBorder",t[t.DigText=13]="DigText",t[t.FillLevel=14]="FillLevel",t[t.Value=15]="Value",t[t.ValueInput=16]="ValueInput",t[t.Rotate=17]="Rotate",t[t.Move=18]="Move",t[t.AnalogShift=19]="AnalogShift",t[t.DigShift=20]="DigShift",t[t.DigFourShift=21]="DigFourShift",t[t.Animation=22]="Animation",t[t.Bar=23]="Bar",t[t.Trend=24]="Trend",t[t.FastCurve=25]="FastCurve",t[t.XY_Curve=26]="XY_Curve",t[t.AnalogText=27]="AnalogText",t[t.Table=28]="Table",t[t.SliderBackground=29]="SliderBackground",t[t.Video=30]="Video",t[t.StatusColor=31]="StatusColor",t[t.PopupMenu=32]="PopupMenu",t[t.Confirm=33]="Confirm",t[t.SetDig=34]="SetDig",t[t.ResetDig=35]="ResetDig",t[t.ToggleDig=36]="ToggleDig",t[t.StoDig=37]="StoDig",t[t.Help=38]="Help",t[t.OpenGraph=39]="OpenGraph",t[t.OpenURL=40]="OpenURL",t[t.CommandDoubleClick=41]="CommandDoubleClick",t[t.IncrAnalog=42]="IncrAnalog",t[t.RadioButton=43]="RadioButton",t[t.Slider=44]="Slider",t[t.TipText=45]="TipText",t[t.PulldownMenu=46]="PulldownMenu",t[t.OptionMenu=47]="OptionMenu",t[t.InputFocus=48]="InputFocus",t[t.DigCommand=49]="DigCommand",t[t.SetValue=50]="SetValue",t[t.Pie=51]="Pie",t[t.BarChart=52]="BarChart",t[t.Axis=53]="Axis",t[t.MethodToolbar=54]="MethodToolbar",t[t.MethodPulldownMenu=55]="MethodPulldownMenu",t[t.ScrollingText=56]="ScrollingText",t[t.ColorThemeLightness=57]="ColorThemeLightness",t[t.DigSwap=58]="DigSwap",t[t.DigScript=59]="DigScript",t[t.CatchSignal=60]="CatchSignal",t[t.EmitSignal=61]="EmitSignal",t[t.Script=9998]="Script",t[t.Command=9999]="Command",t[t.CloseGraph=1e4]="CloseGraph"}(It||(It={})),function(t){t[t.Dyn=1]="Dyn",t[t.DigLowColor=2]="DigLowColor",t[t.DigColor=3]="DigColor",t[t.DigError=7]="DigError",t[t.DigWarning=8]="DigWarning",t[t.Invisible=9]="Invisible",t[t.DigBorder=10]="DigBorder",t[t.DigText=11]="DigText",t[t.Value=12]="Value",t[t.ValueInput=13]="ValueInput",t[t.Rotate=14]="Rotate",t[t.Move=15]="Move",t[t.AnalogShift=17]="AnalogShift",t[t.DigShift=18]="DigShift",t[t.Animation=19]="Animation",t[t.Bar=22]="Bar",t[t.Trend=23]="Trend",t[t.SliderBackground=24]="SliderBackground",t[t.Video=25]="Video",t[t.DigFlash=26]="DigFlash",t[t.FillLevel=27]="FillLevel",t[t.FastCurve=28]="FastCurve",t[t.AnalogText=29]="AnalogText",t[t.Table=30]="Table",t[t.StatusColor=31]="StatusColor",t[t.HostObject=32]="HostObject",t[t.DigSound=33]="DigSound",t[t.XY_Curve=34]="XY_Curve",t[t.DigCommand=35]="DigCommand",t[t.Pie=36]="Pie",t[t.BarChart=37]="BarChart",t[t.Axis=38]="Axis",t[t.DigTextColor=39]="DigTextColor",t[t.TimeoutColor=40]="TimeoutColor",t[t.DigFourShift=41]="DigFourShift",t[t.ScrollingText=42]="ScrollingText",t[t.ColorThemeLightness=43]="ColorThemeLightness",t[t.DigBackgroundColor=44]="DigBackgroundColor",t[t.DigSwap=45]="DigSwap",t[t.DigScript=46]="DigScript",t[t.PopupMenu=50]="PopupMenu",t[t.SetDig=51]="SetDig",t[t.ResetDig=52]="ResetDig",t[t.ToggleDig=53]="ToggleDig",t[t.StoDig=54]="StoDig",t[t.Command=55]="Command",t[t.CommandDC=56]="CommandDC",t[t.Confirm=57]="Confirm",t[t.IncrAnalog=58]="IncrAnalog",t[t.RadioButton=59]="RadioButton",t[t.Slider=60]="Slider",t[t.AnalogColor=61]="AnalogColor",t[t.TipText=62]="TipText",t[t.Help=63]="Help",t[t.OpenGraph=64]="OpenGraph",t[t.OpenURL=65]="OpenURL",t[t.InputFocus=66]="InputFocus",t[t.CloseGraph=67]="CloseGraph",t[t.PulldownMenu=68]="PulldownMenu",t[t.OptionMenu=69]="OptionMenu",t[t.SetValue=70]="SetValue",t[t.MethodToolbar=71]="MethodToolbar",t[t.MethodPulldownMenu=72]="MethodPulldownMenu",t[t.Script=73]="Script",t[t.CatchSignal=74]="CatchSignal",t[t.EmitSignal=75]="EmitSignal",t[t.End=99]="End",t[t.Dyn_dyn_type1=100]="Dyn_dyn_type1",t[t.Dyn_action_type1=101]="Dyn_action_type1",t[t.Dyn_access=102]="Dyn_access",t[t.Dyn_cycle=103]="Dyn_cycle",t[t.Dyn_ref_object=104]="Dyn_ref_object",t[t.Dyn_dyn_type2=105]="Dyn_dyn_type2",t[t.Dyn_action_type2=106]="Dyn_action_type2",t[t.DigLowColor_attribute=200]="DigLowColor_attribute",t[t.DigLowColor_color=201]="DigLowColor_color",t[t.DigColor_attribute=300]="DigColor_attribute",t[t.DigColor_color=301]="DigColor_color",t[t.DigColor_instance=302]="DigColor_instance",t[t.DigColor_instance_mask=303]="DigColor_instance_mask",t[t.DigError_attribute=700]="DigError_attribute",t[t.DigError_use_colortheme=701]="DigError_use_colortheme",t[t.DigWarning_attribute=800]="DigWarning_attribute",t[t.DigWarning_use_colortheme=801]="DigWarning_use_colortheme",t[t.Invisible_attribute=900]="Invisible_attribute",t[t.Invisible_dimmed=901]="Invisible_dimmed",t[t.Invisible_instance=902]="Invisible_instance",t[t.Invisible_instance_mask=903]="Invisible_instance_mask",t[t.DigBorder_attribute=1e3]="DigBorder_attribute",t[t.DigBorder_color=1001]="DigBorder_color",t[t.DigText_attribute=1100]="DigText_attribute",t[t.DigText_low_text=1101]="DigText_low_text",t[t.DigText_instance=1102]="DigText_instance",t[t.DigText_instance_mask=1103]="DigText_instance_mask",t[t.Value_attribute=1200]="Value_attribute",t[t.Value_format=1201]="Value_format",t[t.Value_instance=1202]="Value_instance",t[t.Value_instance_mask=1203]="Value_instance_mask",t[t.Value_zero_blank=1204]="Value_zero_blank",t[t.Value_decimals_attr=1205]="Value_decimals_attr",t[t.Value_decimals_decr=1206]="Value_decimals_decr",t[t.ValueInput_attribute=1300]="ValueInput_attribute",t[t.ValueInput_format=1301]="ValueInput_format",t[t.ValueInput_min_value=1302]="ValueInput_min_value",t[t.ValueInput_max_value=1303]="ValueInput_max_value",t[t.ValueInput_clear=1304]="ValueInput_clear",t[t.ValueInput_popup=1305]="ValueInput_popup",t[t.ValueInput_unselect=1306]="ValueInput_unselect",t[t.ValueInput_minvalue_attr=1307]="ValueInput_minvalue_attr",t[t.ValueInput_maxvalue_attr=1308]="ValueInput_maxvalue_attr",t[t.ValueInput_escape_store=1309]="ValueInput_escape_store",t[t.ValueInput_keyboard_type=1310]="ValueInput_keyboard_type",t[t.ValueInput_update_open=1311]="ValueInput_update_open",t[t.Rotate_attribute=1400]="Rotate_attribute",t[t.Rotate_x0=1401]="Rotate_x0",t[t.Rotate_y0=1402]="Rotate_y0",t[t.Rotate_factor=1403]="Rotate_factor",t[t.Move_move_x_attribute=1500]="Move_move_x_attribute",t[t.Move_move_y_attribute=1501]="Move_move_y_attribute",t[t.Move_x_offset=1502]="Move_x_offset",t[t.Move_y_offset=1503]="Move_y_offset",t[t.Move_x_factor=1504]="Move_x_factor",t[t.Move_scale_x_attribute=1505]="Move_scale_x_attribute",t[t.Move_scale_y_attribute=1506]="Move_scale_y_attribute",t[t.Move_scale_x_factor=1507]="Move_scale_x_factor",t[t.Move_scale_type=1508]="Move_scale_type",t[t.Move_y_factor=1509]="Move_y_factor",t[t.Move_scale_y_factor=1510]="Move_scale_y_factor",t[t.AnalogShift_attribute=1700]="AnalogShift_attribute",t[t.DigShift_attribute=1800]="DigShift_attribute",t[t.Animation_attribute=1900]="Animation_attribute",t[t.Animation_sequence=1901]="Animation_sequence",t[t.Bar_attribute=2200]="Bar_attribute",t[t.Bar_minvalue_attr=2201]="Bar_minvalue_attr",t[t.Bar_maxvalue_attr=2202]="Bar_maxvalue_attr",t[t.Trend_attribute1=2300]="Trend_attribute1",t[t.Trend_attribute2=2301]="Trend_attribute2",t[t.Trend_minvalue_attr1=2302]="Trend_minvalue_attr1",t[t.Trend_maxvalue_attr1=2303]="Trend_maxvalue_attr1",t[t.Trend_minvalue_attr2=2304]="Trend_minvalue_attr2",t[t.Trend_maxvalue_attr2=2305]="Trend_maxvalue_attr2",t[t.Trend_hold_attr=2306]="Trend_hold_attr",t[t.Trend_timerange_attr=2307]="Trend_timerange_attr",t[t.Trend_mark1_attr=2308]="Trend_mark1_attr",t[t.Trend_mark2_attr=2309]="Trend_mark2_attr",t[t.Trend_mark1_color=2310]="Trend_mark1_color",t[t.Trend_mark2_color=2311]="Trend_mark2_color",t[t.DigFlash_attribute=2600]="DigFlash_attribute",t[t.DigFlash_color=2601]="DigFlash_color",t[t.DigFlash_color2=2602]="DigFlash_color2",t[t.FillLevel_attribute=2700]="FillLevel_attribute",t[t.FillLevel_color=2701]="FillLevel_color",t[t.FillLevel_direction=2702]="FillLevel_direction",t[t.FillLevel_min_value=2703]="FillLevel_min_value",t[t.FillLevel_max_value=2704]="FillLevel_max_value",t[t.FillLevel_minvalue_attr=2705]="FillLevel_minvalue_attr",t[t.FillLevel_maxvalue_attr=2706]="FillLevel_maxvalue_attr",t[t.FastCurve_fast_object=2800]="FastCurve_fast_object",t[t.FastCurve_curve_index1=2801]="FastCurve_curve_index1",t[t.FastCurve_curve_index2=2802]="FastCurve_curve_index2",t[t.AnalogText_super=2900]="AnalogText_super",t[t.Table_attribute1=3e3]="Table_attribute1",t[t.Table_format1=3001]="Table_format1",t[t.Table_sel_attribute1=3002]="Table_sel_attribute1",t[t.Table_attribute2=3003]="Table_attribute2",t[t.Table_format2=3004]="Table_format2",t[t.Table_sel_attribute2=3005]="Table_sel_attribute2",t[t.Table_attribute3=3006]="Table_attribute3",t[t.Table_format3=3007]="Table_format3",t[t.Table_sel_attribute3=3008]="Table_sel_attribute3",t[t.Table_attribute4=3009]="Table_attribute4",t[t.Table_format4=3010]="Table_format4",t[t.Table_sel_attribute4=3011]="Table_sel_attribute4",t[t.Table_attribute5=3012]="Table_attribute5",t[t.Table_format5=3013]="Table_format5",t[t.Table_sel_attribute5=3014]="Table_sel_attribute5",t[t.Table_attribute6=3015]="Table_attribute6",t[t.Table_format6=3016]="Table_format6",t[t.Table_sel_attribute6=3017]="Table_sel_attribute6",t[t.Table_attribute7=3018]="Table_attribute7",t[t.Table_format7=3019]="Table_format7",t[t.Table_sel_attribute7=3020]="Table_sel_attribute7",t[t.Table_attribute8=3021]="Table_attribute8",t[t.Table_format8=3022]="Table_format8",t[t.Table_sel_attribute8=3023]="Table_sel_attribute8",t[t.Table_attribute9=3024]="Table_attribute9",t[t.Table_format9=3025]="Table_format9",t[t.Table_sel_attribute9=3026]="Table_sel_attribute9",t[t.Table_attribute10=3027]="Table_attribute10",t[t.Table_format10=3028]="Table_format10",t[t.Table_sel_attribute10=3029]="Table_sel_attribute10",t[t.Table_attribute11=3030]="Table_attribute11",t[t.Table_format11=3031]="Table_format11",t[t.Table_sel_attribute11=3032]="Table_sel_attribute11",t[t.Table_attribute12=3033]="Table_attribute12",t[t.Table_format12=3034]="Table_format12",t[t.Table_sel_attribute12=3035]="Table_sel_attribute12",t[t.StatusColor_attribute=3100]="StatusColor_attribute",t[t.StatusColor_nostatus_color=3101]="StatusColor_nostatus_color",t[t.StatusColor_use_colortheme=3102]="StatusColor_use_colortheme",t[t.HostObject_object=3200]="HostObject_object",t[t.DigSound_attribute=3300]="DigSound_attribute",t[t.DigSound_soundobject=3301]="DigSound_soundobject",t[t.DigSound_level=3302]="DigSound_level",t[t.DigSound_interval=3303]="DigSound_interval",t[t.DigSound_instance=3304]="DigSound_instance",t[t.DigSound_instance_mask=3305]="DigSound_instance_mask",t[t.XY_Curve_x_attr=3400]="XY_Curve_x_attr",t[t.XY_Curve_y_attr=3401]="XY_Curve_y_attr",t[t.XY_Curve_y_min_value=3402]="XY_Curve_y_min_value",t[t.XY_Curve_y_max_value=3403]="XY_Curve_y_max_value",t[t.XY_Curve_x_min_value=3404]="XY_Curve_x_min_value",t[t.XY_Curve_x_max_value=3405]="XY_Curve_x_max_value",t[t.XY_Curve_y_minvalue_attr=3406]="XY_Curve_y_minvalue_attr",t[t.XY_Curve_y_maxvalue_attr=3407]="XY_Curve_y_maxvalue_attr",t[t.XY_Curve_x_minvalue_attr=3408]="XY_Curve_x_minvalue_attr",t[t.XY_Curve_x_maxvalue_attr=3409]="XY_Curve_x_maxvalue_attr",t[t.XY_Curve_noofpoints=3410]="XY_Curve_noofpoints",t[t.XY_Curve_noofpoints_attr=3411]="XY_Curve_noofpoints_attr",t[t.XY_Curve_update_attr=3412]="XY_Curve_update_attr",t[t.XY_Curve_datatype=3413]="XY_Curve_datatype",t[t.XY_Curve_instance=3414]="XY_Curve_instance",t[t.XY_Curve_instance_mask=3415]="XY_Curve_instance_mask",t[t.XY_Curve_curve_color=3416]="XY_Curve_curve_color",t[t.XY_Curve_fill_color=3417]="XY_Curve_fill_color",t[t.XY_Curve_horizontal_padding=3418]="XY_Curve_horizontal_padding",t[t.XY_Curve_x_mark1_attr=3419]="XY_Curve_x_mark1_attr",t[t.XY_Curve_x_mark2_attr=3420]="XY_Curve_x_mark2_attr",t[t.XY_Curve_y_mark1_attr=3421]="XY_Curve_y_mark1_attr",t[t.XY_Curve_y_mark2_attr=3422]="XY_Curve_y_mark2_attr",t[t.XY_Curve_mark1_color=3423]="XY_Curve_mark1_color",t[t.XY_Curve_mark2_color=3424]="XY_Curve_mark2_color",t[t.DigCommand_attribute=3500]="DigCommand_attribute",t[t.DigCommand_command=3501]="DigCommand_command",t[t.DigCommand_instance=3502]="DigCommand_instance",t[t.DigCommand_instance_mask=3503]="DigCommand_instance_mask",t[t.DigCommand_level=3504]="DigCommand_level",t[t.Pie_attribute1=3600]="Pie_attribute1",t[t.Pie_attribute2=3601]="Pie_attribute2",t[t.Pie_attribute3=3602]="Pie_attribute3",t[t.Pie_attribute4=3603]="Pie_attribute4",t[t.Pie_attribute5=3604]="Pie_attribute5",t[t.Pie_attribute6=3605]="Pie_attribute6",t[t.Pie_attribute7=3606]="Pie_attribute7",t[t.Pie_attribute8=3607]="Pie_attribute8",t[t.Pie_attribute9=3608]="Pie_attribute9",t[t.Pie_attribute10=3609]="Pie_attribute10",t[t.Pie_attribute11=3610]="Pie_attribute11",t[t.Pie_attribute12=3611]="Pie_attribute12",t[t.Pie_fix_range=3612]="Pie_fix_range",t[t.BarChart_attribute1=3700]="BarChart_attribute1",t[t.BarChart_attribute2=3701]="BarChart_attribute2",t[t.BarChart_attribute3=3702]="BarChart_attribute3",t[t.BarChart_attribute4=3703]="BarChart_attribute4",t[t.BarChart_attribute5=3704]="BarChart_attribute5",t[t.BarChart_attribute6=3705]="BarChart_attribute6",t[t.BarChart_attribute7=3706]="BarChart_attribute7",t[t.BarChart_attribute8=3707]="BarChart_attribute8",t[t.BarChart_attribute9=3708]="BarChart_attribute9",t[t.BarChart_attribute10=3709]="BarChart_attribute10",t[t.BarChart_attribute11=3710]="BarChart_attribute11",t[t.BarChart_attribute12=3711]="BarChart_attribute12",t[t.BarChart_fix_range=3712]="BarChart_fix_range",t[t.Axis_minvalue_attr=3800]="Axis_minvalue_attr",t[t.Axis_maxvalue_attr=3801]="Axis_maxvalue_attr",t[t.Axis_keep_settings=3802]="Axis_keep_settings",t[t.DigTextColor_attribute=3900]="DigTextColor_attribute",t[t.DigTextColor_color=3901]="DigTextColor_color",t[t.TimeoutColor_time=4e3]="TimeoutColor_time",t[t.TimeoutColor_color=4001]="TimeoutColor_color",t[t.DigFourShift_attribute1=4100]="DigFourShift_attribute1",t[t.DigFourShift_attribute2=4101]="DigFourShift_attribute2",t[t.DigFourShift_attribute3=4102]="DigFourShift_attribute3",t[t.ScrollingText_attribute=4200]="ScrollingText_attribute",t[t.ScrollingText_direction=4201]="ScrollingText_direction",t[t.ScrollingText_speed=4202]="ScrollingText_speed",t[t.ScrollingText_bounce=4203]="ScrollingText_bounce",t[t.DigBackgroundColor_attribute=4400]="DigBackgroundColor_attribute",t[t.DigBackgroundColor_color=4401]="DigBackgroundColor_color",t[t.DigBackgroundColor_instance=4402]="DigBackgroundColor_instance",t[t.DigBackgroundColor_instance_mask=4403]="DigBackgroundColor_instance_mask",t[t.DigSwap_attribute=4500]="DigSwap_attribute",t[t.DigSwap_reset_value=4501]="DigSwap_reset_value",t[t.DigScript_attribute=4600]="DigScript_attribute",t[t.DigScript_script=4601]="DigScript_script",t[t.DigScript_script_len=4602]="DigScript_script_len",t[t.DigScript_level=4603]="DigScript_level",t[t.PopupMenu_ref_object=5e3]="PopupMenu_ref_object",t[t.SetDig_attribute=5100]="SetDig_attribute",t[t.SetDig_instance=5101]="SetDig_instance",t[t.SetDig_instance_mask=5102]="SetDig_instance_mask",t[t.ResetDig_attribute=5200]="ResetDig_attribute",t[t.ResetDig_instance=5201]="ResetDig_instance",t[t.ResetDig_instance_mask=5202]="ResetDig_instance_mask",t[t.ToggleDig_attribute=5300]="ToggleDig_attribute",t[t.StoDig_attribute=5400]="StoDig_attribute",t[t.Command_command=5500]="Command_command",t[t.CommandDC_command=5600]="CommandDC_command",t[t.Confirm_text=5700]="Confirm_text",t[t.Confirm_on_set=5701]="Confirm_on_set",t[t.Confirm_on_reset=5702]="Confirm_on_reset",t[t.IncrAnalog_attribute=5800]="IncrAnalog_attribute",t[t.IncrAnalog_increment=5801]="IncrAnalog_increment",t[t.IncrAnalog_min_value=5802]="IncrAnalog_min_value",t[t.IncrAnalog_max_value=5803]="IncrAnalog_max_value",t[t.RadioButton_attribute=5900]="RadioButton_attribute",t[t.Slider_attribute=6e3]="Slider_attribute",t[t.Slider_minvalue_attr=6001]="Slider_minvalue_attr",t[t.Slider_maxvalue_attr=6002]="Slider_maxvalue_attr",t[t.Slider_insensitive_attr=6003]="Slider_insensitive_attr",t[t.Slider_release_attr=6004]="Slider_release_attr",t[t.AnalogColor_attribute=6100]="AnalogColor_attribute",t[t.AnalogColor_limit=6101]="AnalogColor_limit",t[t.AnalogColor_limit_type=6102]="AnalogColor_limit_type",t[t.AnalogColor_color=6103]="AnalogColor_color",t[t.AnalogColor_instance=6104]="AnalogColor_instance",t[t.AnalogColor_instance_mask=6105]="AnalogColor_instance_mask",t[t.AnalogColor_border=6106]="AnalogColor_border",t[t.AnalogColor_common_attr=6107]="AnalogColor_common_attr",t[t.TipText_text=6200]="TipText_text",t[t.Help_topic=6300]="Help_topic",t[t.Help_bookmark=6400]="Help_bookmark",t[t.OpenGraph_graph_object=6401]="OpenGraph_graph_object",t[t.OpenURL_url=6500]="OpenURL_url",t[t.InputFocus_initial_focus=6600]="InputFocus_initial_focus",t[t.InputFocus_next_horizontal=6601]="InputFocus_next_horizontal",t[t.InputFocus_next_vertical=6602]="InputFocus_next_vertical",t[t.InputFocus_next_tab=6603]="InputFocus_next_tab",t[t.PulldownMenu_button_mask=6800]="PulldownMenu_button_mask",t[t.PulldownMenu_items_text0=6801]="PulldownMenu_items_text0",t[t.PulldownMenu_items_text1=6802]="PulldownMenu_items_text1",t[t.PulldownMenu_items_text2=6803]="PulldownMenu_items_text2",t[t.PulldownMenu_items_text3=6804]="PulldownMenu_items_text3",t[t.PulldownMenu_items_text4=6805]="PulldownMenu_items_text4",t[t.PulldownMenu_items_text5=6806]="PulldownMenu_items_text5",t[t.PulldownMenu_items_text6=6807]="PulldownMenu_items_text6",t[t.PulldownMenu_items_text7=6808]="PulldownMenu_items_text7",t[t.PulldownMenu_items_text8=6809]="PulldownMenu_items_text8",t[t.PulldownMenu_items_text9=6810]="PulldownMenu_items_text9",t[t.PulldownMenu_items_text10=6811]="PulldownMenu_items_text10",t[t.PulldownMenu_items_text11=6812]="PulldownMenu_items_text11",t[t.PulldownMenu_items_text12=6813]="PulldownMenu_items_text12",t[t.PulldownMenu_items_text13=6814]="PulldownMenu_items_text13",t[t.PulldownMenu_items_text14=6815]="PulldownMenu_items_text14",t[t.PulldownMenu_items_text15=6816]="PulldownMenu_items_text15",t[t.PulldownMenu_items_text16=6817]="PulldownMenu_items_text16",t[t.PulldownMenu_items_text17=6818]="PulldownMenu_items_text17",t[t.PulldownMenu_items_text18=6819]="PulldownMenu_items_text18",t[t.PulldownMenu_items_text19=6820]="PulldownMenu_items_text19",t[t.PulldownMenu_items_text20=6821]="PulldownMenu_items_text20",t[t.PulldownMenu_items_text21=6822]="PulldownMenu_items_text21",t[t.PulldownMenu_items_text22=6823]="PulldownMenu_items_text22",t[t.PulldownMenu_items_text23=6824]="PulldownMenu_items_text23",t[t.PulldownMenu_items_text24=6825]="PulldownMenu_items_text24",t[t.PulldownMenu_items_text25=6826]="PulldownMenu_items_text25",t[t.PulldownMenu_items_text26=6827]="PulldownMenu_items_text26",t[t.PulldownMenu_items_text27=6828]="PulldownMenu_items_text27",t[t.PulldownMenu_items_text28=6829]="PulldownMenu_items_text28",t[t.PulldownMenu_items_text29=6830]="PulldownMenu_items_text29",t[t.PulldownMenu_items_text30=6831]="PulldownMenu_items_text30",t[t.PulldownMenu_items_text31=6832]="PulldownMenu_items_text31",t[t.PulldownMenu_items_dyn0=6833]="PulldownMenu_items_dyn0",t[t.PulldownMenu_items_dyn1=6834]="PulldownMenu_items_dyn1",t[t.PulldownMenu_items_dyn2=6835]="PulldownMenu_items_dyn2",t[t.PulldownMenu_items_dyn3=6836]="PulldownMenu_items_dyn3",t[t.PulldownMenu_items_dyn4=6837]="PulldownMenu_items_dyn4",t[t.PulldownMenu_items_dyn5=6838]="PulldownMenu_items_dyn5",t[t.PulldownMenu_items_dyn6=6839]="PulldownMenu_items_dyn6",t[t.PulldownMenu_items_dyn7=6840]="PulldownMenu_items_dyn7",t[t.PulldownMenu_items_dyn8=6841]="PulldownMenu_items_dyn8",t[t.PulldownMenu_items_dyn9=6842]="PulldownMenu_items_dyn9",t[t.PulldownMenu_items_dyn10=6843]="PulldownMenu_items_dyn10",t[t.PulldownMenu_items_dyn11=6844]="PulldownMenu_items_dyn11",t[t.PulldownMenu_items_dyn12=6845]="PulldownMenu_items_dyn12",t[t.PulldownMenu_items_dyn13=6846]="PulldownMenu_items_dyn13",t[t.PulldownMenu_items_dyn14=6847]="PulldownMenu_items_dyn14",t[t.PulldownMenu_items_dyn15=6848]="PulldownMenu_items_dyn15",t[t.PulldownMenu_items_dyn16=6849]="PulldownMenu_items_dyn16",t[t.PulldownMenu_items_dyn17=6850]="PulldownMenu_items_dyn17",t[t.PulldownMenu_items_dyn18=6851]="PulldownMenu_items_dyn18",t[t.PulldownMenu_items_dyn19=6852]="PulldownMenu_items_dyn19",t[t.PulldownMenu_items_dyn20=6853]="PulldownMenu_items_dyn20",t[t.PulldownMenu_items_dyn21=6854]="PulldownMenu_items_dyn21",t[t.PulldownMenu_items_dyn22=6855]="PulldownMenu_items_dyn22",t[t.PulldownMenu_items_dyn23=6856]="PulldownMenu_items_dyn23",t[t.PulldownMenu_items_dyn24=6857]="PulldownMenu_items_dyn24",t[t.PulldownMenu_items_dyn25=6858]="PulldownMenu_items_dyn25",t[t.PulldownMenu_items_dyn26=6859]="PulldownMenu_items_dyn26",t[t.PulldownMenu_items_dyn27=6860]="PulldownMenu_items_dyn27",t[t.PulldownMenu_items_dyn28=6861]="PulldownMenu_items_dyn28",t[t.PulldownMenu_items_dyn29=6862]="PulldownMenu_items_dyn29",t[t.PulldownMenu_items_dyn30=6863]="PulldownMenu_items_dyn30",t[t.PulldownMenu_items_dyn31=6864]="PulldownMenu_items_dyn31",t[t.OptionMenu_button_mask=6900]="OptionMenu_button_mask",t[t.OptionMenu_items_text0=6901]="OptionMenu_items_text0",t[t.OptionMenu_items_text1=6902]="OptionMenu_items_text1",t[t.OptionMenu_items_text2=6903]="OptionMenu_items_text2",t[t.OptionMenu_items_text3=6904]="OptionMenu_items_text3",t[t.OptionMenu_items_text4=6905]="OptionMenu_items_text4",t[t.OptionMenu_items_text5=6906]="OptionMenu_items_text5",t[t.OptionMenu_items_text6=6907]="OptionMenu_items_text6",t[t.OptionMenu_items_text7=6908]="OptionMenu_items_text7",t[t.OptionMenu_items_text8=6909]="OptionMenu_items_text8",t[t.OptionMenu_items_text9=6910]="OptionMenu_items_text9",t[t.OptionMenu_items_text10=6911]="OptionMenu_items_text10",t[t.OptionMenu_items_text11=6912]="OptionMenu_items_text11",t[t.OptionMenu_items_text12=6913]="OptionMenu_items_text12",t[t.OptionMenu_items_text13=6914]="OptionMenu_items_text13",t[t.OptionMenu_items_text14=6915]="OptionMenu_items_text14",t[t.OptionMenu_items_text15=6916]="OptionMenu_items_text15",t[t.OptionMenu_items_text16=6917]="OptionMenu_items_text16",t[t.OptionMenu_items_text17=6918]="OptionMenu_items_text17",t[t.OptionMenu_items_text18=6919]="OptionMenu_items_text18",t[t.OptionMenu_items_text19=6920]="OptionMenu_items_text19",t[t.OptionMenu_items_text20=6921]="OptionMenu_items_text20",t[t.OptionMenu_items_text21=6922]="OptionMenu_items_text21",t[t.OptionMenu_items_text22=6923]="OptionMenu_items_text22",t[t.OptionMenu_items_text23=6924]="OptionMenu_items_text23",t[t.OptionMenu_items_text24=6925]="OptionMenu_items_text24",t[t.OptionMenu_items_text25=6926]="OptionMenu_items_text25",t[t.OptionMenu_items_text26=6927]="OptionMenu_items_text26",t[t.OptionMenu_items_text27=6928]="OptionMenu_items_text27",t[t.OptionMenu_items_text28=6929]="OptionMenu_items_text28",t[t.OptionMenu_items_text29=6930]="OptionMenu_items_text29",t[t.OptionMenu_items_text30=6931]="OptionMenu_items_text30",t[t.OptionMenu_items_text31=6932]="OptionMenu_items_text31",t[t.OptionMenu_items_enum0=6933]="OptionMenu_items_enum0",t[t.OptionMenu_items_enum1=6934]="OptionMenu_items_enum1",t[t.OptionMenu_items_enum2=6935]="OptionMenu_items_enum2",t[t.OptionMenu_items_enum3=6936]="OptionMenu_items_enum3",t[t.OptionMenu_items_enum4=6937]="OptionMenu_items_enum4",t[t.OptionMenu_items_enum5=6938]="OptionMenu_items_enum5",t[t.OptionMenu_items_enum6=6939]="OptionMenu_items_enum6",t[t.OptionMenu_items_enum7=6940]="OptionMenu_items_enum7",t[t.OptionMenu_items_enum8=6941]="OptionMenu_items_enum8",t[t.OptionMenu_items_enum9=6942]="OptionMenu_items_enum9",t[t.OptionMenu_items_enum10=6943]="OptionMenu_items_enum10",t[t.OptionMenu_items_enum11=6944]="OptionMenu_items_enum11",t[t.OptionMenu_items_enum12=6945]="OptionMenu_items_enum12",t[t.OptionMenu_items_enum13=6946]="OptionMenu_items_enum13",t[t.OptionMenu_items_enum14=6947]="OptionMenu_items_enum14",t[t.OptionMenu_items_enum15=6948]="OptionMenu_items_enum15",t[t.OptionMenu_items_enum16=6949]="OptionMenu_items_enum16",t[t.OptionMenu_items_enum17=6950]="OptionMenu_items_enum17",t[t.OptionMenu_items_enum18=6951]="OptionMenu_items_enum18",t[t.OptionMenu_items_enum19=6952]="OptionMenu_items_enum19",t[t.OptionMenu_items_enum20=6953]="OptionMenu_items_enum20",t[t.OptionMenu_items_enum21=6954]="OptionMenu_items_enum21",t[t.OptionMenu_items_enum22=6955]="OptionMenu_items_enum22",t[t.OptionMenu_items_enum23=6956]="OptionMenu_items_enum23",t[t.OptionMenu_items_enum24=6957]="OptionMenu_items_enum24",t[t.OptionMenu_items_enum25=6958]="OptionMenu_items_enum25",t[t.OptionMenu_items_enum26=6959]="OptionMenu_items_enum26",t[t.OptionMenu_items_enum27=6960]="OptionMenu_items_enum27",t[t.OptionMenu_items_enum28=6961]="OptionMenu_items_enum28",t[t.OptionMenu_items_enum29=6962]="OptionMenu_items_enum29",t[t.OptionMenu_items_enum30=6963]="OptionMenu_items_enum30",t[t.OptionMenu_items_enum31=6964]="OptionMenu_items_enum31",t[t.OptionMenu_attribute=6965]="OptionMenu_attribute",t[t.OptionMenu_text_attribute=6966]="OptionMenu_text_attribute",t[t.OptionMenu_size_attribute=6967]="OptionMenu_size_attribute",t[t.OptionMenu_update_attribute=6968]="OptionMenu_update_attribute",t[t.OptionMenu_optionmenu_type=6969]="OptionMenu_optionmenu_type",t[t.SetValue_attribute=7e3]="SetValue_attribute",t[t.SetValue_value=7001]="SetValue_value",t[t.SetValue_instance=7002]="SetValue_instance",t[t.SetValue_instance_mask=7003]="SetValue_instance_mask",t[t.MethodToolbar_method_object=7100]="MethodToolbar_method_object",t[t.MethodToolbar_toolbar_type=7101]="MethodToolbar_toolbar_type",t[t.MethodPulldownMenu_method_object=7200]="MethodPulldownMenu_method_object",t[t.MethodPulldownMenu_menu_type=7201]="MethodPulldownMenu_menu_type",t[t.Script_script_len=7300]="Script_script_len",t[t.Script_script=7301]="Script_script",t[t.CatchSignal_signal_name=7400]="CatchSignal_signal_name",t[t.EmitSignal_signal_name=7500]="EmitSignal_signal_name",t[t.EmitSignal_global=7501]="EmitSignal_global"}(Lt||(Lt={})),function(t){t[t.Inherit=0]="Inherit",t[t.Cycle=1]="Cycle",t[t.Dig=2]="Dig",t[t.ForwBack=3]="ForwBack"}(At||(At={})),function(t){t[t.Gt=0]="Gt",t[t.Lt=1]="Lt",t[t.Ge=2]="Ge",t[t.Le=3]="Le",t[t.Eq=4]="Eq"}(Mt||(Mt={})),function(t){t[t.No=0]="No",t[t.Success=1]="Success",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(Nt||(Nt={})),function(t){t[t.Object=0]="Object",t[t.Help=1]="Help",t[t.Simulate=2]="Simulate"}(Ot||(Ot={})),function(t){t[t.Object=0]="Object",t[t.Simulate=1]="Simulate"}(Ft||(Ft={})),function(t){t[t.Cnt=12]="Cnt",t[t.Helpmask=256]="Helpmask"}(Rt||(Rt={}));const Et=["pwr_mb2opengraph","pwr_mb2openobjectgraph","pwr_mb2trend","pwr_mb2history","pwr_mb2fast","pwr_mb2camera","pwr_mb2histevent","pwr_mb2blockevents","pwr_mb2help","pwr_mb2photo","pwr_mb2note","pwr_mb2parentgraph"],Dt=["Graph","Object Graph","Trend","History","Fast","Camera","Event Log...","Block Events...","Help","Photo","Note","Parent Object Graph"];var Bt;!function(t){t[t.Cnt=32]="Cnt",t[t.Helpmask=16]="Helpmask"}(Bt||(Bt={}));const Pt=["pwr_mb2openobject","pwr_mb2openplc","pwr_mb2rtnavigator","pwr_mb2crossreferences","pwr_mb2helpclass","pwr_mb2datasheet","pwr_mb2circuitdiagram","","","","","","","","","","","","","","","","","","","","","","","","","pwr_mb2simulate"],zt=["Open Object","Open Plc","RtNavigator","Crossreferences","Help Class","DataSheet","CircuitDiagram","","","","","","","","","","","","","","","","","","","","","","","","","Simulate"];var jt=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class Vt{static get_xm_mask(t,e){return jt(this,void 0,void 0,function*(){let i=!1,o=t+".XttMethodsMask",r=0,a=!1,n=yield e.graph.gdh.getObjectInfoInt(o);if(Object(s.s)(n.sts)?(r=n.value)&s.n.IsConfigured||(i=!0,a=!0):(i=!0,r=0),i){let i=0;for(let o=0;o<Rt.Cnt;o++){if(""===zt[o])continue;let r='check method/method="'+Dt[o]+'Filter"/object='+t;r=e.graph.getCommand(r);let a=e.graph.command(r);Object(s.s)(a)&&(i|=1<<o)}let o=0;for(let i=0;i<Bt.Cnt;i++){if(""===zt[i])continue;let r='check method/method="'+zt[i]+'Filter"/object='+t;r=e.graph.getCommand(r);let a=e.graph.command(r);Object(s.s)(a)&&(o|=1<<i)}return{opmethods:i,mntmethods:o,flags:r|=s.n.IsConfigured,store:a}}return null})}}var Ut=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class Ht extends A{constructor(t,e,i,o=0,r=0,a=0,l=h.a.Line,_=1,c=!1,u=!0,d=h.a.Line,m=2,w=h.a.TextHelvetica,f=h.a.Line,b=h.a.Line,y=n.j.Helvetica,p=null,g=!1){super(t,e,o,r,10,10,l,_,!1,s.e.One,c,u,!1,d,!0),this.info=Array(32),//!< Button text and types.
this.item_cnt=0,//!< Number of menu items.
this.item_height=0,//!< Menu item height in pixel.
this.current_item=-1,//!< Hot item.
this.current_idx=-1,//!< Hot index.
this.new_item=!1,//!< New current item.
this.old_item=-1,//!< Current item in previous event.
this.parent_menu=null,//!< Parent menu.
this.input_focus=!1,//!< This menu has input focus.
this.info=i,this.text_size=m,this.text_drawtype=w,this.text_color=f,this.text_color_disabled=b,this.parent_menu=p,this.min_width=a,this.font=y,g||t.set_dirty()}type(){return n.C.GrowMenu}draw(t=null,e=!1,i=!1,o=null,r=null){let a=f.multiply(t,this.trf),_=this.ctx.mw.zoom_factor.y/this.ctx.mw.base_zoom_factor,c=a.vertical_scale()*_*(8+2*this.text_size),u=Math.floor(_*this.line_width-1);u=Object(s.q)(u+Number(i),0,n.f-1);let d=0,m=0,w=0;this.item_cnt=0;let b=0;for(let t=0;t<this.info.length;t++)if(this.info[t].occupied){let e=this.ctx.gdraw.getTextExtent(this.info[t].text,this.text_drawtype,this.font,c);d=Math.max(d,e.width),m+=Math.floor(1.6*e.height),this.info[t].type===n.A.PulldownMenu&&(w=1),this.item_cnt++}if(0===this.item_cnt)return;let y=4*b/5,p=this.ll.z_x()-this.ctx.mw.offset.x,g=this.ll.z_y()-this.ctx.mw.offset.y,x=p+d+15+Math.floor(w*y),v=g+m,C=this.ctx.getHeight()+this.ctx.mw.subwindow.y;v>C?(this.ll.y=(C-m+this.ctx.mw.offset.y)/this.ctx.mw.zoom_factor.x,this.ur.y=(C+this.ctx.mw.offset.y)/this.ctx.mw.zoom_factor.y):(this.ur.x=(x+this.ctx.mw.offset.x)/this.ctx.mw.zoom_factor.x,this.ur.y=(v+this.ctx.mw.offset.y)/this.ctx.mw.zoom_factor.y),this.get_node_borders(),this.fill&&this.ctx.gdraw.rect(p,g,x-p,v-g,this.fill_drawtype,!0),this.item_height=m/this.item_cnt;let G=0;for(let t=0;t<this.info.length;t++)if(this.info[t].occupied){let i=g+this.item_height*G;if(t===this.current_item){let t=l.a.shift_drawtype(this.fill_drawtype,this.fill_drawtype%10<7?2:-2,null);this.ctx.gdraw.rect(p,g+G*this.item_height,x-p,this.item_height,t,!0)}if(this.ctx.gdraw.text(p+3,i+b+1,this.info[t].text,this.text_drawtype,this.info[t].type===n.A.ButtonDisabled?this.text_color_disabled:this.text_color,this.font,c,0,e),this.info[t].type===n.A.PulldownMenu){let t=i+this.item_height/2,e=[new s.h(x-2-y,Math.floor(t-y/2)),new s.h(x-2,Math.floor(t)),new s.h(x-2-y,Math.floor(t+y/2)),new s.h(x-2-y,Math.floor(t-y/2))];this.ctx.gdraw.polyline(e,4,h.a.MediumGray,!0)}G++}this.border&&this.ctx.gdraw.rect(p,g,x-p,v-g,this.draw_type,!1,u)}local_event_handler(t,e){let i=Math.min(this.ll.x,this.ur.x),o=Math.max(this.ll.x,this.ur.x),r=Math.min(this.ll.y,this.ur.y),a=Math.max(this.ll.y,this.ur.y);if(i<=t&&t<=o&&r<=e&&e<=a){let t=this.trf.vertical_scale(),i=Math.floor((e-this.ll.y)/(this.item_height/t/this.ctx.mw.zoom_factor.y));if(i=Object(s.q)(i,0,this.item_cnt-1),this.new_item=i!==this.current_idx,this.old_item=this.current_item,this.new_item){this.current_idx=i;let t=0;for(let e=0;e<32;e++)if(this.info[e].occupied){if(t===i){this.current_item=e;break}t++}}return 1}return this.new_item=!1,0}event_handler(t){return Ut(this,void 0,void 0,function*(){let e=this.trf.reverse(t.x,t.y),i=0;if("mousemove"!==t.event.type||t.event.buttons)if("click"===t.event.type){if((i=this.local_event_handler(e.x,e.y))&&-1!==this.current_item&&this.info[this.current_item].type===n.A.Button){let e,i=new CustomEvent("MenuActivated",{detail:{x:t.x,y:t.y}});for(yield this.ctx.send_menu_callback(this,this.current_item,i),e=this;null!==e.parent_menu;e=e.parent_menu);return yield this.ctx.send_menu_callback(e,0,new CustomEvent("MenuDelete")),n.k}}else i=this.local_event_handler(e.x,e.y);else if((i=this.local_event_handler(e.x,e.y))&&(this.ctx.hot_found=1,this.ctx.set_dirty()),i&&!this.hot&&(this.hot=!0,this.ctx.set_dirty()),0===i&&this.hot&&(0===this.ctx.hot_found&&(this.hot=!1),this.ctx.set_dirty()),this.old_item!==this.current_item&&-1!==this.old_item&&(this.info[this.old_item].type,n.A.PulldownMenu),this.hot&&this.new_item&&this.info[this.current_item].type===n.A.PulldownMenu){let t=new CustomEvent("MenuCreate",{detail:{x:this.ur.x,y:this.ll.y+this.item_height/this.ctx.mw.zoom_factor.y*this.current_item}});yield this.ctx.send_menu_callback(this,this.current_item,t)}return i&&this.ctx.register_callback_object(n.C.Node,this),i})}}var qt=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};class Xt{}class Yt{constructor(t){this.elements=[],this.object=null,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.access=0,this.cycle=0,this.total_dyn_type1=0,this.total_dyn_type2=0,this.total_action_type1=0,this.total_action_type2=0,this.repaintNow=!1,this.ignoreColor=!1,this.resetColor=!1,this.ignoreBgColor=!1,this.resetBgColor=!1,this.graph=t}static getColor1(t,e){return e===h.a.Inherit?t.getClassTraceColor1():e}static getColor2(t,e){return e===h.a.Inherit?t.getClassTraceColor2():e}merge(t){this.dyn_type1|=t.dyn_type1,this.total_dyn_type1|=t.total_dyn_type1,this.action_type1|=t.action_type1,this.total_action_type1|=t.total_action_type1;for(let e=0;e<t.elements.length;e++){let i=t.elements[e];for(let t=0;t<this.elements.length;t++){let e=this.elements[t];if(e.dyn_type1===i.dyn_type1&&e.dyn_type2===i.dyn_type2&&e.action_type1===i.action_type1&&e.action_type2===i.action_type2&&(void 0===e.instance||void 0!==e.instance&&e.instance===i.instance)){this.elements.splice(t,1);break}}let o=Object.assign({},i);o&&(o.dyn=this,this.elements.push(o))}}open(t){for(;;){let e=t.consumeInt(),i=null;switch(e){case Lt.Dyn:break;case Lt.Dyn_dyn_type1:this.dyn_type1=t.consumeInt();break;case Lt.Dyn_dyn_type2:this.dyn_type2=t.consumeInt();break;case Lt.Dyn_action_type1:this.action_type1=t.consumeInt();break;case Lt.Dyn_action_type2:this.action_type2=t.consumeInt();break;case Lt.Dyn_access:this.access=t.consumeInt();break;case Lt.Dyn_cycle:this.cycle=t.consumeInt();break;case Lt.DigLowColor:i=new Qt(this);break;case Lt.DigColor:i=new Kt(this);break;case Lt.DigWarning:i=new Zt(this);break;case Lt.DigError:i=new $t(this);break;case Lt.DigFlash:i=new te(this);break;case Lt.Invisible:i=new ee(this);break;case Lt.DigBorder:i=new se(this);break;case Lt.DigText:i=new oe(this);break;case Lt.Value:i=new re(this);break;case Lt.ValueInput:i=new ae(this);break;case Lt.AnalogColor:i=new ne(this);break;case Lt.Rotate:i=new le(this);break;case Lt.Move:i=new _e(this);break;case Lt.AnalogShift:i=new he(this);break;case Lt.DigShift:i=new ce(this);break;case Lt.DigFourShift:i=new ue(this);break;case Lt.ScrollingText:i=new de(this);break;case Lt.ColorThemeLightness:i=new me(this);break;case Lt.DigBackgroundColor:i=new we(this);break;case Lt.DigSwap:i=new fe(this);break;case Lt.DigScript:i=new Ne(this);break;case Lt.Animation:i=new be(this);break;case Lt.Video:i=new ye(this);break;case Lt.Bar:i=new pe(this);break;case Lt.Trend:i=new ge(this);break;case Lt.FillLevel:i=new Ae(this);break;case Lt.FastCurve:i=new Qe(this);break;case Lt.AnalogText:i=new $e(this);break;case Lt.Table:i=new Ge(this);break;case Lt.StatusColor:i=new ke(this);break;case Lt.Pie:i=new ve(this);break;case Lt.BarChart:i=new Ce(this);break;case Lt.Axis:i=new Te(this);break;case Lt.DigTextColor:i=new ie(this);break;case Lt.TimeoutColor:i=new Se(this);break;case Lt.HostObject:i=new Ie(this);break;case Lt.DigSound:i=new Le(this);break;case Lt.XY_Curve:i=new xe(this);break;case Lt.DigCommand:i=new Me(this);break;case Lt.PopupMenu:i=new ri(this);break;case Lt.SetDig:i=new Oe(this);break;case Lt.ResetDig:i=new Fe(this);break;case Lt.ToggleDig:i=new Re(this);break;case Lt.StoDig:i=new Ee(this);break;case Lt.Command:i=new De(this);break;case Lt.CommandDC:i=new Pe(this);break;case Lt.Confirm:i=new ze(this);break;case Lt.IncrAnalog:i=new je(this);break;case Lt.RadioButton:i=new Ve(this);break;case Lt.Slider:i=new Je(this);break;case Lt.TipText:i=new Ue(this);break;case Lt.Help:i=new He(this);break;case Lt.OpenGraph:i=new qe(this);break;case Lt.OpenURL:i=new Xe(this);break;case Lt.InputFocus:i=new Ye(this);break;case Lt.CloseGraph:i=new We(this);break;case Lt.PulldownMenu:i=new Ke(this);break;case Lt.OptionMenu:i=new Ze(this);break;case Lt.SetValue:i=new ti(this);break;case Lt.MethodToolbar:i=new ei(this);break;case Lt.MethodPulldownMenu:i=new ii(this);break;case Lt.Script:i=new Be(this);break;case Lt.CatchSignal:i=new oi(this);break;case Lt.EmitSignal:i=new si(this);break;case Lt.End:return void(i&&(this.elements.push(i),i.open(t)));default:console.log("Syntax error in Dyn:",e)}i&&(this.elements.push(i),i.open(t))}}connect(t){return qt(this,void 0,void 0,function*(){if(this.dyn_type1&Gt.Inherit){let e=t.getClassDynType1(),i=t.getClassDynType2();this.total_dyn_type1=this.dyn_type1|e,this.total_dyn_type2=this.dyn_type2|i}else this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2;if(this.action_type1&Tt.Inherit){let e=t.getClassActionType1(),i=t.getClassActionType2();this.total_action_type1=this.action_type1|e,this.total_action_type2=this.action_type2|i}else this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2;this.cycle===n.e.Inherit&&(this.cycle=t.getClassCycle(),this.cycle===n.e.Inherit&&(this.cycle=n.e.Slow));for(let e=0;e<this.elements.length;e++)yield this.elements[e].connect(t)})}disconnect(){this.elements.forEach(t=>t.disconnect())}scan(t){return qt(this,void 0,void 0,function*(){this.repaintNow=!1,this.ignoreColor=!1,this.resetColor=!1,this.ignoreBgColor=!1,this.resetBgColor=!1;for(let e=0;e<this.elements.length;e++)yield this.elements[e].scan(t);this.repaintNow&&t.draw()})}action(t){return qt(this,void 0,void 0,function*(){for(let e=0;e<this.elements.length;e++){let i=yield this.elements[e].action(t);if(i===gt||i===n.m||i===n.l)return i}return 1})}setTotal(t){if(null===t)this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2,this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2;else{if(this.dyn_type1&Gt.Inherit){let e=t.getClassDynType1(),i=t.getClassDynType2();this.total_dyn_type1=this.dyn_type1|e,this.total_dyn_type2=this.dyn_type2|i}else this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2;if(this.action_type1&Tt.Inherit){let e=t.getClassActionType1(),i=t.getClassActionType2();this.total_action_type1=this.action_type1|e,this.total_action_type2=this.action_type2|i}else this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2}}parseAttrName(t){if(null===t)return null;if(this.total_dyn_type1&Gt.HostObject){let e=t.indexOf("$hostobject");if(-1!==e){let i=this.getHostObject(),o=t.substring(0,e)+i+t.substring(e+11);return this.graph.parseAttrName(o)}}return this.graph.parseAttrName(t)}getHostObject(){let t=this.elements.find(t=>t.dyn_type1&Gt.HostObject);return t?t.hostobject:""}getDig(t,e,i,o){let r=this.graph,a=function(t){return o===ai.Gdh?r.gdh.getObjectRefInfo(t):o===ai.Local?r.ldb.getObjectRefInfo(t):0};switch(e){case s.m.Boolean:return Boolean(a(t));case s.m.Int32:case s.m.UInt32:case s.m.Int64:case s.m.UInt64:return Boolean(a(t));case s.m.Bit:return Boolean(a(t)&i);case s.m.Float32:case s.m.Float64:return a(t)>Number.MIN_VALUE;case s.m.String:return o===ai.Gdh&&""!==r.gdh.getObjectRefInfo(t);default:return!1}}confirmedAction(t){return qt(this,void 0,void 0,function*(){if(null!==this.elements){this.action_type1&=~Tt.Confirm;for(let e=0;e<this.elements.length;e++)yield this.elements[e].action(t);this.action_type1|=Tt.Confirm}})}static instance_to_number(t){let e=1,i=t;for(;i>1;)i>>=1,e++;return e}valueInputAction(t,e){if(null===this.elements)return xt.Error;let i=t,o=i.dyn.graph.ctxPop(t.dyn.object.ctx),r=null,a=0,n=0;if(null===i.minvalue_attr)a=i.min_value;else{let t=i.dyn.parseAttrName(i.minvalue_attr);t&&t.type===s.m.Float32||(a=i.min_value)}if(null===i.maxvalue_attr)n=i.max_value;else{let t=i.dyn.parseAttrName(i.maxvalue_attr);null===t||""===t.name?n=i.max_value:t.type===s.m.Float32||(n=i.max_value)}let l=function(t,e,o){let r=0;return t.database===ai.Gdh?(i.dyn.graph.gdh.setObjectInfo(t.name,e,o),xt.Success):(t.database===ai.Local&&(r=i.dyn.graph.ldb.setObjectInfo(this.graph,t.name,e)),Object(s.s)(r)?xt.Success:(console.log("setObjectInfoError "+r),xt.Error))};switch(r=0,i.a_typeid){case s.m.Float32:{let t=parseFloat(e.trim());if(a&&n&&t<a)return o&&i.dyn.graph.ctxPush(),xt.MinValueExceeded;if(a&&n&&t>n)return o&&i.dyn.graph.ctxPush(),xt.MaxValueExceeded;let s=i.dyn.parseAttrName(i.value_element.attribute);if(null===s||""===s.name)break;r=l(s,t,i.a_typeid);break}case s.m.Int32:case s.m.UInt32:case s.m.Int16:case s.m.UInt16:case s.m.Int8:case s.m.UInt8:{let t=parseInt(e.trim(),10);if(a&&n&&t<a)return o&&i.dyn.graph.ctxPush(),xt.MinValueExceeded;if(a&&n&&t>n)return o&&i.dyn.graph.ctxPush(),xt.MaxValueExceeded;let s=i.dyn.parseAttrName(i.value_element.attribute);if(null===s||""===s.name)break;r=l(s,t,i.a_typeid);break}case s.m.Boolean:{let t=parseInt(e.trim(),10);if(t&&1!==t)break;let o=i.dyn.parseAttrName(i.value_element.attribute);if(null===o||""===o.name)break;r=l(o,Boolean(t),i.a_typeid);break}case s.m.String:{let t=i.dyn.parseAttrName(i.value_element.attribute);if(null===t||""===t.name)break;r=l(t,e,i.a_typeid);break}}return o&&i.dyn.graph.ctxPush(),r===xt.Error?r:xt.Success}static value_to_msg(t){if(0===t)return"";{let e="NO";switch((7&t)<5&&(e=["WARNING","SUCCESS","ERROR","SUCCESS","FATAL"][7&t]),e="MSG-"+e+", ",t){case 134512649:return e+"Success";case 134512659:return e+"Proview startup pu";case 134512665:return e+"Proview running";case 134512731:return e+"Server running";case 134512795:return e+"Application running";case 134512820:return e+"Process timeout";default:return e+"Message number "+t}}}}class Wt{constructor(t,e){this.p=0,this.attrFound=!1,this.sts=!1,this.name=e,this.pname=t.parseAttrName(this.name),null!==this.pname&&""!==this.pname.name&&(this.sts=!0)}connect(t){if(this.sts){if(this.sts=!1,this.pname.database===ai.Gdh)this.p=t.graph.gdh.refObjectInfo(this.pname.tname,this.pname.type,this.pname.elements);else{if(this.pname.database!==ai.Gdh)return;this.p=t.graph.ldb.refObjectInfo(t.graph,this.pname.name)}this.inverted=this.pname.inverted,this.typeid=this.pname.type,this.bitmask=this.pname.bitmask,this.database=this.pname.database,this.elements=this.pname.elements,this.pname=null,this.attrFound=!0,this.sts=!0}}disconnect(t){this.sts&&this.database===ai.Gdh&&(t.graph.gdh.unrefObjectInfo(this.p),this.sts=!1)}get_ref_value(t){return this.database===ai.Gdh?t.graph.gdh.getObjectRefInfo(this.p):this.database===ai.Local?t.graph.ldb.getObjectRefInfo(this.p):null}}class Jt{constructor(t,e){this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.instance_mask=0,this.instance=0,this.dyn=t,this.prio=e}action(t){return qt(this,void 0,void 0,function*(){return Promise.resolve(1)})}connect(t){return qt(this,void 0,void 0,function*(){return Promise.resolve()})}disconnect(){}scan(t){return qt(this,void 0,void 0,function*(){return Promise.resolve()})}}class Qt extends Jt{constructor(t){super(t,It.DigLowColor),this.a=null,this.firstScan=!0,this.dyn_type1=Gt.DigLowColor}connect(t){return qt(this,void 0,void 0,function*(){this.color=Yt.getColor1(t,this.color),this.color<0||this.color>=h.a._||(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn))})}disconnect(){this.a&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){let e=t;if(null===this.a||!this.a.sts||this.dyn.ignoreColor)return;let i=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(i=this.a.inverted?!i:i,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===i&&!this.dyn.resetColor)return;this.dyn.total_dyn_type1&Gt.Tone?(i?(this.color>=B.a._&&e.resetFillColor(),e.resetColorTone()):this.color>=B.a._?e.setFillColor(this.color):e.setColorTone(this.color),this.dyn.repaintNow=!0):(i?e.resetFillColor():e.setFillColor(this.color),this.dyn.repaintNow=!0),this.a.oldValue=i})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigLowColor:break;case Lt.DigLowColor_attribute:this.attribute=t.consumeLine();break;case Lt.DigLowColor_color:this.color=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigLowColor:",e),t.consumeLine()}}}}class Kt extends Jt{constructor(t){super(t,It.DigColor),this.a=null,this.firstScan=!0,this.dyn_type1=Gt.DigColor}connect(t){return qt(this,void 0,void 0,function*(){this.color=Yt.getColor2(t,this.color),this.color<0||this.color>=h.a._||(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn))})}disconnect(){this.a&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(null===this.a||!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));this.dyn.total_dyn_type1&Gt.Tone?(e?(this.color>=B.a._?(this.dyn.resetColor&&t.resetFillColor(),t.setFillColor(this.color)):t.setColorTone(this.color),this.dyn.ignoreColor=!0):(this.color>=B.a._&&t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(t.setFillColor(this.color),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigColor:break;case Lt.DigColor_attribute:this.attribute=t.consumeLine();break;case Lt.DigColor_color:this.color=t.consumeInt();break;case Lt.DigColor_instance:this.instance=t.consumeInt();break;case Lt.DigColor_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigColor:",e),t.consumeLine()}}}}class Zt extends Jt{constructor(t){super(t,It.DigWarning),this.firstScan=!0,this.dyn_type1=Gt.DigWarning}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));this.dyn.total_dyn_type1&Gt.Tone?(e?(t.setColorTone(B.a.Yellow),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(t.setFillColor(this.use_colortheme?h.a.CustomColor41:h.a.ColorYellow),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigWarning:break;case Lt.DigWarning_attribute:this.attribute=t.consumeLine();break;case Lt.DigWarning_use_colortheme:this.use_colortheme=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigWarning:",e),t.consumeLine()}}}}class $t extends Jt{constructor(t){super(t,It.DigError),this.firstScan=!0,this.dyn_type1=Gt.DigError}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));this.dyn.total_dyn_type1&Gt.Tone?(e?(t.setColorTone(B.a.Red),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(t.setFillColor(this.use_colortheme?h.a.CustomColor11:h.a.ColorRed),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigError:break;case Lt.DigError_attribute:this.attribute=t.consumeLine();break;case Lt.DigError_use_colortheme:this.use_colortheme=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigError:",e),t.consumeLine()}}}}class te extends Jt{constructor(t){super(t,It.DigFlash),this.firstScan=!0,this.on=!1,this.dyn_type1=Gt.DigFlash}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor&&!e)return;this.dyn.total_dyn_type1&Gt.Tone?(e?(this.on?(this.color>=B.a._?t.setColorTone(this.color):t.setFillColor(this.color),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.on=!this.on):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(e?(this.on?(t.setFillColor(this.color),this.dyn.ignoreColor=!0):this.color2===h.a.Inherit?(t.resetFillColor(),this.dyn.resetColor=!0):(t.setFillColor(this.color2),this.dyn.ignoreColor=!0),this.on=!this.on):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0),this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigFlash:break;case Lt.DigFlash_attribute:this.attribute=t.consumeLine();break;case Lt.DigFlash_color:this.color=t.consumeInt();break;case Lt.DigFlash_color2:this.color2=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigFlash:",e),t.consumeLine()}}}}class ee extends Jt{constructor(t){super(t,It.Invisible),this.firstScan=!0,this.dyn_type1=Gt.Invisible}connect(t){return qt(this,void 0,void 0,function*(){if(this.attribute&&"$cmd("===this.attribute.toLowerCase().substring(0,5)){this.cmd=!0;let t=this.attribute.lastIndexOf(")");this.command=-1!==t&&t>5?this.attribute.substring(5,t):this.attribute.substring(5),this.command=this.dyn.graph.getCommand(this.command)}else this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(this.cmd){if(this.firstScan){let e=this.dyn.graph.command(this.command);console.log("DynInvisible: "+this.command+", value: "+e),e||(this.dimmed?t.setVisibility(n.H.Dimmed):t.setVisibility(n.H.Invisible)),this.firstScan=!1}return}if(!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.typeid===s.m.String&&(e=!e),e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor&&!e)return;e?this.dimmed?t.setVisibility(n.H.Dimmed):t.setVisibility(n.H.Invisible):t.setVisibility(n.H.Visible),this.dyn.repaintNow=!0,this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Invisible:break;case Lt.Invisible_attribute:this.attribute=t.consumeLine();break;case Lt.Invisible_dimmed:this.dimmed=t.consumeInt();break;case Lt.Invisible_instance:this.instance=t.consumeInt();break;case Lt.Invisible_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynInvisible:",e),t.consumeLine()}}}}class ie extends Jt{constructor(t){super(t,It.DigTextColor),this.a=null,this.firstScan=!0,this.dyn_type2=kt.DigTextColor}connect(t){return qt(this,void 0,void 0,function*(){this.color=Yt.getColor1(t,this.color),this.color<0||this.color>=h.a._||(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn))})}disconnect(){this.a&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(null===this.a||!this.a.sts||this.dyn.ignoreColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return;e?t.setTextColor(this.color):t.resetTextColor(),this.dyn.repaintNow=!0,this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigTextColor:break;case Lt.DigTextColor_attribute:this.attribute=t.consumeLine();break;case Lt.DigTextColor_color:this.color=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigTextColor:",e),t.consumeLine()}}}}class oe extends Jt{constructor(t){super(t,It.DigText),this.firstScan=!0,this.dyn_type1=Gt.DigText}connect(t){return qt(this,void 0,void 0,function*(){null!==this.low_text&&(this.high_text=t.getAnnotation(1),null===this.high_text&&(this.high_text=""),this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn))})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.set_annotation(1,this.high_text,!1):t.set_annotation(1,this.low_text,!1),this.dyn.repaintNow=!0,this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigText:break;case Lt.DigText_attribute:this.attribute=t.consumeLine();break;case Lt.DigText_low_text:this.low_text=t.consumeLine();break;case Lt.DigText_instance:this.instance=t.consumeInt();break;case Lt.DigText_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigText:",e),t.consumeLine()}}}}class se extends Jt{constructor(t){super(t,It.DigBorder),this.firstScan=!0,this.dyn_type1=Gt.DigBorder}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.setBorderColor(this.color):t.resetBorderColor(),this.dyn.repaintNow=!0,this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigBorder:break;case Lt.DigBorder_attribute:this.attribute=t.consumeLine();break;case Lt.DigBorder_color:this.color=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigBorder:",e),t.consumeLine()}}}}class re extends Jt{constructor(t){super(t,It.Value),this.format=null,this.firstScan=!0,this.dyn_type1=Gt.Value}read_decimals(t,e,i,o){return qt(this,void 0,void 0,function*(){let r,a=t.parseAttrName(e);if(null===a||""===a.name)return o;switch(a.type){case s.m.Int32:case s.m.UInt32:case s.m.Enum:case s.m.Mask:break;default:return o}let n=yield this.dyn.graph.gdh.getObjectInfoInt(a.name);if(Object(s.r)(n.sts))return o;if((r=Math.max(n.value-i,0))>=10)return o;if(!o)return"%."+r+"f";let l=o.indexOf("f");return-1===l?"%."+r+"f":l<2||"."!==o.charAt(l-2)?"%."+r+"f":o.substring(0,o.indexOf(".")+1)+r+"f"})}connect(t){return qt(this,void 0,void 0,function*(){this.decimals_attr&&(this.format=this.read_decimals(this.dyn,this.decimals_attr,this.decimals_decr,this.format),console.log("read_decimals "+this.format)),this.format&&(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn))})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=Yt.instance_to_number(this.instance),i=this.a.get_ref_value(this.dyn);if(void 0!==i){switch(this.a.typeid){case s.m.Float32:case s.m.Int32:case s.m.UInt32:case s.m.Int16:case s.m.UInt16:case s.m.Int8:case s.m.UInt8:case s.m.Boolean:if(this.firstScan||i!==this.oldValue){if(this.format){let o=I.sprintf(this.format,i);t.set_annotation(e,o,!1)}this.dyn.repaintNow=!0,this.oldValue=i}break;case s.m.String:case s.m.Objid:case s.m.Time:case s.m.DeltaTime:if(this.firstScan||i!==this.oldValue){if(this.format)if(this.a.typeid===s.m.String){let o=I.sprintf(this.format,i);t.set_annotation(e,o,!1)}else t.set_annotation(e,i,!1);this.dyn.repaintNow=!0,this.oldValue=i}break;case s.m.Status:case s.m.NetStatus:if(this.firstScan||i!==this.oldValue)if(i){if(this.a.database===ai.Gdh){let e=yield this.dyn.graph.gdh.getMsg(i),o=Yt.instance_to_number(this.instance);Object(s.s)(e.sts)?t.set_annotation(o,e.value,!1):t.set_annotation(o,"Unknown message",!1),this.dyn.repaintNow=!0}}else t.set_annotation(e,"",!1),this.dyn.repaintNow=!0;this.oldValue=i}this.firstScan&&(this.firstScan=!1)}})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Value:break;case Lt.Value_attribute:this.attribute=t.consumeLine();break;case Lt.Value_format:this.format=t.consumeLine();break;case Lt.Value_instance:this.instance=t.consumeInt();break;case Lt.Value_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.Value_zero_blank:this.zero_blank=t.consumeInt();break;case Lt.Value_decimals_attr:this.decimals_attr=t.consumeLine();break;case Lt.Value_decimals_decr:this.decimals_decr=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynValue:",e),t.consumeLine()}}}}class ae extends Jt{constructor(t){super(t,It.ValueInput),this.value_element=null,this.action_type1=Tt.ValueInput}connect(t){return qt(this,void 0,void 0,function*(){let t=this;this.value_element=this.dyn.elements.find(function(e){if(e.dyn_type1===Gt.Value)return t.a_typeid=e.a.typeid,!0})||null})}action(t){return qt(this,void 0,void 0,function*(){return this.dyn.graph.isAuthorized(this.dyn.access)?("click"===t.event.type&&(this.dyn.object=t.object,this.dyn.graph.openValueInputDialog(this.dyn,"Enter value",this)),1):1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.ValueInput:break;case Lt.ValueInput_attribute:this.attribute=t.consumeLine();break;case Lt.ValueInput_format:break;case Lt.ValueInput_unselect:this.unselect=t.consumeInt();break;case Lt.ValueInput_min_value:this.min_value=t.consumeFloat();break;case Lt.ValueInput_max_value:this.max_value=t.consumeFloat();break;case Lt.ValueInput_clear:this.clear=t.consumeInt();break;case Lt.ValueInput_popup:this.popup=t.consumeInt();break;case Lt.ValueInput_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case Lt.ValueInput_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case Lt.ValueInput_escape_store:this.escape_store=t.consumeInt();break;case Lt.ValueInput_keyboard_type:this.keyboard_type=t.consumeInt();break;case Lt.ValueInput_update_open:this.update_open=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynValueInput:",e),t.consumeLine()}}}}class ne extends Jt{constructor(t){super(t,It.AnalogColor),this.a=null,this.firstScan=!0,this.isMainInstance=!1,this.dyn_type1=Gt.AnalogColor}connect(t){return qt(this,void 0,void 0,function*(){let t=null;for(let e=this.dyn.elements.length-1;e>=0;e--)if(this.dyn.elements[e].dyn_type1===Gt.AnalogColor){t=this.dyn.elements[e];break}if(t){if(null===t.a||!t.a.attrFound){if(t.a=new Wt(this.dyn,t.attribute),yield t.a.connect(this.dyn),!t.a.sts)return;t.isMainInstance=!0}this.isMainInstance||(this.a=new Wt(this.dyn,t.attribute),this.a.p=t.a.p,this.a.attrFound=t.a.attrFound,this.a.typeid=t.a.typeid,this.a.database=t.a.database,this.a.sts=t.a.sts)}})}disconnect(){this.isMainInstance&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts||this.dyn.ignoreColor)return;let e=!1,i=!1,o=!1;if(this.a.typeid===s.m.Float32){let t=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(!this.dyn.resetColor&&t===this.oldValue)return void(this.oldState&&(this.dyn.ignoreColor=!0));switch(this.limit_type){case Mt.Gt:e=t>this.limit;break;case Mt.Lt:e=t<this.limit;break;case Mt.Ge:case Mt.Le:e=t>=this.limit;break;case Mt.Eq:e=t===this.limit}this.oldValue=t}else if(this.a.typeid===s.m.Int32||this.a.typeid===s.m.UInt32){let t=this.dyn.graph.gdh.getObjectRefInfo(this.a.p);if(this.firstScan)this.firstScan=!1;else if(!this.dyn.resetColor&&t===this.oldValue)return void(this.oldState&&(this.dyn.ignoreColor=!0));switch(this.limit_type){case Mt.Gt:e=t>this.limit;break;case Mt.Lt:e=t<this.limit;break;case Mt.Ge:case Mt.Le:e=t>=this.limit;break;case Mt.Eq:e=t===this.limit}this.oldValue=t}e!==this.oldState||this.dyn.resetColor||this.firstScan?(e?(i=!0,this.dyn.ignoreColor=!0):(o=!0,this.dyn.resetColor=!0),this.oldState=e):e&&(this.dyn.ignoreColor=!0),(i||o)&&(this.dyn.total_dyn_type1&Gt.Tone?(i?(this.color>=B.a._?this.border?t.setBorderColor(this.color):t.setFillColor(this.color):t.setColorTone(this.color),this.dyn.ignoreColor=!0):(this.color>=B.a._&&(this.border?t.resetBorderColor():t.resetFillColor()),t.resetColorTone(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0):(i?(this.border?t.setBorderColor(this.color):t.setFillColor(this.color),this.dyn.ignoreColor=!0):(this.border?t.resetBorderColor():t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0))})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.AnalogColor:break;case Lt.AnalogColor_attribute:this.attribute=t.consumeLine();break;case Lt.AnalogColor_limit:this.limit=t.consumeFloat();break;case Lt.AnalogColor_limit_type:this.limit_type=t.consumeInt();break;case Lt.AnalogColor_color:this.color=t.consumeInt();break;case Lt.AnalogColor_instance:this.instance=t.consumeInt();break;case Lt.AnalogColor_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.AnalogColor_border:this.border=t.consumeInt();break;case Lt.AnalogColor_common_attr:this.common_attr=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynAnalogColor:",e),t.consumeLine()}}}}class le extends Jt{constructor(t){super(t,It.Rotate),this.firstScan=!0,this.dyn_type1=Gt.Rotate}connect(t){return qt(this,void 0,void 0,function*(){this.x0||this.y0?this.rotation_point=n.E.FixPoint:this.rotation_point=n.E.Zero,t.storeTransform(),this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=this.a.get_ref_value(this.dyn);(this.firstScan||e!==this.a.oldValue)&&(t.setRotation(e*this.factor,this.x0,this.y0,this.rotation_point),this.dyn.repaintNow=!0,this.a.oldValue=e),this.firstScan&&(this.firstScan=!1)})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Rotate:break;case Lt.Rotate_attribute:this.attribute=t.consumeLine();break;case Lt.Rotate_x0:this.x0=t.consumeFloat();break;case Lt.Rotate_y0:this.y0=t.consumeFloat();break;case Lt.Rotate_factor:this.factor=t.consumeFloat();break;case Lt.End:return;default:console.log("Syntax error in DynRotate:",e),t.consumeLine()}}}}class _e extends Jt{constructor(t){super(t,It.Move),this.firstScan=!0,this.dyn_type1=Gt.Move}connect(t){return qt(this,void 0,void 0,function*(){let e=[s.m.Float32,s.m.Float64,s.m.Int32,s.m.UInt32];return this.move_x_a=new Wt(this.dyn,this.move_x_attribute),this.move_y_a=new Wt(this.dyn,this.move_y_attribute),this.scale_x_a=new Wt(this.dyn,this.scale_x_attribute),this.scale_y_a=new Wt(this.dyn,this.scale_y_attribute),yield this.move_x_a.connect(this.dyn),yield this.move_y_a.connect(this.dyn),yield this.scale_x_a.connect(this.dyn),yield this.scale_y_a.connect(this.dyn),this.move_x_a.sts&&-1===e.indexOf(this.move_x_a.typeid)?(this.move_x_a.disconnect(this.dyn),void console.log("Move: "+this.move_x_attribute)):this.move_y_a.sts&&-1===e.indexOf(this.move_y_a.typeid)?(this.move_y_a.disconnect(this.dyn),void console.log("Move: "+this.move_y_attribute)):this.scale_x_a.sts&&-1===e.indexOf(this.scale_x_a.typeid)?(this.scale_x_a.disconnect(this.dyn),void console.log("Move: "+this.scale_x_attribute)):this.scale_y_a.sts&&-1===e.indexOf(this.scale_y_a.typeid)?(this.scale_y_a.disconnect(this.dyn),void console.log("Move: "+this.scale_y_attribute)):void(t.transformIsStored()||(t.storeTransform(),this.x_orig=t.ll.x,this.y_orig=t.ll.y,this.width_orig=t.ur.x-t.ll.x,this.height_orig=t.ur.y-t.ll.y))})}disconnect(){this.move_x_a.disconnect(this.dyn),this.move_y_a.disconnect(this.dyn),this.scale_x_a.disconnect(this.dyn),this.scale_y_a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){let e=!1,i=0,o=0,s=0,r=0;if(this.move_x_a.sts&&(i=this.move_x_a.get_ref_value(this.dyn)),this.move_y_a.sts&&(o=this.move_y_a.get_ref_value(this.dyn)),this.scale_x_a.sts&&(s=this.scale_x_a.get_ref_value(this.dyn)),this.scale_y_a.sts&&(r=this.scale_y_a.get_ref_value(this.dyn)),e=!1,this.firstScan)this.firstScan=!1;else if(this.move_x_a.sts&&i!==this.move_x_a.oldValue?e=!0:this.move_y_a.sts&&o!==this.move_y_a.oldValue?e=!0:this.scale_x_a.sts&&s!==this.scale_x_a.oldValue?e=!0:this.scale_y_a.sts&&r!==this.scale_y_a.oldValue&&(e=!0),!e)return;let a=0,l=0,_=1,h=1;if(this.scale_x_a.sts&&(_=s*this.scale_x_factor),this.scale_y_a.sts&&(h=r*this.scale_y_factor),this.move_x_a.sts||this.move_y_a.sts||t.set_scale(_,h,0,0,this.scale_type),this.scale_x_a.sts&&(this.scale_x_a.oldValue=s),this.scale_y_a.sts&&(this.scale_y_a.oldValue=r),this.move_x_a.sts||this.move_y_a.sts){if(this.move_x_a.sts){let t=0;switch(this.scale_type){case n.F.LowerRight:case n.F.UpperRight:t=this.width_orig*(1-_);break;case n.F.Center:t=this.width_orig*(1-_)/2}a=this.x_orig+t+(i-this.x_offset)*this.x_factor}else a=this.x_orig;if(this.move_y_a.sts){let t=0;switch(this.scale_type){case n.F.UpperRight:case n.F.UpperLeft:t=this.height_orig*(1-h);break;case n.F.Center:t=this.height_orig*(1-h)/2}l=this.y_orig+t+(o-this.y_offset)*this.y_factor}else l=this.y_orig;Math.abs(_)<Number.MIN_VALUE&&(_=1e-4),Math.abs(h)<Number.MIN_VALUE&&(h=1e-4),t.set_scale_pos(a,l,_,h,0,0,this.scale_type),this.move_x_a.sts&&(this.move_x_a.oldValue=i),this.move_y_a.sts&&(this.move_y_a.oldValue=o)}else a=this.move_x_a.sts?(i-this.x_offset)*this.x_factor:0,l=this.move_y_a.sts?(o-this.y_offset)*this.y_factor:0,t.set_position(a,l),this.move_x_a.sts&&(this.move_x_a.oldValue=i),this.move_y_a.sts&&(this.move_y_a.oldValue=o)})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Move:break;case Lt.Move_move_x_attribute:this.move_x_attribute=t.consumeLine();break;case Lt.Move_move_y_attribute:this.move_y_attribute=t.consumeLine();break;case Lt.Move_scale_x_attribute:this.scale_x_attribute=t.consumeLine();break;case Lt.Move_scale_y_attribute:this.scale_y_attribute=t.consumeLine();break;case Lt.Move_x_offset:this.x_offset=t.consumeFloat();break;case Lt.Move_y_offset:this.y_offset=t.consumeFloat();break;case Lt.Move_x_factor:this.x_factor=t.consumeFloat();break;case Lt.Move_y_factor:this.y_factor=t.consumeFloat();break;case Lt.Move_scale_x_factor:this.scale_x_factor=t.consumeFloat();break;case Lt.Move_scale_y_factor:this.scale_y_factor=t.consumeFloat();break;case Lt.Move_scale_type:this.scale_type=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynMove:",e),t.consumeLine()}}}}class he extends Jt{constructor(t){super(t,It.AnalogShift),this.firstScan=!0,this.dyn_type1=Gt.AnalogShift}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=0;switch(this.a.typeid){case s.m.Float32:case s.m.Int32:{let t=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(t===this.oldValue)return;e=t,this.a.typeid===s.m.Float32&&(e=Math.round(e)),this.oldValue=t;break}}t.set_nodeclass_by_index(e)})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.AnalogShift:break;case Lt.AnalogShift_attribute:this.attribute=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynAnalogShift:",e),t.consumeLine()}}}}class ce extends Jt{constructor(t){super(t,It.DigShift),this.firstScan=!0,this.dyn_type1=Gt.DigShift}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.set_last_nodeclass():t.set_root_nodeclass(),this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigShift:break;case Lt.DigShift_attribute:this.attribute=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynDigShift:",e),t.consumeLine()}}}}class ue extends Jt{constructor(t){super(t,It.DigFourShift),this.firstScan=!0,this.dyn_type2=kt.DigFourShift}connect(t){return qt(this,void 0,void 0,function*(){this.a1=new Wt(this.dyn,this.attribute1),this.a2=new Wt(this.dyn,this.attribute2),this.a3=new Wt(this.dyn,this.attribute3),yield this.a1.connect(this.dyn),yield this.a2.connect(this.dyn),yield this.a3.connect(this.dyn)})}disconnect(){this.a1.disconnect(this.dyn),this.a2.disconnect(this.dyn),this.a3.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a1.attrFound||!this.a2.attrFound||!this.a3.attrFound)return;let e=this.dyn.getDig(this.a1.p,this.a1.typeid,this.a1.bitmask,this.a1.database),i=this.dyn.getDig(this.a2.p,this.a2.typeid,this.a2.bitmask,this.a2.database),o=this.dyn.getDig(this.a3.p,this.a3.typeid,this.a3.bitmask,this.a3.database);if(e=this.a1.inverted?!e:e,i=this.a2.inverted?!i:i,o=this.a3.inverted?!o:o,this.firstScan)this.firstScan=!1;else if(this.a1.oldValue===e&&this.a2.oldValue===i&&this.a3.oldValue===o)return;o?t.set_nodeclass_by_index(2):i?t.set_nodeclass_by_index(1):e?t.set_root_nodeclass():t.set_last_nodeclass(),this.a1.oldValue=e,this.a2.oldValue=i,this.a3.oldValue=o})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigFourShift:break;case Lt.DigFourShift_attribute1:this.attribute1=t.consumeLine();break;case Lt.DigFourShift_attribute2:this.attribute2=t.consumeLine();break;case Lt.DigFourShift_attribute3:this.attribute3=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynDigFourShift:",e),t.consumeLine()}}}}class de extends Jt{constructor(t){super(t,It.ScrollingText),this.firstScan=!0,this.offset=0,this.dyn_type2=kt.ScrollingText}connect(t){return qt(this,void 0,void 0,function*(){if(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn),this.a.sts)return this.a.typeid!==s.m.String&&this.a.typeid!==s.m.Text?(console.log("ScrollingText: "+this.attribute),void this.a.disconnect(this.dyn)):void(this.direction===n.h.Left||this.direction===n.h.Right?this.osize=t.ur.x-t.ll.x:this.osize=t.ur.y-t.ll.y);console.log("ScrollingText: "+this.attribute)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){let e=t.getAnnotationTextExtent(1);if(null===e)return;switch(this.direction){case n.h.Left:this.offset-=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?e.width<this.osize?this.offset<0&&(this.offset=-this.offset,this.direction=n.h.Right):this.offset<this.osize-e.width&&(this.offset+=this.osize-e.width-this.offset,this.direction=n.h.Right):this.offset<-e.width&&(this.offset=this.osize),t.setAnnotationTextOffset(1,this.offset,0);break;case n.h.Right:this.offset+=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?e.width<this.osize?this.offset>this.osize-e.width&&(this.offset-=this.offset-(this.osize-e.width),this.direction=n.h.Left):this.offset>0&&(this.offset=-this.offset,this.direction=n.h.Left):this.offset>this.osize&&(this.offset=-e.width),t.setAnnotationTextOffset(1,this.offset,0);break;case n.h.Up:this.offset+=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?this.offset>this.osize-e.height&&(this.offset-=this.offset-(this.osize-e.height),this.direction=n.h.Down):this.offset>this.osize&&(this.offset=-e.height),t.setAnnotationTextOffset(1,0,this.offset);break;case n.h.Down:this.offset-=this.speed*this.dyn.graph.getAnimationScanTime(),this.bounce?this.offset<0&&(this.offset=-this.offset,this.direction=n.h.Up):this.offset<-e.height&&(this.offset=this.osize),t.setAnnotationTextOffset(1,0,this.offset)}let i=this.a.get_ref_value(this.dyn);(this.firstScan||i!==this.a.oldValue)&&(t.set_annotation(1,i,!1),this.dyn.repaintNow=!0,this.a.oldValue=i),this.firstScan&&(this.firstScan=!1)})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.ScrollingText:break;case Lt.ScrollingText_attribute:this.attribute=t.consumeLine();break;case Lt.ScrollingText_direction:this.direction=t.consumeInt();break;case Lt.ScrollingText_speed:this.speed=t.consumeFloat();break;case Lt.ScrollingText_bounce:this.bounce=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynScrollingText:",e),t.consumeLine()}}}}class me extends Jt{constructor(t){super(t,It.ColorThemeLightness),this.dyn_type2=kt.ColorThemeLightness}scan(t){return qt(this,void 0,void 0,function*(){t.setColorThemeLightness()})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.ColorThemeLightness:break;case Lt.End:return;default:console.log("Syntax error in DynColorThemeLightness:",e),t.consumeLine()}}}}class we extends Jt{constructor(t){super(t,It.DigBackgroundColor),this.a=null,this.firstScan=!0,this.dyn_type2=kt.DigBackgroundColor}connect(t){return qt(this,void 0,void 0,function*(){this.color<0||this.color>=h.a._||(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn))})}disconnect(){this.a&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(null===this.a||!this.a.sts||this.dyn.ignoreBgColor)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreBgColor=!0));e?(t.setBackgroundColor(this.color),this.dyn.ignoreBgColor=!0):(t.resetBackgroundColor(),this.dyn.resetBgColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigBackgroundColor:break;case Lt.DigBackgroundColor_attribute:this.attribute=t.consumeLine();break;case Lt.DigBackgroundColor_color:this.color=t.consumeInt();break;case Lt.DigBackgroundColor_instance:this.instance=t.consumeInt();break;case Lt.DigBackgroundColor_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigBackgroundColor:",e),t.consumeLine()}}}}class fe extends Jt{constructor(t){super(t,It.DigSwap),this.firstScan=!0,this.dyn_type2=kt.DigSwap}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let t=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(!this.firstScan)return this.a.oldValue=t,void(this.firstScan=!1);t=this.a.inverted?!t:t,this.a.oldValue!==t&&(this.dyn.repaintNow=!0,this.a.oldValue=t)})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigSwap:break;case Lt.DigSwap_attribute:this.attribute=t.consumeLine();break;case Lt.DigSwap_reset_value:this.reset_value=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigSwap:",e),t.consumeLine()}}}}class be extends Jt{constructor(t){super(t,It.Animation),this.firstScan=!0,this.dyn_type1=Gt.Animation}connect(t){return qt(this,void 0,void 0,function*(){this.sequence===At.Inherit&&(this.sequence=t.get_nodeclass_dyn_attr1()),this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){let e,i;if(!this.a.sts)return;let o=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);o=this.a.inverted?!o:o,this.firstScan&&(this.animation_count=0,this.animation_direction=0,this.firstScan=!1,this.sequence===At.Dig&&(o&&t.set_last_nodeclass(),this.a.oldValue=o)),this.sequence===At.Dig?(this.a.oldValue!==o&&(o?this.animation_direction=1:o||(this.animation_direction=2),this.animation_count=0),this.animation_direction&&(e=t.get_animation_count(),this.animation_count++,this.animation_count>=e&&(1===this.animation_direction?(i=t.set_next_nodeclass(),Object(s.r)(i)&&(this.animation_direction=0),this.animation_count=0):(i=t.set_previous_nodeclass(),Object(s.r)(i)&&(this.animation_direction=0),this.animation_count=0)))):o?(this.animation_direction||(this.animation_count=0,this.animation_direction=1),e=t.get_animation_count(),this.animation_count++,this.animation_count>=e&&(1===this.animation_direction?(i=t.set_next_nodeclass(),Object(s.r)(i)&&(this.sequence===At.Cycle?t.set_nodeclass_by_index(1):(this.animation_direction=2,t.set_previous_nodeclass())),this.animation_count=0):(i=t.set_previous_nodeclass(),Object(s.r)(i)&&(this.animation_direction=1,i=t.set_next_nodeclass()),this.animation_count=0))):this.animation_direction&&(this.animation_direction=0,t.set_first_nodeclass()),this.a.oldValue=o})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Animation:break;case Lt.Animation_attribute:this.attribute=t.consumeLine();break;case Lt.Animation_sequence:this.sequence=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynAnimation:",e),t.consumeLine()}}}}class ye extends Jt{constructor(t){super(t,It.Video),this.dyn_type1=Gt.Video}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Video:break;case Lt.End:return;default:console.log("Syntax error in DynVideo:",e),t.consumeLine()}}}}class pe extends Jt{constructor(t){super(t,It.Bar),this.attribute=null,this.maxval=0,this.firstScan=!0,this.dyn_type1=Gt.Bar}connect(t){return qt(this,void 0,void 0,function*(){null!==this.attribute&&(this.a=new Wt(this.dyn,this.attribute),this.minvalue_a=new Wt(this.dyn,this.minvalue_attr),this.maxvalue_a=new Wt(this.dyn,this.maxvalue_attr),yield this.a.connect(this.dyn),yield this.minvalue_a.connect(this.dyn),yield this.maxvalue_a.connect(this.dyn))})}disconnect(){this.a.disconnect(this.dyn),this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(this.a.sts){if(this.maxvalue_a.sts&&this.minvalue_a.sts){let e=this.minvalue_a.get_ref_value(this.dyn),i=this.maxvalue_a.get_ref_value(this.dyn);e===this.minvalue_a.oldValue&&i===this.maxvalue_a.oldValue||(t.set_range(e,i),this.minvalue_a.oldValue=e,this.maxvalue_a.oldValue=i)}switch(this.a.typeid){case s.m.Float32:{let e=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(Math.abs(this.old_value-e)<Number.MIN_VALUE)return;t.set_value(e),this.old_value=e;break}case s.m.Int32:case s.m.UInt32:{let e=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(this.old_value===e)return;t.set_value(e),this.old_value=e;break}}}})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Bar:break;case Lt.Bar_attribute:this.attribute=t.consumeLine();break;case Lt.Bar_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case Lt.Bar_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynBar",e),t.consumeLine()}}}}class ge extends Jt{constructor(t){super(t,It.Trend),this.a1=null,this.a2=null,this.minvalue_a1=null,this.maxvalue_a1=null,this.minvalue_a2=null,this.maxvalue_a2=null,this.hold_a=null,this.timerange_a=null,this.mark1_a=null,this.mark2_a=null,this.attribute1=null,this.attribute2=null,this.minvalue_attr1=null,this.maxvalue_attr1=null,this.minvalue_attr2=null,this.maxvalue_attr2=null,this.hold_attr=null,this.timerange_attr=null,this.mark1_attr=null,this.mark2_attr=null,this.firstScan=!0,this.dyn_type1=Gt.Trend}connect(t){return qt(this,void 0,void 0,function*(){this.a1=new Wt(this.dyn,this.attribute1),yield this.a1.connect(this.dyn),""!==this.attribute2.trim()&&(this.a2=new Wt(this.dyn,this.attribute2),yield this.a2.connect(this.dyn)),this.a1.sts?""===this.attribute2.trim()||this.a2.sts?(this.no_of_points=t.get_no_of_points(),this.scan_time=t.get_scan_time(),this.acc_time=this.scan_time,this.trend_hold=0,""!==this.minvalue_attr1.trim()&&(this.minvalue_a1=new Wt(this.dyn,this.minvalue_attr1),yield this.minvalue_a1.connect(this.dyn)),""!==this.maxvalue_attr1.trim()&&(this.maxvalue_a1=new Wt(this.dyn,this.maxvalue_attr1),yield this.maxvalue_a1.connect(this.dyn)),""!==this.minvalue_attr2.trim()&&(this.minvalue_a2=new Wt(this.dyn,this.minvalue_attr2),yield this.minvalue_a2.connect(this.dyn)),""!==this.maxvalue_attr2.trim()&&(this.maxvalue_a2=new Wt(this.dyn,this.maxvalue_attr2),yield this.maxvalue_a2.connect(this.dyn)),""!==this.hold_attr.trim()&&(this.hold_a=new Wt(this.dyn,this.hold_attr),yield this.hold_a.connect(this.dyn)),""!==this.timerange_attr.trim()&&(this.timerange_a=new Wt(this.dyn,this.timerange_attr),yield this.timerange_a.connect(this.dyn)),this.mark1_attr&&""!==this.mark1_attr.trim()&&(this.mark1_a=new Wt(this.dyn,this.mark1_attr),yield this.mark1_a.connect(this.dyn)),this.mark2_attr&&""!==this.mark2_attr.trim()&&(this.mark2_a=new Wt(this.dyn,this.mark2_attr),yield this.mark2_a.connect(this.dyn)),""===this.minvalue_attr1.trim()||this.minvalue_a1.sts||(this.minvalue_a1=null,console.log("Trend: "+this.minvalue_attr1)),""===this.maxvalue_attr1.trim()||this.maxvalue_a1.sts||(this.maxvalue_a1=null,console.log("Trend: "+this.maxvalue_attr1)),""===this.minvalue_attr2.trim()||this.minvalue_a2.sts||(this.minvalue_a2=null,console.log("Trend: "+this.minvalue_attr2)),""===this.maxvalue_attr2.trim()||this.maxvalue_a2.sts||(this.maxvalue_a2=null,console.log("Trend: "+this.maxvalue_attr2)),""===this.hold_attr.trim()||this.hold_a.sts||(this.hold_a=null,console.log("Trend: "+this.hold_attr)),""!==this.timerange_attr.trim()&&(this.timerange_a.sts||(this.timerange_a=null,console.log("Trend: "+this.timerange_attr)),this.orig_graph_scan_time=this.dyn.graph.scan_time,this.orig_graph_fast_scan_time=this.dyn.graph.fast_scan_time,this.orig_graph_animation_scan_time=this.dyn.graph.getAnimationScanTime()),this.mark1_attr&&""!==this.mark1_attr.trim()&&!this.mark1_a.sts&&(this.mark1_a=null,console.log("Trend: "+this.mark1_attr)),this.mark2_attr&&""!==this.mark2_attr.trim()&&!this.mark2_a.sts&&(this.mark2_a=null,console.log("Trend: "+this.mark2_attr)),this.mark1_color===h.a.Inherit&&this.mark2_color===h.a.Inherit||t.set_mark_color(this.mark1_color,this.mark2_color)):console.log("Trend: "+this.attribute2):console.log("Trend: "+this.attribute1)})}disconnect(){let t=this.dyn;[this.a1,this.a2,this.minvalue_a1,this.maxvalue_a1,this.minvalue_a2,this.maxvalue_a2,this.hold_a,this.timerange_a,this.mark1_a,this.mark2_a].forEach(function(e){e&&e.disconnect(t)})}scan(t){return qt(this,void 0,void 0,function*(){if(this.a1.attrFound){if(this.hold_a){if(this.hold_a.get_ref_value(this.dyn))return}if(this.timerange_a){let e=this.timerange_a.get_ref_value(this.dyn);if(Math.abs(e-this.timerange_a.oldValue)>Number.MIN_VALUE){let i=e/this.no_of_points;if(i>=.001){if(t.set_scan_time(i),this.scan_time=i,this.dyn.cycle===n.e.Slow){this.dyn.graph.scan_time>this.scan_time||this.scan_time<=this.orig_graph_scan_time?this.dyn.graph.scan_time=this.scan_time:this.dyn.graph.scan_time=this.orig_graph_scan_time}let e=this.dyn.graph.fast_scan_time,o=this.dyn.graph.getAnimationScanTime();e>this.scan_time||this.scan_time<=this.orig_graph_fast_scan_time?this.dyn.graph.fast_scan_time=this.scan_time:this.dyn.graph.fast_scan_time=this.orig_graph_fast_scan_time,o>this.scan_time||this.scan_time<=this.orig_graph_animation_scan_time?this.dyn.graph.animation_scan_time=this.scan_time:this.dyn.graph.animation_scan_time=this.orig_graph_animation_scan_time}this.timerange_a.oldValue=e}}if(this.maxvalue_a1&&this.minvalue_a1){let e=this.minvalue_a1.get_ref_value(this.dyn),i=this.maxvalue_a1.get_ref_value(this.dyn);e===this.minvalue_a1.oldValue&&i===this.maxvalue_a1.oldValue||(Math.abs(i-e)>Number.MIN_VALUE&&t.set_range_y(0,e,i),this.minvalue_a1.oldValue=e,this.maxvalue_a1.oldValue=i)}if(this.maxvalue_a2&&this.minvalue_a2){let e=this.minvalue_a2.get_ref_value(this.dyn),i=this.maxvalue_a2.get_ref_value(this.dyn);e===this.minvalue_a2.oldValue&&i===this.maxvalue_a2.oldValue||(Math.abs(i-e)>Number.MIN_VALUE&&t.set_range_y(1,e,i),this.minvalue_a2.oldValue=e,this.maxvalue_a2.oldValue=i)}if(this.mark1_a){let e=this.mark1_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(e-this.mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark1(e),this.mark1_a.oldValue=e)}if(this.mark2_a){let e=this.mark2_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(e-this.mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark2(e),this.mark2_a.oldValue=e)}if(this.firstScan&&(this.firstScan=!1),this.dyn.cycle===n.e.Slow?this.acc_time+=this.dyn.graph.scan_time:this.acc_time+=this.dyn.graph.fast_scan_time,this.acc_time+Number.MIN_VALUE>=this.scan_time){if(this.a1)switch(this.a1.typeid){case s.m.Boolean:t.add_value(Boolean(this.a1.get_ref_value(this.dyn)),0);break;case s.m.Float32:case s.m.Int32:case s.m.UInt32:t.add_value(this.a1.get_ref_value(this.dyn),0)}if(this.a2&&this.a2.sts)switch(this.a2.typeid){case s.m.Boolean:t.add_value(Boolean(this.a2.get_ref_value(this.dyn)),1);break;case s.m.Float32:case s.m.Int32:case s.m.UInt32:t.add_value(this.a2.get_ref_value(this.dyn),1)}this.acc_time=0}}})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Trend:break;case Lt.Trend_attribute1:this.attribute1=t.consumeLine();break;case Lt.Trend_attribute2:this.attribute2=t.consumeLine();break;case Lt.Trend_minvalue_attr1:this.minvalue_attr1=t.consumeLine();break;case Lt.Trend_maxvalue_attr1:this.maxvalue_attr1=t.consumeLine();break;case Lt.Trend_minvalue_attr2:this.minvalue_attr2=t.consumeLine();break;case Lt.Trend_maxvalue_attr2:this.maxvalue_attr2=t.consumeLine();break;case Lt.Trend_hold_attr:this.hold_attr=t.consumeLine();break;case Lt.Trend_timerange_attr:this.timerange_attr=t.consumeLine();break;case Lt.Trend_mark1_attr:this.mark1_attr=t.consumeLine();break;case Lt.Trend_mark2_attr:this.mark2_attr=t.consumeLine();break;case Lt.Trend_mark1_color:this.mark1_color=t.consumeInt();break;case Lt.Trend_mark2_color:this.mark2_color=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynTrend",e),t.consumeLine()}}}}class xe extends Jt{constructor(t){super(t,It.XY_Curve),this.firstScan=!0,this.x_a=null,this.y_a=null,this.y_minvalue_a=null,this.y_maxvalue_a=null,this.x_minvalue_a=null,this.x_maxvalue_a=null,this.noofpoints_a=null,this.update_a=null,this.x_mark1_a=null,this.x_mark2_a=null,this.y_mark1_a=null,this.y_mark2_a=null,this.x_attr=null,this.y_attr=null,this.x_mark1_attr=null,this.x_mark2_attr=null,this.y_mark1_attr=null,this.y_mark2_attr=null,this.curveX=[],this.curveY=[],this.dyn_type1=Gt.XY_Curve}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.XY_Curve:break;case Lt.XY_Curve_x_attr:this.x_attr=t.consumeLine();break;case Lt.XY_Curve_y_attr:this.y_attr=t.consumeLine();break;case Lt.XY_Curve_y_minvalue_attr:this.y_minvalue_attr=t.consumeLine();break;case Lt.XY_Curve_y_maxvalue_attr:this.y_maxvalue_attr=t.consumeLine();break;case Lt.XY_Curve_x_minvalue_attr:this.x_minvalue_attr=t.consumeLine();break;case Lt.XY_Curve_x_maxvalue_attr:this.x_maxvalue_attr=t.consumeLine();break;case Lt.XY_Curve_noofpoints_attr:this.noofpoints_attr=t.consumeLine();break;case Lt.XY_Curve_update_attr:this.update_attr=t.consumeLine();break;case Lt.XY_Curve_y_min_value:this.y_min_value=t.consumeFloat();break;case Lt.XY_Curve_y_max_value:this.y_max_value=t.consumeFloat();break;case Lt.XY_Curve_x_min_value:this.x_min_value=t.consumeFloat();break;case Lt.XY_Curve_x_max_value:this.x_max_value=t.consumeFloat();break;case Lt.XY_Curve_datatype:this.datatype=t.consumeInt();break;case Lt.XY_Curve_instance:this.instance=t.consumeInt();break;case Lt.XY_Curve_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.XY_Curve_curve_color:this.curve_color=t.consumeInt();break;case Lt.XY_Curve_fill_color:this.fill_color=t.consumeInt();break;case Lt.XY_Curve_horizontal_padding:this.horizontal_padding=t.consumeInt();break;case Lt.XY_Curve_x_mark1_attr:this.x_mark1_attr=t.consumeLine();break;case Lt.XY_Curve_x_mark2_attr:this.x_mark2_attr=t.consumeLine();break;case Lt.XY_Curve_y_mark1_attr:this.y_mark1_attr=t.consumeLine();break;case Lt.XY_Curve_y_mark2_attr:this.y_mark2_attr=t.consumeLine();break;case Lt.XY_Curve_mark1_color:this.mark1_color=t.consumeInt();break;case Lt.XY_Curve_mark2_color:this.mark2_color=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynXYCurve:",e),t.consumeLine()}}}connect(t){return qt(this,void 0,void 0,function*(){if(null===this.x_attr||null===this.y_attr)return;let e=["update","noofpoints","y_minvalue","y_maxvalue","x_minvalue","x_maxvalue","y_mark1","y_mark2"];for(let t=0;t<e.length;t++){e[t]+="_a";let i=this[e[t]+"ttr"];""!==i.trim()&&(this[e[t]]=new Wt(this.dyn,i),yield this[e[t]].connect(this.dyn))}this.curve_number=0;let i=this.instance;for(;i;)i>>=1,this.curve_number++;if(this.instance===Ct.One){i=this.instance_mask;let e=0;for(;i;)i>>=1,e++;t.set_xy_noofcurves(e)}this.noofpoints=t.get_no_of_points(),Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),t.set_xy_curve_color(this.curve_number-1,this.curve_color,this.fill_color),this.mark1_color===h.a.Inherit&&this.mark2_color===h.a.Inherit||t.set_mark_color(this.mark1_color,this.mark2_color)})}disconnect(){let t=this.dyn;[this.update_a,this.noofpoints_a,this.y_minvalue_a,this.y_maxvalue_a,this.x_minvalue_a,this.x_maxvalue_a,this.x_mark1_a,this.x_mark2_a,this.y_mark1_a,this.y_mark2_a].forEach(function(e){e&&e.disconnect(t)})}scan(t){return qt(this,void 0,void 0,function*(){let e,i=!1,o=1;if(this.object=t,this.noOfPoints=this.noofpoints,null!==this.x_attr&&null!==this.y_attr){if(this.firstScan&&(i=!0),this.update_a){let t=this.update_a.get_ref_value(this.dyn);t&&!this.update_a.oldValue&&(i=!0),this.update_a.oldValue=t}if(this.noofpoints_a){let t=this.noofpoints_a.get_ref_value(this.dyn);t!==this.noofpoints_a.oldValue&&(i=!0,this.noofpoints=t,this.noOfPoints=t,this.noofpoints_a.oldValue=t)}if(this.y_minvalue_a){let e=this.y_minvalue_a.get_ref_value(this.dyn);e!==this.y_min_value&&(this.y_min_value=e,Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),i=!0)}if(this.y_maxvalue_a){let e=this.y_maxvalue_a.get_ref_value(this.dyn);e!==this.y_max_value&&(this.y_max_value=e,Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),i=!0)}if(this.x_minvalue_a){let e=this.x_minvalue_a.get_ref_value(this.dyn);e!==this.x_min_value&&(this.x_min_value=e,Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),i=!0)}if(this.x_maxvalue_a){let e=this.x_maxvalue_a.get_ref_value(this.dyn);e!==this.x_max_value&&(this.x_max_value=e,Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),i=!0)}if(this.x_mark1_a){let e=this.x_mark1_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(e-this.x_mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_x_mark1(e),this.x_mark1_a.oldValue=e)}if(this.x_mark2_a){let e=this.x_mark2_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(e-this.x_mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_x_mark2(e),this.x_mark2_a.oldValue=e)}if(this.y_mark1_a){let e=this.y_mark1_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(e-this.y_mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark1(e),this.y_mark1_a.oldValue=e)}if(this.y_mark2_a){let e=this.y_mark2_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(e-this.y_mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark2(e),this.y_mark2_a.oldValue=e)}if(i){let t,i,r=this.dyn.parseAttrName(this.x_attr);switch(e=r.elements,this.datatype){case vt.XYArrays:this.noOfPoints=Math.min(this.noOfPoints,e),o=this.noOfPoints;break;case vt.PointArray:this.noOfPoints=Math.min(this.noOfPoints,e/2),o=2*this.noOfPoints;break;case vt.TableObject:this.noOfPoints=Math.min(this.noOfPoints,(e-1)/2),o=2*this.noOfPoints+1}if(r.type===s.m.Float32?t=yield this.dyn.graph.gdh.getObjectInfoFloatArray(r.name,o):r.type>=s.m.Int8&&r.type<=s.m.UInt32&&(t=yield this.dyn.graph.gdh.getObjectInfoIntArray(r.name,o)),!(1&t.sts))return;if(this.datatype===vt.XYArrays){let t=this.dyn.parseAttrName(this.y_attr);if(this.noOfPoints=Math.min(this.noOfPoints,t.elements),t.type===s.m.Float32?i=yield this.dyn.graph.gdh.getObjectInfoFloatArray(t.name,this.noOfPoints):t.type>=s.m.Int8&&t.type<=s.m.UInt32&&(i=yield this.dyn.graph.gdh.getObjectInfoIntArray(t.name,this.noOfPoints)),!(1&i.sts))return}switch(this.datatype){case vt.XYArrays:this.curveX=t.value.slice(0,this.noOfPoints),this.curveY=i.value.slice(0,this.noOfPoints),this.dyn.repaintNow=!0;break;case vt.PointArray:this.curveX=new Array(this.noOfPoints),this.curveY=new Array(this.noOfPoints);for(let e=0;e<this.noOfPoints;e++)this.curveX[e]=t.value[2*e],this.curveY[e]=t.value[2*e+1];this.dyn.repaintNow=!0;break;case vt.TableObject:this.noOfPoints=Math.min(Math.floor(t.value[0]),this.noofpoints),this.curveY=new Array(this.noOfPoints),this.curveX=new Array(this.noOfPoints);for(let e=0;e<this.noOfPoints;e++)this.curveX[e]=t.value[2*e+1],this.curveY[e]=t.value[2*e+2];this.dyn.repaintNow=!0}this.object.set_xy_data(this.curveY,this.curveX,this.curve_number-1,this.noOfPoints)}this.firstScan=!1}})}}class ve extends Jt{constructor(t){super(t,It.Pie),this.attribute=new Array(n.p),this.connected=!1,this.firstScan=!0,this.dyn_type1=Gt.Pie}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Pie:break;case Lt.Pie_fix_range:this.fix_range=t.consumeInt();break;case Lt.Pie_attribute1:case Lt.Pie_attribute2:case Lt.Pie_attribute3:case Lt.Pie_attribute4:case Lt.Pie_attribute5:case Lt.Pie_attribute6:case Lt.Pie_attribute7:case Lt.Pie_attribute8:case Lt.Pie_attribute9:case Lt.Pie_attribute10:case Lt.Pie_attribute11:case Lt.Pie_attribute12:this.attribute[e-Lt.Pie_attribute1]=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynPie:",e),t.consumeLine()}}}connect(t){return qt(this,void 0,void 0,function*(){let e=t.get_conf();this.min_value=e.min_val,this.max_value=e.max_val,this.sectors=e.sector_num,this.sectors>n.p&&(this.sectors=n.p),this.a=new Array(this.sectors);for(let t=0;t<this.sectors;t++)null===this.attribute[t]||""===this.attribute[t].trim()?this.a[t]=null:(this.a[t]=new Wt(this.dyn,this.attribute[t]),yield this.a[t].connect(this.dyn));for(let t=0;t<this.sectors;t++){if(this.a[t]&&!this.a[t].sts)return this.a[t]=null,void console.log("Pie: "+this.attribute[t]);0===t&&(this.attr_type=this.a[0].typeid)}this.connected=!0})}disconnect(){if(this.connected)for(let t=0;t<this.sectors;t++)this.a[t]&&this.a[t].disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(this.connected)switch(this.attr_type){case s.m.Float32:let e=this.a.slice(0,this.sectors).map(t=>t.get_ref_value(this.dyn));if(this.firstScan)this.firstScan=!1;else{let t=!1;for(let i=0;i<this.sectors;i++)if(Math.abs(this.a[i].oldValue-e[i])>Number.MIN_VALUE){t=!0;break}if(!t)return}if(Math.abs(this.max_value-this.min_value)<Number.MIN_VALUE)return;let i=new Array(n.p);if(this.fix_range||1===this.sectors)for(let t=0;t<this.sectors;t++)i[t]=e[t]-this.min_value;else{let t=0;for(let i=0;i<this.sectors;i++)t+=e[i]-this.min_value;for(let o=0;o<this.sectors;o++)Math.abs(t)<Number.MIN_VALUE?i[o]=0:i[o]=(e[o]-this.min_value)/t*(this.max_value-this.min_value)}t.set_values(i);for(let t=0;t<this.sectors;t++)this.a[t].oldValue=e[t];break;case s.m.Int32:}})}}class Ce extends Jt{constructor(t){super(t,It.BarChart),this.attribute=new Array(n.o),this.firstScan=!0,this.connected=!1,this.dyn_type1=Gt.BarChart}open(t){for(;;){let e=t.consumeInt();if(e===Lt.End)return;e===Lt.BarChart_fix_range?this.fix_range=t.consumeInt():e>=Lt.BarChart_attribute1&&e<=Lt.BarChart_attribute12?this.attribute[e-Lt.BarChart_attribute1]=t.consumeLine():e!==Lt.BarChart&&(console.log("Syntax error in DynBarChart:",e),t.consumeLine())}}connect(t){return qt(this,void 0,void 0,function*(){let e=t.get_conf();this.min_value=e.min_value,this.max_value=e.max_value,this.bars=e.bars,this.barsegments=e.barsegments,this.a=new Array(this.barsegments);for(let t=0;t<this.barsegments;t++){if(null===this.attribute[t]||""===this.attribute[t].trim())return void console.log("BarChart",this.attribute[t]);if(this.a[t]=new Wt(this.dyn,this.attribute[t]),yield this.a[t].connect(this.dyn),0===this.a[t].elements)return;if(this.bars=Math.min(this.bars,this.a[t].elements),0===t){if(this.attr_type=this.a[t].typeid,this.attr_type!==s.m.Float32&&this.attr_type!==s.m.Int32)return;this.value=new Array(this.barsegments)}else if(this.attr_type!==this.a[t].typeid)return void console.log("BarChart type",this.attribute[t],this.a[t].typeid)}this.connected=!0})}disconnect(){this.connected&&this.a.slice(0,this.barsegments).forEach(t=>t.disconnect(this.dyn))}scan(t){return qt(this,void 0,void 0,function*(){if(this.connected&&this.attr_type===s.m.Float32){this.value=new Array(n.o);for(let t=0;t<this.barsegments;t++)if(this.value[t]=this.a[t].get_ref_value(this.dyn),this.value[t].length<this.bars){console.log("BarChart, value array to short",this.value[t].length);break}if(this.firstScan)this.firstScan=!1;else{let t=!1;if(this.oldValue){for(let e=0;e<this.barsegments&&this.value[e];e++){for(let i=0;i<this.bars;i++)if(Math.abs(this.oldValue[e][i]-this.value[e][i])>Number.MIN_VALUE){t=!0;break}if(t)break}if(!t)return}}if(Math.abs(this.max_value-this.min_value)<Number.MIN_VALUE)return;t.set_values(this.value),this.oldValue=this.value}})}}class Ge extends Jt{constructor(t){super(t,It.Table),this.attribute=new Array(12),this.format=new Array(12),this.sel_attribute=new Array(12),this.firstScan=!0,this.hp=null,this.dyn_type1=Gt.Table}open(t){for(;;){let e=t.consumeInt();if(e===Lt.End)return;e>=Lt.Table_attribute1&&e<=Lt.Table_attribute12?this.attribute[e-Lt.Table_attribute1]=t.consumeLine():e>=Lt.Table_format1&&e<=Lt.Table_format12?this.format[e-Lt.Table_format1]=t.consumeLine():e>=Lt.Table_sel_attribute1&&e<=Lt.Table_sel_attribute12?this.sel_attribute[e-Lt.Table_sel_attribute1]=t.consumeLine():e!==Lt.Table&&(console.log("Syntax error in DynTable:",e),t.consumeLine())}}connect(t){return qt(this,void 0,void 0,function*(){let e=null,i=t.getTableInfo();this.columns=i.columns,this.rows=i.rows,this.db=new Array(this.columns),this.size=new Array(this.columns),this.elements=new Array(this.columns),this.type_id=new Array(this.columns),this.headerRef=new Array(this.columns),this.p=new Array(this.columns),this.oldValue=new Array(this.columns),this.sel_p=new Array(this.columns),this.sel_elements=new Array(this.columns),this.bitmask=new Array(this.columns);for(let t=0;t<this.columns;t++){let i=this.dyn.parseAttrName(this.attribute[t]);if(null!==i&&""!==i.name&&0!==i.elements){if(this.db[t]=i.database,"$header"===i.tname.substring(0,7)){if(this.headerRef[t]=!0,null===e)continue;for(let o=0;o<this.elements[0];o++){let s="&("+(e+"["+o+"]")+")"+i.tname.substring(7);if(null===this.hp){this.hp=new Array(this.columns);for(let t=0;t<this.columns;t++)this.hp[t]=null}if(null===this.hp[t]){this.hp[t]=new Array(this.elements[0]);for(let e=0;e<this.elements[0];e++)this.hp[t][e]=0}this.hp[t][o]=this.dyn.graph.gdh.refObjectInfo(s,i.type,i.elements),console.log("Table $header "+t+" hp "+this.hp[t][o]),0===o&&(this.size[t]=i.elements,this.type_id[t]=i.type,this.elements[t]=this.elements[0],this.bitmask[t]=i.bitmask)}}else{if(this.db[t]===ai.Gdh&&(this.p[t]=this.dyn.graph.gdh.refObjectInfo(i.tname,i.type,i.elements),0===t&&(e=i.name)),!this.p[t])continue;this.size[t]=i.elements,this.type_id[t]=i.type,this.elements[t]=Math.min(i.elements,this.rows),this.bitmask[t]=i.bitmask}switch(this.type_id[t]){case s.m.Float32:case s.m.Boolean:case s.m.Bit:case s.m.Int32:case s.m.Int16:case s.m.Int8:case s.m.UInt32:case s.m.UInt16:case s.m.UInt8:case s.m.String:case s.m.Objid:case s.m.AttrRef:case s.m.Time:case s.m.DeltaTime:this.oldValue[t]=new Array(this.rows)}if(this.sel_p[t]=0,null!==(i=this.dyn.parseAttrName(this.sel_attribute[t]))&&""!==i.name&&i.type===s.m.Boolean&&i.database===ai.Gdh&&(this.sel_p[t]=this.dyn.graph.gdh.refObjectInfo(i.tname,i.type,i.elements),this.sel_p[t])){if(0===i.elements)break;this.sel_elements[t]=Math.min(i.elements,this.elements[t])}}}t.setTableInfo(i)})}disconnect(){for(let t=0;t<this.columns;t++){if(this.headerRef[t])for(let e=0;e<this.elements[t];e++)this.hp[t][e]&&this.dyn.graph.gdh.unrefObjectInfo(this.hp[t][e]);else this.p[t]&&this.db[t]===ai.Gdh&&this.dyn.graph.gdh.unrefObjectInfo(this.p[t]),this.p[t]=0;switch(this.type_id[t]){case s.m.Float32:case s.m.Boolean:case s.m.Bit:case s.m.Int32:case s.m.Int16:case s.m.Int8:case s.m.UInt32:case s.m.UInt16:case s.m.UInt8:case s.m.String:case s.m.Objid:case s.m.AttrRef:case s.m.Time:case s.m.DeltaTime:this.oldValue[t]&&(this.oldValue[t]=null)}this.sel_p[t]&&(this.dyn.graph.gdh.unrefObjectInfo(this.sel_p[t]),this.sel_p[t]=0)}}scan(t){return qt(this,void 0,void 0,function*(){if(!this.p[0])return;for(let e=0;e<this.columns;e++)if(this.headerRef[e])for(let i=0;i<this.elements[e];i++){if(!this.hp[e][i])continue;let o=this.dyn.graph.gdh.getObjectRefInfo(this.hp[e][i]);if(null!=o)switch(this.type_id[e]){case s.m.Float32:if(this.firstScan||this.oldValue[e][i]!==o){let s=I.sprintf(this.format[e],o);t.setValue(s,e,i),this.oldValue[e][i]=o}break;case s.m.Boolean:(this.firstScan||this.oldValue[e][i]!==o)&&(t.setValue(String(o),e,i),this.oldValue[e][i]=o);break;case s.m.Int32:case s.m.Int16:case s.m.Int8:case s.m.UInt32:case s.m.UInt16:case s.m.UInt8:if(this.firstScan||this.oldValue[e][i]!==o){let s=I.sprintf(this.format[e],o);t.setValue(s,e,i),this.oldValue[e][i]=o}break;case s.m.String:case s.m.Objid:case s.m.AttrRef:case s.m.Time:case s.m.DeltaTime:(this.firstScan||this.oldValue[e][i]!==o)&&(t.setValue(o,e,i),this.oldValue[e][i]=o);break;case s.m.Bit:{let s=this.bitmask[e]&o;(this.firstScan||this.oldValue[e][i]!==s)&&(t.setValue(String(s),e,i),this.oldValue[e][i]=s);break}}}else{if(!this.p[e])continue;let i=this.dyn.graph.gdh.getObjectRefInfo(this.p[e]);if(null!=i)switch(this.type_id[e]){case s.m.Float32:for(let o=0;o<Math.min(this.elements[e],i.length);o++)if(this.firstScan||this.oldValue[e][o]!==i[o]){let s=I.sprintf(this.format[e],i[o]);t.setValue(s,e,o),this.oldValue[e][o]=i[o]}break;case s.m.Boolean:for(let o=0;o<Math.min(this.elements[e],i.length);o++)(this.firstScan||this.oldValue[e][o]!==i[o])&&(t.setValue(String(i[o]),e,o),this.oldValue[e][o]=i[o]);break;case s.m.Int32:case s.m.Int16:case s.m.Int8:case s.m.UInt32:case s.m.UInt16:case s.m.UInt8:for(let o=0;o<Math.min(this.elements[e],i.length);o++)if(this.firstScan||this.oldValue[e][o]!==i[o]){let s=I.sprintf(this.format[e],i[o]);t.setValue(s,e,o),this.oldValue[e][o]=i[o]}break;case s.m.String:case s.m.Objid:case s.m.AttrRef:case s.m.Time:case s.m.DeltaTime:for(let o=0;o<Math.min(this.elements[e],i.length);o++)if(this.firstScan||this.oldValue[e][o]!==i[o]){switch(this.type_id[e]){case s.m.AttrRef:case s.m.Objid:if("%1o"===this.format[e])t.setValue(i[o],e,o);else{let s=i[o].lastIndexOf("-");-1===s?t.setValue(i[o],e,o):t.setValue(i[o].substring(s+1),e,o)}break;default:t.setValue(i[o],e,o)}this.oldValue[e][o]=i[o]}break;case s.m.Bit:for(let o=0;o<Math.min(this.elements[e],i.length);o++){let s=this.bitmask[e]&i[o];(this.firstScan||this.oldValue[e][o]!==s)&&(t.setValue(String(s),e,o),this.oldValue[e][o]=s)}}}let e=!1;for(let i=0;i<this.columns;i++){if(!this.sel_p[i])continue;let o=this.dyn.graph.gdh.getObjectRefInfo(this.sel_p[i]);if(null!==o)for(let s=0;s<this.sel_elements[i];s++)o[s]&&(e=!0,t.setSelectedCell(i,s))}e||t.setSelectedCell(-1,-1),this.firstScan&&(this.firstScan=!1)})}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("click"===t.event.type){if(t.type!==n.i.Table)return 1;let e=t.object.getSelectedCellRow(),i=t.object.getSelectedCellColumn();if(e>=0&&this.sel_p[i]){let t=this.dyn.parseAttrName(this.sel_attribute[i]);if(null===t||""===t.name)return 1;let o=t.name+"["+e+"]";this.dyn.graph.gdh.setObjectInfoBoolean(o,!1)}let o=t;if(this.sel_p[o.column]&&(o.column!==i||o.row!==e)){let e=this.dyn.parseAttrName(this.sel_attribute[o.column]);if(null===e||""===e.name)return 1;let i=e.name+"["+o.row+"]";this.dyn.graph.gdh.setObjectInfoBoolean(i,!0),t.object.setSelectedCell(o.column,o.row)}}return 1})}}class ke extends Jt{constructor(t){super(t,It.StatusColor),this.firstScan=!0,this.dyn_type1=Gt.StatusColor}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts||this.dyn.ignoreColor)return;this.a.database===ai.Gdh&&(this.a.typeid,s.m.NetStatus);let e=this.a.get_ref_value(this.dyn);if((this.firstScan||this.oldStatus===Nt.Fatal||this.a.oldValue!==e||!this.dyn.resetColor)&&(this.a.oldValue=e,e=e&&(7&e)<5?[Nt.Warning,Nt.Success,Nt.Error,Nt.Success,Nt.Fatal][7&e]:Nt.No,this.firstScan||this.oldStatus!==e||this.oldStatus===Nt.Fatal)){if(this.firstScan=!1,this.dyn.total_dyn_type1&Gt.Tone){switch(e){case Nt.No:this.nostatus_color>=B.a._?t.setFillColor(this.nostatus_color):t.setColorTone(this.nostatus_color);break;case Nt.Success:this.nostatus_color>=B.a._&&t.resetFillColor(),t.resetColorTone();break;case Nt.Warning:t.setColorTone(this.use_colortheme?h.a.CustomColor42:B.a.Yellow);break;case Nt.Error:t.setColorTone(this.use_colortheme?h.a.CustomColor11:B.a.Red);break;case Nt.Fatal:this.on=!this.on,this.on?t.setColorTone(this.use_colortheme?h.a.CustomColor11:B.a.Red):this.nostatus_color>=B.a._?t.setFillColor(this.nostatus_color):t.setColorTone(this.nostatus_color)}this.dyn.repaintNow=!0}else{switch(e){case Nt.No:t.setFillColor(this.nostatus_color);break;case Nt.Success:t.resetFillColor();break;case Nt.Warning:t.setFillColor(h.a.ColorYellow);break;case Nt.Error:t.setFillColor(h.a.ColorRed);break;case Nt.Fatal:this.on=!this.on,this.on?t.setFillColor(h.a.ColorRed):t.setFillColor(this.nostatus_color)}this.dyn.repaintNow=!0}this.oldStatus=e}})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.StatusColor:break;case Lt.StatusColor_attribute:this.attribute=t.consumeLine();break;case Lt.StatusColor_nostatus_color:this.nostatus_color=t.consumeInt();break;case Lt.StatusColor_use_colortheme:this.use_colortheme=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynStatusColor:",e),t.consumeLine()}}}}class Te extends Jt{constructor(t){super(t,It.Axis),this.firstScan=!0,this.keep_settings=!1,this.dyn_type2=kt.Axis}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Axis:break;case Lt.Axis_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case Lt.Axis_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case Lt.Axis_keep_settings:this.keep_settings=t.consumeBool();break;case Lt.End:return;default:console.log("Syntax error in DynAxis:",e),t.consumeLine()}}}connect(t){return qt(this,void 0,void 0,function*(){this.minvalue_a=new Wt(this.dyn,this.minvalue_attr),this.maxvalue_a=new Wt(this.dyn,this.maxvalue_attr),yield this.minvalue_a.connect(this.dyn),yield this.maxvalue_a.connect(this.dyn),this.minvalue_a.sts&&this.maxvalue_a.sts?this.minvalue_a.typeid===this.maxvalue_a.typeid?this.attr_type=this.maxvalue_a.typeid:this.attr_type=0:this.maxvalue_a.sts?(console.log("Axis: "+this.minvalue_attr),this.attr_type=this.maxvalue_a.typeid):this.minvalue_a.sts&&(console.log("Axis: "+this.maxvalue_attr),this.attr_type=this.minvalue_a.typeid)})}disconnect(){this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){switch(this.attr_type){case s.m.Float32:if(!this.maxvalue_a.sts&&!this.minvalue_a.sts)return;let e=0,i=0;if(this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value(this.dyn)),this.maxvalue_a.sts&&(i=this.maxvalue_a.get_ref_value(this.dyn)),!(this.firstScan||this.maxvalue_a.sts&&i!==this.maxvalue_a.oldValue||this.minvalue_a.sts&&e!==this.minvalue_a.oldValue))return;if(this.firstScan&&(this.firstScan=!0),this.minvalue_a.sts&&(this.minvalue_a.oldValue=e),this.maxvalue_a.sts&&(this.maxvalue_a.oldValue=i),i===e)return;t.type()!==n.C.GrowAxis&&t.type()!==n.C.GrowAxisArc||t.set_range(e,i,this.keep_settings)}})}}class Se extends Jt{constructor(t){super(t,It.TimeoutColor),this.dyn_type2=kt.TimeoutColor}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.TimeoutColor:break;case Lt.TimeoutColor_time:this.time=t.consumeFloat();break;case Lt.TimeoutColor_color:this.color=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynTimeoutColor:",e),t.consumeLine()}}}}class Ie extends Jt{constructor(t){super(t,It.HostObject),this.dyn_type1=Gt.HostObject}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.HostObject:break;case Lt.HostObject_object:this.hostobject=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynHostObject:",e),t.consumeLine()}}}}class Le extends Jt{constructor(t){super(t,It.DigSound),this.dyn_type1=Gt.DigSound}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigSound:break;case Lt.DigSound_attribute:this.attribute=t.consumeLine();break;case Lt.DigSound_soundobject:this.soundobject=t.consumeLine();break;case Lt.DigSound_level:this.level=t.consumeInt();break;case Lt.DigSound_interval:this.interval=t.consumeInt();break;case Lt.DigSound_instance:this.instance=t.consumeInt();break;case Lt.DigSound_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigSound:",e),t.consumeLine()}}}}class Ae extends Jt{constructor(t){super(t,It.FillLevel),this.a=null,this.firstScan=!0,this.limits_found=!1,this.dyn_type1=Gt.FillLevel}connect(t){return qt(this,void 0,void 0,function*(){if(this.color=Yt.getColor2(t,this.color),this.color<0||this.color>=h.a._)return;if(null===this.attribute.trim())return;this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn),this.dyn.total_dyn_type1&Gt.Tone?this.color>=B.a._?t.setLevelFillColor(this.color):t.setLevelColorTone(this.color):t.setLevelFillColor(this.color);let e=t.getLimits();1&e.status&&(this.limits_found=!0,this.limit_min=e.min,this.limit_max=e.max,this.direction=e.direction),t.setLevelDirection(this.direction),this.minvalue_a=new Wt(this.dyn,this.minvalue_attr),this.maxvalue_a=new Wt(this.dyn,this.maxvalue_attr),yield this.minvalue_a.connect(this.dyn),yield this.maxvalue_a.connect(this.dyn)})}disconnect(){null!==this.a&&(this.a.disconnect(this.dyn),this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn))}scan(t){return qt(this,void 0,void 0,function*(){if(null===this.a||!this.a.sts)return;let e,i,o=this.a.get_ref_value(this.dyn);if(this.maxvalue_a.sts&&this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value(this.dyn),i=this.maxvalue_a.get_ref_value(this.dyn),e===this.min_value&&i===this.max_value||(this.min_value=e,this.max_value=i,this.firstScan=!0)),this.firstScan)this.firstScan=!1;else if(Math.abs(this.a.oldValue-o)<Number.MIN_VALUE)return;if(this.max_value===this.min_value)return;let s=(o-this.min_value)/(this.max_value-this.min_value);if(this.limits_found)switch(s*=this.limit_max-this.limit_min,this.direction){case n.h.Right:s=(s+(this.limit_min-t.ll.x))/(t.ur.x-t.ll.x);break;case n.h.Left:s=(s+(t.ur.x-this.limit_max))/(t.ur.x-t.ll.x);break;case n.h.Up:s=(s+(this.limit_min-t.ll.y))/(t.ur.y-t.ll.y);break;case n.h.Down:s=(s+(t.ur.y-this.limit_max))/(t.ur.y-t.ll.y);break;default:s=0}t.setFillLevel(s),this.a.oldValue=o})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.FillLevel:break;case Lt.FillLevel_attribute:this.attribute=t.consumeLine();break;case Lt.FillLevel_color:this.color=t.consumeInt();break;case Lt.FillLevel_direction:this.direction=t.consumeInt();break;case Lt.FillLevel_min_value:this.min_value=t.consumeFloat();break;case Lt.FillLevel_max_value:this.max_value=t.consumeFloat();break;case Lt.FillLevel_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case Lt.FillLevel_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynFillLevel:",e),t.consumeLine()}}}}class Me extends Jt{constructor(t){super(t,It.DigCommand),this.command="",this.a=null,this.first_scan=!0,this.level=0,this.dyn_type1=Gt.DigCommand}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(null===this.a||!this.a.sts)return;let t=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(t=this.a.inverted?!t:t,this.first_scan)return this.a.oldValue=t,void(this.first_scan=!1);if(!this.level&&t&&!this.a.oldValue||this.level&&t){let t=this.dyn.graph.getCommand(this.command);this.dyn.graph.command(t)}else this.a.oldValue=t})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigCommand:break;case Lt.DigCommand_attribute:this.attribute=t.consumeLine();break;case Lt.DigCommand_command:this.command=t.consumeLine();break;case Lt.DigCommand_level:this.level=t.consumeInt();break;case Lt.DigCommand_instance:this.instance=t.consumeInt();break;case Lt.DigCommand_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynDigCommand:",e),t.consumeLine()}}}}class Ne extends Jt{constructor(t){super(t,It.DigScript),this.script="",this.a=null,this.first_scan=!0,this.level=0,this.dyn_type2=kt.DigScript}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a&&this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(null===this.a||!this.a.sts)return;let t=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(t=this.a.inverted?!t:t,this.first_scan)return this.a.oldValue=t,void(this.first_scan=!1);(!this.level&&t&&!this.a.oldValue||this.level&&t)&&this.dyn.graph.script(this.script),this.a.oldValue=t})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.DigScript:break;case Lt.DigScript_attribute:this.attribute=t.consumeLine();break;case Lt.DigScript_level:this.level=t.consumeInt();break;case Lt.DigScript_script_len:break;case Lt.DigScript_script:this.script=t.consumeQuotedString();break;case Lt.End:return;default:console.log("Syntax error in DynDigScript:",e),t.consumeLine()}}}}class Oe extends Jt{constructor(t){super(t,It.SetDig),this.action_type1=Tt.SetDig}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;t.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfoBoolean(t.name,!0):t.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,t.name,!0)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.SetDig:break;case Lt.SetDig_attribute:this.attribute=t.consumeLine();break;case Lt.SetDig_instance:this.instance=t.consumeInt();break;case Lt.SetDig_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynSetDig:",e),t.consumeLine()}}}}class Fe extends Jt{constructor(t){super(t,It.ResetDig),this.action_type1=Tt.ResetDig}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;t.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfoBoolean(t.name,!1):t.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,t.name,!1)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.ResetDig:break;case Lt.ResetDig_attribute:this.attribute=t.consumeLine();break;case Lt.ResetDig_instance:this.instance=t.consumeInt();break;case Lt.ResetDig_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynResetDig:",e),t.consumeLine()}}}}class Re extends Jt{constructor(t){super(t,It.ToggleDig),this.action_type1=Tt.ToggleDig}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;t.database===ai.Gdh?this.dyn.graph.gdh.toggleObjectInfo(t.name):t.database===ai.Local&&this.dyn.graph.ldb.toggleObjectInfo(this.dyn.graph,t.name)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.ToggleDig:break;case Lt.ToggleDig_attribute:this.attribute=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynToggleDig:",e),t.consumeLine()}}}}class Ee extends Jt{constructor(t){super(t,It.StoDig),this.action_type1=Tt.StoDig}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type){if(t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0,this.dyn.action_type1&Tt.Confirm)return 1;let e=this.dyn.parseAttrName(this.attribute);e.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfoBoolean(e.name,"mousedown"===t.event.type):e.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,e.name,"mousedown"===t.event.type)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.StoDig:break;case Lt.StoDig_attribute:this.attribute=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynStoDig:",e),t.consumeLine()}}}}class De extends Jt{constructor(t){super(t,It.Command),this.action_type1=Tt.Command}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;if(null===this.command)return 1;let t=this.dyn.graph.getCommand(this.command),e=this.dyn.graph.ctx.gdraw.get_clip_rectangle();e&&this.dyn.graph.ctx.gdraw.reset_clip_rectangle(),this.dyn.graph.command(t),e&&this.dyn.graph.ctx.gdraw.set_clip_rectangle(e.ll.x,e.ll.y,e.ur.x,e.ur.y)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Command:break;case Lt.Command_command:this.command=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynCommand:",e),t.consumeLine()}}}}class Be extends Jt{constructor(t){super(t,It.Script),this.action_type1=Tt.Script}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;if(null===this.script)return 1;this.dyn.graph.script(this.script)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Script:break;case Lt.Script_script_len:this.script_len=t.consumeInt();break;case Lt.Script_script:this.script=t.consumeQuotedString();break;case Lt.End:return;default:console.log("Syntax error in DynScript:",e),t.consumeLine()}}}}class Pe extends Jt{constructor(t){super(t,It.CommandDoubleClick),this.action_type1=Tt.CommandDoubleClick}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;if(null===this.command)return 1;let t=this.dyn.graph.getCommand(this.command);this.dyn.graph.command(t)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.CommandDC:break;case Lt.CommandDC_command:this.command=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynCommandDoubleClick:",e),t.consumeLine()}}}}class ze extends Jt{constructor(t){super(t,It.Confirm),this.action_type1=Tt.Confirm}action(t){return qt(this,void 0,void 0,function*(){if(!(this.dyn.action_type1&Tt.Confirm))return 1;if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("click"===t.event.type&&0===t.event.button||"keydown"===t.event.type&&"Return"===t.event.key){let e=0;if((this.on_set&&!this.on_reset||this.on_reset&&!this.on_set)&&this.dyn.total_action_type1&Tt.ToggleDig)for(let t=0;t<this.dyn.elements.length;t++)if(this.dyn.elements[t].action_type1===Tt.ToggleDig){let i=this.dyn.parseAttrName(this.dyn.elements[t].attribute);if("&"===i.name.substring(0,1)&&(i.name=null),i.database===ai.Gdh){let t=yield this.dyn.graph.gdh.getObjectInfoBoolean(i.name);Object(s.s)(t.sts)?(this.on_set&&t.value||this.on_reset&&!t.value)&&(e=1):console.log("Confirm: "+t)}break}if(e)return this.dyn.confirmedAction(t),1;this.dyn.graph.openConfirmDialog(this.dyn,this.text)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Confirm:break;case Lt.Confirm_text:this.text=t.consumeLine();break;case Lt.Confirm_on_set:this.on_set=t.consumeInt();break;case Lt.Confirm_on_reset:this.on_reset=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynConfirm:",e),t.consumeLine()}}}}class je extends Jt{constructor(t){super(t,It.IncrAnalog),this.action_type1=Tt.IncrAnalog}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute);if(null===t)return 1;let e,i=t.type<0?s.m.Float32:t.type;t.database===ai.Gdh?e=i===s.m.Int32?yield this.dyn.graph.gdh.getObjectInfoInt(t.name):yield this.dyn.graph.gdh.getObjectInfoFloat(t.name):t.database===ai.Local&&(e=this.dyn.graph.ldb.getObjectInfo(this.dyn.graph,t.name));let o=e.value+this.increment;(this.min_value||this.max_value)&&(o=i===s.m.Int32?Object(s.q)(o,Math.floor(this.min_value),Math.floor(this.max_value)):Object(s.q)(o,this.min_value,this.max_value)),t.database===ai.Gdh?i===s.m.Int32?this.dyn.graph.gdh.setObjectInfoInt(t.name,o):this.dyn.graph.gdh.setObjectInfoFloat(t.name,o):t.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,t.name,o)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.IncrAnalog:break;case Lt.IncrAnalog_attribute:this.attribute=t.consumeLine();break;case Lt.IncrAnalog_increment:this.increment=t.consumeFloat();break;case Lt.IncrAnalog_min_value:this.min_value=t.consumeFloat();break;case Lt.IncrAnalog_max_value:this.max_value=t.consumeFloat();break;case Lt.End:return;default:console.log("Syntax error in DynIncrAnalog:",e),t.consumeLine()}}}}class Ve extends Jt{constructor(t){super(t,It.RadioButton),this.firstScan=!0,this.action_type1=Tt.RadioButton}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn)})}disconnect(){this.a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(e=this.a.inverted?!e:e,this.firstScan)this.firstScan=!1;else if(this.a.oldValue===e)return;e?t.set_last_nodeclass():t.set_root_nodeclass(),this.a.oldValue=e})}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let e,i=this.dyn.graph.ctx.get_object_group(t.object);if(!i)return 1;let o=i.get_object_list();for(let i=0;i<o.length;i++){let s=o[i];if(s!==t.object&&s.type()===n.C.GrowNode){e=!1;let t=s.userdata;if(0!=(t.total_action_type1&Tt.RadioButton))for(let i=0;i<t.elements.length;i++)if(t.elements[i].action_type1===Tt.RadioButton){let o=this.dyn.parseAttrName(t.elements[i].attribute);"&"===o.name.substring(0,1)&&(o.name=null),o.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfoBoolean(o.name,e):o.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,o.name,e)}}}let s=this.dyn.parseAttrName(this.attribute);"&"===s.name.substring(0,1)&&(s.name=null),e=!0,s.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfoBoolean(s.name,e):s.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,s.name,e)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.RadioButton:break;case Lt.RadioButton_attribute:this.attribute=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynRadioButton:",e),t.consumeLine()}}}}class Ue extends Jt{constructor(t){super(t,It.TipText),this.action_type1=Tt.TipText}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.TipText:break;case Lt.TipText_text:this.text=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynTipText:",e),t.consumeLine()}}}}class He extends Jt{constructor(t){super(t,It.Help),this.topic=null,this.bookmark=null,this.action_type1=Tt.Help}action(t){return qt(this,void 0,void 0,function*(){if(null===this.topic)return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let t="help "+this.topic;this.bookmark&&(t+=" /bookmark="+this.bookmark),this.dyn.graph.command(t)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Help:break;case Lt.Help_topic:this.topic=t.consumeLine();break;case Lt.Help_bookmark:this.bookmark=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynHelp:",e),t.consumeLine()}}}}class qe extends Jt{constructor(t){super(t,It.OpenGraph),this.action_type1=Tt.OpenGraph}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;if(null===this.graph_object||""===this.graph_object){if(this.dyn.total_action_type1&Tt.PopupMenu){let t=this.dyn.elements.find(t=>t.action_type1===Tt.PopupMenu);t&&this.dyn.graph.command("open graph/class/instance="+t.ref_object)}else if(this.dyn.total_dyn_type1&Gt.HostObject){let t=this.dyn.elements.find(t=>t.dyn_type1===Gt.HostObject);t&&this.dyn.graph.command("open graph/class/instance="+t.hostobject)}}else this.dyn.graph.command("open graph/object="+this.graph_object);return 1}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.OpenGraph:break;case Lt.OpenGraph_graph_object:this.graph_object=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynOpenGraph:",e),t.consumeLine()}}}}class Xe extends Jt{constructor(t){super(t,It.OpenURL),this.action_type1=Tt.OpenURL}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;this.dyn.graph.command('open url "'+this.url+'"')}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.OpenURL:break;case Lt.OpenURL_url:this.url=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynOpenURL:",e),t.consumeLine()}}}}class Ye extends Jt{constructor(t){super(t,It.InputFocus),this.action_type1=Tt.InputFocus}action(t){return qt(this,void 0,void 0,function*(){return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.InputFocus:break;case Lt.InputFocus_initial_focus:this.initial_focus=t.consumeInt();break;case Lt.InputFocus_next_horizontal:this.next_horizontal=t.consumeLine();break;case Lt.InputFocus_next_vertical:this.next_vertical=t.consumeLine();break;case Lt.InputFocus_next_tab:this.next_tab=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynInputFocus:",e),t.consumeLine()}}}}class We extends Jt{constructor(t){super(t,It.CloseGraph),this.action_type1=Tt.CloseGraph}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type),this.dyn.repaintNow=!0;else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;window.close()}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.CloseGraph:break;case Lt.End:return;default:console.log("Syntax error in DynCloseGraph:",e),t.consumeLine()}}}}class Je extends Jt{constructor(t){super(t,It.Slider),this.a=null,this.attribute=null,this.minvalue_attr=null,this.maxvalue_attr=null,this.insensitive_attr=null,this.release_attr=null,this.firstScan=!0,this.slider_disabled=!0,this.action_type1=Tt.Slider}connect(t){return qt(this,void 0,void 0,function*(){if(""!==this.attribute.trim()){if(this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn),!t.transformIsStored()){t.storeTransform();let e=t.get_info(),i=this.dyn.graph.ctx.getBackgroundObjectLimits(Gt.SliderBackground,(t.ll.x+t.ur.x)/2,(t.ll.y+t.ur.y)/2);if(i){this.direction=i.direction;let o=t.get_origo(e.direction);switch(this.direction){case n.h.Down:e.max_position=i.max-o,e.min_position=i.min-o,t.set_info(e),t.move_to(t.ll.x,e.min_position);break;case n.h.Up:e.max_position=i.max-(t.ur.y-t.ll.y-o),e.min_position=i.min-(t.ur.y-t.ll.y-o),t.set_info(e),t.move_to(t.ll.x,e.min_position);break;case n.h.Left:e.max_position=i.max-(t.ur.x-t.ll.x-o),e.min_position=i.min-(t.ur.x-t.ll.x-o),t.set_info(e),t.move_to(e.min_position,t.ll.y);break;case n.h.Right:e.max_position=i.max-o,e.min_position=i.min-o,t.set_info(e),t.move_to(e.min_position,t.ll.y)}}else this.direction=e.direction;t.storeTransform()}this.maxvalue_a=new Wt(this.dyn,this.maxvalue_attr),this.minvalue_a=new Wt(this.dyn,this.minvalue_attr),this.insensitive_a=new Wt(this.dyn,this.insensitive_attr),yield this.maxvalue_a.connect(this.dyn),yield this.minvalue_a.connect(this.dyn),yield this.insensitive_a.connect(this.dyn)}})}disconnect(){null!==this.a&&this.a.sts&&(this.a.disconnect(this.dyn),this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn),this.insensitive_a.disconnect(this.dyn))}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a||!this.a.sts)return;let e=0;if(this.a.typeid===s.m.Float32||this.a.typeid===s.m.Int32?e=this.a.get_ref_value(this.dyn)||0:this.a.typeid===s.m.Boolean&&(e=this.a.get_ref_value(this.dyn)?1:0),this.insensitive_a&&this.insensitive_a.sts?(this.slider_disabled=this.insensitive_a.get_ref_value(this.dyn),this.insensitive_a.inverted&&(this.slider_disabled=!this.slider_disabled)):this.slider_disabled=!1,this.maxvalue_a.sts&&this.minvalue_a.sts&&(this.max_value=this.maxvalue_a.get_ref_value(this.dyn),this.min_value=this.minvalue_a.get_ref_value(this.dyn),this.max_value===this.maxvalue_a.oldValue&&this.min_value===this.minvalue_a.oldValue||Math.abs(this.max_value-this.min_value)>Number.MIN_VALUE&&(this.firstScan=!0),this.minvalue_a.oldValue=this.min_value,this.maxvalue_a.oldValue=this.max_value),this.firstScan)this.firstScan=!1;else{if(this.a.typeid===s.m.Float32&&Math.abs(this.old_value-e)<Number.MIN_VALUE)return;if((this.a.typeid===s.m.Int32||this.a.typeid===s.m.Boolean)&&e===this.old_value)return}this.old_value=e;let i=t.get_info();if(this.maxvalue_a.sts&&this.minvalue_a.sts&&this.max_value!==this.min_value||(this.max_value=i.max_value,this.min_value=i.min_value),i.min_position!==i.max_position&&this.dyn.graph.currentSlider!==t&&this.max_value!==this.min_value){let o=i.max_position-i.min_position,r=this.max_value-e;this.direction!==n.h.Right&&this.direction!==n.h.Up||(r=e-this.min_value),r=r/(this.max_value-this.min_value)*o,this.direction===n.h.Right||this.direction===n.h.Left?t.set_position(Object(s.q)(o-r,0,o),0):t.set_position(0,Object(s.q)(r,0,o))}})}action(t){return qt(this,void 0,void 0,function*(){if(this.slider_disabled)return 1;if("SliderMoveEnd"===t.event.type){let e=this.dyn.parseAttrName(this.release_attr);e&&e.name&&e.type===s.m.Boolean&&(e.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfoBoolean(e.name,1):e.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,e.name,1)),this.dyn.graph.currentSlider===t.object&&(this.dyn.graph.currentSlider=null)}else if("SliderMoveStart"===t.event.type){if(!this.dyn.graph.isAuthorized(this.dyn.access)||this.slider_disabled)return this.dyn.graph.ctx.setMoveRestrictions(n.B.Disable,0,0,null),this.dyn.graph.currentSlider=null,1;let e=t.object.get_info();this.direction===n.h.Right||this.direction===n.h.Left?this.dyn.graph.ctx.setMoveRestrictions(n.B.HorizontalSlider,e.max_position,e.min_position,t.object):this.dyn.graph.ctx.setMoveRestrictions(n.B.VerticalSlider,e.max_position,e.min_position,t.object),this.dyn.graph.currentSlider=t.object}else if("SliderMoved"===t.event.type){let e=t.object.get_info();if(e.min_position!==e.max_position){let i;switch(this.max_value&&this.min_value&&this.max_value!==this.min_value||(this.max_value=e.max_value,this.min_value=e.min_value),this.direction){case n.h.Down:i=e.max_position-t.object.ll.y;break;case n.h.Right:i=e.max_position-t.object.ll.x;break;case n.h.Left:i=t.object.ll.x-e.min_position;break;default:i=t.object.ll.y-e.min_position}i=i/(e.max_position-e.min_position)*(this.max_value-this.min_value)+this.min_value,i=Object(s.q)(i,this.min_value,this.max_value);let o,r=this.dyn.parseAttrName(this.attribute);if(null===r||""===r.name)return 1;o=r.type===s.m.Float32?i:r.type===s.m.Boolean?i>.5:Math.floor(i>0?i+.5:i-.5),r.database===ai.Gdh?this.dyn.graph.gdh.setObjectInfo(r.name,o,r.type):r.database===ai.Local&&this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,r.name,o)}}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.Slider:break;case Lt.Slider_attribute:this.attribute=t.consumeLine();break;case Lt.Slider_minvalue_attr:this.minvalue_attr=t.consumeLine();break;case Lt.Slider_maxvalue_attr:this.maxvalue_attr=t.consumeLine();break;case Lt.Slider_insensitive_attr:this.insensitive_attr=t.consumeLine();break;case Lt.Slider_release_attr:this.release_attr=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynSlider:",e),t.consumeLine()}}}}class Qe extends Jt{constructor(t){super(t,It.FastCurve),this.dyn_type1=Gt.FastCurve}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.FastCurve:break;case Lt.FastCurve_fast_object:this.fast_object=t.consumeLine();break;case Lt.FastCurve_curve_index1:this.curve_index1=t.consumeInt();break;case Lt.FastCurve_curve_index2:this.curve_index2=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynFastCurve:",e),t.consumeLine()}}}}class Ke extends Jt{constructor(t){super(t,It.PulldownMenu),this.items_text=new Array(32),this.items_dyn=new Array(32),this.menu_object=null,this.action_type1=Tt.PulldownMenu;for(let t=0;t<32;t++)this.items_dyn[t]=null}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("MenuActivated"===t.event.type){if(null===this.menu_object)return 1;let e=t;if(t.object===this.menu_object){if(this.items_dyn[e.item]){let t=new n.r(new MouseEvent("click"));return this.items_dyn[e.item].action(t)}}else for(let e=0;e<32;e++)this.items_dyn[e]&&0!=(this.items_dyn[e].action_type1&Tt.PulldownMenu)&&(yield this.items_dyn[e].action(t))}else if("MenuDelete"===t.event.type){if(null===this.menu_object)return 1;null!==t.object&&t.object!==this.menu_object||(this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null)}else if("click"===t.event.type&&0===t.event.button)if(this.menu_object){for(let e=0;e<32;e++)this.items_dyn[e]&&this.items_dyn[e].action_type1&Tt.PulldownMenu&&(yield this.items_dyn[e].action(t));this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null}else if(t.object){let e=new Array,i=1;for(let t=0;t<32;t++){if(e.push(new n.z),i&this.button_mask)if(e[t].occupied=!0,e[t].text=this.items_text[t],this.items_dyn[t].action_type1&Tt.PulldownMenu)e[t].type=n.A.PulldownMenu;else if(this.dyn.graph.isAuthorized(this.items_dyn[t].access)){if(e[t].type=n.A.Button,this.items_dyn[t].dyn_type1&Gt.Invisible){let i,o,r=null;for(let t=0;t<this.dyn.elements.length;t++)this.dyn.elements[t].dyn_type1===Gt.Invisible&&(r=this.dyn.elements[t]);if(r){let a=this.dyn.parseAttrName(r.attribute);if(a&&""!==a.name&&"$cmd("===a.name.substring(0,5)){let r=a.name.lastIndexOf(")");-1!==r&&(o=a.name.substring(5,r),o=this.dyn.graph.getCommand(o),i=this.dyn.graph.command(o),Object(s.r)(i)&&(e[t].type=n.A.ButtonDisabled))}}}}else e[t].type=n.A.ButtonDisabled;else e[t].occupied=!1;i<<=1}let o,r=0,a=0,l=0,_=0,c=1,u=0;o=0,Object(s.r)(o)?(_=3,r=h.a.TextHelvetica,u=n.j.LucidaSans,a=h.a.Line,l=h.a.LightGray):l!==h.a.No&&l!==h.a.Inherit||(l=h.a.LightGray),this.menu_object=new Ht(this.dyn.graph.ctx,"__Menu",e,t.object.ll.x,t.object.ur.y,t.object.ur.x-t.object.ll.x,h.a.Line,0,!0,!0,l,_,r,a,h.a.MediumGray,u),this.menu_object.set_scale(c,c,0,0,n.F.LowerLeft),this.dyn.graph.ctx.a.push(this.menu_object)}return 1})}open(t){for(;;){let e=t.consumeInt();if(e===Lt.End)return;if(e===Lt.PulldownMenu_button_mask)this.button_mask=t.consumeInt();else if(e>=Lt.PulldownMenu_items_text0&&e<=Lt.PulldownMenu_items_text31)this.items_text[e-Lt.PulldownMenu_items_text0]=t.consumeLine();else if(e>=Lt.PulldownMenu_items_dyn0&&e<=Lt.PulldownMenu_items_dyn31){let i=new Yt(this.dyn.graph);i.open(t),this.items_dyn[e-Lt.PulldownMenu_items_dyn0]=i}else e!==Lt.PulldownMenu&&(console.log("Syntax error in DynPulldownMenu:",e),t.consumeLine())}}}class Ze extends Jt{constructor(t){super(t,It.OptionMenu),this.update_a=null,this.items_text=new Array(32),this.items_enum=new Array(32),this.firstScan=!0,this.menu_object=null,this.action_type1=Tt.OptionMenu}connect(t){return qt(this,void 0,void 0,function*(){this.a=new Wt(this.dyn,this.attribute),yield this.a.connect(this.dyn),this.text_attribute&&this.update_attribute&&(this.update_a=new Wt(this.dyn,this.update_attribute),yield this.update_a.connect(this.dyn))})}disconnect(){this.a.disconnect(this.dyn),this.update_a&&this.update_a.disconnect(this.dyn)}scan(t){return qt(this,void 0,void 0,function*(){if(!this.a.sts)return;let e=!1;if(this.update_a&&this.update_a.sts){let t=this.dyn.getDig(this.update_a.p,this.update_a.typeid,this.update_a.bitmask,this.update_a.database);t=this.update_a.inverted?!t:t,this.firstScan?e=!1:this.update_a.oldValue!==t&&(e=!0),this.update_a.oldValue=t}let i=0;switch(this.a.typeid){case s.m.Float32:case s.m.UInt32:case s.m.Int32:{let t=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(t===this.oldValue)return;i=t,this.a.typeid===s.m.Float32&&(i=Math.floor(i)),this.oldValue=t;break}default:return}if(null===this.update_a||!this.update_a.sts){let e=this.items_enum.slice(0,32).indexOf(i);t.set_annotation(1,this.items_text[e]||"",!1)}})}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("click"===t.event.type&&0===t.event.button)if(null===this.menu_object){let e=new Array;if(null!==this.update_a&&this.update_a.sts)for(let t=0;t<32;t++)e.push(new n.z),t<this.text_size&&(e[t].text=this.items_text[t],e[t].type=n.A.Button),e[t].occupied=t<this.text_size;else{let t=1;for(let i=0;i<32;i++)e.push(new n.z),e[i].occupied=Boolean(t&this.button_mask),e[i].occupied&&(e[i].text=this.items_text[i],e[i].type=n.A.Button),t<<=1}let i=t.object.getAnnotationInfo(1);i?i.bg_color!==h.a.No&&i.bg_color!==h.a.Inherit||(i.bg_color=h.a.LightGray):i={size:2,drawtype:h.a.TextHelveticaBold,color:h.a.Line,bg_color:h.a.LightGray,type:0,font:0,scale:0},this.menu_object=new Ht(this.dyn.graph.ctx,"__Menu",e,t.object.ll.x,t.object.ur.y,t.object.ur.x-t.object.ll.x,h.a.Line,0,!0,!0,i.bg_color,i.size,i.drawtype,i.color,h.a.MediumGray,i.font),this.menu_object.set_scale(i.scale,i.scale,0,0,n.F.LowerLeft),this.dyn.graph.ctx.a.push(this.menu_object)}else this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null;else if("MenuActivated"===t.event.type){if(null===this.menu_object)return 1;if(t.object===this.menu_object){let e=this.dyn.parseAttrName(this.attribute);if(null===e||""===e.name)return 1;let i=null,o=t,r=this.items_enum[o.item];e.database===ai.Gdh?(this.dyn.graph.gdh.setObjectInfo(e.name,r,e.type),i=1):e.database===ai.Gdh&&(i=this.dyn.graph.ldb.setObjectInfo(this.dyn.graph,e.name,r)),(null===i||Object(s.r)(i))&&console.log("Option menu error: "+e.name)}}else if("MenuDelete"===t.event.type){if(null===this.menu_object)return 1;null!==t.object&&t.object!==this.menu_object||(this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null)}return 1})}open(t){for(;;){let e=t.consumeInt();if(e>=Lt.OptionMenu_items_text0&&e<=Lt.OptionMenu_items_text31)this.items_text[e-Lt.OptionMenu_items_text0]=t.consumeLine();else if(e>=Lt.OptionMenu_items_enum0&&e<=Lt.OptionMenu_items_enum31)this.items_enum[e-Lt.OptionMenu_items_enum0]=t.consumeInt();else switch(e){case Lt.OptionMenu:break;case Lt.OptionMenu_attribute:this.attribute=t.consumeLine();break;case Lt.OptionMenu_text_attribute:this.text_attribute=t.consumeLine();break;case Lt.OptionMenu_size_attribute:this.size_attribute=t.consumeLine();break;case Lt.OptionMenu_update_attribute:this.update_attribute=t.consumeLine();break;case Lt.OptionMenu_optionmenu_type:this.optionmenu_type=t.consumeInt();break;case Lt.OptionMenu_button_mask:this.button_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynOptionMenu:",e),t.consumeLine()}}}}class $e extends Ze{constructor(t){super(t),this.prio=It.AnalogText,this.dyn_type1=Gt.AnalogText}action(t){return qt(this,void 0,void 0,function*(){return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.AnalogText:break;case Lt.AnalogText_super:super.open(t);break;case Lt.End:return;default:console.log("Syntax error in DynAnalogText:",e),t.consumeLine()}}}}class ti extends Jt{constructor(t){super(t,It.SetValue),this.action_type1=Tt.SetValue}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.SetValue:break;case Lt.SetValue_attribute:this.attribute=t.consumeLine();break;case Lt.SetValue_value:this.value=t.consumeLine();break;case Lt.SetValue_instance:this.instance=t.consumeInt();break;case Lt.SetValue_instance_mask:this.instance_mask=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynSetValue:",e),t.consumeLine()}}}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(!(t.event instanceof MouseEvent)||0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type);else if("click"===t.event.type){if(this.dyn.action_type1&Tt.Confirm)return 1;let t=this.dyn.parseAttrName(this.attribute),e=this.dyn.graph,i=i=>e.ldb.setObjectInfo(e,t.name,i),o=i=>e.gdh.setObjectInfo(t.name,i,t.type);switch(t.type){case s.m.Float32:if(t.database===ai.Gdh)o(parseFloat(this.value.trim()));else if(t.database===ai.Local){let t=i(parseFloat(this.value.trim()));if(Object(s.r)(t))return console.log("setObjectInfoError "+t),0}break;case s.m.Int32:case s.m.UInt32:case s.m.Int16:case s.m.UInt16:case s.m.Int8:case s.m.UInt8:case s.m.Mask:case s.m.Enum:if(t.database===ai.Gdh)o(parseInt(this.value.trim(),10));else if(t.database===ai.Local){let t=i(parseInt(this.value.trim(),10));if(Object(s.r)(t))return console.log("setObjectInfoError "+t),0}break;case s.m.Boolean:if(t.database===ai.Gdh)o(Boolean(parseInt(this.value.trim(),10)));else if(t.database===ai.Local){let t=i(Boolean(parseInt(this.value.trim(),10)));if(Object(s.r)(t))return console.log("setObjectInfoError "+t),0}break;case s.m.String:if(t.database===ai.Gdh)o(this.value);else if(t.database===ai.Local){let t=i(this.value);if(Object(s.r)(t))return console.log("setObjectInfoError "+t),0}}}return 1})}}class ei extends Jt{constructor(t){super(t,It.MethodToolbar),this.action_type1=Tt.MethodToolbar}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.MethodToolbar:break;case Lt.MethodToolbar_method_object:this.method_object=t.consumeLine();break;case Lt.MethodToolbar_toolbar_type:this.toolbar_type=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynMethodToolbar:",e),t.consumeLine()}}}connect(t){return qt(this,void 0,void 0,function*(){this.o=t;let e=this.dyn.parseAttrName(this.method_object);if(!e||""===e.name)return;let i=yield Vt.get_xm_mask(e.name,this.dyn);console.log("Method mask: "+i.opmethods+" "+i.mntmethods);let o=i.opmethods,r=i.mntmethods,a=0,n=0;if(o&=~s.p.OpenObjectGraph,this.dyn.graph.isAuthorized(s.a.RtEventsBlock|s.a.System)||(a|=s.p.BlockEvents),this.dyn.graph.isAuthorized(s.a.RtNavigator|s.a.System|s.a.RtWrite|s.a.Maintenance|s.a.Process|s.a.Instrument)||(a|=s.p.Note),this.dyn.graph.isAuthorized(s.a.RtNavigator|s.a.System)||(n|=s.o.RtNavigator),this.dyn.graph.isAuthorized(s.a.RtPlc|s.a.System)||(n|=s.o.OpenTrace),this.toolbar_type===Ft.Simulate&&(o=0),this.o.configure(Et,Pt,Rt.Cnt,Bt.Cnt,o,r,a,n),i.store){let t=this.dyn.graph.gdh.setObjectInfoInt,o=e.name+".XttMethodsMask.OpMethods";t(o,i.opmethods),t(o=e.name+".XttMethodsMask.MntMethods",i.mntmethods),t(o=e.name+".XttMethodsMask.Flags",i.flags)}})}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if(t.event instanceof MouseEvent&&0!==t.event.button)return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type);else if("click"===t.event.type){let e,i=t;e=1===i.category?"Parent Object Graph"===Dt[i.idx]?"open graph/class/parent/instance="+this.method_object:'call method/method="'+Dt[i.idx]+'"/object='+this.method_object:'call method/method="'+zt[i.idx]+'"/object='+this.method_object,e=this.dyn.graph.getCommand(e),this.dyn.graph.command(e)}return 1})}}class ii extends Jt{constructor(t){super(t,It.MethodPulldownMenu),this.menu_object=null,this.action_type1=Tt.MethodPulldownMenu}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.MethodPulldownMenu:break;case Lt.MethodPulldownMenu_method_object:this.method_object=t.consumeLine();break;case Lt.MethodPulldownMenu_menu_type:this.menu_type=t.consumeInt();break;case Lt.End:return;default:console.log("Syntax error in DynMethodPulldownMenu:",e),t.consumeLine()}}}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("click"===t.event.type&&0===t.event.button){if(this.menu_object)this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null;else if(t.object){let t=this.dyn.parseAttrName(this.method_object),e=yield Vt.get_xm_mask(t.name,this.dyn);this.opmask=e.opmethods,this.mntmask=e.mntmethods;let i=0,o=0,r=new Array;this.opmask&=~s.p.OpenObjectGraph,this.dyn.graph.isAuthorized(s.a.RtEventsBlock|s.a.System)||(i|=s.p.BlockEvents),this.dyn.graph.isAuthorized(s.a.RtNavigator|s.a.System|s.a.RtWrite|s.a.Maintenance|s.a.Process|s.a.Instrument)||(i|=s.p.Note),this.dyn.graph.isAuthorized(s.a.RtNavigator|s.a.System)||(o|=s.o.RtNavigator),this.dyn.graph.isAuthorized(s.a.RtPlc|s.a.System)||(o|=s.o.OpenTrace);let a=0;for(let t=0;t<32;t++)r.push(new n.z),r[t].occupied=!1;for(let t=0;t<Rt.Cnt&&!(a>=32);t++)""!==Dt[t]&&(this.menu_type!==Ot.Help||Rt.Helpmask&1<<t)&&this.menu_type!==Ot.Simulate&&this.opmask&1<<t&&(r[a].type=n.A.Button,r[a].text=Dt[t],r[a].occupied=!0,i&1<<t&&(r[a].type=n.A.ButtonDisabled),a++);for(let t=0;t<Bt.Cnt&&!(a>=32);t++)""!==zt[t]&&(this.menu_type!==Ot.Help||Bt.Helpmask&1<<t)&&this.mntmask&1<<t&&(r[a].type=n.A.Button,r[a].text=zt[t],r[a].occupied=!0,o&1<<t&&(r[a].type=n.A.ButtonDisabled),a++);let l=0,_=0,c=0,u=1,d=0,m=0;Object(s.r)(m)&&(c=3,l=h.a.TextHelvetica,d=n.j.LucidaSans,_=h.a.Line);let w=h.a.LightGray;if(this.menu_object=new Ht(this.dyn.graph.ctx,"__Menu",r,this.o.ll.x,this.o.ur.y,this.o.ur.x-this.o.ll.x,h.a.Line,0,!0,!0,w,c,l,_,h.a.MediumGray,d),this.dyn.graph.ctx.a.push(this.menu_object),this.menu_object.set_scale(u,u,0,0,n.F.LowerLeft),e.store){let i=this.dyn.graph.gdh.setObjectInfoInt,o=t.name+".XttMethodsMask.OpMethods";i(o,e.opmethods),i(o=t.name+".XttMethodsMask.MntMethods",e.mntmethods),i(o=t.name+".XttMethodsMask.Flags",e.flags)}}}else if("MenuActivated"===t.event.type){if(null===this.menu_object)return 1;if(t.object===this.menu_object){let e,i=0,o=!1;for(let s=0;s<Rt.Cnt;s++){if(this.menu_type!==Ot.Help&&!(Rt.Helpmask&1<<s))continue;if(this.menu_type!==Ot.Simulate)continue;if(this.opmask&1<<s&&i++,t.item+1===i){let t='call method/method="'+Dt[s]+'"/object='+this.method_object;t=this.dyn.graph.getCommand(t),e=this.dyn.graph.command(t),o=!0;break}}if(!o)for(let s=0;s<Bt.Cnt;s++){if(this.menu_type===Ot.Help&&!(Bt.Helpmask&1<<s))continue;if(this.mntmask&1<<s&&i++,t.item+1===i){let t='call method/method="'+zt[s]+'"/object='+this.method_object;t=this.dyn.graph.getCommand(t),e=this.dyn.graph.command(t),o=!0;break}}}}else if("MenuDelete"===t.event.type){if(null===this.menu_object)return 1;null!==t.object&&t.object!==this.menu_object||(this.dyn.graph.ctx.a.remove(this.menu_object),this.menu_object=null)}return 1})}}class oi extends Jt{constructor(t){super(t,It.CatchSignal),this.signal_name="",this.action_type1=Tt.CatchSignal}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("Signal"===t.event.type&&t.signal_name===this.signal_name){let e=new n.r(new MouseEvent("click"));e.object=t.object;let i=yield this.dyn.action(e);if(i===n.k||i===n.m||i===n.l)return i}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.CatchSignal:break;case Lt.CatchSignal_signal_name:this.signal_name=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynCatchSignal:",e),t.consumeLine()}}}}class si extends Jt{constructor(t){super(t,It.EmitSignal),this.signal_name="",this.global=!1,this.action_type1=Tt.EmitSignal}action(t){return qt(this,void 0,void 0,function*(){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;if("mousedown"===t.event.type||"mouseup"===t.event.type)t.object.setColorInverse("mousedown"===t.event.type);else if(("click"===t.event.type||"keydown"===t.event.type&&"return"===t.event.key)&&this.global){let t="emit signal/signalname="+this.signal_name,e=this.dyn.graph.getCommand(t);this.dyn.graph.command(e)}return 1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.EmitSignal:break;case Lt.EmitSignal_signal_name:this.signal_name=t.consumeLine();break;case Lt.EmitSignal_global:this.global=t.consumeBool();case Lt.End:return;default:console.log("Syntax error in DynEmitSignal:",e),t.consumeLine()}}}}class ri extends Jt{constructor(t){super(t,It.PopupMenu),this.action_type1=Tt.PopupMenu}action(t){return qt(this,void 0,void 0,function*(){return this.dyn.graph.isAuthorized(this.dyn.access)?("mousedown"===t.event.type&&t.event.button,1):1})}open(t){for(;;){let e=t.consumeInt();switch(e){case Lt.PopupMenu:break;case Lt.PopupMenu_ref_object:this.ref_object=t.consumeLine();break;case Lt.End:return;default:console.log("Syntax error in DynPopupMenu:",e),t.consumeLine()}}}}var ai,ni=function(t,e,i,o){return new(i||(i=Promise))(function(s,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function n(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,n)}l((o=o.apply(t,e||[])).next())})};!function(t){t[t.Gdh=0]="Gdh",t[t.User=1]="User",t[t.Local=2]="Local",t[t.Ccm=3]="Ccm"}(ai||(ai={}));class li{constructor(t,e,i,o){this.valueFloat=0,this.valueInt=0,this.valueBoolean=!1,this.valueString=null,this.occupied=!0,this.refCount=0,this.name=e,this.typeId=i,this.refId=o,this.owner=t}ref(){this.refCount++}unref(){this.refCount--}}const _i={boolean:s.m.Boolean,float32:s.m.Float32,float64:s.m.Float64,char:s.m.Char,int8:s.m.Int8,int16:s.m.Int16,int32:s.m.Int32,int64:s.m.Int64,uint8:s.m.UInt8,uint16:s.m.UInt16,uint32:s.m.UInt32,uint64:s.m.UInt64,objid:s.m.Objid,time:s.m.Time,deltatime:s.m.DeltaTime,attrref:s.m.AttrRef,status:s.m.Status,netstatus:s.m.NetStatus,enum:s.m.Enum,mask:s.m.Mask,bit:s.m.Bit,string:s.m.String};class hi{constructor(){this.subscriptions=[],this.subscriptionCount=1,this.subscriptions[0]=null}refObjectInfo(t,e){let i=this.getTypeId(e),o=this.getName(e);if(!i)return 0;let s,r=this.nameToId(t,o);return-1===r?(r=this.subscriptionCount,s=new li(t,o,i,r),this.subscriptions[r]=s,this.subscriptionCount++):s=this.subscriptions[r],s.ref(),r}unrefObjectInfo(t){let e=this.subscriptions[t];e&&(e.unref(),e.getRefCount()<=0&&(this.subscriptions[t]=null))}getObjectRefInfo(t){let e=this.subscriptions[t];return e&&e.value||0}getObjectInfo(t,e){let i=this.getName(e),o=this.nameToId(t,i);return-1===o?new s.c(0,2):new s.c(this.subscriptions[o].value||0,1)}setObjectInfo(t,e,i){let o=this.getName(e),s=this.nameToId(t,o);return-1===s&&(this.refObjectInfo(t,e),s=this.subscriptionCount-1),this.subscriptions[s].value=i,1}toggleObjectInfo(t,e){let i=this.getName(e),o=this.nameToId(t,i);return-1===o?2:(this.subscriptions[o].value=!this.subscriptions[o].value,1)}nameToId(t,e){return this.subscriptions.findIndex(function(i){return null!==i&&t===i.owner&&e.toUpperCase()===i.name.toUpperCase()})}getName(t){"$local."===t.substring(0,7)&&(t=t.substring(7));let e=t.indexOf("##");return-1!==e?t.substring(0,e):t}getTypeId(t){let e,i=t.indexOf("##");if(i<0)return s.m.Boolean;i+=2;let o=t.indexOf("#",i);return e=o<0?t.substring(i).toUpperCase():t.substring(i,o).toUpperCase(),e=(e=(o=t.indexOf("#",i))<0?t.substring(i).toUpperCase():t.substring(i,o).toUpperCase()).toLowerCase(),_i.hasOwnProperty(e)?_i[e]:e.startsWith("string")?s.m.String:0}}class ci{constructor(t){this.scan_time=.6,this.fast_scan_time=.15,this.animation_scan_time=.15,this.slow_scan_cnt=0,this.fast_scan_cnt=0,this.ctxStack=new Array(10),this.ctxStackCnt=0,this.priv=0,this.appl=t,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(this.scan_time=1,this.fast_scan_time=1,this.animation_scan_time=1),this.nogdh=this.get_nogdh(),console.log("Nogdh:",this.nogdh),this.ctx=new pt(null),this.baseCtx=this.ctx,this.ctx.appl=this,this.ctx.owner=this.get_instance(),this.priv=Number(sessionStorage.getItem("pwr_privilege"));let e="http://"+s.f+"/"+this.get_filename(),i=new XMLHttpRequest,o=this.read_cb.bind(this);i.onload=function(){o(i.responseText)},i.onerror=function(){console.log("Error! Failed to fetch resource "+e)},i.open("GET",e,!0),i.send(),this.ldb=new hi,this.ldb.setObjectInfo(this,"$local.Demo-Ge-Dynamics-ScrollingText-ScrollingText.ActualValue##String80","ProviewR"),this.ldb.setObjectInfo(this,"$local.Demo-Ge-Subgraphs-DynamicAxis-Av2.ActualValue##Float32",100),this.ldb.setObjectInfo(this,"$local.Demo-Ge-Subgraphs-DynamicAxisArc-Av2.ActualValue##Float32",100)}get_nogdh(){let t=window.location.search.substring(1).split("&");return t.length>2&&"no"===t[2].substring(4)}get_instance(){let t=window.location.search.substring(1).split("&");return t.length>1?t[1].substring(9):""}get_filename(){let t=window.location.search.substring(1).split("&")[0].substring(6);return t.endsWith(".pwg")?t:t+".pwg"}read_cb(t){let e=new a.a(t);if(this.ctx===this.baseCtx){let t=e.str.split("\n");if("DefaultWidth"===t[0].substring(3,15)&&"DefaultHeight"===t[1].substring(3,16)){let t=parseInt(e.consumeLine().substring(16),10),i=parseInt(e.consumeLine().substring(17),10);this.ctx.gdraw.canvas.width=t,this.ctx.gdraw.canvas.height=i}}this.ctx.open(e),this.ctx.set_dirty();let i=this.ctx,o=t=>ni(this,void 0,void 0,function*(){let e=new n.r(t);e.x=(t.pageX-10+i.mw.offset.x)/i.mw.zoom_factor.x,e.y=(t.pageY-i.gdraw.offset_top+i.mw.offset.y)/i.mw.zoom_factor.y,yield i.event_handler(e)});this.ctx.gdraw.canvas.addEventListener("click",o),this.ctx.gdraw.canvas.addEventListener("mousedown",o),this.ctx.gdraw.canvas.addEventListener("mouseup",o),this.ctx.gdraw.canvas.addEventListener("mousemove",o),this.nogdh?(this.priv=5,this.ctx.traceConnect(),this.trace_cyclic()):this.gdh=new r.d(this.gdh_init_cb.bind(this))}gdh_init_cb(){this.priv||this.gdh.login("","").then(this.login_cb.bind(this)),this.ctx.traceConnect(),this.trace_cyclic()}login_cb(t){console.log("Login:",t.sts,t.value),this.priv=1&t.sts?t.value:0}trace_cyclic(){this.nogdh?this.trace_scan():this.gdh.getRefObjectInfoAll(this.trace_scan.bind(this))}trace_scan(){this.scan_time=this.ctx.scantime,this.fast_scan_time=this.ctx.fast_scantime,this.animation_scan_time=this.ctx.animation_scantime,this.ctx.traceScan(),this.ctx.set_dirty(),this.slow_scan_cnt++,this.slow_scan_cnt>=this.scan_time/this.animation_scan_time&&(this.slow_scan_cnt=0),this.fast_scan_cnt++,this.fast_scan_cnt>=this.fast_scan_time/this.animation_scan_time&&(this.fast_scan_cnt=0),this.timer=setTimeout(this.trace_cyclic.bind(this),1e3*this.animation_scan_time)}growUserdataOpen(t,e){if(e===n.G.Ctx||e===n.G.Node||e===n.G.NodeClass){if(e===n.G.Ctx&&"1"!==t.str[0])return null;let i=new Yt(this);return i.open(t),i}return null}event_handler(t){return ni(this,void 0,void 0,function*(){let e=!!t.object&&this.ctxPop(t.object.ctx);if("click"===t.event.type){if(!t.object||t.object.type()!==n.C.GrowMenu){let e=new n.s(new CustomEvent("MenuDelete"));e.type=n.i.Menu,e.object=null;for(let i=0;i<this.ctx.a.length;i++){let o=this.ctx.a[i];if((o.type()===n.C.GrowNode||o.type()===n.C.GrowGroup)&&o!==t.object){let t=o.userdata,i=this.ctx.a.length;if(t&&(yield t.action(e)),i!==this.ctx.a.length)break}}}if(null!==t.object){let e=t.object.userdata;e&&(yield e.action(t))}}else if("mousedown"!==t.event.type&&"mouseup"!==t.event.type&&"mousedoubleclick"!==t.event.type||0!==t.event.button){if("SliderMoveStart"===t.event.type||"SliderMoveEnd"===t.event.type||"SliderMoved"===t.event.type||"Signal"===t.event.type){if(null!==t.object){let e=t.object.userdata;e&&(yield e.action(t))}}else if("MenuActivated"===t.event.type||"MenuCreate"===t.event.type||"MenuDelete"===t.event.type)for(let e=0;e<this.ctx.a.length;e++){let i=this.ctx.a[e];if(i.type()===n.C.GrowNode||i.type()===n.C.GrowGroup){let e=i.userdata;if(e){let i=this.ctx.a.length;if((yield e.action(t))===n.m)return;if(i!==this.ctx.a.length)break}}}}else if(null!==t.object){let e=t.object.userdata;e&&(yield e.action(t))}e&&this.ctxPush()})}ctxPop(t){return this.ctx!==t&&(this.ctxStackCnt>=10?(console.log("** Graph ctx stack overflow"),!1):(this.ctxStack[this.ctxStackCnt]=this.ctx,this.ctxStackCnt++,this.ctx=t,!0))}ctxPush(){this.ctxStackCnt>0&&(--this.ctxStackCnt,this.ctx=this.ctxStack[this.ctxStackCnt])}setSubwindowSource(t,e,i){this.ctxStackCnt>0&&(this.ctx=this.ctxStack[this.ctxStackCnt-1]),this.ctx.setSubwindowSource(t,e,i)}stringToType(t){let e;return-1!==(e=t.indexOf("#"))&&(t=t.substring(0,e)),t=t.toLowerCase(),_i.hasOwnProperty(t)?_i[t]:t.startsWith("string")?s.m.String:0}stringToIndex(t){let e,i;if(-1!==(e=t.indexOf("["))&&-1!==(i=t.indexOf("]"))&&i>e){let o=parseInt(t.substring(e+1,i),10);return isNaN(o)?(console.log("Element syntax error, "+t),1):o}return 1}parseAttrName(t){if(!t)return null;let e,i,o,r=new Xt,a=t.trim();if(-1!==(e=a.indexOf("$local."))){if(-1===(i=a.indexOf("#")))r.name=a.substring(e+1);else{r.name=a.substring(e+7,i);let t=a.substring(i).toUpperCase();r.type="##FLOAT32"===t?s.m.Float32:"##FLOAT64"===t?s.m.Float64:"##INT32"===t?s.m.Int32:"##BOOLEAN"===t?s.m.Boolean:s.m.String}return"!"===a.substring(0,1)?(a=(a=a.substring(1)).trim(),r.inverted=!0):r.inverted=!1,r.database=ai.Local,r.tname=t,r}if(-1!==(e=a.indexOf("$ccm."))){if(-1===(i=a.indexOf("#")))r.name=a.substring(e+1);else{r.name=a.substring(e+5,i);let t=a.substring(i).toUpperCase();r.type="##FLOAT32"===t?s.m.Float32:"##INT32"===t?s.m.Int32:"##BOOLEAN"===t?s.m.Boolean:s.m.String}return"!"===a.substring(0,1)?(a=(a=a.substring(1)).trim(),r.inverted=!0):r.inverted=!1,r.database=ai.Ccm,r.tname=String(r.name),r}if(-1!==(e=a.indexOf("$object"))&&null!==this.appl&&(a=a.substring(0,e)+this.ctx.owner+a.substring(e+7)),r.tname=String(a),-1===(e=a.indexOf("["))?-1!==(o=a.lastIndexOf("#"))&&"#"!==a.charAt(o-1)?(r.elements=parseInt(a.substring(o+1),10),isNaN(r.elements)&&(r.elements=1),a=a.substring(0,o)):r.elements=1:(r.index=this.stringToIndex(a),r.elements=1),-1===(i=a.indexOf("##")))r.type=0;else{if("bit"===a.toLowerCase().substring(i+2,i+5)){let t=a.substring(i+2),e=this.stringToIndex(t);r.bitmask=1<<e,a=a.substring(0,i+5)}r.type=this.stringToType(a.substring(i+2)),a=a.substring(0,i)}return"!"===a.substring(0,1)?(a=(a=a.substring(1)).trim(),r.inverted=!0,r.tname=r.tname.substring(1),r.tname=r.tname.trim()):r.inverted=!1,r.database=ai.Gdh,r.name=a,r}isAuthorized(t){return!!(this.priv&t)}traceConnect(t){let e=!1;if(t.ctx!==this.ctx&&(e=this.ctxPop(t.ctx)),!t.userdata)return void(e&&this.ctxPush());let i=t.userdata;if(t.type()===n.C.GrowNode){if(t.getClassDynType1()&Gt.HostObject&&i.dyn_type1&Gt.Inherit||i.dyn_type1&Gt.HostObject){let e=t.getClassUserData();if(i.setTotal(null),null!==e){let o=i;(i=new Yt(this)).merge(o),i.total_dyn_type1|=Gt.HostObject,i.merge(e),o.cycle!==n.e.Inherit&&(i.cycle=o.cycle),(o.action_type1!==Tt.Inherit||o.action_type2)&&(i.access=o.access),t.userdata=i,i.setTotal(t)}}}i.connect(t),e&&this.ctxPush()}traceDisconnect(t){t.userdata&&t.userdata.disconnect(t)}traceScan(t){if(t.userdata){let e=t.userdata;if(e.cycle===n.e.Inherit)return 1;if(e.cycle===n.e.Slow&&this.slow_scan_cnt&&!(e.total_dyn_type1&Gt.Animation||e.total_dyn_type2&kt.ScrollingText))return 1;if(e.cycle===n.e.Fast&&this.fast_scan_cnt&&!(e.total_dyn_type1&Gt.Animation||e.total_dyn_type2&kt.ScrollingText))return 1;e.scan(t)}}openValueInputDialog(t,e,i){let o=prompt(e,"");o&&t.valueInputAction(i,o)}openConfirmDialog(t,e){this.appl&&this.appl.openConfirmDialog(t,e)}getAnimationScanTime(){return Math.min(this.scan_time,this.animation_scan_time)}command(t){return this.appl?this.appl.command(t):0}script(t){return this.appl?this.appl.script(t):0}getCommand(t){let e,i=t;for(;-1!==(e=i.indexOf("$object"));)null!==this.appl&&(i=i.substring(0,e)+this.ctx.owner+i.substring(e+7));return i}}class ui{constructor(t,e){this.command=t,this.qualifier=e}}var di,mi;!function(t){t[t.SUCCESS=1]="SUCCESS",t[t.SYNTAX_ERROR=2]="SYNTAX_ERROR",t[t.UNKNOWN_COMMAND=4]="UNKNOWN_COMMAND",t[t.VERB_VECT_SIZE=5]="VERB_VECT_SIZE",t[t.QUALNOTFOUND=6]="QUALNOTFOUND"}(di||(di={})),function(t){t[t.INIT=0]="INIT",t[t.VERB=1]="VERB",t[t.QUAL=2]="QUAL",t[t.QUALVALUE=3]="QUALVALUE",t[t.SPACE=4]="SPACE",t[t.EQUAL=5]="EQUAL",t[t.ERROR=6]="ERROR",t[t.QUOTE_VERB=7]="QUOTE_VERB",t[t.QUOTE_QUALVALUE=8]="QUOTE_QUALVALUE",t[t.QUALVALUE_EXACT=9]="QUALVALUE_EXACT",t[t.VERB_EXACT=10]="VERB_EXACT"}(mi||(mi={}));class wi{constructor(t){this.verb=new Array,this.qualifier=new Array,this.qualValue=new Array,this.cliQualifierIndex=new Array,this.cliTable=t}getStsString(){switch(this.status){case di.SUCCESS:return"Success";case di.SYNTAX_ERROR:return"Syntax error";case di.UNKNOWN_COMMAND:return"Unknown command verb";case di.QUALNOTFOUND:return"Unknown qualifier";default:return"Unknown command interpreter error"}}parse(t){let e=mi.INIT,i=0;this.status=di.SUCCESS;let o=0;for(o=0;o<t.length;o++){let s=t.charAt(o);switch(e){case mi.INIT:if(" "===s||"\t"===s)break;e=mi.VERB,i=o;break;case mi.SPACE:if(" "===s||"\t"===s)break;if("/"===s)e=mi.QUAL,i=o;else if("="===s){if(0===this.qualifier.length){e=mi.ERROR,this.status=di.SYNTAX_ERROR;break}e=mi.EQUAL}else{if('"'===s){e=mi.QUOTE_VERB;break}e=mi.VERB,i=o}break;case mi.VERB:if(" "===s||"\t"===s){if(this.verb.length===di.VERB_VECT_SIZE){e=mi.ERROR;break}0===this.verb.length?this.verb.push(t.substring(i,o).toUpperCase()):this.verb.push(t.substring(i,o)),e=mi.SPACE}else if("/"===s){if(this.verb.length===di.VERB_VECT_SIZE){e=mi.ERROR;break}this.verb.push(t.substring(i,o).toUpperCase()),e=mi.QUAL,i=o}break;case mi.VERB_EXACT:if('"'===s){if(this.verb.length===di.VERB_VECT_SIZE){e=mi.ERROR;break}this.verb.push(t.substring(i,o)),e=mi.SPACE}break;case mi.QUAL:" "===s||"\t"===s?(this.qualifier.push(t.substring(i,o).toUpperCase()),e=mi.SPACE):"="===s?(this.qualifier.push(t.substring(i,o).toUpperCase()),e=mi.EQUAL):"/"===s&&(this.qualifier.push(t.substring(i,o).toUpperCase()),e=mi.QUAL,i=o);break;case mi.QUALVALUE:" "===s||"\t"===s?(this.qualValue[this.qualifier.length-1]=t.substring(i,o),e=mi.SPACE):"/"===s&&(this.qualValue[this.qualifier.length-1]=t.substring(i,o),e=mi.QUAL,i=o);break;case mi.QUALVALUE_EXACT:'"'===s&&(this.qualValue[this.qualifier.length-1]=t.substring(i,o),e=mi.SPACE);break;case mi.QUOTE_VERB:e=mi.VERB_EXACT,i=o;break;case mi.QUOTE_QUALVALUE:e=mi.QUALVALUE_EXACT,i=o;break;case mi.EQUAL:if(" "===s||"\t"===s)break;'"'===s?e=mi.QUOTE_QUALVALUE:(e=mi.QUALVALUE,i=o)}if(e===mi.ERROR)break}switch(e){case mi.INIT:case mi.ERROR:return"";case mi.VERB:if(this.verb.length===di.VERB_VECT_SIZE){e=mi.ERROR;break}0===this.verb.length?this.verb.push(t.substring(i,o).toUpperCase()):this.verb.push(t.substring(i,o));break;case mi.VERB_EXACT:if(this.verb.length===di.VERB_VECT_SIZE){e=mi.ERROR;break}this.verb.push(t.substring(i,o));break;case mi.QUAL:this.qualifier.push(t.substring(i,o).toUpperCase());break;case mi.QUALVALUE:case mi.QUALVALUE_EXACT:this.qualValue[this.qualifier.length-1]=t.substring(i,o);break;case mi.QUOTE_VERB:case mi.QUOTE_QUALVALUE:case mi.EQUAL:return this.status=di.SYNTAX_ERROR,""}if(0===this.verb.length)return this.status=di.SYNTAX_ERROR,"";let s=!1;for(o=0;o<this.cliTable.length;o++)if(!(this.verb[0].length>this.cliTable[o].command.length)&&this.verb[0]===this.cliTable[o].command.substring(0,this.verb[0].length)){this.verb[0]=this.cliTable[o].command,s=!0;break}if(!s)return this.status=di.UNKNOWN_COMMAND,"";if(this.cliTableIndex=o,this.configuredVerbs=0,this.cliTable[this.cliTableIndex].qualifier){for(let t=0;t<this.cliTable[this.cliTableIndex].qualifier.length&&null!==this.cliTable[this.cliTableIndex].qualifier[t];t++)this.cliTable[this.cliTableIndex].qualifier[t].startsWith("cli_arg")&&this.configuredVerbs++;for(let t=0;t<this.qualifier.length;t++){s=!1;for(let e=0;e<this.cliTable[this.cliTableIndex].qualifier.length&&null!==this.cliTable[this.cliTableIndex].qualifier[e];e++)this.qualifier[t].length>this.cliTable[this.cliTableIndex].qualifier[e].length||this.qualifier[t]===this.cliTable[this.cliTableIndex].qualifier[e].substring(0,this.qualifier[t].length)&&(this.cliQualifierIndex[t]=e,s=!0,this.qualifier[t]=this.cliTable[this.cliTableIndex].qualifier[e]);if(!s)return this.status=di.QUALNOTFOUND,""}}else if(this.qualifier.length>0)return this.status=di.QUALNOTFOUND,"";return this.verb[0]}qualifierFound(t){if(t.startsWith("cli_arg")){let e=Number.parseInt(t.substring(7),10);return!(this.verb.length<e+1||this.configuredVerbs<e)}for(let e=0;e<this.qualifier.length;e++)if(t===this.qualifier[e])return!0;return!1}getQualValue(t){if(t.startsWith("cli_arg")){let e=Number.parseInt(t.substring(7),10);return this.verb.length<e+1||this.configuredVerbs<e?"":this.verb[e]}for(let e=0;e<this.qualifier.length;e++)if(t===this.qualifier[e])return this.qualValue[e]||"";return""}}i.d(e,"default",function(){return bi});let fi=[new ui("OPEN",["cli_arg1","cli_arg2","/NAME","/FILE","/SCROLLBAR","/WIDTH","/HEIGHT","/MENU","/NAVIGATOR","/CENTER","/OBJECT","/INSTANCE","/NEW","/CLASSGRAPH","/ACCESS","/PARENT"]),new ui("EXIT",null),new ui("HELP",["cli_arg1","cli_arg2","cli_arg3","cli_arg4","/HELPFILE","/POPNAVIGATOR","/BOOKMARK","/INDEX","/BASE","/RETURNCOMMAND","/WIDTH","/HEIGHT","/VERSION"]),new ui("SET",["cli_arg1","cli_arg2","/NAME","/VALUE","/BYPASS","/SOURCE","/OBJECT"]),new ui("EXAMPLE",["/NAME","/HIERARCHY"]),new ui("CHECK",["cli_arg1","/METHOD","/OBJECT"]),new ui("CALL",["cli_arg1","/METHOD","/OBJECT"]),new ui("SET",["cli_arg1","dcli_arg2","/CONTINUE"])];class bi{constructor(){this.graph=new ci(this)}command(t){if(console.log("Command: "+t),!this.graph.isAuthorized(s.a.AllRt))return console.log("Not authorized"),0;if("@"===t.charAt(0))return 1;let e=new wi(fi),i=e.parse(t);if(Object(s.s)(e.status)){let t=t=>e.qualifierFound(t)?e.getQualValue(t):null;if("OPEN"===i){let i=t("cli_arg1");if(i){let o="JGRAPH",s="GRAPH",a="URL",n="TREND",l="FAST";if(i=i.toUpperCase(),o.length>=i.length&&o.substring(0,i.length)===i)console.log('Command is not implemented, "OPEN JGRAPH"');else if(s.length>=i.length&&s.substring(0,i.length)===i){if(t("/OBJECT"))return 1;let i=t("/INSTANCE"),o=!1;if(i){if(o=e.qualifierFound("/CLASSGRAPH"),e.qualifierFound("/PARENT")){let t=i.lastIndexOf(".");t>0&&(i=i.substring(0,t)),console.log("open graph /parent: "+i)}}if(o)console.log("Cmd classGraph"),this.graph.gdh.getObjectFromName(i,r.f.GET_OP_METHOD_OBJECTGRAPH).then(this.open_objectgraph_cb);else{let t=e.getQualValue("cli_arg2").toLowerCase();if(!t)return console.log("Syntax error"),0;(t=t.toLowerCase()).endsWith(".pwg")||(t+=".pwg");let o="ge.html?graph="+t;i&&(o+="&instance="+i),this.graph.nogdh&&(o+="&gdh=no"),console.log("Cmd found: open graph",t,i);window.open(o,"_blank")}}else if(a.length>=i.length&&a.substring(0,i.length)===i){let t=e.getQualValue("cli_arg2");["pwrb","pwrs","nmps","profibus","otherio","opc","basecomponent","abb","siemens","ssabox"].some(e=>t.startsWith(e+"_"))&&(t="$pwr_doc/en_us/orm/"+t),console.log("open url "+t),window.open(t,"_blank")}else n.length>=i.length&&n.substring(0,i.length)===i?console.log("Cmd open trend"):l.length>=i.length&&l.substring(0,i.length)===i?console.log("Cmd open fast"):"HELP"===i&&console.log("Cmd help")}}else if("SET"===i){let e=t("cli_arg1");if(e){e=e.toUpperCase();let i="SUBWINDOW";if(i.length>=e.length&&i.substring(0,e.length)===e){let e=t("/NAME");if(!e)return console.log("Cmd: Name is missing\n"),0;let i=t("/SOURCE");if(!i)return console.log("Cmd: source is missing\n"),0;let o=t("/OBJECT"),s=t("cli_arg2");if(!s)return console.log("Syntax error"),0;s=s.toLowerCase(),-1===i.indexOf(".")&&(i+=".pwg"),this.graph.setSubwindowSource(e,i,o)}}}else if("HELP"===i){let i="xtt_help_",o=null;if(e.qualifierFound("/VERSION"))i=window.location.hostname+"/pwr_doc/xtt_version_help_version.html",window.open(i,"_blank");else{e.qualifierFound("/BASE")&&(i="/pwr_doc/help/xtt_help_");for(let e=0;e<4;e++){let o=t("cli_arg"+String(e+1));i+=o?o.toLowerCase():""}["pwrb","pwrs","nmps","profibus","otherio","opc","basecomponent","abb","siemens","ssabox"].some(t=>i.startsWith(t+"_"))&&(i="/pwr_doc/orm/"+i),o=t("/BOOKMARK"),i+=".html",console.log('Loading helpfile "'+i+'"'),window.open("http://"+s.f+"/"+i,"_blank")}}else{if("CHECK"!==i)return console.log("JopSpider: Parse error "+e.getStsString()),0;{let e=t("cli_arg1");if(e){let i="METHOD",o="ISATTRIBUTE";if(e=e.toUpperCase(),i.length>=e.length&&i.substring(0,e.length)===e){if(!t("/METHOD"))return console.log("Cmd: Method is missing\n"),0;if(!t("/OBJECT"))return console.log("Cmd: Object is missing\n"),0}else if(o.length>=e.length&&o.substring(0,e.length)===e){if(!t("/OBJECT"))return console.log("Cmd: Object is missing\n"),0}}else if("CALL"===e){let e=t("cli_arg1");if(e){let i="METHOD";if(e=e.toUpperCase(),i.length>=e.length&&i.substring(0,e.length)===e){if(!t("/METHOD"))return console.log("Cmd: Method is missing\n"),0;if(!t("/OBJECT"))return console.log("Cmd: Object is missing\n"),0}}}else if("SET"===e)return 1}}}return 1}script(t){console.log("Appl.script",t)}openConfirmDialog(t,e){confirm(e)&&t.confirmedAction(new MouseEvent("click",{button:0,buttons:1}))}open_objectgraph_cb(t){let e=window.open("","_blank");if(Object(s.r)(t.sts))e.document.write("Error status "+t.sts);else{let i=t.value;console.log("param1",i.param1),e.location.href="ge.html?graph="+i.param1+"&instance="+i.fullname,e.document.title=i.param1+" "+i.fullname}}}new bi}]);
