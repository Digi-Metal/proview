"use strict";function PwrtStatus(t){this.sts=t,this.evenSts=function(){return t%2==0},this.oddSts=function(){return t%2==1},this.getSts=function(){return t}}Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e});var Pwr={eType_Boolean:98305,eType_Float32:98306,eType_Float64:98307,eType_Char:98308,eType_Int8:98309,eType_Int16:98310,eType_Int32:98311,eType_UInt8:98312,eType_UInt16:98313,eType_UInt32:98314,eType_Objid:98315,eType_Buffer:98316,eType_String:98317,eType_Enum:98318,eType_Struct:98319,eType_Mask:98320,eType_Array:98321,eType_Time:98322,eType_Text:98323,eType_AttrRef:98324,eType_UInt64:98325,eType_Int64:98326,eType_ClassId:98327,eType_TypeId:98328,eType_VolumeId:98329,eType_ObjectIx:98330,eType_RefId:98331,eType_DeltaTime:98332,eType_Status:98333,eType_NetStatus:98334,eType_CastId:98335,eType_ProString:98336,eType_DisableAttr:98337,eType_DataRef:98338,mPrv_RtRead:1,mPrv_RtWrite:2,mPrv_System:4,mPrv_Maintenance:8,mPrv_Process:16,mPrv_Instrument:32,mPrv_Operator1:64,mPrv_Operator2:128,mPrv_Operator3:256,mPrv_Operator4:512,mPrv_Operator5:1024,mPrv_Operator6:2048,mPrv_Operator7:4096,mPrv_Operator8:8192,mPrv_Operator9:16384,mPrv_Operator10:32768,mPrv_RtEventsAck:1<<18,mPrv_RtPlc:1<<19,mPrv_RtNavigator:1<<20,mPrv_DevRead:1<<21,mPrv_DevPlc:1<<22,mPrv_DevConfig:1<<23,mPrv_DevClass:1<<24,mPrv_RtEventsBlock:1<<25,mPrv_Administrator:1<<26,mPrv_SevRead:1<<27,mPrv_SevAdmin:1<<28,mAccess_RtRead:1,mAccess_RtWrite:2,mAccess_System:4,mAccess_Maintenance:8,mAccess_Process:16,mAccess_Instrument:32,mAccess_RtEventsBlock:1<<25,mAccess_RtEventsAck:1<<18,mAccess_RtPlc:1<<19,mAccess_RtNavigator:1<<20,mAccess_AllRt:35454975,mAccess_AllOperators:65472,mAccess_AllPwr:-1,mAdef_pointer:1,mAdef_array:2,mAdef_backup:4,mAdef_changelog:8,mAdef_state:16,mAdef_const:32,mAdef_rtvirtual:64,mAdef_devbodyref:128,mAdef_dynamic:256,mAdef_publicwrite:512,mAdef_noedit:1024,mAdef_invisible:2048,mAdef_refdirect:4096,mAdef_noinvert:8192,mAdef_noremove:16384,mAdef_rtdbref:32768,mAdef_private:65536,mAdef_class:131072,mAdef_superclass:262144,mAdef_buffer:524288,mAdef_nowbl:1048576,mAdef_alwayswbl:2097152,mAdef_disableattr:4194304,mAdef_rthide:8388608},Pwrb={mXttMethodsFlagsMask_IsConfigured:1,mXttOpMethodsMask_OpenGraph:1,mXttOpMethodsMask_OpenObjectGraph:2,mXttOpMethodsMask_OpenTrend:4,mXttOpMethodsMask_OpenHistory:8,mXttOpMethodsMask_OpenFast:16,mXttOpMethodsMask_Camera:32,mXttOpMethodsMask_HistEvent:64,mXttOpMethodsMask_BlockEvents:128,mXttOpMethodsMask_Help:256,mXttOpMethodsMask_Photo:512,mXttOpMethodsMask_Note:1024,mXttOpMethodsMask_ParentObjectGraph:2048,mXttMntMethodsMask_OpenObject:1,mXttMntMethodsMask_OpenTrace:2,mXttMntMethodsMask_RtNavigator:4,mXttMntMethodsMask_OpenCrossref:8,mXttMntMethodsMask_HelpClass:16,mXttMntMethodsMask_DataSheet:32,mXttMntMethodsMask_CircuitDiagram:64,mXttMntMethodsMask_Simulate:1<<31};function PwrtObjid(t,e){this.oix=e,this.vid=t}function PwrtAttrRef(){this.objid,this.offset,this.body,this.size,this.flags}function CdhrNumber(t,e){this.value=t,this.sts=e,this.evenSts=function(){return e%2==0},this.oddSts=function(){return e%2==1},this.getSts=function(){return e}}var CdhC={cUserVolMin:65793,cUserVolMax:16711422};function UserdataCbReturn(){this.userdata,this.row}function CliTable(t,e){this.command=t,this.qualifier=e}var CliC={SUCCESS:1,SYNTAX_ERROR:2,UNKNOWN_COMMAND:4,QUALNOTFOUND:6,VERB_VECT_SIZE:5,STATE_INIT:0,STATE_VERB:1,STATE_QUAL:2,STATE_QUALVALUE:3,STATE_SPACE:4,STATE_EQUAL:5,STATE_ERROR:6,STATE_QUOTE_VERB:7,STATE_QUOTE_QUALVALUE:8,STATE_QUALVALUE_EXACT:9,STATE_VERB_EXACT:10,TAB:"\t",SPACE:" "};function Cli(t){this.verb=new Array(CliC.VERB_VECT_SIZE),this.verbCount=0,this.qualifier=new Array(30),this.qualValue=new Array(30),this.qualifierCount=0,this.status,this.cliTableIndex,this.cliQualifierIndex=new Array(30),this.configuredVerbs,this.cliTable=t,this.getStsString=function(){switch(this.status){case CliC.SUCCESS:return"Success";case CliC.SYNTAX_ERROR:return"Syntax error";case CliC.UNKNOWN_COMMAND:return"Unknown command verb";case CliC.QUALNOTFOUND:return"Unknown qualifier";default:return"Unknown command interpreter error"}},this.evenSts=function(){return this.status%2==0},this.oddSts=function(){return this.status%2!=0},this.parse=function(t){var e,i=CliC.STATE_INIT,a=0;for(this.status=CliC.SUCCESS,this.verbCount=0,e=this.qualifierCount=0;e<t.length;e++){var s=t.charAt(e);switch(i){case CliC.STATE_INIT:if(s==CliC.SPACE||s==CliC.TAB)break;i=CliC.STATE_VERB,a=e;break;case CliC.STATE_SPACE:if(s==CliC.SPACE||s==CliC.TAB)break;if("/"==s)i=CliC.STATE_QUAL,a=e;else if("="==s){if(0===this.qualifierCount){i=CliC.STATE_ERROR,this.status=CliC.SYNTAX_ERROR;break}i=CliC.STATE_EQUAL}else{if('"'==s){i=CliC.STATE_QUOTE_VERB;break}i=CliC.STATE_VERB,a=e}break;case CliC.STATE_VERB:if(s==CliC.SPACE||s==CliC.TAB){if(this.verbCount==CliC.VERB_VECT_SIZE){i=CliC.STATE_ERROR;break}0===this.verbCount?this.verb[this.verbCount++]=t.substring(a,e).toUpperCase():this.verb[this.verbCount++]=t.substring(a,e),i=CliC.STATE_SPACE}else if("/"==s){if(this.verbCount==CliC.VERB_VECT_SIZE){i=CliC.STATE_ERROR;break}this.verb[this.verbCount++]=t.substring(a,e).toUpperCase(),i=CliC.STATE_QUAL,a=e}break;case CliC.STATE_VERB_EXACT:if('"'==s){if(this.verbCount==CliC.VERB_VECT_SIZE){i=CliC.STATE_ERROR;break}this.verb[this.verbCount++]=t.substring(a,e),i=CliC.STATE_SPACE}break;case CliC.STATE_QUAL:s==CliC.SPACE||s==CliC.TAB?(this.qualifier[this.qualifierCount++]=t.substring(a,e).toUpperCase(),i=CliC.STATE_SPACE):"="==s?(this.qualifier[this.qualifierCount++]=t.substring(a,e).toUpperCase(),i=CliC.STATE_EQUAL):"/"==s&&(this.qualifier[this.qualifierCount++]=t.substring(a,e).toUpperCase(),i=CliC.STATE_QUAL,a=e);break;case CliC.STATE_QUALVALUE:s==CliC.SPACE||s==CliC.TAB?(this.qualValue[this.qualifierCount-1]=t.substring(a,e),i=CliC.STATE_SPACE):"/"==s&&(this.qualValue[this.qualifierCount-1]=t.substring(a,e),i=CliC.STATE_QUAL,a=e);break;case CliC.STATE_QUALVALUE_EXACT:'"'==s&&(this.qualValue[this.qualifierCount-1]=t.substring(a,e),i=CliC.STATE_SPACE);break;case CliC.STATE_QUOTE_VERB:i=CliC.STATE_VERB_EXACT,a=e;break;case CliC.STATE_QUOTE_QUALVALUE:i=CliC.STATE_QUALVALUE_EXACT,a=e;break;case CliC.STATE_EQUAL:if(s==CliC.SPACE||s==CliC.TAB)break;'"'==s?i=CliC.STATE_QUOTE_QUALVALUE:(i=CliC.STATE_QUALVALUE,a=e)}if(i==CliC.STATE_ERROR)break}switch(i){case CliC.STATE_INIT:case CliC.STATE_ERROR:return"";case CliC.STATE_VERB:if(this.verbCount==CliC.VERB_VECT_SIZE){i=CliC.STATE_ERROR;break}0===this.verbCount?this.verb[this.verbCount++]=t.substring(a,e).toUpperCase():this.verb[this.verbCount++]=t.substring(a,e);break;case CliC.STATE_VERB_EXACT:if(this.verbCount==CliC.VERB_VECT_SIZE){i=CliC.STATE_ERROR;break}this.verb[this.verbCount++]=t.substring(a,e);break;case CliC.STATE_QUAL:this.qualifier[this.qualifierCount++]=t.substring(a,e).toUpperCase();break;case CliC.STATE_QUALVALUE:case CliC.STATE_QUALVALUE_EXACT:this.qualValue[this.qualifierCount-1]=t.substring(a,e);break;case CliC.STATE_QUOTE_VERB:case CliC.STATE_QUOTE_QUALVALUE:case CliC.STATE_EQUAL:return this.status=CliC.SYNTAX_ERROR,""}if(0===this.verbCount)return this.status=CliC.SYNTAX_ERROR,"";var o=!1;for(e=0;e<this.cliTable.length;e++)if(!(this.verb[0].length>this.cliTable[e].command.length)&&this.verb[0]==this.cliTable[e].command.substring(0,this.verb[0].length)){this.verb[0]=this.cliTable[e].command,o=!0;break}if(!o)return this.status=CliC.UNKNOWN_COMMAND,"";if(this.cliTableIndex=e,this.configuredVerbs=0,null!==this.cliTable[this.cliTableIndex].qualifier){for(e=0;e<this.cliTable[this.cliTableIndex].qualifier.length&&null!==this.cliTable[this.cliTableIndex].qualifier[e];e++)"cli_arg1"==this.cliTable[this.cliTableIndex].qualifier[e]&&this.configuredVerbs++,"cli_arg2"==this.cliTable[this.cliTableIndex].qualifier[e]&&this.configuredVerbs++,"cli_arg3"==this.cliTable[this.cliTableIndex].qualifier[e]&&this.configuredVerbs++,"cli_arg4"==this.cliTable[this.cliTableIndex].qualifier[e]&&this.configuredVerbs++,"cli_arg5"==this.cliTable[this.cliTableIndex].qualifier[e]&&this.configuredVerbs++;for(var r=0;r<this.qualifierCount;r++){for(o=!1,e=0;e<this.cliTable[this.cliTableIndex].qualifier.length&&null!==this.cliTable[this.cliTableIndex].qualifier[e];e++)this.qualifier[r].length>this.cliTable[this.cliTableIndex].qualifier[e].length||this.qualifier[r]==this.cliTable[this.cliTableIndex].qualifier[e].substring(0,this.qualifier[r].length)&&(this.cliQualifierIndex[r]=e,o=!0,this.qualifier[r]=this.cliTable[this.cliTableIndex].qualifier[e]);if(!o)return this.status=CliC.QUALNOTFOUND,""}}else if(0<this.qualifierCount)return this.status=CliC.QUALNOTFOUND,"";return this.verb[0]},this.qualifierFound=function(t){if("cli_arg1"==t)return!(this.verbCount<2||this.configuredVerbs<1);if("cli_arg2"==t)return!(this.verbCount<3||this.configuredVerbs<2);if("cli_arg3"==t)return!(this.verbCount<4||this.configuredVerbs<3);if("cli_arg4"==t)return!(this.verbCount<5||this.configuredVerbs<4);for(var e=0;e<this.qualifierCount;e++)if(t==this.qualifier[e])return!0;return!1},this.getQualValue=function(t){if("cli_arg1"==t)return this.verbCount<2||this.configuredVerbs<1?"":this.verb[1];if("cli_arg2"==t)return this.verbCount<3||this.configuredVerbs<2?"":this.verb[2];if("cli_arg3"==t&&(this.verbCount<4||this.configuredVerbs<3))return this.verb[3];if("cli_arg4"==t)return this.verbCount<5||this.configuredVerbs<4?"":this.verb[4];for(var e=0;e<this.qualifierCount;e++)if(t==this.qualifier[e])return null===this.qualValue[e]?"":this.qualValue[e];return""}}function Sub(){this.sts,this.refid,this.type,this.elements,this.name,this.value}function ObjectInfo(){this.objid,this.cid,this.has_children,this.name,this.description,this.classname,this.full_name,this.param1}function AttributeInfo(){this.name,this.type,this.size,this.flags,this.element,this.objid,this.full_name,this.classname}function MenuButton(){this.type,this.text,this.name,this.url}function OpwindMenuInfo(){this.title,this.text,this.enable_language,this.enable_login,this.enable_alarmlist,this.enable_eventlog,this.enable_navigator,this.disable_help,this.disable_proview,this.language,this.buttons=[]}function CrrInfo(){this.type,this.objid,this.name,this.classname}function GlowPieInfo(){this.sector_num,this.min_val,this.max_val}function GlowBarChartInfo(){this.bars,this.barsegments,this.min_value,this.max_value}function GlowTableInfo(){this.columns,this.rows,this.column_size=new Array(Glow.TABLE_MAX_COL)}function PendingData(t,e){this.func_cb=t,this.data=e}var GdhOp={GET_OP_SELF:1,GET_OP_METHOD_PLC:2,GET_OP_METHOD_OBJECTGRAPH:3,GET_OP_METHOD_GRAPH:4,GET_OP_METHOD_HELPCLASS:5};function Gdh(){var A=1,P=2,R=3,O=4,E=5,z=6,L=7,j=9,F=10,N=15,B=25,U=26,V=29,H=36,X=39,W=42,q=50,Y=57,Q=63,Z=64,J=65,$=66,K=67,tt=68;this.debug=!1,this.pending=[],this.sub=[],this.PORT=4448,this.ws=null,this.open_cb=null,this.close_cb=null,this.return_cb=null,this.next_id=1234,this.subscriptionCount=1,this.listSend=!1,this.init=function(){""===window.location.hostname?this.ws=new WebSocket("ws:127.0.0.1:4448"):this.ws=new WebSocket("ws://"+window.location.hostname+":4448"),this.ws.binaryType="arraybuffer",(this.ws.gdh=this).ws.onopen=function(t){null!==this.gdh.open_cb&&this.gdh.open_cb()},this.ws.onclose=function(){this.debug&&console.log("Socket closed"),null!==this.gdh.close_cb&&this.gdh.close_cb()},this.ws.onmessage=function(t){if("string"==typeof t.data)console.log("String message received",t,t.data);else if(t.data instanceof ArrayBuffer){var e=new DataView(t.data),i=e.getUint8(0),a=e.getUint32(1),s=e.getUint32(5);switch(i){case E:this.gdh.debug&&console.log("GetObjectInfoBoolean received");var o=e.getUint8(9);(0,this.gdh.pending[a].func_cb)(a,s,o),delete this.gdh.pending[a];break;case L:this.gdh.debug&&console.log("GetObjectInfoInt received");o=e.getUint32(9);(I=this.gdh.pending[a]).func_cb(a,I.data,s,o),delete this.gdh.pending[a];break;case z:this.gdh.debug&&console.log("GetObjectInfoFloat received");o=e.getFloat32(9);(I=this.gdh.pending[a]).func_cb(a,I.data,s,o),delete this.gdh.pending[a];break;case Y:this.gdh.debug&&console.log("GetObjectInfoFloatArray received");var r=e.getInt32(9);o=new Array(r);d=13;for(var n=0;n<r;n++)o[n]=e.getFloat32(d),d+=4;(I=this.gdh.pending[a]).func_cb(a,I.data,s,o),delete this.gdh.pending[a];break;case A:this.gdh.debug&&console.log("SetObjectInfoBoolean received",a,s);break;case R:this.gdh.debug&&console.log("SetObjectInfoInt received",a,s);break;case P:this.gdh.debug&&console.log("SetObjectInfoFloat received",a,s);break;case O:this.gdh.debug&&console.log("SetObjectInfoString received",a,s);break;case j:this.gdh.debug&&console.log("ToggleObjectInfo received",a,s);break;case F:this.gdh.debug&&console.log("RefObjectInfo received",a,s),delete this.gdh.pending[a];break;case N:this.gdh.debug&&console.log("UnrefObjectInfo received",a,s),delete this.gdh.pending[a];break;case U:this.gdh.debug&&console.log("RefObjectInfoList received",a,s),(0,this.gdh.pending[a].func_cb)(a,s),delete this.gdh.pending[a];break;case B:var _=9,l=e.getUint32(_);this.gdh.debug&&console.log("GetObjectRefInfoAll received",a,l),_+=4;for(n=0;n<l;n++){var h=e.getUint32(_);_+=4;var c=e.getUint32(_);_+=4;var w=this.gdh.sub[h];if(void 0===w)_+=c;else{switch(w.type){case Pwr.eType_Boolean:if(w.elements<=1)o=e.getUint8(_),_+=1;else{(f=c)!=w.elements&&console.log("Subscription size error",f,w.elements,h),o=new Array(f);for(var d=0;d<f;d++)o[d]=e.getUint8(_),_+=1}break;case Pwr.eType_Float32:if(w.elements<=1)o=e.getFloat32(_),_+=4;else{(f=c/4)!=w.elements&&console.log("Subscription size error",f,w.elements,h),o=new Array(f);for(d=0;d<f;d++)o[d]=e.getFloat32(_),_+=4}break;case Pwr.eType_Int8:case Pwr.eType_Int16:case Pwr.eType_Int32:case Pwr.eType_UInt8:case Pwr.eType_UInt16:case Pwr.eType_UInt32:case Pwr.eType_Status:case Pwr.eType_NetStatus:case Pwr.eType_Mask:case Pwr.eType_Enum:case GraphIfc.eType_Bit:if(w.elements<=1)o=e.getInt32(_),_+=4;else{(f=c/4)!=w.elements&&console.log("Subscription size error",f,w.elements,h),o=new Array(f);for(d=0;d<f;d++)o[d]=e.getInt32(_),_+=4}break;case Pwr.eType_String:case Pwr.eType_Time:case Pwr.eType_DeltaTime:case Pwr.eType_AttrRef:case Pwr.eType_Objid:if(w.elements<=1){var u=e.getInt16(_);_+=2;var y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);o=String.fromCharCode.apply(null,y)}else{var f;(f=w.elements)!=w.elements&&console.log("Subscription size error",f,w.elements,h),o=new Array(f);for(var p=0;p<f;p++){u=e.getInt16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);o[p]=String.fromCharCode.apply(null,y)}}}this.gdh.sub[h].value=o}}if(void 0===this.gdh.pending[a]){console.log("** GetObjectRefInfoAll received removed",a);break}(0,this.gdh.pending[a].func_cb)(a,s),delete this.gdh.pending[a];break;case X:var m=[];_=9,l=e.getUint32(_);this.gdh.debug&&console.log("GetAllXttChildren received",a,l),console.log("GetAllXttChildren received",s,a,l),_+=4;for(n=0;n<l;n++){(b=new ObjectInfo).objid=new PwrtObjid,b.objid.vid=e.getUint32(_),_+=4,b.objid.oix=e.getUint32(_),_+=4,b.cid=e.getUint32(_),_+=4,b.has_children=0!==e.getUint16(_),_+=2;u=e.getUint16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);b.name=String.fromCharCode.apply(null,y);var v=e.getUint16(_);_+=2,y=new Uint8Array(v);for(d=0;d<v;d++)y[d]=e.getUint8(_++);b.description=String.fromCharCode.apply(null,y);var g=e.getUint16(_);_+=2,y=new Uint8Array(g);for(d=0;d<g;d++)y[d]=e.getUint8(_++);b.classname=String.fromCharCode.apply(null,y),m.push(b)}(I=this.gdh.pending[a]).func_cb(a,I.data,s,m),delete this.gdh.pending[a];break;case H:m=[],_=9,l=e.getUint32(_);this.gdh.debug&&console.log("GetAllClassAttributes received",a,l),_+=4;for(n=0;n<l;n++){(b=new AttributeInfo).type=e.getUint32(_),_+=4,b.flags=e.getUint32(_),_+=4,b.size=e.getUint16(_),_+=2,b.elements=e.getUint16(_),_+=2;u=e.getUint16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);b.name=String.fromCharCode.apply(null,y),u=e.getUint16(_),_+=2,y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);b.classname=String.fromCharCode.apply(null,y),m.push(b)}(I=this.gdh.pending[a]).func_cb(a,I.data,s,m),delete this.gdh.pending[a];break;case Q:case tt:case J:this.gdh.debug&&console.log("GetObject received",a,s);var b=null;if(0!=(1&s)){_=9;(b=new ObjectInfo).objid=new PwrtObjid,b.objid.vid=e.getUint32(_),_+=4,b.objid.oix=e.getUint32(_),_+=4,b.cid=e.getUint32(_),_+=4,b.has_children=0!==e.getUint16(_),_+=2;u=e.getUint16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);b.name=String.fromCharCode.apply(null,y),u=e.getUint16(_),_+=2,y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);b.fullname=String.fromCharCode.apply(null,y);g=e.getUint16(_);_+=2,y=new Uint8Array(g);for(d=0;d<g;d++)y[d]=e.getUint8(_++);b.classname=String.fromCharCode.apply(null,y);v=e.getUint16(_);_+=2,y=new Uint8Array(v);for(d=0;d<v;d++)y[d]=e.getUint8(_++);b.description=String.fromCharCode.apply(null,y);var x=e.getUint16(_);_+=2,y=new Uint8Array(x);for(d=0;d<x;d++)y[d]=e.getUint8(_++);b.param1=String.fromCharCode.apply(null,y)}(I=this.gdh.pending[a]).func_cb(a,I.data,s,b),delete this.gdh.pending[a];break;case W:if(0!=(1&s)){_=9,m=[],l=e.getUint16(_);_+=2,this.gdh.debug&&console.log("CrrSignal received",a,l);for(n=0;n<l;n++){(b=new CrrInfo).type=e.getUint16(_),_+=2,b.objid=new PwrtObjid,b.objid.vid=e.getUint32(_),_+=4,b.objid.oix=e.getUint32(_),_+=4;u=e.getUint16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);b.name=String.fromCharCode.apply(null,y);g=e.getUint16(_);_+=2,y=new Uint8Array(g);for(d=0;d<g;d++)y[d]=e.getUint8(_++);b.classname=String.fromCharCode.apply(null,y),m.push(b)}}(I=this.gdh.pending[a]).func_cb(a,I.data,s,m),delete this.gdh.pending[a];break;case Z:m=new OpwindMenuInfo,_=9;if(this.gdh.debug&&console.log("GetOpwindMenu received",a,l),console.log("GetOpwindMenu received",s,a),1&s){u=e.getUint16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);m.title=String.fromCharCode.apply(null,y),u=e.getUint16(_),_+=2,y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);m.text=String.fromCharCode.apply(null,y),m.enable_language=e.getUint32(_),_+=4,m.enable_login=e.getUint32(_),_+=4,m.enable_alarmlist=e.getUint32(_),_+=4,m.enable_eventlog=e.getUint32(_),_+=4,m.enable_navigator=e.getUint32(_),_+=4,m.disable_help=e.getUint32(_),_+=4,m.disable_proview=e.getUint32(_),_+=4,m.language=e.getUint32(_),_+=4;var G=e.getUint16(_);_+=2;for(n=0;n<G;n++){var S=new MenuButton;S.type=e.getUint32(_),_+=4,u=e.getUint16(_),_+=2,y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);S.text=String.fromCharCode.apply(null,y),u=e.getUint16(_),_+=2,y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);S.name=String.fromCharCode.apply(null,y),u=e.getUint16(_),_+=2,y=new Uint8Array(u);for(d=0;d<u;d++)y[d]=e.getUint8(_++);S.url=String.fromCharCode.apply(null,y),m.buttons.push(S)}}(I=this.gdh.pending[a]).func_cb(a,I.data,s,m),delete this.gdh.pending[a];break;case V:_=9;this.gdh.debug&&console.log("Check user received",a,l),console.log("Check user received",s,a);var C=0;1&s&&(C=e.getUint32(_),_+=4),(I=this.gdh.pending[a]).func_cb(a,I.data,s,C),delete this.gdh.pending[a];break;case q:if(1&s){_=9,u=e.getUint16(_);_+=2;for(y=new Uint8Array(u),d=0;d<u;d++)y[d]=e.getUint8(_++);var D=String.fromCharCode.apply(null,y)}(I=this.gdh.pending[a]).func_cb(a,I.data,s,D),delete this.gdh.pending[a];break;case $:m=[],_=9,l=e.getUint32(_);this.gdh.debug&&console.log("MhSync received",a,l),_+=4;for(n=0;n<l;n++){t=new MhEvent;var T=e.getUint16(_);_+=2;for(y=new Uint8Array(T),d=0;d<T;d++)y[d]=e.getUint8(_++);t.eventTime=String.fromCharCode.apply(null,y),T=e.getUint16(_),_+=2,y=new Uint8Array(T);for(d=0;d<T;d++)y[d]=e.getUint8(_++);t.eventText=String.fromCharCode.apply(null,y),T=e.getUint16(_),_+=2,y=new Uint8Array(T);for(d=0;d<T;d++)y[d]=e.getUint8(_++);t.eventName=String.fromCharCode.apply(null,y),t.eventFlags=e.getUint32(_),_+=4,t.eventStatus=e.getUint32(_),_+=4,t.eventPrio=e.getUint32(_),_+=4,t.eventId=new MhEventId,t.eventId.nix=e.getUint32(_),_+=4,t.eventId.idx=e.getUint32(_),_+=4,T=e.getUint16(_),_+=2,y=new Uint8Array(T);for(d=0;d<T;d++)y[d]=e.getUint8(_++);t.eventId.birthTime=String.fromCharCode.apply(null,y),t.targetId=new MhEventId,t.targetId.nix=e.getUint32(_),_+=4,t.targetId.idx=e.getUint32(_),_+=4,T=e.getUint16(_),_+=2,y=new Uint8Array(T);for(d=0;d<T;d++)y[d]=e.getUint8(_++);t.targetId.birthTime=String.fromCharCode.apply(null,y),t.eventType=e.getUint32(_),_+=4;var k=new PwrtObjid(0,0);k.vid=e.getUint32(_),_+=4,k.oix=e.getUint32(_),_+=4,t.object=new PwrtAttrRef,t.object.objid=k,t.object.offset=e.getUint32(_),_+=4,t.object.body=e.getUint32(_),_+=4,t.object.size=e.getUint32(_),_+=4,t.object.flags=e.getUint32(_),_+=4;var M=new PwrtObjid(0,0);M.vid=e.getUint32(_),_+=4,M.oix=e.getUint32(_),_+=4,t.supObject=new PwrtAttrRef,t.supObject.objid=M,t.supObject.offset=e.getUint32(_),_+=4,t.supObject.body=e.getUint32(_),_+=4,t.supObject.size=e.getUint32(_),_+=4,t.supObject.flags=e.getUint32(_),_+=4,T=e.getUint16(_),_+=2,y=new Uint8Array(T);for(d=0;d<T;d++)y[d]=e.getUint8(_++);t.eventMoreText=String.fromCharCode.apply(null,y),t.syncIdx=e.getUint32(_),_+=4,m.push(t)}(I=this.gdh.pending[a]).func_cb(a,I.data,s,m),delete this.gdh.pending[a];break;case K:var I;(I=this.gdh.pending[a]).func_cb(a,I.data,s),delete this.gdh.pending[a];break;default:console.log("Unknown message type")}}}},this.getObjectInfoBoolean=function(t,e){this.return_cb=e;var i=new Uint8Array(t.length+6);i[0]=E,i[2]=255&this.next_id,i[3]=this.next_id>>8&255,i[4]=this.next_id>>16&255,i[5]=this.next_id>>24&255;for(var a=0;a<t.length;a++)i[a+6]=t.charCodeAt(a);this.pending[this.next_id]=new PendingData(e,null),this.ws.send(i),this.next_id++},this.getObjectInfoInt=function(t,e,i){this.return_cb=e;var a=new Uint8Array(t.length+6);a[0]=L,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255;for(var s=0;s<t.length;s++)a[s+6]=t.charCodeAt(s);this.pending[this.next_id]=new PendingData(e,i),this.ws.send(a),this.next_id++},this.getObjectInfoFloat=function(t,e,i){this.return_cb=e;var a=new Uint8Array(t.length+6);a[0]=z,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255;for(var s=0;s<t.length;s++)a[s+6]=t.charCodeAt(s);this.pending[this.next_id]=new PendingData(e,i),this.ws.send(a),this.next_id++},this.getObjectInfoFloatArray=function(t,e,i,a){this.return_cb=i;var s=new Uint8Array(t.length+10);s[0]=Y,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255,s[6]=255&e,s[7]=e>>8&255,s[8]=e>>16&255,s[9]=e>>24&255;for(var o=0;o<t.length;o++)s[o+10]=t.charCodeAt(o);this.pending[this.next_id]=new PendingData(i,a),this.ws.send(s),this.next_id++},this.refObjectInfo=function(t,e,i){var a=new Sub;if(a.name=t,a.refid=this.subscriptionCount,a.type=e,a.elements=i,this.sub[this.subscriptionCount]=a,this.subscriptionCount++,this.listSent){var s;s=12+a.name.length;var o=new Uint8Array(s+10);o[0]=F,o[2]=255&this.next_id,o[3]=this.next_id>>8&255,o[4]=this.next_id>>16&255,o[5]=this.next_id>>24&255,this.debug&&console.log("RefObjectInfo: ",a.refid);var r=6;o[r++]=255&a.refid,o[r++]=a.refid>>8&255,o[r++]=a.refid>>16&255,o[r++]=a.refid>>24&255,o[r++]=255&a.elements,o[r++]=a.elements>>8&255,o[r++]=a.elements>>16&255,o[r++]=a.elements>>24&255,o[r++]=255&a.name.length,o[r++]=a.name.length>>8&255,o[r++]=a.name.length>>16&255,o[r++]=a.name.length>>24&255;for(var n=0;n<a.name.length;n++)o[r++]=a.name.charCodeAt(n);return this.pending[this.next_id]=new PendingData(this.refObjectInfoReply,null),this.debug&&console.log("Sending RefObjectInfo",this.next_id,s,r),this.ws.send(o),this.next_id++,a.refid}return a.refid},this.refObjectInfoReply=function(t,e){this.debug&&console.log("refObjectInfoReply",t,e)},this.unrefObjectInfo=function(t){var e=new Uint8Array(14);e[0]=N,e[2]=255&this.next_id,e[3]=this.next_id>>8&255,e[4]=this.next_id>>16&255,e[5]=this.next_id>>24&255,this.debug&&console.log("UnrefObjectInfo: ",t);var i=6;e[i++]=255&t,e[i++]=t>>8&255,e[i++]=t>>16&255,e[i++]=t>>24&255,this.pending[this.next_id]=new PendingData(this.unrefObjectInfoReply,null),this.debug&&console.log("Sending UnrefObjectInfo",this.next_id,4,10,t),this.ws.send(e),this.next_id++,delete this.sub[t]},this.refObjectInfoList=function(t){var e=0,i=0;for(var a in this.return_cb=t,this.sub)e+=12+this.sub[a].name.length,i++;var s=new Uint8Array(e+10);s[0]=U,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255,s[6]=255&i,s[7]=i>>8&255,s[8]=i>>16&255,s[9]=i>>24&255;var o=10;for(var a in this.sub)if(0!==a){this.debug&&console.log("RefObjectInfoList: ",this.sub[a].refid),s[o++]=255&this.sub[a].refid,s[o++]=this.sub[a].refid>>8&255,s[o++]=this.sub[a].refid>>16&255,s[o++]=this.sub[a].refid>>24&255,s[o++]=255&this.sub[a].elements,s[o++]=this.sub[a].elements>>8&255,s[o++]=this.sub[a].elements>>16&255,s[o++]=this.sub[a].elements>>24&255,s[o++]=255&this.sub[a].name.length,s[o++]=this.sub[a].name.length>>8&255,s[o++]=this.sub[a].name.length>>16&255,s[o++]=this.sub[a].name.length>>24&255;for(var r=0;r<this.sub[a].name.length;r++)s[o++]=this.sub[a].name.charCodeAt(r)}this.pending[this.next_id]=new PendingData(t,null),this.debug&&console.log("Sending RefObjectInfoList",this.next_id,e,o,this.next_id),this.ws.send(s),this.next_id++,this.listSent=!0},this.refObjectInfoListReply=function(t,e){this.debug&&console.log("refObjectInfoListReply",t,e)},this.getRefObjectInfoAll=function(t){var e=new Uint8Array(6);e[0]=B,e[2]=255&this.next_id,e[3]=this.next_id>>8&255,e[4]=this.next_id>>16&255,e[5]=this.next_id>>24&255,this.pending[this.next_id]=new PendingData(t,null),this.debug&&console.log("Sending getRefObjectInfoAll",this.next_id),this.ws.send(e),this.next_id++},this.getRefObjectInfoAllReply=function(t,e){this.debug&&console.log("getRefObjectInfoAllReply",t,e)},this.getObjectRefInfo=function(t){return this.debug&&console.log("getObjectRefInfo",t,this.sub[t].value),this.sub[t].value},this.setObjectInfoBoolean=function(t,e){var i=new Uint8Array(12+t.length);i[0]=A,i[2]=255&this.next_id,i[3]=this.next_id>>8&255,i[4]=this.next_id>>16&255,i[5]=this.next_id>>24&255,i[6]=255&e,i[7]=e>>8&255,i[8]=e>>16&255,i[9]=e>>24&255,i[10]=255&t.length,i[11]=t.length>>8&255;for(var a=12,s=0;s<t.length;s++)i[a++]=t.charCodeAt(s);return this.ws.send(i),this.debug&&console.log("Sending setObjectInfoBoolean",this.next_id,t,e),this.next_id++,new PwrtStatus(1)},this.setObjectInfoInt=function(t,e){var i=new Uint8Array(12+t.length);i[0]=R,i[2]=255&this.next_id,i[3]=this.next_id>>8&255,i[4]=this.next_id>>16&255,i[5]=this.next_id>>24&255,i[6]=255&e,i[7]=e>>8&255,i[8]=e>>16&255,i[9]=e>>24&255,i[10]=255&t.length,i[11]=t.length>>8&255;for(var a=12,s=0;s<t.length;s++)i[a++]=t.charCodeAt(s);return this.ws.send(i),this.debug&&console.log("Sending setObjectInfoInt",this.next_id,t,e),this.next_id++,new PwrtStatus(1)},this.setObjectInfoFloat=function(t,e){var i=new Uint8Array(12+t.length);i[0]=P,i[2]=255&this.next_id,i[3]=this.next_id>>8&255,i[4]=this.next_id>>16&255,i[5]=this.next_id>>24&255;var a=new ArrayBuffer(4);new Float32Array(a)[0]=e;var s=new Uint8Array(a);i[6]=s[0],i[7]=s[1],i[8]=s[2],i[9]=s[3],i[10]=255&t.length,i[11]=t.length>>8&255;for(var o=12,r=0;r<t.length;r++)i[o++]=t.charCodeAt(r);return this.ws.send(i),this.debug&&console.log("Sending setObjectInfoFloat",this.next_id,t,e),this.next_id++,new PwrtStatus(1)},this.setObjectInfoString=function(t,e){var i,a=new Uint8Array(10+e.length+t.length);a[0]=O,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&e.length,a[7]=e.length>>8&255;var s=8;for(i=0;i<e.length;i++)a[s++]=e.charCodeAt(i);for(a[s++]=255&t.length,a[s++]=t.length>>8&255,i=0;i<t.length;i++)a[s++]=t.charCodeAt(i);return this.ws.send(a),this.debug&&console.log("Sending setObjectInfoString",this.next_id,t,e),this.next_id++,new PwrtStatus(1)},this.toggleObjectInfo=function(t){var e=new Uint8Array(8+t.length);e[0]=j,e[2]=255&this.next_id,e[3]=this.next_id>>8&255,e[4]=this.next_id>>16&255,e[5]=this.next_id>>24&255,e[6]=255&t.length,e[7]=t.length>>8&255;for(var i=8,a=0;a<t.length;a++)e[i++]=t.charCodeAt(a);return this.ws.send(e),this.debug&&console.log("Sending toggleObjectInfoBoolean",this.next_id,t,value),this.next_id++,new PwrtStatus(1)},this.getAllXttChildren=function(t,e,i){var a=new Uint8Array(14);a[0]=X,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&t.vid,a[7]=t.vid>>8&255,a[8]=t.vid>>16&255,a[9]=t.vid>>24&255,a[10]=255&t.oix,a[11]=t.oix>>8&255,a[12]=t.oix>>16&255,a[13]=t.oix>>24&255,this.pending[this.next_id]=new PendingData(e,i),this.debug&&console.log("Sending getAllXttChildren",this.next_id),this.ws.send(a),this.next_id++},this.getAllClassAttributes=function(t,e,i,a){var s=new Uint8Array(18);s[0]=H,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255,s[6]=255&t,s[7]=t>>8&255,s[8]=t>>16&255,s[9]=t>>24&255,s[10]=255&e.vid,s[11]=e.vid>>8&255,s[12]=e.vid>>16&255,s[13]=e.vid>>24&255,s[14]=255&e.oix,s[15]=e.oix>>8&255,s[16]=e.oix>>16&255,s[17]=e.oix>>24&255,this.pending[this.next_id]=new PendingData(i,a),this.debug&&console.log("Sending getAllClassAttributes",this.next_id,t,e.vid,e.oix),this.ws.send(s),this.next_id++},this.getObject=function(t,e,i,a){var s=new Uint8Array(16);s[0]=Q,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255,s[6]=255&e,s[7]=e>>8&255,s[8]=255&t.vid,s[9]=t.vid>>8&255,s[10]=t.vid>>16&255,s[11]=t.vid>>24&255,s[12]=255&t.oix,s[13]=t.oix>>8&255,s[14]=t.oix>>16&255,s[15]=t.oix>>24&255,this.pending[this.next_id]=new PendingData(i,a),this.debug&&console.log("Sending getObject",this.next_id,t.vid,t.oix),this.ws.send(s),this.next_id++},this.getObjectFromAref=function(t,e,i,a){var s=new Uint8Array(32);s[0]=tt,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255,s[6]=255&e,s[7]=e>>8&255,s[8]=255&t.objid.vid,s[9]=t.objid.vid>>8&255,s[10]=t.objid.vid>>16&255,s[11]=t.objid.vid>>24&255,s[12]=255&t.objid.oix,s[13]=t.objid.oix>>8&255,s[14]=t.objid.oix>>16&255,s[15]=t.objid.oix>>24&255,s[16]=255&t.offset,s[17]=t.offset>>8&255,s[18]=t.offset>>16&255,s[19]=t.offset>>24&255,s[20]=255&t.body,s[21]=t.body>>8&255,s[22]=t.body>>16&255,s[23]=t.body>>24&255,s[24]=255&t.size,s[25]=t.size>>8&255,s[26]=t.size>>16&255,s[27]=t.size>>24&255,s[28]=255&t.flags,s[29]=t.flags>>8&255,s[30]=t.flags>>16&255,s[31]=t.flags>>24&255,this.pending[this.next_id]=new PendingData(i,a),this.debug&&console.log("Sending getObject",this.next_id,oid.vid,oid.oix),this.ws.send(s),this.next_id++},this.getObjectFromName=function(t,e,i,a){var s=new Uint8Array(10+t.length);s[0]=J,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255,s[6]=255&e,s[7]=e>>8&255,s[8]=255&t.length,s[9]=t.length>>8&255;for(var o=10,r=0;r<t.length;r++)s[o++]=t.charCodeAt(r);this.pending[this.next_id]=new PendingData(i,a),this.debug&&console.log("Sending getObjectFromName",this.next_id,t),this.ws.send(s),this.next_id++},this.crrSignal=function(t,e,i){var a=new Uint8Array(14);a[0]=W,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&t.vid,a[7]=t.vid>>8&255,a[8]=t.vid>>16&255,a[9]=t.vid>>24&255,a[10]=255&t.oix,a[11]=t.oix>>8&255,a[12]=t.oix>>16&255,a[13]=t.oix>>24&255,this.pending[this.next_id]=new PendingData(e,i),this.debug&&console.log("Sending crrObject",this.next_id,t.vid,t.oix),this.ws.send(a),this.next_id++},this.getOpwindMenu=function(t,e,i){t.length;var a=new Uint8Array(8+t.length);a[0]=Z,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&t.length,a[7]=t.length>>8&255;for(var s=8,o=0;o<t.length;o++)a[s++]=t.charCodeAt(o);this.pending[this.next_id]=new PendingData(e,i),this.debug&&console.log("Sending getOpwindMenu",this.next_id),this.ws.send(a),this.next_id++},this.login=function(t,e,i,a){var s=new Uint8Array(8+t.length+2+e.length);s[0]=V,s[2]=255&this.next_id,s[3]=this.next_id>>8&255,s[4]=this.next_id>>16&255,s[5]=this.next_id>>24&255;var o=6;s[o]=255&t.length,s[o+1]=t.length>>8&255,o+=2;for(var r=0;r<t.length;r++)s[o++]=t.charCodeAt(r);s[o]=255&e.length,s[o+1]=e.length>>8&255,o+=2;for(r=0;r<e.length;r++)s[o++]=e.charCodeAt(r);this.pending[this.next_id]=new PendingData(i,a),this.debug&&console.log("Sending login",this.next_id),this.ws.send(s),this.next_id++},this.getMsg=function(t,e,i){var a=new Uint8Array(10);a[0]=q,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&t,a[7]=t>>8&255,a[8]=t>>16&255,a[9]=t>>24&255,this.pending[this.next_id]=new PendingData(e,i),this.ws.send(a),this.debug&&console.log("Sending getMsg",this.next_id,t),this.next_id++},this.mhSync=function(t,e,i){var a=new Uint8Array(10);a[0]=$,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&t,a[7]=t>>8&255,a[8]=t>>16&255,a[9]=t>>24&255,this.pending[this.next_id]=new PendingData(e,i),this.debug&&console.log("Sending mhSync",this.next_id),this.ws.send(a),this.next_id++},this.mhAcknowledge=function(t,e,i){var a=new Uint8Array(16+t.birthTime.length);a[0]=K,a[2]=255&this.next_id,a[3]=this.next_id>>8&255,a[4]=this.next_id>>16&255,a[5]=this.next_id>>24&255,a[6]=255&t.nix,a[7]=t.nix>>8&255,a[8]=t.nix>>16&255,a[9]=t.nix>>24&255,a[10]=255&t.idx,a[11]=t.idx>>8&255,a[12]=t.idx>>16&255,a[13]=t.idx>>24&255;var s=14;a[s]=255&t.birthTime.length,a[s+1]=t.birthTime.length>>8&255,s+=2;for(var o=0;o<t.birthTime.length;o++)a[s++]=t.birthTime.charCodeAt(o);this.pending[this.next_id]=new PendingData(e,i),this.debug&&console.log("Sending mhAcknowledge",this.next_id),console.log("Sending mhAcknowledge",this.next_id),this.ws.send(a),this.next_id++}}var Glow={GLOW__TERMINATED:21001,GLOW__SUBTERMINATED:21003,GLOW__NO_PROPAGATE:21005,DRAW_MP:6,DRAW_TYPE_SIZE:9,DRAW_FONT_SIZE:9,DRAWOFFSET:2,TREND_MAX_CURVES:11,TABLE_MAX_COL:30,eType_Boolean:0,eType_Int:1,eType_Double:2,eType_String:3,eType_DynType1:4,eType_ActionType1:5,eType_Direction:6,eType_Color:7,eType_Tone:8,eType_ToneOrColor:9,eType_TraceColor:10,eType_Access:11,eType_Cycle:12,eType_MB3Action:13,eType_Relief:14,eType_InputFocusMark:15,eType_TextSize:16,eType_Adjustment:17,eType_Font:18,eType_Gradient:19,eType_HotIndication:20,eType_AnnotType:21,eType_DynType2:22,eType_ActionType2:23,eType_AppMotion:24,eCtxType_Glow:0,eCtxType_Brow:1,eCtxType_Grow:2,eCtxType_ColPal:3,eCtxType_Curve:4,eSelectPolicy_Surround:5,eSelectPolicy_Partial:6,eSelectPolicy_Both:7,eMB3Action_No:0,eMB3Action_Close:1,eMB3Action_PopupMenu:2,eMB3Action_Both:3,eTextSize_8:0,eTextSize_10:1,eTextSize_12:2,eTextSize_14:4,eTextSize_18:6,eTextSize_24:8,eTextCoding_ISO8859_1:0,eTextCoding_UTF_8:1,eLineType_Solid:0,eLineType_Dashed1:1,eLineType_Dashed2:2,eLineType_Dashed3:3,eLineType_Dotted:4,eLineType_DotDashed1:5,eLineType_DotDashed2:6,eObjectType_NoObject:0,eObjectType_Node:1,eObjectType_Con:2,eObjectType_Rect:3,eObjectType_Line:4,eObjectType_Arc:5,eObjectType_Text:6,eObjectType_ConPoint:7,eObjectType_Annot:8,eObjectType_NodeClass:9,eObjectType_ConClass:10,eObjectType_Arrow:11,eObjectType_Pixmap:12,eObjectType_AnnotPixmap:13,eObjectType_Radiobutton:14,eObjectType_Frame:15,eObjectType_GrowRect:16,eObjectType_GrowLine:17,eObjectType_GrowArc:18,eObjectType_GrowConPoint:19,eObjectType_GrowSubAnnot:20,eObjectType_PolyLine:21,eObjectType_GrowPolyLine:22,eObjectType_Point:23,eObjectType_GrowNode:24,eObjectType_GrowAnnot:25,eObjectType_GrowText:26,eObjectType_GrowBar:27,eObjectType_GrowTrend:28,eObjectType_GrowSlider:29,eObjectType_GrowImage:30,eObjectType_NodeGroup:31,eObjectType_GrowGroup:32,eObjectType_GrowAxis:33,eObjectType_GrowRectRounded:34,eObjectType_GrowConGlue:35,eObjectType_GrowMenu:36,eObjectType_GrowWindow:37,eObjectType_GrowScrollBar:38,eObjectType_GrowTable:39,eObjectType_GrowFolder:40,eObjectType_GrowXYCurve:41,eObjectType_GrowAxisArc:42,eObjectType_GrowPie:43,eObjectType_GrowBarChart:44,eObjectType_GrowToolbar:45,eObjectType_GrowBarArc:46,eDirection_Center:0,eDirection_Right:1,eDirection_Left:2,eDirection_Up:3,eDirection_Down:4,eAdjustment_Center:0,eAdjustment_Right:1,eAdjustment_Left:2,eDir_Vertical:0,eDir_Horizontal:1,eVis_Visible:0,eVis_Invisible:1,eVis_Dimmed:2,eNodeGroup_Common:0,eNodeGroup_Document:1,eNodeGroup_Trace:2,eConGroup_Common:0,eConGroup_Trace:1,eAnnotType_OneLine:0,eAnnotType_MultiLine:1,eCycle_Inherit:0,eCycle_Slow:1,eCycle_Fast:2,eConType_Straight:0,eConType_Fixed:1,eConType_AllFixed:2,eConType_Routed:3,eConType_StepDiv:4,eConType_StepConv:5,eConType_TransDiv:6,eConType_TransConv:7,eConType_StraightOneArrow:8,eConType_Reference:9,eCorner_Rounded:0,eCorner_Right:1,eVisible_Full:0,eVisible_Partial:1,eVisible_Top:2,eVisible_Bottom:3,eVisible_Left:4,eVisible_Right:5,eFont_Helvetica:0,eFont_Times:1,eFont_NewCenturySchoolbook:2,eFont_Courier:3,eFont_LucidaSans:4,eFont__:5,eFont_No:9999,eRelief_Up:0,eRelief_Down:1,eGradient_No:0,eGradient_HorizontalUp:1,eGradient_HorizontalDown:2,eGradient_HorizontalTube1:3,eGradient_HorizontalTube2:4,eGradient_VerticalLeft:5,eGradient_VerticalRight:6,eGradient_VerticalTube1:7,eGradient_VerticalTube2:8,eGradient_DiagonalUpperLeft:9,eGradient_DiagonalLowerLeft:10,eGradient_DiagonalUpperRight:11,eGradient_DiagonalLowerRight:12,eGradient_DiagonalUpTube:13,eGradient_DiagonalDownTube:14,eGradient_Globe:15,eGradient_RadialCenter:16,eGradient_RadialUpperLeft:17,eGradient_RadialLowerLeft:18,eGradient_RadialUpperRight:19,eGradient_RadialLowerRight:20,eHotIndication_No:0,eHotIndication_LineWidth:1,eHotIndication_DarkColor:2,eHotIndication_LightColor:3,eAppMotion_Scroll:0,eAppMotion_Slider:1,eAppMotion_Both:2,eDrawType_Line:0,eDrawType_LineRed:1,eDrawType_LineGray:2,eDrawType_Color4:3,eDrawType_Color5:4,eDrawType_Color6:5,eDrawType_Color7:6,eDrawType_Color8:7,eDrawType_Color9:8,eDrawType_Color10:9,eDrawType_Color11:10,eDrawType_Color12:11,eDrawType_Color13:12,eDrawType_Color14:13,eDrawType_Color15:14,eDrawType_Color16:15,eDrawType_Color17:16,eDrawType_Color18:17,eDrawType_Color19:18,eDrawType_Color20:19,eDrawType_Color21:20,eDrawType_Color22:21,eDrawType_Color23:22,eDrawType_Color24:23,eDrawType_Color25:24,eDrawType_Color26:25,eDrawType_Color27:26,eDrawType_Color28:27,eDrawType_Color29:28,eDrawType_Color30:29,eDrawType_Color31:30,eDrawType_Color32:31,eDrawType_Color33:32,eDrawType_Color34:33,eDrawType_Color35:34,eDrawType_Color36:35,eDrawType_Color37:36,eDrawType_Color38:37,eDrawType_Color39:38,eDrawType_Color40:39,eDrawType_Color41:40,eDrawType_Color42:41,eDrawType_Color43:42,eDrawType_Color44:43,eDrawType_Color45:44,eDrawType_Color46:45,eDrawType_Color47:46,eDrawType_Color48:47,eDrawType_Color49:48,eDrawType_Color50:49,eDrawType_Color51:50,eDrawType_Color52:51,eDrawType_Color53:52,eDrawType_Color54:53,eDrawType_Color55:54,eDrawType_Color56:55,eDrawType_Color57:56,eDrawType_Color58:57,eDrawType_Color59:58,eDrawType_Color60:59,eDrawType_Color61:60,eDrawType_Color62:61,eDrawType_Color63:62,eDrawType_Color64:63,eDrawType_Color65:64,eDrawType_Color66:65,eDrawType_Color67:66,eDrawType_Color68:67,eDrawType_Color69:68,eDrawType_Color70:69,eDrawType_Color71:70,eDrawType_Color72:71,eDrawType_Color73:72,eDrawType_Color74:73,eDrawType_Color75:74,eDrawType_Color76:75,eDrawType_Color77:76,eDrawType_Color78:77,eDrawType_Color79:78,eDrawType_Color80:79,eDrawType_Color81:80,eDrawType_Color82:81,eDrawType_Color83:82,eDrawType_Color84:83,eDrawType_Color85:84,eDrawType_Color86:85,eDrawType_Color87:86,eDrawType_Color88:87,eDrawType_Color89:88,eDrawType_Color90:89,eDrawType_Color91:90,eDrawType_Color92:91,eDrawType_Color93:92,eDrawType_Color94:93,eDrawType_Color95:94,eDrawType_Color96:95,eDrawType_Color97:96,eDrawType_Color98:97,eDrawType_Color99:98,eDrawType_Color100:99,eDrawType_Color101:100,eDrawType_Color102:101,eDrawType_Color103:102,eDrawType_Color104:103,eDrawType_Color105:104,eDrawType_Color106:105,eDrawType_Color107:106,eDrawType_Color108:107,eDrawType_Color109:108,eDrawType_Color110:109,eDrawType_Color111:110,eDrawType_Color112:111,eDrawType_Color113:112,eDrawType_Color114:113,eDrawType_Color115:114,eDrawType_Color116:115,eDrawType_Color117:116,eDrawType_Color118:117,eDrawType_Color119:118,eDrawType_Color120:119,eDrawType_Color121:120,eDrawType_Color122:121,eDrawType_Color123:122,eDrawType_Color124:123,eDrawType_Color125:124,eDrawType_Color126:125,eDrawType_Color127:126,eDrawType_Color128:127,eDrawType_Color129:128,eDrawType_Color130:129,eDrawType_Color131:130,eDrawType_Color132:131,eDrawType_Color133:132,eDrawType_Color134:133,eDrawType_Color135:134,eDrawType_Color136:135,eDrawType_Color137:136,eDrawType_Color138:137,eDrawType_Color139:138,eDrawType_Color140:139,eDrawType_Color141:140,eDrawType_Color142:141,eDrawType_Color143:142,eDrawType_Color144:143,eDrawType_Color145:144,eDrawType_Color146:145,eDrawType_Color147:146,eDrawType_Color148:147,eDrawType_Color149:148,eDrawType_Color150:149,eDrawType_Color151:150,eDrawType_Color152:151,eDrawType_Color153:152,eDrawType_Color154:153,eDrawType_Color155:154,eDrawType_Color156:155,eDrawType_Color157:156,eDrawType_Color158:157,eDrawType_Color159:158,eDrawType_Color160:159,eDrawType_Color161:160,eDrawType_Color162:161,eDrawType_Color163:162,eDrawType_Color164:163,eDrawType_Color165:164,eDrawType_Color166:165,eDrawType_Color167:166,eDrawType_Color168:167,eDrawType_Color169:168,eDrawType_Color170:169,eDrawType_Color171:170,eDrawType_Color172:171,eDrawType_Color173:172,eDrawType_Color174:173,eDrawType_Color175:174,eDrawType_Color176:175,eDrawType_Color177:176,eDrawType_Color178:177,eDrawType_Color179:178,eDrawType_Color180:179,eDrawType_Color181:180,eDrawType_Color182:181,eDrawType_Color183:182,eDrawType_Color184:183,eDrawType_Color185:184,eDrawType_Color186:185,eDrawType_Color187:186,eDrawType_Color188:187,eDrawType_Color189:188,eDrawType_Color190:189,eDrawType_Color191:190,eDrawType_Color192:191,eDrawType_Color193:192,eDrawType_Color194:193,eDrawType_Color195:194,eDrawType_Color196:195,eDrawType_Color197:196,eDrawType_Color198:197,eDrawType_Color199:198,eDrawType_Color200:199,eDrawType_Color201:200,eDrawType_Color202:201,eDrawType_Color203:202,eDrawType_Color204:203,eDrawType_Color205:204,eDrawType_Color206:205,eDrawType_Color207:206,eDrawType_Color208:207,eDrawType_Color209:208,eDrawType_Color210:209,eDrawType_Color211:210,eDrawType_Color212:211,eDrawType_Color213:212,eDrawType_Color214:213,eDrawType_Color215:214,eDrawType_Color216:215,eDrawType_Color217:216,eDrawType_Color218:217,eDrawType_Color219:218,eDrawType_Color220:219,eDrawType_Color221:220,eDrawType_Color222:221,eDrawType_Color223:222,eDrawType_Color224:223,eDrawType_Color225:224,eDrawType_Color226:225,eDrawType_Color227:226,eDrawType_Color228:227,eDrawType_Color229:228,eDrawType_Color230:229,eDrawType_Color231:230,eDrawType_Color232:231,eDrawType_Color233:232,eDrawType_Color234:233,eDrawType_Color235:234,eDrawType_Color236:235,eDrawType_Color237:236,eDrawType_Color238:237,eDrawType_Color239:238,eDrawType_Color240:239,eDrawType_Color241:240,eDrawType_Color242:241,eDrawType_Color243:242,eDrawType_Color244:243,eDrawType_Color245:244,eDrawType_Color246:245,eDrawType_Color247:246,eDrawType_Color248:247,eDrawType_Color249:248,eDrawType_Color250:249,eDrawType_Color251:250,eDrawType_Color252:251,eDrawType_Color253:252,eDrawType_Color254:253,eDrawType_Color255:254,eDrawType_Color256:255,eDrawType_Color257:256,eDrawType_Color258:257,eDrawType_Color259:258,eDrawType_Color260:259,eDrawType_Color261:260,eDrawType_Color262:261,eDrawType_Color263:262,eDrawType_Color264:263,eDrawType_Color265:264,eDrawType_Color266:265,eDrawType_Color267:266,eDrawType_Color268:267,eDrawType_Color269:268,eDrawType_Color270:269,eDrawType_Color271:270,eDrawType_Color272:271,eDrawType_Color273:272,eDrawType_Color274:273,eDrawType_Color275:274,eDrawType_Color276:275,eDrawType_Color277:276,eDrawType_Color278:277,eDrawType_Color279:278,eDrawType_Color280:279,eDrawType_Color281:280,eDrawType_Color282:281,eDrawType_Color283:282,eDrawType_Color284:283,eDrawType_Color285:284,eDrawType_Color286:285,eDrawType_Color287:286,eDrawType_Color288:287,eDrawType_Color289:288,eDrawType_Color290:289,eDrawType_Color291:290,eDrawType_Color292:291,eDrawType_Color293:292,eDrawType_Color294:293,eDrawType_Color295:294,eDrawType_Color296:295,eDrawType_Color297:296,eDrawType_Color298:297,eDrawType_Color299:298,eDrawType_Color300:299,eDrawType_LineErase:300,eDrawType_LineDashed:301,eDrawType_LineDashedRed:302,eDrawType_TextHelvetica:303,eDrawType_TextHelveticaBold:304,eDrawType_TextHelveticaErase:305,eDrawType_TextHelveticaEraseBold:306,eDrawType_Color__:307,eDrawType_CustomColor1:310,eDrawType_CustomColor2:314,eDrawType_CustomColor3:318,eDrawType_CustomColor4:322,eDrawType_CustomColor5:326,eDrawType_CustomColor6:330,eDrawType_CustomColor7:334,eDrawType_CustomColor8:338,eDrawType_CustomColor9:342,eDrawType_CustomColor10:346,eDrawType_CustomColor11:350,eDrawType_CustomColor12:354,eDrawType_CustomColor13:358,eDrawType_CustomColor14:362,eDrawType_CustomColor15:366,eDrawType_CustomColor16:370,eDrawType_CustomColor17:374,eDrawType_CustomColor18:378,eDrawType_CustomColor19:382,eDrawType_CustomColor20:386,eDrawType_CustomColor21:390,eDrawType_CustomColor22:394,eDrawType_CustomColor23:398,eDrawType_CustomColor24:402,eDrawType_CustomColor25:406,eDrawType_CustomColor26:410,eDrawType_CustomColor27:414,eDrawType_CustomColor28:418,eDrawType_CustomColor29:422,eDrawType_CustomColor30:426,eDrawType_CustomColor31:430,eDrawType_CustomColor32:434,eDrawType_CustomColor33:438,eDrawType_CustomColor34:442,eDrawType_CustomColor35:446,eDrawType_CustomColor36:450,eDrawType_CustomColor37:454,eDrawType_CustomColor38:458,eDrawType_CustomColor39:462,eDrawType_CustomColor40:466,eDrawType_CustomColor41:470,eDrawType_CustomColor42:474,eDrawType_CustomColor43:478,eDrawType_CustomColor44:482,eDrawType_CustomColor45:486,eDrawType_CustomColor46:490,eDrawType_CustomColor47:494,eDrawType_CustomColor48:498,eDrawType_CustomColor49:502,eDrawType_CustomColor50:506,eDrawType_CustomColor51:510,eDrawType_CustomColor52:514,eDrawType_CustomColor53:518,eDrawType_CustomColor54:522,eDrawType_CustomColor55:524,eDrawType_CustomColor56:530,eDrawType_CustomColor57:534,eDrawType_CustomColor58:538,eDrawType_CustomColor59:542,eDrawType_CustomColor60:546,eDrawType_CustomColor61:550,eDrawType_CustomColor62:554,eDrawType_CustomColor63:558,eDrawType_CustomColor64:562,eDrawType_CustomColor65:566,eDrawType_CustomColor66:570,eDrawType_CustomColor67:574,eDrawType_CustomColor68:578,eDrawType_CustomColor69:582,eDrawType_CustomColor70:586,eDrawType_CustomColor71:590,eDrawType_CustomColor72:594,eDrawType_CustomColor73:598,eDrawType_CustomColor74:602,eDrawType_CustomColor75:606,eDrawType_CustomColor76:610,eDrawType_CustomColor77:614,eDrawType_CustomColor78:618,eDrawType_CustomColor79:622,eDrawType_CustomColor80:626,eDrawType_CustomColor81:630,eDrawType_CustomColor82:634,eDrawType_CustomColor83:638,eDrawType_CustomColor84:642,eDrawType_CustomColor85:646,eDrawType_CustomColor86:650,eDrawType_CustomColor87:654,eDrawType_CustomColor88:658,eDrawType_CustomColor89:662,eDrawType_CustomColor90:666,eDrawType_CustomColor__:670,eDrawType__:670,eDrawType_Inherit:9999,eDrawType_No:1e4,eDrawType_FillHighlight:173,eDrawType_LineHighlight:175,eDrawType_ColorYellow:114,eDrawType_ColorRed:176,eDrawType_DarkGray:29,eDrawType_MediumGray:24,eDrawType_LightGray:20,eDrawTone_No:0,eDrawTone_Gray:1,eDrawTone_YellowGreen:2,eDrawTone_Yellow:3,eDrawTone_Orange:4,eDrawTone_Red:5,eDrawTone_Magenta:6,eDrawTone_Blue:7,eDrawTone_Seablue:8,eDrawTone_Green:9,eDrawTone_DarkGray:10,eDrawTone_DarkYellowGreen:11,eDrawTone_DarkYellow:12,eDrawTone_DarkOrange:13,eDrawTone_DarkRed:14,eDrawTone_DarkMagenta:15,eDrawTone_DarkBlue:16,eDrawTone_DarkSeablue:17,eDrawTone_DarkGreen:18,eDrawTone_LightGray:19,eDrawTone_LightYellowGreen:20,eDrawTone_LightYellow:21,eDrawTone_LightOrange:22,eDrawTone_LightRed:23,eDrawTone_LightMagenta:24,eDrawTone_LightBlue:25,eDrawTone_LightSeablue:26,eDrawTone_LightGreen:27,eDrawTone_GrayHighSaturation:28,eDrawTone_YellowGreenHighSaturation:29,eDrawTone_YellowHighSaturation:30,eDrawTone_OrangeHighSaturation:31,eDrawTone_RedHighSaturation:32,eDrawTone_MagentaHighSaturation:33,eDrawTone_BlueHighSaturation:34,eDrawTone_SeablueHighSaturation:35,eDrawTone_GreenHighSaturation:36,eDrawTone_DarkGrayHighSaturation:37,eDrawTone_DarkYellowGreenHighSaturation:38,eDrawTone_DarkYellowHighSaturation:39,eDrawTone_DarkOrangeHighSaturation:40,eDrawTone_DarkRedHighSaturation:41,eDrawTone_DarkMagentaHighSaturation:42,eDrawTone_DarkBlueHighSaturation:43,eDrawTone_DarkSeablueHighSaturation:44,eDrawTone_DarkGreenHighSaturation:45,eDrawTone_LightGrayHighSaturation:46,eDrawTone_LightYellowGreenHighSaturation:47,eDrawTone_LightYellowHighSaturation:48,eDrawTone_LightOrangeHighSaturation:49,eDrawTone_LightRedHighSaturation:50,eDrawTone_LightMagentaHighSaturation:51,eDrawTone_LightBlueHighSaturation:52,eDrawTone_LightSeablueHighSaturation:53,eDrawTone_LightGreenHighSaturation:54,eDrawTone_GrayLowSaturation:55,eDrawTone_YellowGreenLowSaturation:56,eDrawTone_YellowLowSaturation:57,eDrawTone_OrangeLowSaturation:58,eDrawTone_RedLowSaturation:59,eDrawTone_MagentaLowSaturation:60,eDrawTone_BlueLowSaturation:61,eDrawTone_SeablueLowSaturation:62,eDrawTone_GreenLowSaturation:63,eDrawTone_DarkGrayLowSaturation:64,eDrawTone_DarkYellowGreenLowSaturation:65,eDrawTone_DarkYellowLowSaturation:66,eDrawTone_DarkOrangeLowSaturation:67,eDrawTone_DarkRedLowSaturation:68,eDrawTone_DarkMagentaLowSaturation:69,eDrawTone_DarkBlueLowSaturation:70,eDrawTone_DarkSeablueLowSaturation:71,eDrawTone_DarkGreenLowSaturation:72,eDrawTone_LightGrayLowSaturation:73,eDrawTone_LightYellowGreenLowSaturation:74,eDrawTone_LightYellowLowSaturation:75,eDrawTone_LightOrangeLowSaturation:76,eDrawTone_LightRedLowSaturation:77,eDrawTone_LightMagentaLowSaturation:78,eDrawTone_LightBlueLowSaturation:79,eDrawTone_LightSeablueLowSaturation:80,eDrawTone_LightGreenLowSaturation:81,eDrawTone__:82,eScaleType_LowerLeft:0,eScaleType_LowerRight:1,eScaleType_UpperRight:2,eScaleType_UpperLeft:3,eScaleType_Left:4,eScaleType_Up:5,eScaleType_Right:6,eScaleType_Down:7,eScaleType_Center:8,eScaleType_FixPoint:9,eScaleType_No:10,eRotationPoint_LowerLeft:0,eRotationPoint_LowerRight:1,eRotationPoint_UpperRight:2,eRotationPoint_UpperLeft:3,eRotationPoint_Center:4,eRotationPoint_FixPoint:5,eRotationPoint_Zero:6,eTraceType_Boolean:0,eTraceType_Int32:1,eTraceType_Float32:2,eTraceType_User:3,eMenuItem_Button:0,eMenuItem_ButtonDisabled:1,eMenuItem_PulldownMenu:2,eUserdataCbType_Node:0,eUserdataCbType_Ctx:1,eUserdataCbType_NodeClass:2,eSaveMode_Edit:0,eSaveMode_Trace:1,eSaveMode_SubGraph:2,eSaveMode_ReadConfigOnly:3,eSave_Comment:0,eSave_Ctx:1,eSave_Array:2,eSave_NodeClass:3,eSave_ConClass:4,eSave_Rect:5,eSave_Line:6,eSave_Point:7,eSave_Arc:8,eSave_Text:9,eSave_Node:10,eSave_Con:11,eSave_ConPoint:12,eSave_Annot:13,eSave_Arrow:14,eSave_Pixmap:15,eSave_AnnotPixmap:16,eSave_Radiobutton:17,eSave_Frame:18,eSave_GrowRect:19,eSave_GrowLine:20,eSave_GrowConPoint:21,eSave_GrowCtx:22,eSave_GrowSubAnnot:23,eSave_GrowArc:24,eSave_PolyLine:25,eSave_GrowPolyLine:26,eSave_GrowNode:27,eSave_Transform:28,eSave_GrowAnnot:29,eSave_GrowText:30,eSave_GrowBar:31,eSave_GrowTrend:32,eSave_GrowSlider:33,eSave_GrowImage:34,eSave_GrowGroup:35,eSave_NodeGroup:36,eSave_GrowAxis:37,eSave_GrowRectRounded:38,eSave_GrowConGlue:39,eSave_GrowWindow:40,eSave_GrowFolder:41,eSave_GrowTable:42,eSave_GrowXYCurve:43,eSave_GrowAxisArc:44,eSave_GrowPie:45,eSave_GrowBarChart:46,eSave_GrowToolbar:47,eSave_CustomColors:48,eSave_GrowBarArc:49,eSave_End:99,eSave_Ctx_zoom_factor_x:100,eSave_Ctx_base_zoom_factor:101,eSave_Ctx_offset_x:102,eSave_Ctx_offset_y:103,eSave_Ctx_nav_zoom_factor_x:104,eSave_Ctx_print_zoom_factor:105,eSave_Ctx_nav_offset_x:106,eSave_Ctx_nav_offset_y:107,eSave_Ctx_x_right:108,eSave_Ctx_x_left:109,eSave_Ctx_y_high:110,eSave_Ctx_y_low:111,eSave_Ctx_window_width:112,eSave_Ctx_window_height:113,eSave_Ctx_nav_window_width:114,eSave_Ctx_nav_window_height:115,eSave_Ctx_nav_rect_ll_x:116,eSave_Ctx_nav_rect_ll_y:117,eSave_Ctx_nav_rect_ur_x:118,eSave_Ctx_nav_rect_ur_y:119,eSave_Ctx_nav_rect_hot:120,eSave_Ctx_name:121,eSave_Ctx_user_highlight:122,eSave_Ctx_a_nc:123,eSave_Ctx_a_cc:124,eSave_Ctx_a:125,eSave_Ctx_grid_size_x:126,eSave_Ctx_grid_size_y:127,eSave_Ctx_grid_on:128,eSave_Ctx_draw_delta:129,eSave_Ctx_refcon_width:130,eSave_Ctx_refcon_height:131,eSave_Ctx_refcon_textsize:132,eSave_Ctx_refcon_linewidth:133,eSave_Ctx_grow:134,eSave_Ctx_zoom_factor_y:135,eSave_Ctx_nav_zoom_factor_y:136,eSave_Ctx_version:137,eSave_Ctx_hot_indication:138,eSave_Ctx_tiptext_size:139,eSave_Ctx_app_motion:140,eSave_Ctx_color_theme:141,eSave_Ctx_comment:199,eSave_Array_a:200,eSave_NodeClass_nc_name:300,eSave_NodeClass_a:301,eSave_NodeClass_group:302,eSave_NodeClass_dynamic:303,eSave_NodeClass_dynamicsize:304,eSave_NodeClass_arg_cnt:305,eSave_NodeClass_argname:306,eSave_NodeClass_argtype:307,eSave_NodeClass_dyn_type1:308,eSave_NodeClass_dyn_color1:309,eSave_NodeClass_no_con_obstacle:310,eSave_NodeClass_slider:311,eSave_NodeClass_java_name:312,eSave_NodeClass_dyn_color2:313,eSave_NodeClass_next_nodeclass:314,eSave_NodeClass_animation_count:315,eSave_NodeClass_cycle:316,eSave_NodeClass_y0:317,eSave_NodeClass_y1:318,eSave_NodeClass_x0:319,eSave_NodeClass_x1:320,eSave_NodeClass_dyn_action_type1:321,eSave_NodeClass_dyn_color3:322,eSave_NodeClass_dyn_color4:323,eSave_NodeClass_dyn_attr1:324,eSave_NodeClass_dyn_attr2:325,eSave_NodeClass_dyn_attr3:326,eSave_NodeClass_dyn_attr4:327,eSave_NodeClass_input_focus_mark:328,eSave_NodeClass_userdata_cb:329,eSave_NodeClass_dyn_type2:330,eSave_NodeClass_dyn_action_type2:331,eSave_NodeClass_recursive_trace:332,eSave_ConClass_cc_name:400,eSave_ConClass_con_type:401,eSave_ConClass_corner:402,eSave_ConClass_draw_type:403,eSave_ConClass_line_width:404,eSave_ConClass_arrow_width:405,eSave_ConClass_arrow_length:406,eSave_ConClass_round_corner_amount:407,eSave_ConClass_group:408,eSave_Rect_draw_type:500,eSave_Rect_line_width:501,eSave_Rect_ll:502,eSave_Rect_ur:503,eSave_Rect_display_level:504,eSave_Rect_fill:505,eSave_Line_draw_type:600,eSave_Line_line_width:601,eSave_Line_p1:602,eSave_Line_p2:603,eSave_Point_x:700,eSave_Point_y:701,eSave_Arc_angle1:800,eSave_Arc_angle2:801,eSave_Arc_draw_type:802,eSave_Arc_line_width:803,eSave_Arc_ll:804,eSave_Arc_ur:805,eSave_Arc_fill:806,eSave_Text_text_size:900,eSave_Text_draw_type:901,eSave_Text_text:902,eSave_Text_p:903,eSave_Text_color_drawtype:904,eSave_Node_nc:1e3,eSave_Node_pos:1001,eSave_Node_n_name:1002,eSave_Node_annotsize:1003,eSave_Node_annotv:1004,eSave_Node_refcon_cnt:1005,eSave_Node_x_right:1006,eSave_Node_x_left:1007,eSave_Node_y_high:1008,eSave_Node_y_low:1009,eSave_Node_trace_data1:1010,eSave_Node_trace_data2:1011,eSave_Node_trace_attr_type:1012,eSave_Node_obst_x_right:1013,eSave_Node_obst_x_left:1014,eSave_Node_obst_y_high:1015,eSave_Node_obst_y_low:1016,eSave_Node_trace_color:1017,eSave_Node_trace_data3:1018,eSave_Node_trace_data4:1019,eSave_Node_trace_data5:1020,eSave_Node_trace_data6:1021,eSave_Node_trace_data7:1022,eSave_Node_trace_data8:1023,eSave_Node_trace_data9:1024,eSave_Node_trace_data10:1025,eSave_Node_access:1026,eSave_Node_trace_color2:1027,eSave_Node_cycle:1028,eSave_Node_ref_object:1029,eSave_Con_x_right:1100,eSave_Con_x_left:1101,eSave_Con_y_high:1102,eSave_Con_y_low:1103,eSave_Con_cc:1104,eSave_Con_dest_node:1105,eSave_Con_source_node:1106,eSave_Con_dest_conpoint:1107,eSave_Con_source_conpoint:1108,eSave_Con_dest_direction:1109,eSave_Con_source_direction:1110,eSave_Con_line_a:1111,eSave_Con_arc_a:1112,eSave_Con_arrow_a:1113,eSave_Con_ref_a:1114,eSave_Con_p_num:1115,eSave_Con_l_num:1116,eSave_Con_a_num:1117,eSave_Con_arrow_num:1118,eSave_Con_ref_num:1119,eSave_Con_point_x:1120,eSave_Con_point_y:1121,eSave_Con_source_ref_cnt:1122,eSave_Con_dest_ref_cnt:1123,eSave_Con_c_name:1124,eSave_Con_trace_object:1125,eSave_Con_trace_attribute:1126,eSave_Con_trace_attr_type:1127,eSave_Con_temporary_ref:1128,eSave_Con_border:1129,eSave_Con_shadow:1130,eSave_ConPoint_number:1200,eSave_ConPoint_direction:1201,eSave_ConPoint_p:1202,eSave_ConPoint_trace_attribute:1203,eSave_ConPoint_trace_attr_type:1204,eSave_ConPoint_trf:1205,eSave_Annot_number:1300,eSave_Annot_draw_type:1301,eSave_Annot_text_size:1302,eSave_Annot_p:1303,eSave_Annot_annot_type:1304,eSave_Annot_display_level:1305,eSave_Annot_color_drawtype:1306,eSave_Annot_font:1307,eSave_Annot_protect:1308,eSave_Arrow_arrow_width:1400,eSave_Arrow_arrow_length:1401,eSave_Arrow_draw_type:1402,eSave_Arrow_line_width:1403,eSave_Arrow_p_dest:1404,eSave_Arrow_p1:1405,eSave_Arrow_p2:1406,eSave_GrowRect_x_right:1900,eSave_GrowRect_x_left:1901,eSave_GrowRect_y_high:1902,eSave_GrowRect_y_low:1903,eSave_GrowRect_n_name:1904,eSave_GrowRect_rect_part:1905,eSave_GrowRect_dynamic:1906,eSave_GrowRect_dynamicsize:1907,eSave_GrowRect_original_border_drawtype:1908,eSave_GrowRect_original_fill_drawtype:1909,eSave_GrowRect_fill_drawtype:1910,eSave_GrowRect_border:1911,eSave_GrowRect_trf:1912,eSave_GrowRect_shadow_width:1913,eSave_GrowRect_relief:1914,eSave_GrowRect_shadow:1915,eSave_GrowRect_shadow_contrast:1916,eSave_GrowRect_disable_shadow:1917,eSave_GrowRect_invisible:1918,eSave_GrowRect_fixcolor:1919,eSave_GrowRect_fixposition:1920,eSave_GrowRect_gradient:1921,eSave_GrowRect_gradient_contrast:1922,eSave_GrowRect_disable_gradient:1923,eSave_GrowRect_bgcolor_gradient:1924,eSave_GrowRect_background_drawtype:1925,eSave_GrowRect_fill_eq_background:1926,eSave_GrowLine_x_right:2e3,eSave_GrowLine_x_left:2001,eSave_GrowLine_y_high:2002,eSave_GrowLine_y_low:2003,eSave_GrowLine_n_name:2004,eSave_GrowLine_line_part:2005,eSave_GrowLine_dynamic:2006,eSave_GrowLine_dynamicsize:2007,eSave_GrowLine_trf:2008,eSave_GrowLine_original_border_drawtype:2009,eSave_GrowLine_line_type:2010,eSave_GrowConPoint_x_right:2100,eSave_GrowConPoint_x_left:2101,eSave_GrowConPoint_y_high:2102,eSave_GrowConPoint_y_low:2103,eSave_GrowConPoint_n_name:2104,eSave_GrowConPoint_arc:2105,eSave_GrowConPoint_conpoint_part:2106,eSave_GrowCtx_conpoint_num_cnt:2200,eSave_GrowCtx_objectname_cnt:2201,eSave_GrowCtx_name:2202,eSave_GrowCtx_background_color:2203,eSave_GrowCtx_dynamic:2204,eSave_GrowCtx_dynamicsize:2205,eSave_GrowCtx_arg_cnt:2206,eSave_GrowCtx_argname:2207,eSave_GrowCtx_argtype:2208,eSave_GrowCtx_x0:2209,eSave_GrowCtx_y0:2210,eSave_GrowCtx_x1:2211,eSave_GrowCtx_y1:2212,eSave_GrowCtx_path_cnt:2213,eSave_GrowCtx_path:2214,eSave_GrowCtx_dyn_type1:2215,eSave_GrowCtx_dyn_color1:2216,eSave_GrowCtx_no_con_obstacle:2217,eSave_GrowCtx_slider:2218,eSave_GrowCtx_subgraph:2219,eSave_GrowCtx_java_name:2220,eSave_GrowCtx_dyn_color2:2221,eSave_GrowCtx_next_subgraph:2222,eSave_GrowCtx_animation_count:2223,eSave_GrowCtx_scantime:2224,eSave_GrowCtx_animation_scantime:2225,eSave_GrowCtx_java_width:2226,eSave_GrowCtx_background_image:2227,eSave_GrowCtx_background_tiled:2228,eSave_GrowCtx_double_buffered:2229,eSave_GrowCtx_is_javaapplet:2230,eSave_GrowCtx_is_javaapplication:2231,eSave_GrowCtx_fast_scantime:2232,eSave_GrowCtx_cycle:2233,eSave_GrowCtx_mb3_action:2234,eSave_GrowCtx_translate_on:2235,eSave_GrowCtx_dyn_action_type1:2236,eSave_GrowCtx_dyn_color3:2237,eSave_GrowCtx_dyn_color4:2238,eSave_GrowCtx_dyn_attr1:2239,eSave_GrowCtx_dyn_attr2:2240,eSave_GrowCtx_dyn_attr3:2241,eSave_GrowCtx_dyn_attr4:2242,eSave_GrowCtx_input_focus_mark:2243,eSave_GrowCtx_userdata_cb:2244,eSave_GrowCtx_bitmap_fonts:2245,eSave_GrowCtx_dyn_type2:2246,eSave_GrowCtx_dyn_action_type2:2247,eSave_GrowCtx_recursive_trace:2248,eSave_GrowCtx_customcolors:2249,eSave_GrowSubAnnot_x_right:2300,eSave_GrowSubAnnot_x_left:2301,eSave_GrowSubAnnot_y_high:2302,eSave_GrowSubAnnot_y_low:2303,eSave_GrowSubAnnot_n_name:2304,eSave_GrowSubAnnot_text:2305,eSave_GrowSubAnnot_rect:2306,eSave_GrowSubAnnot_annot_part:2307,eSave_GrowSubAnnot_trf:2308,eSave_GrowSubAnnot_adjustment:2309,eSave_GrowArc_x_right:2400,eSave_GrowArc_x_left:2401,eSave_GrowArc_y_high:2402,eSave_GrowArc_y_low:2403,eSave_GrowArc_n_name:2404,eSave_GrowArc_arc_part:2405,eSave_GrowArc_dynamic:2406,eSave_GrowArc_dynamicsize:2407,eSave_GrowArc_original_border_drawtype:2408,eSave_GrowArc_original_fill_drawtype:2409,eSave_GrowArc_fill_drawtype:2410,eSave_GrowArc_border:2411,eSave_GrowArc_trf:2412,eSave_GrowArc_shadow_width:2413,eSave_GrowArc_relief:2414,eSave_GrowArc_shadow:2415,eSave_GrowArc_shadow_contrast:2416,eSave_GrowArc_disable_shadow:2417,eSave_GrowArc_gradient:2418,eSave_GrowArc_gradient_contrast:2419,eSave_GrowArc_disable_gradient:2420,eSave_GrowArc_fixcolor:2421,eSave_GrowArc_fixposition:2422,eSave_GrowArc_background_drawtype:2423,eSave_GrowArc_fill_eq_background:2424,eSave_PolyLine_draw_type:2500,eSave_PolyLine_line_width:2501,eSave_PolyLine_a_points:2502,eSave_PolyLine_fill:2503,eSave_PolyLine_closed_line:2504,eSave_GrowPolyLine_x_right:2600,eSave_GrowPolyLine_x_left:2601,eSave_GrowPolyLine_y_high:2602,eSave_GrowPolyLine_y_low:2603,eSave_GrowPolyLine_n_name:2604,eSave_GrowPolyLine_polyline_part:2605,eSave_GrowPolyLine_dynamic:2606,eSave_GrowPolyLine_dynamicsize:2607,eSave_GrowPolyLine_original_border_drawtype:2608,eSave_GrowPolyLine_original_fill_drawtype:2609,eSave_GrowPolyLine_fill_drawtype:2610,eSave_GrowPolyLine_border:2611,eSave_GrowPolyLine_trf:2612,eSave_GrowPolyLine_fill_eq_border:2613,eSave_GrowPolyLine_shadow_width:2614,eSave_GrowPolyLine_relief:2615,eSave_GrowPolyLine_shadow:2616,eSave_GrowPolyLine_shadow_contrast:2617,eSave_GrowPolyLine_disable_shadow:2618,eSave_GrowPolyLine_fill_eq_light:2619,eSave_GrowPolyLine_fill_eq_shadow:2620,eSave_GrowPolyLine_fixcolor:2621,eSave_GrowPolyLine_fixposition:2622,eSave_GrowPolyLine_gradient:2623,eSave_GrowPolyLine_gradient_contrast:2624,eSave_GrowPolyLine_disable_gradient:2625,eSave_GrowPolyLine_fill_eq_bglight:2626,eSave_GrowPolyLine_fill_eq_bgshadow:2627,eSave_GrowPolyLine_fill_eq_background:2628,eSave_GrowPolyLine_background_drawtype:2629,eSave_GrowNode_node_part:2700,eSave_GrowNode_dynamic:2701,eSave_GrowNode_dynamicsize:2702,eSave_GrowNode_original_border_drawtype:2703,eSave_GrowNode_original_fill_drawtype:2704,eSave_GrowNode_fill_drawtype:2705,eSave_GrowNode_draw_type:2706,eSave_GrowNode_trf:2707,eSave_GrowNode_original_color_tone:2708,eSave_GrowNode_color_tone:2709,eSave_GrowNode_original_color_lightness:2710,eSave_GrowNode_color_lightness:2711,eSave_GrowNode_original_color_intensity:2712,eSave_GrowNode_color_intensity:2713,eSave_GrowNode_original_color_shift:2714,eSave_GrowNode_color_shift:2715,eSave_GrowNode_arg_cnt:2716,eSave_GrowNode_argv:2717,eSave_GrowNode_argsize:2718,eSave_GrowNode_line_width:2719,eSave_GrowNode_invisible:2720,eSave_GrowNode_userdata_cb:2721,eSave_GrowNode_original_text_drawtype:2722,eSave_GrowNode_text_drawtype:2723,eSave_GrowNode_shadow:2724,eSave_GrowNode_flip_horizontal:2725,eSave_GrowNode_flip_vertical:2726,eSave_GrowNode_gradient:2727,eSave_GrowNode_text_type:2728,eSave_GrowNode_text_font:2729,eSave_GrowNode_disable_cb:2730,eSave_GrowNode_original_background_drawtype:2731,eSave_GrowNode_background_drawtype:2732,eSave_Transform_a11:2800,eSave_Transform_a12:2801,eSave_Transform_a13:2802,eSave_Transform_a21:2803,eSave_Transform_a22:2804,eSave_Transform_a23:2805,eSave_Transform_rotation:2806,eSave_GrowAnnot_adjustment:2901,eSave_GrowAnnot_annot_part:2907,eSave_GrowAnnot_trf:2908,eSave_GrowText_x_right:3e3,eSave_GrowText_x_left:3001,eSave_GrowText_y_high:3002,eSave_GrowText_y_low:3003,eSave_GrowText_n_name:3004,eSave_GrowText_text_part:3005,eSave_GrowText_dynamic:3006,eSave_GrowText_dynamicsize:3007,eSave_GrowText_original_color_drawtype:3008,eSave_GrowText_trf:3009,eSave_GrowText_font:3010,eSave_GrowText_adjustment:3011,eSave_GrowBar_max_value:3100,eSave_GrowBar_min_value:3101,eSave_GrowBar_bar_value:3102,eSave_GrowBar_bar_drawtype:3103,eSave_GrowBar_direction:3104,eSave_GrowBar_rect_part:3105,eSave_GrowBar_trace_data1:3106,eSave_GrowBar_trace_data2:3107,eSave_GrowBar_trace_attr_type:3108,eSave_GrowBar_trace_color:3109,eSave_GrowBar_bar_bordercolor:3110,eSave_GrowBar_bar_borderwidth:3111,eSave_GrowBar_trace_data3:3112,eSave_GrowBar_trace_data4:3113,eSave_GrowBar_trace_data5:3114,eSave_GrowBar_trace_data6:3115,eSave_GrowBar_trace_data7:3116,eSave_GrowBar_trace_data8:3117,eSave_GrowBar_trace_data9:3118,eSave_GrowBar_trace_data10:3119,eSave_GrowBar_access:3120,eSave_GrowBar_cycle:3121,eSave_GrowBar_ref_object:3122,eSave_GrowBar_userdata_cb:3123,eSave_GrowTrend_y_max_value_0:3200,eSave_GrowTrend_y_min_value_0:3201,eSave_GrowTrend_curve_drawtype_0:3202,eSave_GrowTrend_rect_part:3203,eSave_GrowTrend_trace_data1:3204,eSave_GrowTrend_trace_data2:3205,eSave_GrowTrend_trace_attr_type:3206,eSave_GrowTrend_trace_color:3207,eSave_GrowTrend_horizontal_lines:3208,eSave_GrowTrend_vertical_lines:3209,eSave_GrowTrend_fill_curve:3210,eSave_GrowTrend_curve_fill_drawtype_0:3211,eSave_GrowTrend_no_of_points:3212,eSave_GrowTrend_curve_width:3213,eSave_GrowTrend_scan_time:3214,eSave_GrowTrend_y_max_value_1:3215,eSave_GrowTrend_y_min_value_1:3216,eSave_GrowTrend_curve_drawtype_1:3217,eSave_GrowTrend_curve_fill_drawtype_1:3218,eSave_GrowTrend_trace_data3:3219,eSave_GrowTrend_trace_data4:3220,eSave_GrowTrend_trace_data5:3221,eSave_GrowTrend_trace_data6:3222,eSave_GrowTrend_trace_data7:3223,eSave_GrowTrend_trace_data8:3224,eSave_GrowTrend_trace_data9:3225,eSave_GrowTrend_trace_data10:3226,eSave_GrowTrend_access:3227,eSave_GrowTrend_cycle:3228,eSave_GrowTrend_ref_object:3229,eSave_GrowTrend_userdata_cb:3230,eSave_GrowTrend_x_max_value_0:3231,eSave_GrowTrend_x_min_value_0:3232,eSave_GrowTrend_x_max_value_1:3233,eSave_GrowTrend_x_min_value_1:3234,eSave_GrowTrend_mode:3235,eSave_GrowSlider_grownode_part:3300,eSave_GrowSlider_direction:3301,eSave_GrowSlider_max_value:3302,eSave_GrowSlider_min_value:3303,eSave_GrowSlider_max_pos:3304,eSave_GrowSlider_min_pos:3305,eSave_GrowImage_x_right:3400,eSave_GrowImage_x_left:3401,eSave_GrowImage_y_high:3402,eSave_GrowImage_y_low:3403,eSave_GrowImage_n_name:3404,eSave_GrowImage_image_filename:3405,eSave_GrowImage_dynamic:3406,eSave_GrowImage_dynamicsize:3407,eSave_GrowImage_trf:3408,eSave_GrowImage_display_level:3409,eSave_GrowImage_ll:3410,eSave_GrowImage_ur:3411,eSave_GrowImage_color_tone:3412,eSave_GrowImage_color_lightness:3413,eSave_GrowImage_color_intensity:3414,eSave_GrowImage_color_shift:3415,eSave_GrowImage_fixposition:3416,eSave_GrowGroup_grownode_part:3500,eSave_GrowGroup_nc:3501,eSave_NodeGroup_nodeclass_part:3600,eSave_GrowAxis_max_value:3700,eSave_GrowAxis_min_value:3701,eSave_GrowAxis_rect_part:3702,eSave_GrowAxis_lines:3703,eSave_GrowAxis_longquotient:3704,eSave_GrowAxis_valuequotient:3705,eSave_GrowAxis_format:3706,eSave_GrowAxis_text_size:3707,eSave_GrowAxis_text_drawtype:3708,eSave_GrowAxis_text_color_drawtype:3709,eSave_GrowAxis_userdata_cb:3710,eSave_GrowRectRounded_x_right:3800,eSave_GrowRectRounded_x_left:3801,eSave_GrowRectRounded_y_high:3802,eSave_GrowRectRounded_y_low:3803,eSave_GrowRectRounded_n_name:3804,eSave_GrowRectRounded_rect_part:3805,eSave_GrowRectRounded_dynamic:3806,eSave_GrowRectRounded_dynamicsize:3807,eSave_GrowRectRounded_original_border_drawtype:3808,eSave_GrowRectRounded_original_fill_drawtype:3809,eSave_GrowRectRounded_fill_drawtype:3810,eSave_GrowRectRounded_border:3811,eSave_GrowRectRounded_trf:3812,eSave_GrowRectRounded_round_amount:3813,eSave_GrowRectRounded_shadow_width:3814,eSave_GrowRectRounded_relief:3815,eSave_GrowRectRounded_shadow:3816,eSave_GrowRectRounded_shadow_contrast:3817,eSave_GrowRectRounded_disable_shadow:3818,eSave_GrowRectRounded_gradient:3819,eSave_GrowRectRounded_gradient_contrast:3820,eSave_GrowRectRounded_disable_gradient:3821,eSave_GrowRectRounded_fixposition:3822,eSave_GrowConGlue_line_width_up:3900,eSave_GrowConGlue_line_width_down:3901,eSave_GrowConGlue_line_width_left:3902,eSave_GrowConGlue_line_width_right:3903,eSave_GrowConGlue_node_part:3904,eSave_GrowConGlue_border:3905,eSave_GrowWindow_file_name:4e3,eSave_GrowWindow_rect_part:4001,eSave_GrowWindow_userdata_cb:4002,eSave_GrowWindow_scrollbar_width:4003,eSave_GrowWindow_vertical_scrollbar:4004,eSave_GrowWindow_horizontal_scrollbar:4005,eSave_GrowWindow_scrollbar_color:4006,eSave_GrowWindow_scrollbar_bg_color:4007,eSave_GrowWindow_window_scale:4008,eSave_GrowWindow_owner:4009,eSave_GrowFolder_folders:4100,eSave_GrowFolder_text_size:4101,eSave_GrowFolder_text_drawtype:4102,eSave_GrowFolder_text_color_drawtype:4103,eSave_GrowFolder_header_height:4104,eSave_GrowFolder_window_part:4105,eSave_GrowFolder_color_selected:4106,eSave_GrowFolder_color_unselected:4107,eSave_GrowFolder_folder_file_names1:4120,eSave_GrowFolder_folder_text1:4121,eSave_GrowFolder_folder_scale1:4122,eSave_GrowFolder_folder_v_scrollbar1:4123,eSave_GrowFolder_folder_h_scrollbar1:4124,eSave_GrowFolder_folder_file_names2:4125,eSave_GrowFolder_folder_text2:4126,eSave_GrowFolder_folder_scale2:4127,eSave_GrowFolder_folder_v_scrollbar2:4128,eSave_GrowFolder_folder_h_scrollbar2:4129,eSave_GrowFolder_folder_file_names3:4130,eSave_GrowFolder_folder_text3:4131,eSave_GrowFolder_folder_scale3:4132,eSave_GrowFolder_folder_v_scrollbar3:4133,eSave_GrowFolder_folder_h_scrollbar3:4134,eSave_GrowFolder_folder_file_names4:4135,eSave_GrowFolder_folder_text4:4136,eSave_GrowFolder_folder_scale4:4137,eSave_GrowFolder_folder_v_scrollbar4:4138,eSave_GrowFolder_folder_h_scrollbar4:4139,eSave_GrowFolder_folder_file_names5:4140,eSave_GrowFolder_folder_text5:4141,eSave_GrowFolder_folder_scale5:4142,eSave_GrowFolder_folder_v_scrollbar5:4143,eSave_GrowFolder_folder_h_scrollbar5:4144,eSave_GrowFolder_folder_file_names6:4145,eSave_GrowFolder_folder_text6:4146,eSave_GrowFolder_folder_scale6:4147,eSave_GrowFolder_folder_v_scrollbar6:4148,eSave_GrowFolder_folder_h_scrollbar6:4149,eSave_GrowFolder_folder_file_names7:4150,eSave_GrowFolder_folder_text7:4151,eSave_GrowFolder_folder_scale7:4152,eSave_GrowFolder_folder_v_scrollbar7:4153,eSave_GrowFolder_folder_h_scrollbar7:4154,eSave_GrowFolder_folder_file_names8:4155,eSave_GrowFolder_folder_text8:4156,eSave_GrowFolder_folder_scale8:4157,eSave_GrowFolder_folder_v_scrollbar8:4158,eSave_GrowFolder_folder_h_scrollbar8:4159,eSave_GrowFolder_folder_file_names9:4160,eSave_GrowFolder_folder_text9:4161,eSave_GrowFolder_folder_scale9:4162,eSave_GrowFolder_folder_v_scrollbar9:4163,eSave_GrowFolder_folder_h_scrollbar9:4164,eSave_GrowFolder_folder_file_names10:4165,eSave_GrowFolder_folder_text10:4166,eSave_GrowFolder_folder_scale10:4167,eSave_GrowFolder_folder_v_scrollbar10:4168,eSave_GrowFolder_folder_h_scrollbar10:4169,eSave_GrowFolder_folder_file_names11:4170,eSave_GrowFolder_folder_text11:4171,eSave_GrowFolder_folder_scale11:4172,eSave_GrowFolder_folder_v_scrollbar11:4173,eSave_GrowFolder_folder_h_scrollbar11:4174,eSave_GrowFolder_folder_file_names12:4175,eSave_GrowFolder_folder_text12:4176,eSave_GrowFolder_folder_scale12:4177,eSave_GrowFolder_folder_v_scrollbar12:4178,eSave_GrowFolder_folder_h_scrollbar12:4179,eSave_GrowFolder_folder_owner1:4180,eSave_GrowFolder_folder_owner2:4181,eSave_GrowFolder_folder_owner3:4182,eSave_GrowFolder_folder_owner4:4183,eSave_GrowFolder_folder_owner5:4184,eSave_GrowFolder_folder_owner6:4185,eSave_GrowFolder_folder_owner7:4186,eSave_GrowFolder_folder_owner8:4187,eSave_GrowFolder_folder_owner9:4188,eSave_GrowFolder_folder_owner10:4189,eSave_GrowFolder_folder_owner11:4190,eSave_GrowFolder_folder_owner12:4191,eSave_GrowTable_rect_part:4200,eSave_GrowTable_userdata_cb:4202,eSave_GrowTable_scrollbar_width:4203,eSave_GrowTable_vertical_scrollbar:4204,eSave_GrowTable_horizontal_scrollbar:4205,eSave_GrowTable_scrollbar_color:4206,eSave_GrowTable_scrollbar_bg_color:4207,eSave_GrowTable_window_scale:4208,eSave_GrowTable_rows:4209,eSave_GrowTable_columns:4210,eSave_GrowTable_header_row:4211,eSave_GrowTable_header_column:4212,eSave_GrowTable_text_size:4213,eSave_GrowTable_text_drawtype:4214,eSave_GrowTable_header_row_height:4215,eSave_GrowTable_row_height:4216,eSave_GrowTable_text_color_drawtype:4217,eSave_GrowTable_header_text_size:4218,eSave_GrowTable_header_text_drawtype:4219,eSave_GrowTable_header_text_color:4220,eSave_GrowTable_header_text_bold:4221,eSave_GrowTable_options:4222,eSave_GrowTable_font:4223,eSave_GrowTable_column_width1:4240,eSave_GrowTable_header_text1:4241,eSave_GrowTable_column_width2:4242,eSave_GrowTable_header_text2:4243,eSave_GrowTable_column_width3:4244,eSave_GrowTable_header_text3:4245,eSave_GrowTable_column_width4:4246,eSave_GrowTable_header_text4:4247,eSave_GrowTable_column_width5:4248,eSave_GrowTable_header_text5:4249,eSave_GrowTable_column_width6:4250,eSave_GrowTable_header_text6:4251,eSave_GrowTable_column_width7:4252,eSave_GrowTable_header_text7:4253,eSave_GrowTable_column_width8:4254,eSave_GrowTable_header_text8:4255,eSave_GrowTable_column_width9:4256,eSave_GrowTable_header_text9:4257,eSave_GrowTable_column_width10:4258,eSave_GrowTable_header_text10:4259,eSave_GrowTable_column_width11:4260,eSave_GrowTable_header_text11:4261,eSave_GrowTable_column_width12:4262,eSave_GrowTable_header_text12:4263,eSave_GrowTable_select_drawtype:4264,eSave_GrowTable_column_adjustment1:4265,eSave_GrowTable_column_adjustment2:4266,eSave_GrowTable_column_adjustment3:4267,eSave_GrowTable_column_adjustment4:4268,eSave_GrowTable_column_adjustment5:4269,eSave_GrowTable_column_adjustment6:4270,eSave_GrowTable_column_adjustment7:4271,eSave_GrowTable_column_adjustment8:4272,eSave_GrowTable_column_adjustment9:4273,eSave_GrowTable_column_adjustment10:4274,eSave_GrowTable_column_adjustment11:4275,eSave_GrowTable_column_adjustment12:4276,eSave_GrowXYCurve_trend_part:4300,eSave_GrowAxisArc_max_value:4400,eSave_GrowAxisArc_min_value:4401,eSave_GrowAxisArc_arc_part:4402,eSave_GrowAxisArc_lines:4403,eSave_GrowAxisArc_linelength:4404,eSave_GrowAxisArc_longquotient:4405,eSave_GrowAxisArc_valuequotient:4406,eSave_GrowAxisArc_format:4407,eSave_GrowAxisArc_text_size:4408,eSave_GrowAxisArc_text_drawtype:4409,eSave_GrowAxisArc_text_color_drawtype:4410,eSave_GrowAxisArc_userdata_cb:4411,eSave_GrowPie_arc_part:4500,eSave_GrowPie_sectors:4501,eSave_GrowPie_min_value:4502,eSave_GrowPie_max_value:4503,eSave_GrowPie_sector_color1:4504,eSave_GrowPie_sector_color2:4505,eSave_GrowPie_sector_color3:4506,eSave_GrowPie_sector_color4:4507,eSave_GrowPie_sector_color5:4508,eSave_GrowPie_sector_color6:4509,eSave_GrowPie_sector_color7:4510,eSave_GrowPie_sector_color8:4511,eSave_GrowPie_sector_color9:4512,eSave_GrowPie_sector_color10:4513,eSave_GrowPie_sector_color11:4514,eSave_GrowPie_sector_color12:4515,eSave_GrowPie_sector_size1:4516,eSave_GrowPie_sector_size2:4517,eSave_GrowPie_sector_size3:4518,eSave_GrowPie_sector_size4:4519,eSave_GrowPie_sector_size5:4520,eSave_GrowPie_sector_size6:4521,eSave_GrowPie_sector_size7:4522,eSave_GrowPie_sector_size8:4523,eSave_GrowPie_sector_size9:4524,eSave_GrowPie_sector_size10:4525,eSave_GrowPie_sector_size11:4526,eSave_GrowPie_sector_size12:4527,eSave_GrowPie_userdata_cb:4528,eSave_GrowBarChart_rect_part:4600,eSave_GrowBarChart_bars:4601,eSave_GrowBarChart_barsegments:4602,eSave_GrowBarChart_min_value:4603,eSave_GrowBarChart_max_value:4604,eSave_GrowBarChart_bar_color1:4605,eSave_GrowBarChart_bar_color2:4606,eSave_GrowBarChart_bar_color3:4607,eSave_GrowBarChart_bar_color4:4608,eSave_GrowBarChart_bar_color5:4609,eSave_GrowBarChart_bar_color6:4610,eSave_GrowBarChart_bar_color7:4611,eSave_GrowBarChart_bar_color8:4612,eSave_GrowBarChart_bar_color9:4613,eSave_GrowBarChart_bar_color10:4614,eSave_GrowBarChart_bar_color11:4615,eSave_GrowBarChart_bar_color12:4616,eSave_GrowBarChart_vertical_lines:4617,eSave_GrowBarChart_horizontal_lines:4618,eSave_GrowBarChart_userdata_cb:4619,eSave_GrowBarChart_line_color:4620,eSave_GrowToolbar_grownode_part:4700,eSave_GrowToolbar_nc:4701,eSave_CustomColors_colors_size:4800,eSave_CustomColors_colors:4801,eSave_CustomColors_colortheme_lightness:4802,eSave_CustomColors_is_default_colortheme:4803,eSave_GrowBarArc_max_value:4900,eSave_GrowBarArc_min_value:4901,eSave_GrowBarArc_bar_width:4902,eSave_GrowBarArc_bar_value:4903,eSave_GrowBarArc_bar_drawtype:4904,eSave_GrowBarArc_direction:4905,eSave_GrowBarArc_arc_part:4906,eSave_GrowBarArc_bar_bordercolor:4907,eSave_GrowBarArc_bar_borderwidth:4908,eSave_GrowBarArc_userdata_cb:4909,eSave_GrowBarArc_bar_direction:4910,ePosition_Absolute:0,ePosition_Relative:1,eMoveRestriction_VerticalSlider:0,eMoveRestriction_HorizontalSlider:1,eMoveRestriction_Disable:2,eEventType_Object:0,eEventType_Menu:1,eEventType_Toolbar:2,eEventType_Table:3,eEventType_CustomColor:4,eEventType_Signal:5,eEvent_MB1Click:0,eEvent_MB1Up:2,eEvent_MB1Down:3,eEvent_MB1DoubleClick:4,eEvent_CursorMotion:5,eEvent_ButtonMotion:6,eEvent_ValueChanged:7,eEvent_MenuCreate:8,eEvent_MenuActivated:9,eEvent_MenuDelete:10,eEvent_SliderMoveStart:11,eEvent_SliderMoved:12,eEvent_SliderMoveEnd:13,eEvent_MB3Press:14,eEvent_Signal:15};function GlowGeometry(){this.ll_x=0,this.ll_y=0,this.ur_x=0,this.ur_y=0}function GlowFillLevelLimits(){this.status,this.direction,this.min,this.max}function GlowEvent(){this.event=0,this.type=0,this.x=0,this.y=0,this.object=null,this.object_type=0}function GlowEventMenu(){this.event=0,this.type=0,this.x=0,this.y=0,this.object=null,this.object_type=0,this.item=0}function GlowEventTable(){this.event=0,this.type=0,this.x=0,this.y=0,this.object=null,this.object_type=0,this.column=0,this.row=0}function GlowEventToolbar(){this.event=0,this.type=0,this.x=0,this.y=0,this.object=null,this.object_type=0,this.category=0,this.idx=0}function GlowDimension(){this.width=0,this.height=0}function GlowRectangle(){this.x1,this.y1,this.x2,this.y2}function GlowPointX(){this.x,this.y}function GlowSliderInfo(){this.direction,this.max_value,this.min_value,this.max_position,this.min_position}function MenuInfoItem(){this.text,this.type,this.occupied=!1}function GlowMenuInfo(){this.item=new Array(32);for(var t=0;t<32;t++)this.item[t]=new MenuInfoItem}function GlowBackgroundObject(){this.background,this.direction,this.max,this.min,this.sts}function GlowPoint(t){this.x=0,this.y=0,this.ctx=t,this.open=function(t,e){for(var i=!1,a=e;a<t.length;a++){var s=t[a].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("point : "+t[a]),o){case Glow.eSave_Point:break;case Glow.eSave_Point_x:this.x=parseFloat(s[1]);break;case Glow.eSave_Point_y:this.y=parseFloat(s[1]);break;case Glow.eSave_End:i=!0;break;default:console.log("Syntax error in GlowPoint")}if(i)break}return a},this.posit=function(t,e){this.x=t,this.y=e}}function Sat(t,e,i,a){this.s=t,this.i_min=e,this.i_max=i,this.a=a}function Hue(t,e,i){this.h=t,this.hk=e,this.s=i}function Rgb(t,e,i){this.r=t,this.g=e,this.b=i}var GlowColor={gray_i0:.32,gray_i1:.95,ctab:[new Hue(18,-20,[new Sat(.2,-1.4,2.8,.9),new Sat(.5,-1.4,3,.9),new Sat(1.5,-3.5,5,1)]),new Hue(28,10,[new Sat(.2,-1.4,2.8,.9),new Sat(.5,-1.4,3,.9),new Sat(1.5,-3.5,5,1)]),new Hue(45,20,[new Sat(.2,-1.3,2.8,.9),new Sat(.5,-1.3,3,.9),new Sat(1.5,-3.5,4.5,1)]),new Hue(90,0,[new Sat(.2,-1.1,2.8,.9),new Sat(.5,-1.1,3,.9),new Sat(1.5,-4.5,4.5,.8)]),new Hue(150,0,[new Sat(.2,-1,2.8,.9),new Sat(.5,-1,3,.9),new Sat(1.5,-3.5,5.9,1)]),new Hue(240,0,[new Sat(.2,-1,2.8,.9),new Sat(.4,-1,3,.9),new Sat(1.5,-3.5,5.5,.8)]),new Hue(280,0,[new Sat(.2,-1,2.8,.9),new Sat(.4,-1,3,.9),new Sat(1.5,-3.5,5.5,1.2)]),new Hue(355,-20,[new Sat(.2,-1,2.8,.9),new Sat(.4,-1,3,.9),new Sat(1.5,-4.5,3.5,1)])],rgbtab:[new Rgb(.254,.329,0),new Rgb(.357,.459,0),new Rgb(.498,.639,0),new Rgb(.624,.8,0),new Rgb(.764,.976,0),new Rgb(.808,1,.129),new Rgb(.847,1,.31),new Rgb(.898,1,.537),new Rgb(.933,1,.71),new Rgb(.949,1,.776),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(0,0,0),new Rgb(1,.725,.42),new Rgb(1,.796,.569),new Rgb(1,.886,.667),new Rgb(1,.937,.82)],is_shiftable:function(t){return 20<=t&&t<=Glow.eDrawType_Color300},is_custom:function(t){return t>=Glow.eDrawType_CustomColor1&&t<=Glow.eDrawType_CustomColor__},shift_drawtype:function(t,e,i){var a,s,o;return null!==i&&0!==i.getColorInverse()&&(e=-e),o=this.is_shiftable(t)?(a=e+t-(s=10*Math.floor(t/10)))<0?Glow.eDrawType_Color4:10<=a?Glow.eDrawType_Color30:s+a:this.is_custom(t)?-1==e?t+3:e<0?t+2:0<e?t+1:t:t,Math.floor(o)},get_drawtype:function(t,e,i,a,s,o){var r,n,_,l=0,h=0;if(null!==a&&(l=a.getColorLightness(),h=a.getColorIntensity()),0!==i&&0===o)r=e;else if(0!==i&&0!==o&&0===s&&t==Glow.eDrawType_Line)r=e;else{if(null!==a&&a.getColorTone()!=Glow.eDrawTone_No){var c=a.getColorTone();r=30<t&&t<300?c==Glow.eDrawTone_LightGrayHighSaturation?Glow.eDrawType_Color31:c==Glow.eDrawTone_DarkGrayHighSaturation?Glow.eDrawType_Color30:(c>=Glow.eDrawTone_GrayHighSaturation&&c<Glow.eDrawTone_GrayLowSaturation?(c-=27,h+=2):c>=Glow.eDrawTone_GrayLowSaturation&&(c-=54,h-=1),c>=Glow.eDrawTone_DarkGray&&c<Glow.eDrawTone_LightGray?(c-=9,l-=2):c>=Glow.eDrawTone_LightGray&&(c-=18,l+=2),t-30*Math.floor(t/30)+30*c):t}else r=null!==a&&1==s&&a.getFillDrawtype()!=Glow.eDrawType_No?a.getFillDrawtype():null!==a&&2==s&&a.getTextDrawtype()!=Glow.eDrawType_No?a.getTextDrawtype():null!==a&&3==s&&a.getBackgroundDrawtype()!=Glow.eDrawType_No?a.getBackgroundDrawtype():null!==a&&0===s&&a.getDrawtype()!=Glow.eDrawType_No?a.getDrawtype():t;null!==a&&0!==l&&30<=t&&r<300&&(r=(_=-l+r-(n=10*Math.floor(r/10)))<0?Glow.eDrawType_Color4:10<=_?Glow.eDrawType_Color30:n+_),null!==a&&0!==h&&60<=r&&(_=r-(n=30*Math.floor(r/30)),(r+=10*Math.min(2-Math.floor(_/10),h))<n&&(r=Glow.eDrawType_Color41+_)),null!==a&&0!==a.getColorShift()&&60<=r&&r<300&&((_=a.getColorShift()-8*Math.floor(a.getColorShift()/8))<0&&(_+=8),300<=(_=r+30*_)&&(_-=240),r=_),null!==a&&0!==a.getColorInverse()&&(30<=r&&r<300?r=r+10-r%10*2-1:this.is_custom(r)&&((r-Glow.eDrawType_CustomColor1)%4==1?r+=1:(r-Glow.eDrawType_CustomColor1)%4==2?r-=1:(r-Glow.eDrawType_CustomColor1)%4==3&&(r-=2))),null!==a&&0!==a.getDimmed()&&(0===r?r=25:26<=r&&r<=29?r-=4:36<=r&&r<=39?r-=4:46<=r&&r<=49?r-=4:56<=r&&r<=59?r-=4:this.is_custom(r)&&(r==Glow.eDrawType_CustomColor37&&(r=Glow.eDrawType_CustomColor40),r==Glow.eDrawType_CustomColor38&&(r=Glow.eDrawType_CustomColor39)))}return 0<=r&&r<=Glow.eDrawType_Color__||r>=Glow.eDrawType_CustomColor1&&r<Glow.eDrawType_CustomColor__||(console.log("** Invalid drawtype : ",r),r=Glow.eDrawType_Line),r},rgb_color:function(t,e){var i,a,s,o,r,n,_=0,l=0,h=0;if(300==t&&(t=31),3==t)_=l=h=1;else if(2==t)_=l=h=.75;else if(1==t)_=1,l=h=0;else if(0===t)_=l=h=0;else{if(t<20)return i=360*(t-4)/16,s=1.5,a=1,this.his_to_rgb(i,a,s);if(t<60){var c=this.gray_i0;(t<30||50<=t&&t<60)&&(c=.25),_=l=h=c+(this.gray_i1-c)*Math.pow((9-t%10)/9,.9)}else if(t<300){if(n=9-(t-60-30*(o=Math.floor((t-60)/30))-10*(r=Math.floor((t-60-30*o)/10))),!(0===o&&2==r||2==o&&2==r&&5<n))return s=this.ctab[o].s[r].s,a=this.ctab[o].s[r].i_min+(this.ctab[o].s[r].i_max-this.ctab[o].s[r].i_min)*Math.pow(n/9,this.ctab[o].s[r].a),i=this.ctab[o].h+this.ctab[o].hk*n/9,this.his_to_rgb(i,a,s);_=this.rgbtab[10*o+n].r,l=this.rgbtab[10*o+n].g,h=this.rgbtab[10*o+n].b}else if(t>=Glow.eDrawType_CustomColor1&&t<Glow.eDrawType_CustomColor__)return null===e?new Rgb(1,1,1):e.get_color(t)}return new Rgb(_,l,h)},his_to_rgb:function(t,e,i){var a,s,o,r,n,_;return a=i*Math.sin(t*Math.PI/180),s=i*Math.cos(t*Math.PI/180),o=e/Math.sqrt(3),1<(r=(r=2*a/Math.sqrt(6)+o/Math.sqrt(3))/2+.5)&&(r=1),r<0&&(r=0),1<(n=(n=-a/Math.sqrt(6)+s/Math.sqrt(2)+o/Math.sqrt(3))/2+.5)&&(n=1),n<0&&(n=0),1<(_=(_=-a/Math.sqrt(6)-s/Math.sqrt(2)+o/Math.sqrt(3))/2+.5)&&(_=1),_<0&&(_=0),new Rgb(r,n,_)}};function GlowCustomColors(){var i=this;this.debug=!1,this.colors_size=Glow.eDrawType_CustomColor__-Glow.eDrawType_CustomColor1,this.colors=new Array(this.colors_size);for(var t=0;t<this.colors_size;t++)this.colors[t]=new Array(3);this.colortheme_lightness=0;for(t=this.is_default_colortheme=0;t<this.colors_size;t++)this.colors[t][0]=1,this.colors[t][1]=1,this.colors[t][2]=1;this.get_color=function(t){if(t<Glow.eDrawType_CustomColor1||t>=Glow.eDrawType_CustomColor__)return null;var e=t-Glow.eDrawType_CustomColor1;return new Rgb(this.colors[e][0],this.colors[e][1],this.colors[e][2])},this.open=function(t,e){var i,a=!1,s=0;for(i=e;i<t.length;i++){var o=t[i].split(" "),r=parseInt(o[0],10);switch(this.debug&&console.log("GlowCustomColors : "+t[i]),r){case Glow.eSave_CustomColors:break;case Glow.eSave_CustomColors_colors_size:s=parseInt(o[1],10);break;case Glow.eSave_CustomColors_colortheme_lightness:this.colortheme_lightness=parseInt(o[1],10);break;case Glow.eSave_CustomColors_is_default_colortheme:this.is_default_colortheme=parseInt(o[1],10);break;case Glow.eSave_CustomColors_colors:for(var n=0;n<s;n++)o=t[++i].split(" "),this.colors[n][0]=parseFloat(o[0]),this.colors[n][1]=parseFloat(o[1]),this.colors[n][2]=parseFloat(o[2]),this.debug&&console.log(n,this.colors[n][0],this.colors[n][1],this.colors[n][2]);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowCustomColors")}if(a)break}return i},this.read_colorfile=function(t,e){t.appl.frame.readGrowWeb(e,this.read_cb)},this.read_cb=function(t,e){i.open(t,e)}}function GlowArray(t){this.a=[],this.ctx=t,this.add=function(t){this.a.push(t)},this.remove=function(t){for(var e=0;e<this.a.length;e++)if(this.a[e]==t)return this.a.splice(e,1),1;return 0},this.size=function(){return this.a.length},this.get=function(t){return this.a[t]},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s,o=t[i].split(" "),r=parseInt(o[0],10);switch(this.ctx.debug&&console.log("GlowArray : "+t[i]),r){case Glow.eSave_Array:break;case Glow.eSave_NodeClass:i=(s=new GlowNodeClass(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_NodeGroup:i=(s=new GlowNodeGroup(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_ConClass:i=(s=new GlowConClass(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Con:i=(s=new GlowCon(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowNode:if(i=(s=new GrowNode(this.ctx)).open(t,i+1),null===s.nc)break;this.add(s);break;case Glow.eSave_GrowSlider:i=(s=new GrowSlider(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowGroup:i=(s=new GrowGroup(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowConGlue:i=(s=new GrowConGlue(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowRect:i=(s=new GrowRect(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowRectRounded:i=(s=new GrowRectRounded(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Line:i=(s=new GlowLine(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Arc:i=(s=new GlowArc(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Rect:i=(s=new GlowRect(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Text:i=(s=new GlowText(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Arrow:i=(s=new GlowArrow(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowArc:i=(s=new GrowArc(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowLine:i=(s=new GrowLine(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowPolyLine:i=(s=new GrowPolyline(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowText:i=(s=new GrowText(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_ConPoint:i=(s=new GlowConPoint(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowConPoint:i=(s=new GrowConPoint(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowAnnot:i=(s=new GrowAnnot(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowBar:i=(s=new GrowBar(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowBarArc:i=(s=new GrowBarArc(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowTrend:i=(s=new GrowTrend(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowXYCurve:i=(s=new GrowXYCurve(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowTable:i=(s=new GrowTable(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowAxis:i=(s=new GrowAxis(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowAxisArc:i=(s=new GrowAxisArc(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowImage:i=(s=new GrowImage(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowWindow:i=(s=new GrowWindow(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowFolder:i=(s=new GrowFolder(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowPie:i=(s=new GrowPie(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowBarChart:i=(s=new GrowBarChart(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_GrowToolbar:i=(s=new GrowToolbar(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_Point:i=(s=new GlowPoint(this.ctx)).open(t,i+1),this.add(s);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowVector")}if(a)break}return i},this.clear=function(){this.a.length=0}}function GlowTransform(){this.a11=1,this.a12=0,this.a13=0,this.a21=0,this.a22=1,this.a23=0,this.rotation=0,this.s_a11=1,this.s_a12=0,this.s_a13=0,this.s_a21=0,this.s_a22=1,this.s_a23=0,this.s_rotation=0,this.stored=!1,this.store=function(){this.s_a11=this.a11,this.s_a12=this.a12,this.s_a13=this.a13,this.s_a21=this.a21,this.s_a22=this.a22,this.s_a23=this.a23,this.s_rotation=this.rotation,this.stored=!0},this.open=function(t,e){var i,a=this.debug=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.debug&&console.log("GlowTransform : "+t[i]),o){case Glow.eSave_Transform:break;case Glow.eSave_Transform_a11:this.a11=parseFloat(s[1]);break;case Glow.eSave_Transform_a12:this.a12=parseFloat(s[1]);break;case Glow.eSave_Transform_a13:this.a13=parseFloat(s[1]);break;case Glow.eSave_Transform_a21:this.a21=parseFloat(s[1]);break;case Glow.eSave_Transform_a22:this.a22=parseFloat(s[1]);break;case Glow.eSave_Transform_a23:this.a23=parseFloat(s[1]);break;case Glow.eSave_Transform_rotation:this.rotation=parseFloat(s[1]);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowTransform")}if(a)break}return i},this.rot=function(){return 0===arguments.length?this.rotation:1==arguments.length?arguments[0].rotation+this.rotation:void 0},this.x=function(){var t,e;return 2==arguments.length?(e=arguments[1],(t=arguments[0])*this.a11+e*this.a12+this.a13):3==arguments.length?(t=arguments[1],e=arguments[2],arguments[0].multiply(this).x(t,e)):void 0},this.y=function(){var t,e;return 2==arguments.length?(e=arguments[1],(t=arguments[0])*this.a21+e*this.a22+this.a23):3==arguments.length?(t=arguments[1],e=arguments[2],arguments[0].multiply(this).y(t,e)):void 0},this.multiply=function(t){var e=new GlowTransform;return e.a11=this.a11*t.a11+this.a12*t.a21,e.a12=this.a11*t.a12+this.a12*t.a22,e.a13=this.a11*t.a13+this.a12*t.a23+this.a13,e.a21=this.a21*t.a11+this.a22*t.a21,e.a22=this.a21*t.a12+this.a22*t.a22,e.a23=this.a21*t.a13+this.a22*t.a23+this.a23,e.rotation=this.rotation+t.rotation,e},this.set_from_stored=function(t){this.a11=t.a11*this.s_a11+t.a12*this.s_a21,this.a12=t.a11*this.s_a12+t.a12*this.s_a22,this.a13=t.a11*this.s_a13+t.a12*this.s_a23+t.a13,this.a21=t.a21*this.s_a11+t.a22*this.s_a21,this.a22=t.a21*this.s_a12+t.a22*this.s_a22,this.a23=t.a21*this.s_a13+t.a22*this.s_a23+t.a23,this.rotation=this.s_rotation+t.rotation},this.scale=function(t,e,i,a){this.a13=this.a13*t+i*(1-t),this.a23=this.a23*e+a*(1-e),this.a11*=t,this.a12*=t,this.a21*=e,this.a22*=e},this.scale_from_stored=function(t,e,i,a){this.a13=this.s_a13*t+i*(1-t),this.a23=this.s_a23*e+a*(1-e),this.a11=this.s_a11*t,this.a12=this.s_a12*t,this.a21=this.s_a21*e,this.a22=this.s_a22*e},this.rotate=function(t,e,i){var a,s,o=new GlowTransform;o.a11=this.a11,o.a12=this.a12,o.a13=this.a13,o.a21=this.a21,o.a22=this.a22,o.a23=this.a23,o.rotation=this.rotation,s=-90.01<t&&t<-89.99?(a=-1,0):(a=Math.sin(t/180*3.14159),Math.cos(t/180*3.14159)),this.a11=o.a11*s-o.a21*a,this.a12=o.a12*s-o.a22*a,this.a13=o.a13*s-o.a23*a+e*(1-s)+i*a,this.a21=o.a11*a+o.a21*s,this.a22=o.a21*a+o.a22*s,this.a23=o.a13*a+o.a23*s+i*(1-s)-e*a,this.rotation+=t},this.rotate_from_stored=function(t,e,i){var a,s;s=-90.01<this.s_rotation+t&&this.s_rotation+t<-89.99?(a=-1,0):(a=Math.sin((this.s_rotation+t)/180*3.14159),Math.cos((this.s_rotation+t)/180*3.14159)),this.a11=this.s_a11*s-s_a21*a,this.a12=this.s_a12*s-s_a22*a,this.a13=this.s_a13*s-s_a23*a+e*(1-s)+i*a,this.a21=this.s_a11*a+s_a21*s,this.a22=this.s_a21*a+s_a22*s,this.a23=this.s_a13*a+s_a23*s+i*(1-s)-e*a,this.rotation=this.s_rotation+t},this.move=function(t,e){this.a13+=t,this.a23+=e},this.move_from_stored=function(t,e){this.a13=this.s_a13+t,this.a23=this.s_a23+e},this.posit=function(t,e){this.a13=t,this.a23=e},this.reverse=function(t,e){var i=new GlowPoint;return 0===this.a11||this.a12*this.a21-this.a11*this.a22==0?0===this.a11&&0===this.a22&&0!==this.a12&&0!==this.a21?(i.y=(t-this.a13)/this.a12,i.x=(e-this.a23)/this.a21):i.y=i.x=0:(i.y=(this.a11*(this.a23-e)-this.a21*(this.a13-t))/(this.a12*this.a21-this.a11*this.a22),i.x=(t-this.a12*i.y-this.a13)/this.a11),i},this.vertical_scale=function(t){if(null===t)return Math.sqrt(this.a12*this.a12+this.a22*this.a22);var e=t.multiply(this);return Math.sqrt(e.a12*e.a12+e.a22*e.a22)},this.is_stored=function(){return this.stored}}function GlowNodeClass(n){this.ctx=n,this.a=new GlowArray(n),this.nc_name=null,this.group=0,this.slider=0,this.next_nodeclass=null,this.animation_count=0,this.cycle=0,this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.input_focus_mark=0,this.dynamicsize=0,this.userdata=null,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.dyn_color=new Array(4),this.dyn_attr=[],this.next_nc=null,this.prev_nc=null,this.recursive_trace=0,this.type=function(){return Glow.eObjectType_GlowNodeClass},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowNodeClass : "+t[i]),o){case Glow.eSave_NodeClass:break;case Glow.eSave_NodeClass_nc_name:this.nc_name=s[1];break;case Glow.eSave_NodeClass_a:i=this.a.open(t,i+1);break;case Glow.eSave_NodeClass_group:this.group=parseInt(s[1],10);break;case Glow.eSave_NodeClass_arg_cnt:case Glow.eSave_NodeClass_argname:case Glow.eSave_NodeClass_argtype:case Glow.eSave_NodeClass_no_con_obstacle:break;case Glow.eSave_NodeClass_dyn_type1:this.dyn_type1=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_type2:this.dyn_type2=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_action_type1:this.action_type1=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_action_type2:this.action_type2=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_color1:this.dyn_color[0]=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_color2:this.dyn_color[1]=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_color3:this.dyn_color[2]=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dyn_color4:1<s.length&&(this.dyn_color[3]=parseInt(s[1],10));break;case Glow.eSave_NodeClass_dyn_attr1:1<s.length&&(this.dyn_attr[0]=parseInt(s[1],10));break;case Glow.eSave_NodeClass_dyn_attr2:1<s.length&&(this.dyn_attr[1]=parseInt(s[1],10));break;case Glow.eSave_NodeClass_dyn_attr3:1<s.length&&(this.dyn_attr[2]=parseInt(s[1],10));break;case Glow.eSave_NodeClass_dyn_attr4:1<s.length&&(this.dyn_attr[3]=parseInt(s[1],10));break;case Glow.eSave_NodeClass_java_name:break;case Glow.eSave_NodeClass_slider:this.slider=parseInt(s[1],10);break;case Glow.eSave_NodeClass_next_nodeclass:1<s.length&&(this.next_nodeclass=s[1]);break;case Glow.eSave_NodeClass_animation_count:this.animation_count=parseInt(s[1],10);break;case Glow.eSave_NodeClass_cycle:this.cycle=parseInt(s[1],10);break;case Glow.eSave_NodeClass_y0:this.y0=parseFloat(s[1]);break;case Glow.eSave_NodeClass_y1:this.y1=parseFloat(s[1]);break;case Glow.eSave_NodeClass_x0:this.x0=parseFloat(s[1]);break;case Glow.eSave_NodeClass_x1:this.x1=parseFloat(s[1]);break;case Glow.eSave_NodeClass_input_focus_mark:this.input_focus_mark=parseInt(s[1],10);break;case Glow.eSave_NodeClass_recursive_trace:this.recursive_trace=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_NodeClass_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_NodeClass_userdata_cb:if(null!==n.appl){var r=n.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_NodeClass);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowNodeClass")}if(a)break}return null!==this.next_nodeclass&&""!==this.next_nodeclass&&(this.next_nc=this.ctx.get_nodeclass_from_name(this.next_nodeclass),null===this.next_nc?(console.log("GlowNode:next_nodeclass not found: ",this.nc_name,this.next_nodeclass),console.log("Note! nodeclass has to be intern")):null!==this.next_nc.prev_nc?(this.next_nc=null,console.log("GlowNode:next_nodeclass already chained: ",this.nc_name,this.next_nodeclass)):this.next_nc.prev_nc=this),i},this.event_handler=function(t,e,i){for(var a=0;a<this.a.size();a++){var s=this.a.get(a).event_handler(t,e,i);if(0!==s)return s}return 0},this.tdraw=function(t,e,i,a,s){for(var o=0;o<this.a.size();o++)this.a.get(o).tdraw(t,e,i,a,s)},this.get_borders=function(t,e){var i,a,s,o,r,n,_,l,h=this.get_base_nc();if((null===t||null!==t&&Math.abs(t.rotation/90-Math.floor(t.rotation/90))<Number.MIN_VALUE)&&!(Math.abs(h.x0-h.x1)<Number.MIN_VALUE||Math.abs(h.y0-h.y1)<Number.MIN_VALUE))l=null!==t?(r=t.x(h.x0,h.y0),n=t.x(h.x1,h.y1),_=t.y(h.x0,h.y0),t.y(h.x1,h.y1)):(r=h.x0,n=h.x1,_=h.y0,h.y1),i=Math.min(r,n),a=Math.max(r,n),s=Math.min(_,l),o=Math.max(_,l),i<e.ll_x&&(e.ll_x=i),a>e.ur_x&&(e.ur_x=a),s<e.ll_y&&(e.ll_y=s),o>e.ur_y&&(e.ur_y=o);else for(var c=0;c<this.a.size();c++)this.a.get(c).get_borders(t,e)},this.get_base_nc=function(){var t;for(t=this;null!==t.prev_nc;t=t.prev_nc);return t},this.getAnnotationTextExtent=function(t,e,i){var a;for(a=0;a<this.a.size();a++)if(this.a.get(a).type()==Glow.eObjectType_GrowAnnot&&this.a.get(a).getNumber()==i){var s=this.a.get(a).getTextExtent(t,e);return s.width/=this.ctx.mw.zoom_factor_x,s.height/=this.ctx.mw.zoom_factor_y,s}return null}}function GlowNodeGroup(t){GlowNodeClass.call(this,t),this.glownodeclass_open=this.open,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowNodeClass : "+t[i]),o){case Glow.eSave_NodeGroup:break;case Glow.eSave_NodeGroup_nodeclass_part:i=this.glownodeclass_open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowNodeGroup")}if(a)break}return i}}function GlowConClass(t){this.ctx=t,this.cc_name,this.con_type,this.corner,this.draw_type,this.line_width,this.arrow_width,this.arrow_length,this.round_corner_amount,this.group,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowConClass : "+t[i]),o){case Glow.eSave_ConClass:break;case Glow.eSave_ConClass_cc_name:1<s.length&&(this.cc_name=s[1]);break;case Glow.eSave_ConClass_con_type:this.con_type=parseInt(s[1],10);break;case Glow.eSave_ConClass_corner:this.corner=parseInt(s[1],10);break;case Glow.eSave_ConClass_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_ConClass_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_ConClass_arrow_width:this.arrow_width=parseFloat(s[1]);break;case Glow.eSave_ConClass_arrow_length:this.arrow_length=parseFloat(s[1]);break;case Glow.eSave_ConClass_round_corner_amount:this.round_corner_amount=parseFloat(s[1]);break;case Glow.eSave_ConClass_group:this.group=parseInt(s[1],10);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowConClass")}if(a)break}return i}}function GlowCon(t){this.MAX_POINT=8,this.ctx=t,this.cc_name,this.cc,this.c_name,this.x_right,this.x_left,this.y_high,this.y_low,this.dest_node,this.source_node,this.dest_conpoint,this.source_conpoint,this.source_direction,this.dest_direction,this.p_num,this.l_num,this.a_num,this.arrow_num,this.ref_num,this.point_x=new Array(this.MAX_POINT),this.point_y=new Array(this.MAX_POINT),this.line_a=new GlowArray(t),this.arc_a=new GlowArray(t),this.arrow_a=new GlowArray(t),this.ref_a=new GlowArray(t),this.temporary_ref,this.source_ref_cnt,this.dest_ref_cnt,this.trace_object,this.trace_attribute,this.trace_attr_type,this.border,this.shadow,this.highlight=0,this.hot=0,this.type=function(){return Glow.eObjectType_Con},this.open=function(t,e){var i,a,s=!1;for(i=e;i<t.length;i++){var o=t[i].split(" "),r=parseInt(o[0],10);switch(this.ctx.debug&&console.log("GlowCon : "+t[i]),r){case Glow.eSave_Con:break;case Glow.eSave_Con_cc:this.cc_name=o[1],this.cc=this.ctx.get_conclass_from_name(this.cc_name),null===this.cc&&console.log("GlowCon : ",t[i],", con class not found: ",this.cc_name);break;case Glow.eSave_Con_c_name:1<o.length&&(this.c_name=o[1]);break;case Glow.eSave_Con_x_right:this.x_right=parseFloat(o[1]);break;case Glow.eSave_Con_x_left:this.x_left=parseFloat(o[1]);break;case Glow.eSave_Con_y_high:this.y_high=parseFloat(o[1]);break;case Glow.eSave_Con_y_low:this.y_low=parseFloat(o[1]);break;case Glow.eSave_Con_dest_node:1<o.length&&(a=o[1],this.dest_node=this.ctx.get_node_from_name(a),null==this.dest_node&&console.log("GlowCon:dest_node not found"));break;case Glow.eSave_Con_source_node:1<o.length&&(a=o[1],this.source_node=this.ctx.get_node_from_name(a),null==this.source_node&&console.log("GlowCon:source_node not found"));break;case Glow.eSave_Con_dest_conpoint:this.dest_conpoint=parseInt(o[1],10);break;case Glow.eSave_Con_source_conpoint:this.source_conpoint=parseInt(o[1],10);break;case Glow.eSave_Con_dest_direction:this.dest_direction=parseInt(o[1],10);break;case Glow.eSave_Con_source_direction:this.source_direction=parseInt(o[1],10);break;case Glow.eSave_Con_line_a:i=this.line_a.open(t,i+1);break;case Glow.eSave_Con_arc_a:i=this.arc_a.open(t,i+1);break;case Glow.eSave_Con_arrow_a:i=this.arrow_a.open(t,i+1);break;case Glow.eSave_Con_ref_a:i=this.ref_a.open(t,i+1);break;case Glow.eSave_Con_p_num:this.p_num=parseInt(o[1],10);break;case Glow.eSave_Con_l_num:this.l_num=parseInt(o[1],10);break;case Glow.eSave_Con_a_num:this.a_num=parseInt(o[1],10);break;case Glow.eSave_Con_arrow_num:this.arrow_num=parseInt(o[1],10);break;case Glow.eSave_Con_ref_num:this.ref_num=parseInt(o[1],10);break;case Glow.eSave_Con_point_x:for(var n=0;n<this.p_num;n++)this.point_x[n]=parseFloat(t[i]),i++;break;case Glow.eSave_Con_point_y:for(n=0;n<this.p_num;n++)this.point_y[n]=parseFloat(t[i]),i++;break;case Glow.eSave_Con_source_ref_cnt:this.source_ref_cnt=parseInt(o[1],10);break;case Glow.eSave_Con_dest_ref_cnt:this.dest_ref_cnt=parseInt(o[1],10);break;case Glow.eSave_Con_trace_object:1<o.length&&(this.trace_object=o[1]);break;case Glow.eSave_Con_trace_attribute:1<o.length&&(this.trace_attribute=o[1]);break;case Glow.eSave_Con_trace_attr_type:this.trace_attr_type=parseInt(o[1],10);break;case Glow.eSave_Con_temporary_ref:this.temporary_ref=parseInt(o[1],10);break;case Glow.eSave_Con_border:this.border=parseInt(o[1],10);break;case Glow.eSave_Con_shadow:this.shadow=parseInt(o[1],10);break;case Glow.eSave_End:s=!0;break;default:console.log("Syntax error in GlowCon")}if(s)break}return i},this.draw=function(){this.tdraw(null,this.highlight,this.hot,null,null)},this.tdraw=function(t,e,i,a,s){var o;if(0==this.ctx.nodraw)if(0!=this.temporary_ref||this.cc.con_type==Glow.eConType_Reference);else{for(o=0;o<this.l_num;o++)this.line_a.get(o).draw(e,i);for(o=0;o<this.a_num;o++)this.arc_a.get(o).draw(e,i);if((0!=this.shadow||0!=this.border)&&this.cc.con_type==Glow.eConType_Routed&&this.cc.corner==Glow.eCorner_Rounded){for(o=0;o<this.l_num;o++)this.line_a.get(o).draw_shadow(this.border,this.shadow,e,i);for(o=0;o<this.a_num;o++)this.arc_a.get(o).draw_shadow(this.border,this.shadow,e,i)}}},this.getName=function(){return"Con"},this.event_handler=function(t,e,i){return 0}}function GlowLine(t){this.ctx=t,this.p1=new GlowPoint(t),this.p2=new GlowPoint(t),this.draw_type,this.line_width,this.type=function(){return Glow.eObjectType_Line},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowCon : "+t[i]),o){case Glow.eSave_Line:break;case Glow.eSave_Line_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Line_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Line_p1:i=this.p1.open(t,i+1);break;case Glow.eSave_Line_p2:i=this.p2.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowLine")}if(a)break}return i},this.tdraw=function(t,e,i,a,s){},this.draw=function(t,e){var i,a,s,o;if(0==this.ctx.nodraw&&(i=Math.floor(this.p1.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,a=Math.floor(this.p1.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,s=Math.floor(this.p2.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,o=Math.floor(this.p2.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,i!=s||a!=o)){var r=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1);r+=e,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),this.ctx.gdraw.line(i,a,s,o,this.draw_type,r,t)}},this.draw_shadow=function(t,e,i,a){var s,o,r,n;if(0==this.ctx.nodraw&&(s=Math.floor(this.p1.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,o=Math.floor(this.p1.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,r=Math.floor(this.p2.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,n=Math.floor(this.p2.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,s!=r||o!=n)){var _=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1);_+=a,_=Math.max(0,_),_=Math.min(_,Glow.DRAW_TYPE_SIZE-1);var l=t;0!=e&&2<_&&(s==r?(this.ctx.gdraw.line(s+_/2-_+l,o,r+_/2-_+l,n,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.line(s+_/2-l,o,r+_/2-l,n,GlowColor.shift_drawtype(this.draw_type,2,null),0,i)):(this.ctx.gdraw.line(s,o+_/2-_+l,r,n+_/2-_+l,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.line(s,o+_/2-l,r,n+_/2-l,GlowColor.shift_drawtype(this.draw_type,2,null),0,i))),0!=t&&(s==r?(this.ctx.gdraw.line(s+_/2-_,o,r+_/2-_,n,Glow.eDrawType_Line,0,i),0<_&&this.ctx.gdraw.line(s+_/2,o,r+_/2,n,Glow.eDrawType_Line,0,i)):(this.ctx.gdraw.line(s,o+_/2-_,r,n+_/2-_,Glow.eDrawType_Line,0,i),0<_&&this.ctx.gdraw.line(s,o+_/2,r,n+_/2,Glow.eDrawType_Line,0,i)))}}}function GlowArc(t){this.ctx=t,this.ll=new GlowPoint(t),this.ur=new GlowPoint(t),this.draw_type,this.angle1,this.angle2,this.line_width,this.display_level,this.fill,this.type=function(){return Glow.eObjectType_Arc},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowCon : "+t[i]),o){case Glow.eSave_Arc:break;case Glow.eSave_Arc_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Arc_angle1:this.angle1=parseInt(s[1],10);break;case Glow.eSave_Arc_angle2:this.angle2=parseInt(s[1],10);break;case Glow.eSave_Arc_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Arc_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_Arc_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_Arc_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowArc")}if(a)break}return i},this.draw=function(t,e){var i,a,s,o;if(0==this.ctx.nodraw&&(i=Math.floor(this.ll.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,a=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,s=Math.floor(this.ur.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,o=Math.floor(this.ur.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,i!=s||a!=o)){var r=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1);r+=e,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),this.ctx.gdraw.arc(i,a,s-i,o-a,this.angle1,this.angle2,this.draw_type,r,t)}},this.draw_shadow=function(t,e,i,a){if(0==this.ctx.nodraw){var s,o,r,n;s=Math.floor(this.ll.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,o=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,r=Math.floor(this.ur.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,n=Math.floor(this.ur.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y;var _=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1);_+=a,_=Math.max(0,_),_=Math.min(_,Glow.DRAW_TYPE_SIZE-1);var l=1,h=t;0!=e&&2<_&&(0==this.angle1?(this.ctx.gdraw.arc(s+_/2-_+h,o+_/2-_+h,r-s+_-2*h,n-o+_-2*h,this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,-2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-_+h,o+_/2-_+h,r-s+_-2*h,n-o+_-2*h,this.angle1,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-h,o+_/2-h,Math.max(0,r-s-_+2*h),Math.max(0,n-o-_+2*h),this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-h,o+_/2-h,Math.max(0,r-s-_+2*h),Math.max(0,n-o-_+2*h),this.angle1,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,-2,null),l-1,i)):90==this.angle1?(this.ctx.gdraw.arc(s+_/2-_+h,o+_/2-_+h,r-s+_-2*h,n-o+_-2*h,this.angle1,this.angle2,GlowColor.shift_drawtype(draw_type,-2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-h,o+_/2-h,Math.max(0,r-s-_+2*h),Math.max(0,n-o-_+2*h),this.angle1,this.angle2,GlowColor.shift_drawtype(draw_type,2,null),l-1,i)):180==this.angle1?(this.ctx.gdraw.arc(s+_/2-_+h,o+_/2-_+h,r-s+_-2*h,n-o+_-2*h,this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(draw_type,2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-_+h,o+_/2-_+h,r-s+_-2*h,n-o+_-2*h,this.angle1,this.angle2-45,GlowColor.shift_drawtype(draw_type,-2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-h,o+_/2-h,Math.max(0,r-s-_+2*h),Math.max(0,n-o-_+2*h),this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(draw_type,-2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-h,o+_/2-h,Math.max(0,r-s-_+2*h),Math.max(0,n-o-_+2*h),this.angle1,this.angle2-45,GlowColor.shift_drawtype(draw_type,2,null),l-1,i)):270==this.angle1&&(this.ctx.gdraw.arc(s+_/2-_+h,o+_/2-_+h,r-s+_-2*h,n-o+_-2*h,this.angle1,this.angle2,GlowColor.shift_drawtype(draw_type,2,null),l-1,i),this.ctx.gdraw.arc(s+_/2-h,o+_/2-h,Math.max(0,r-s-_+2*h),Math.max(0,n-o-_+2*h),this.angle1,this.angle2,GlowColor.shift_drawtype(draw_type,-2,null),l-1,i))),0!=t&&(this.ctx.gdraw.arc(s+_/2-_,o+_/2-_,r-s+_,n-o+_,this.angle1,this.angle2,Glow.eDrawType_Line,0,i),0<_&&this.ctx.gdraw.arc(s+_/2,o+_/2,Math.max(0,r-s-_),Math.max(0,n-o-_),this.angle1,this.angle2,Glow.eDrawType_Line,0,i))}}}function GlowRect(t){this.ctx=t,this.ll=new GlowPoint(t),this.ur=new GlowPoint(t),this.draw_type,this.line_width,this.display_level,this.fill,this.type=function(){return Glow.eObjectType_Rect},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowCon : "+t[i]),o){case Glow.eSave_Rect:break;case Glow.eSave_Rect_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Rect_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Rect_display_level:this.display_level=parseInt(s[1],10);break;case Glow.eSave_Rect_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_Rect_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_Rect_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowRect")}if(a)break}return i},this.draw=function(t,e){},this.draw_shadow=function(t,e,i,a){}}function GlowText(t){this.ctx=t,this.p=new GlowPoint(t),this.text,this.draw_type,this.text_size,this.display_level,this.color_drawtype,this.type=function(){return Glow.eObjectType_Text},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowCon : "+t[i]),o){case Glow.eSave_Text:break;case Glow.eSave_Text_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Text_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_Text_color_drawtype:this.color_drawtype=parseInt(s[1],10);break;case Glow.eSave_Text_text:this.text=t[i].substring(4);break;case Glow.eSave_Text_p:i=this.p.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowText")}if(a)break}return i},this.draw=function(t,e){},this.draw_shadow=function(t,e,i,a){}}function GrowNode(n){this.MAX_CONPOINTS=32,this.ctx=n,this.original_border_drawtype=Glow.eDrawType_No,this.border_drawtype=0,this.background_drawtype=Glow.eDrawType_No,this.original_fill_drawtype=Glow.eDrawType_No,this.original_text_drawtype=Glow.eDrawType_No,this.original_background_drawtype=Glow.eDrawType_No,this.original_color_tone=Glow.eDrawType_No,this.original_color_lightness=0,this.original_color_intensity=0,this.original_color_shift=0,this.color_inverse=0,this.color_lightness=0,this.color_intensity=0,this.color_shift=0,this.color_tone=Glow.eDrawType_No,this.fill_drawtype=Glow.eDrawType_No,this.text_drawtype=0,this.draw_type=0,this.dimmed=0,this.invisible=0,this.flip_horizontal=0,this.flip_vertical=0,this.dynamicsize=0,this.trf=new GlowTransform,this.arg_cnt=0,this.line_width=0,this.shadow=0,this.gradient=0,this.text_type=Glow.eDrawType_TextHelvetica,this.text_font=Glow.eFont_No,this.disable_cb=0,this.nc_name=null,this.nc=null,this.nc_root=null,this.n_name=null,this.x_right=0,this.x_left=0,this.y_high=0,this.y_low=0,this.annotsize=new Array(10),this.annotv=new Array(10),this.pos=new GlowPoint(this.ctx),this.access=0,this.cycle=0,this.ref_object=null,this.userdata=null,this.visible=1,this.highlight=0,this.hot=0,this.input_selected=0,this.annotv_inputmode=[],this.fill_level=1,this.level_fill_drawtype=Glow.eDrawType_No,this.level_color_tone=Glow.eDrawTone_No,this.level_direction=0,this.annot_scrollingtext=-1,this.annot_offset_x=0;for(var t=this.annot_offset_y=0;t<10;t++)this.annotv[t]=null;this.type=function(){return Glow.eObjectType_GrowNode},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowNode : "+t[i]),o){case Glow.eSave_GrowNode:break;case Glow.eSave_GrowNode_original_border_drawtype:this.original_border_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_fill_drawtype:this.original_fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_fill_drawtype:this.fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_text_drawtype:this.text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_text_drawtype:this.original_text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_color_tone:this.original_color_tone=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_background_drawtype:this.original_background_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_background_drawtype:this.background_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowNode_color_tone:this.color_tone=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_color_lightness:this.original_color_lightness=parseInt(s[1],10);break;case Glow.eSave_GrowNode_color_lightness:this.color_lightness=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_color_intensity:this.original_color_intensity=parseInt(s[1],10);break;case Glow.eSave_GrowNode_color_intensity:this.color_intensity=parseInt(s[1],10);break;case Glow.eSave_GrowNode_original_color_shift:this.original_color_shift=parseInt(s[1],10);break;case Glow.eSave_GrowNode_color_shift:this.color_shift=parseInt(s[1],10);break;case Glow.eSave_GrowNode_invisible:this.invisible=parseInt(s[1],10);break;case Glow.eSave_GrowNode_flip_horizontal:this.flip_horizontal=parseInt(s[1],10);break;case Glow.eSave_GrowNode_flip_vertical:this.flip_vertical=parseInt(s[1],10);break;case Glow.eSave_GrowNode_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowNode_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowNode_node_part:i=this.glownode_open(t,i+1);break;case Glow.eSave_GrowNode_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_GrowNode_arg_cnt:this.arg_cnt=parseInt(s[1],10);break;case Glow.eSave_GrowNode_argsize:case Glow.eSave_GrowNode_argv:i+=this.arg_cnt;break;case Glow.eSave_GrowNode_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_GrowNode_shadow:this.shadow=parseInt(s[1],10);break;case Glow.eSave_GrowNode_gradient:this.gradient=parseInt(s[1],10);break;case Glow.eSave_GrowNode_text_type:this.text_type=parseInt(s[1],10);break;case Glow.eSave_GrowNode_text_font:this.text_font=parseInt(s[1],10);break;case Glow.eSave_GrowNode_disable_cb:this.disable_cb=parseInt(s[1],10);break;case Glow.eSave_GrowNode_userdata_cb:if(null!==this.ctx.appl){var r=n.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowNode")}if(a)break}return i},this.glownode_open=function(t,e){var i,a,s=!1;for(i=e;i<t.length;i++){var o=t[i].split(" "),r=parseInt(o[0],10);switch(this.ctx.debug&&console.log("GrowNode : "+t[i]),r){case Glow.eSave_Node:break;case Glow.eSave_Node_nc:this.nc_name=o[1],this.type()!=Glow.eObjectType_GrowGroup&&(this.nc=n.get_nodeclass_from_name(this.nc_name),this.nc_root=this.nc,null===this.nc&&console.log("GlowNode : ",t[i],", node class not found: ",this.nc_name));break;case Glow.eSave_Node_n_name:1<o.length&&(this.n_name=o[1]);break;case Glow.eSave_Node_refcon_cnt:i+=this.MAX_CONPOINTS;break;case Glow.eSave_Node_x_right:this.x_right=parseFloat(o[1]);break;case Glow.eSave_Node_x_left:this.x_left=parseFloat(o[1]);break;case Glow.eSave_Node_y_high:this.y_high=parseFloat(o[1]);break;case Glow.eSave_Node_y_low:this.y_low=parseFloat(o[1]);break;case Glow.eSave_Node_obst_x_right:case Glow.eSave_Node_obst_x_left:case Glow.eSave_Node_obst_y_high:case Glow.eSave_Node_obst_y_low:break;case Glow.eSave_Node_annotsize:for(a=0;a<10;a++)i++,this.annotsize[a]=parseInt(t[i],10),this.ctx.debug&&console.log("GlowNode  annotsize: ",this.annotsize[a]);break;case Glow.eSave_Node_annotv:for(a=0;a<10;a++)0!==this.annotsize[a]&&(i++,this.annotv[a]=t[i].substring(1,t[i].length-1),this.ctx.debug&&console.log("GrowNode  annotv: ",this.annotv[a]));break;case Glow.eSave_Node_pos:i=this.pos.open(t,i+1);break;case Glow.eSave_Node_trace_data1:case Glow.eSave_Node_trace_data2:case Glow.eSave_Node_trace_data3:case Glow.eSave_Node_trace_data4:case Glow.eSave_Node_trace_data5:case Glow.eSave_Node_trace_data6:case Glow.eSave_Node_trace_data7:case Glow.eSave_Node_trace_data8:case Glow.eSave_Node_trace_data9:case Glow.eSave_Node_trace_data10:case Glow.eSave_Node_trace_attr_type:case Glow.eSave_Node_trace_color:case Glow.eSave_Node_trace_color2:break;case Glow.eSave_Node_access:this.access=parseInt(o[1],10);break;case Glow.eSave_Node_cycle:this.cycle=parseInt(o[1],10);break;case Glow.eSave_Node_ref_object:1<o.length&&(this.ref_object=o[1]);break;case Glow.eSave_End:s=!0;break;default:console.log("Syntax error in GlowNode")}if(s)break}return i},this.event_handler=function(t,e,i){if(0===this.visible||0!==this.dimmed)return 0;switch(t.event){case Glow.eEvent_CursorMotion:return 0}var a=this.trf.reverse(e,i),s=this.nc.event_handler(t,a.x,a.y);return 0!==s?(this.type()==Glow.eObjectType_GrowGroup&&null!==this.ctx.callback_object||this.ctx.register_callback_object(Glow.eObjectType_Node,this),s):0},this.draw=function(){0!==this.visible&&this.tdraw(null,this.highlight,this.hot,null,null)},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw&&(null===a&&(a=this),null===s?s=this:s.fill_drawtype==Glow.eDrawType_No&&s.color_tone==Glow.eDrawTone_No&&(s=this),0===a.invisible&&0===this.invisible)){var o;if(-1!=this.annot_scrollingtext&&this.ctx.gdraw.set_clip_rectangle(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y),1==this.fill_level)null!==t?(o=t.multiply(this.trf),this.nc.tdraw(o,e,i,this,this)):this.nc.tdraw(this.trf,e,i,a,a);else{var r,n,_,l,h=0,c=0,w=0,d=0,u=0;switch(l=null===t?(r=Math.floor(this.x_left*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.y_low*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,n=Math.floor(this.x_right*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.y_high*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y):(r=Math.floor(t.x(x_left,y_low)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(t.y(x_left,y_low)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,n=Math.floor(t.x(x_right,y_high)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(t.y(x_right,y_high)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y),this.level_direction){case Glow.eDirection_Right:h=Math.floor(this.fill_level*(n-r)+.5),w=this.ctx.gdraw.set_clip_rectangle(r-1,_-1,r+h,l+1);break;case Glow.eDirection_Left:h=Math.floor((1-fill_level)*(n-r)+.5),w=this.ctx.gdraw.set_clip_rectangle(r-1,_-1,r+h,l+1),this.level_color_tone!=Glow.eDrawTone_No?(d=this.color_tone,this.color_tone=this.level_color_tone):this.level_fill_drawtype!=Glow.eDrawType_No&&(u=this.fill_drawtype,this.fill_drawtype=this.level_fill_drawtype);break;case Glow.eDirection_Up:c=Math.floor(this.fill_level*(l-_)+.5),w=this.ctx.gdraw.set_clip_rectangle(r-1,_-1,n+1,_+c);break;case Glow.eDirection_Down:c=Math.floor((1-this.fill_level)*(l-_)+.5),w=this.ctx.gdraw.set_clip_rectangle(r-1,_-1,n+1,_+c),this.level_color_tone!=Glow.eDrawTone_No?(d=this.color_tone,this.color_tone=this.level_color_tone):this.level_fill_drawtype!=Glow.eDrawType_No&&(u=this.fill_drawtype,this.fill_drawtype=this.level_fill_drawtype)}switch(null!==t?(o=t.multiply(this.trf),this.nc.tdraw(o,e,i,this,this)):this.nc.tdraw(this.trf,e,i,a,a),0!=(1&w)&&this.ctx.gdraw.reset_clip_rectangle(),this.level_direction){case Glow.eDirection_Right:this.level_color_tone!=Glow.eDrawTone_No?(d=this.color_tone,this.color_tone=this.level_color_tone):this.level_fill_drawtype!=Glow.eDrawType_No&&(u=this.fill_drawtype,this.fill_drawtype=this.level_fill_drawtype),w=this.ctx.gdraw.set_clip_rectangle(r+h,_-1,n+1,l+1);break;case Glow.eDirection_Left:this.level_color_tone!=Glow.eDrawTone_No?this.color_tone=d:this.level_fill_drawtype!=Glow.eDrawType_No&&(this.fill_drawtype=u),w=this.ctx.gdraw.set_clip_rectangle(r+h,_-1,n+1,l+1);break;case Glow.eDirection_Up:this.level_color_tone!=Glow.eDrawTone_No?(d=this.color_tone,this.color_tone=this.level_color_tone):this.level_fill_drawtype!=Glow.eDrawType_No&&(u=this.fill_drawtype,this.fill_drawtype=this.level_fill_drawtype),w=this.ctx.gdraw.set_clip_rectangle(r-1,_+c,n+1,l+1);break;case Glow.eDirection_Down:this.level_color_tone!=Glow.eDrawTone_No?this.color_tone=d:this.level_fill_drawtype!=Glow.eDrawType_No&&(this.fill_drawtype=u),w=this.ctx.gdraw.set_clip_rectangle(r-1,_+c,n+1,l+1)}switch(null!==t?(o=t.multiply(this.trf),this.nc.tdraw(o,e,i,this,this)):this.nc.tdraw(this.trf,e,i,a,a),0!=(1&w)&&this.ctx.gdraw.reset_clip_rectangle(),this.level_direction){case Glow.eDirection_Right:this.level_color_tone!=Glow.eDrawTone_No?this.color_tone=d:this.level_fill_drawtype!=Glow.eDrawType_No&&(this.fill_drawtype=u);break;case Glow.eDirection_Left:break;case Glow.eDirection_Up:this.level_color_tone!=Glow.eDrawTone_No?this.color_tone=d:this.level_fill_drawtype!=Glow.eDrawType_No&&(this.fill_drawtype=u);break;case Glow.eDirection_Down:}}-1!=this.annot_scrollingtext&&this.ctx.gdraw.reset_clip_rectangle()}},this.set_position=function(t,e){var i,a,s,o;this.trf.a13==this.trf.s_a13+t&&this.trf.a23==this.trf.s_a23+e||(i=this.x_left,a=this.x_right,s=this.y_low,o=this.y_high,this.trf.move_from_stored(t,e),this.get_node_borders(),this.ctx.draw(i*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,s*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,a*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,o*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP))},this.move=function(t,e){var i=this.x_left,a=this.x_right,s=this.y_low,o=this.y_high;this.trf.move(t,e),this.get_node_borders(),this.ctx.draw(i*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,s*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,a*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,o*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP)},this.move_to=function(t,e){this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.trf.move(t-this.x_left,e-this.y_low),this.get_node_borders(),this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP)},this.set_scale_pos=function(t,e,i,a,s,o,r){this.x_left,this.x_right,this.y_low,this.y_high,this.ctx.setNodraw(),this.set_scale(i,a,s,o,r),this.ctx.resetNodraw(),this.trf.move(t-this.x_left,e-this.y_low),this.get_node_borders()},this.set_scale=function(t,e,i,a,s){var o,r,n,_;if(-1==t&&1==e||1==t&&-1==e||(t<0&&(t=0),e<0&&(e=0)),!(0!==this.trf.s_a11&&0!==this.trf.s_a22&&Math.abs(t-this.trf.a11/this.trf.s_a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s_a22)<Number.MIN_VALUE)){switch(s){case Glow.eScaleType_LowerLeft:i=this.x_left,a=this.y_low;break;case Glow.eScaleType_LowerRight:i=this.x_right,a=this.y_low;break;case Glow.eScaleType_UpperRight:i=this.x_right,a=this.y_high;break;case Glow.eScaleType_UpperLeft:i=this.x_left,a=this.y_high;break;case Glow.eScaleType_FixPoint:break;case Glow.eScaleType_Center:i=(this.x_left+this.x_right)/2,a=(this.y_low+this.y_high)/2}o=this.x_left,r=this.x_right,n=this.y_low,_=this.y_high,this.trf.scale_from_stored(t,e,i,a),this.get_node_borders(),this.ctx.rdraw(o*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,n*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,r*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,_*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.ctx.rdraw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP)}},this.setRotation=function(t,e,i,a){var s=new GlowTransform;if(!(Math.abs(t-this.trf.rotation+this.trf.s_rotation)<Number.MIN_VALUE)){switch(a){case Glow.eRotationPoint_LowerLeft:e=this.x_left,i=this.y_low;break;case Glow.eRotationPoint_LowerRight:e=this.x_right,i=this.y_low;break;case Glow.eRotationPoint_UpperRight:e=this.x_right,i=this.y_high;break;case Glow.eRotationPoint_UpperLeft:e=this.x_left,i=this.y_high;break;case Glow.eRotationPoint_Center:e=(this.x_left+this.x_right)/2,i=(this.y_high+this.y_low)/2;break;case Glow.eRotationPoint_Zero:e=this.trf.s_a13,i=this.trf.s_a23}this.x_left,this.x_right,this.y_low,this.y_high,s.rotate(t,e,i),this.trf.set_from_stored(s),this.get_node_borders()}},this.storeTransform=function(){this.trf.store()},this.transformIsStored=function(){return this.trf.is_stored()},this.set_next_nodeclass=function(){return null!==this.nc.next_nc?(this.set_nodeclass(this.nc.next_nc),1):0},this.set_first_nodeclass=function(){this.set_root_nodeclass()},this.set_last_nodeclass=function(){var t;for(t=this.nc_root;null!==t.next_nc;t=t.next_nc);t!=this.nc&&this.set_nodeclass(t)},this.set_nodeclass_by_index=function(t){var e,i;for(e=this.nc_root,i=0;i<t;i++){if(null===e.next_nc)return 0;e=e.next_nc}return e!=this.nc&&this.set_nodeclass(e),1},this.set_previous_nodeclass=function(){return null!==this.nc.prev_nc?(this.set_nodeclass(this.nc.prev_nc),1):0},this.set_root_nodeclass=function(){this.nc_root!=this.nc&&this.set_nodeclass(this.nc_root)},this.get_animation_count=function(){return this.nc.animation_count},this.get_nodeclass_dyn_attr1=function(){return this.nc.dyn_attr[0]},this.set_nodeclass=function(t){var e,i,a,s;e=this.x_left,i=this.x_right,a=this.y_low,s=this.y_high,this.nc=t,this.get_node_borders(),e=Math.min(e,this.x_left),i=Math.max(i,this.x_right),a=Math.min(a,this.y_low),s=Math.max(s,this.y_high),this.ctx.draw(e*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,a*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,i*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,s*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP)},this.measure=function(){var t=new GlowGeometry;return t.ll_x=this.x_left,t.ll_y=this.y_low,t.ur_x=this.x_right,t.ur_y=this.y_high,t},this.getLimits=function(){var t,e,i,a,s,o=new GlowFillLevelLimits;return 0===this.nc.y0&&0===this.nc.y1?o.status=0:0!==this.nc.x0||0!==this.nc.x1?o.status=0:(t=this.trf.x(0,this.nc.y0),i=this.trf.y(0,this.nc.y0),e=this.trf.x(0,this.nc.y1),a=this.trf.y(0,this.nc.y1),(s=360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360)))<=45||315<s?(o.direction=Glow.eDirection_Down,o.min=i,o.max=a):45<s&&s<=135?(o.direction=Glow.eDirection_Right,o.min=e,o.max=t):135<s&&s<=225?(o.direction=Glow.eDirection_Up,o.min=a,o.max=i):225<s&&s<=315&&(o.direction=Glow.eDirection_Left,o.min=t,o.max=e),o.status=1),o},this.get_node_borders=function(){var t=new GlowGeometry;t.ur_x=1e-36,t.ll_x=1e38,t.ur_y=1e-36,t.ll_y=1e38,this.nc.get_borders(this.trf,t),this.x_left=t.ll_x,this.x_right=t.ur_x,this.y_low=t.ll_y,this.y_high=t.ur_y},this.get_borders=function(t,e){if(null!==t){var i=t.multiply(this.trf);this.nc.get_borders(i,e)}else this.nc.get_borders(this.trf,e)},this.get_background_object_limits=function(t,e,i,a,s){var o,r,n,_,l,h=s;if(0==(e&this.nc.get_base_nc().dyn_type1))return 0;if(0==this.nc.y0&&0==this.nc.y1)return 0;var c=new GlowGeometry;c.ur_x=1e-36,c.ll_x=1e38,c.ur_y=1e-36,c.ll_y=1e38,this.get_borders(t,c);var w=c.ur_x,d=c.ll_x,u=c.ur_y,y=c.ll_y;return i<=w&&d<=i&&a<=u&&y<=a?(_=null==t?(o=this.trf.x(0,this.nc.y0),n=this.trf.y(0,this.nc.y0),r=this.trf.x(0,this.nc.y1),this.trf.y(0,this.nc.y1)):(o=this.trf.x(t,0,this.nc.y0),n=this.trf.y(t,0,this.nc.y0),r=this.trf.x(t,0,this.nc.y1),this.trf.y(t,0,this.nc.y1)),(l=null!=t?360*(this.trf.rot(t)/360-Math.floor(this.trf.rot(t)/360)):360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360)))<=45||315<l?(h.direction=Glow.eDirection_Down,h.min=n,h.max=_):45<l&&l<=135?(h.direction=Glow.eDirection_Left,h.min=r,h.max=o):135<l&&l<=225?(h.direction=Glow.eDirection_Up,h.min=_,h.max=n):225<l&&l<=315&&(h.direction=Glow.eDirection_Right,h.min=o,h.max=r),h.background=this,1):0},this.getColorInverse=function(){return this.color_inverse},this.getColorLightness=function(){return this.color_lightness},this.getColorIntensity=function(){return this.color_intensity},this.getColorShift=function(){return this.color_shift},this.getColorTone=function(){return this.color_tone},this.getFillDrawtype=function(){return this.fill_drawtype},this.getTextDrawtype=function(){return this.text_drawtype},this.getBackgroundDrawtype=function(){return this.background_drawtype},this.getDrawtype=function(){return this.draw_type},this.getDimmed=function(){return this.dimmed},this.getClassTraceColor1=function(){return this.nc.dyn_color[0]},this.getClassTraceColor2=function(){return this.nc.dyn_color[1]},this.getClassDynType1=function(){return this.nc.dyn_type1},this.getClassDynType2=function(){return this.nc.dyn_type2},this.getClassActionType1=function(){return this.nc.action_type1},this.getClassActionType2=function(){return this.nc.action_type2},this.getClassCycle=function(){return this.nc.cycle},this.getClassUserData=function(){return this.nc.userdata},this.getUserData=function(){return this.userdata},this.setColorTone=function(t){this.color_tone=t},this.resetColorTone=function(){this.color_tone=this.original_color_tone},this.setFillColor=function(t){this.fill_drawtype=t,this.color_tone=Glow.eDrawTone_No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0,this.draw()},this.resetFillColor=function(){this.fill_drawtype=this.original_fill_drawtype,this.color_tone=this.original_color_tone,this.color_shift=this.original_color_shift,this.color_lightness=this.original_color_lightness,this.color_intensity=this.original_color_intensity},this.setBorderColor=function(t){this.draw_type=t,this.color_tone=Glow.eDrawTone_No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0},this.resetBorderColor=function(){this.draw_type=this.original_border_drawtype},this.setTextColor=function(t){this.text_drawtype=t,this.color_tone=Glow.eDrawTone_No,this.color_shift=0,this.color_lightness=0,this.color_intensity=0},this.resetTextColor=function(){this.text_drawtype=this.original_text_drawtype},this.setBackgroundColor=function(t){this.background_drawtype=t},this.resetBackgroundColor=function(){this.background_drawtype=this.original_background_drawtype},this.setColorInverse=function(t){this.color_inverse=t,this.draw()},this.setLevelFillColor=function(t){this.level_fill_drawtype=t},this.setLevelColorTone=function(t){this.level_color_tone=t},this.setLevelDirection=function(t){this.level_direction=t},this.setFillLevel=function(t){this.fill_level=t},this.setVisibility=function(t){switch(t){case Glow.eVis_Visible:this.visible=1,this.dimmed=0;break;case Glow.eVis_Invisible:this.visible=0,this.dimmed=0,this.draw();break;case Glow.eVis_Dimmed:this.visible=1,this.dimmed=1,this.draw()}},this.getAnnotation=function(t){return this.annotv[t]},this.setAnnotation=function(t,e){this.annotv[t]=e},this.setAnnotationTextOffset=function(t,e,i){-1==this.annot_scrollingtext&&(this.annot_scrollingtext=t),t==this.annot_scrollingtext&&(this.annot_offset_x=e,this.annot_offset_y=i)},this.getAnnotationTextExtent=function(t){return this.nc.getAnnotationTextExtent(this.trf,this,t)},this.setColorThemeLightness=function(){null!==this.ctx.customcolors&&this.ctx.customcolors.colortheme_lightness!=this.color_lightness&&(this.color_lightness=this.ctx.customcolors.colortheme_lightness)}}function GrowGroup(t){GrowNode.call(this,t),this.grownode_open=this.open,this.type=function(){return Glow.eObjectType_GrowGroup},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowGroup : "+t[i]),o){case Glow.eSave_GrowGroup:break;case Glow.eSave_GrowGroup_grownode_part:i=this.grownode_open(t,i+1);break;case Glow.eSave_GrowGroup_nc:this.nc=new GlowNodeGroup(this.ctx),i=this.nc.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowGroup")}if(a)break}return i},this.get_object_group=function(t){for(var e,i=0;i<this.nc.a.size();i++)if(this.nc.a.get(i).type()==Glow.eObjectType_GrowGroup){if(null!=(e=nc.a.get(i).get_object_group(t)))return e}else if(this.nc.a.get(i)==t)return this;return null},this.get_object_list=function(){return this.nc.a}}function GrowSlider(t){GrowNode.call(this,t),this.grownode_open=this.open,this.direction,this.max_value,this.min_value,this.max_pos,this.min_pos,this.type=function(){return Glow.eObjectType_GrowSlider},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowGroup : "+t[i]),o){case Glow.eSave_GrowSlider:break;case Glow.eSave_GrowSlider_direction:this.direction=parseInt(s[1],10);break;case Glow.eSave_GrowSlider_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowSlider_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowSlider_max_pos:this.max_pos=parseFloat(s[1]);break;case Glow.eSave_GrowSlider_min_pos:this.min_pos=parseFloat(s[1]);break;case Glow.eSave_GrowSlider_grownode_part:i=this.grownode_open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowSlider")}if(a)break}return i},this.get_origo=function(t){var e,i=new GlowTransform,a=new GlowGeometry;switch(a.ur_x=1e-36,a.ll_x=1e38,a.ur_y=1e-36,a.ll_y=1e38,this.nc.get_borders(i,a),this.direction){case Glow.eDirection_Down:case Glow.eDirection_Up:e=Math.abs(a.ur_y-a.ll_y)<Number.MIN_VALUE?this.y_low:(this.nc.y0-a.ll_y)*(this.y_high-this.y_low)/(a.ur_y-a.ll_y);break;case Glow.eDirection_Left:case Glow.eDirection_Right:e=Math.abs(a.ur_y-a.ll_y)<Number.MIN_VALUE?this.y_low:(this.nc.y0-a.ll_y)*(this.x_right-this.x_left)/(a.ur_y-a.ll_y);break;default:e=0}return e},this.get_info=function(){var t=new GlowSliderInfo;return t.direction=this.direction,t.max_value=this.max_value,t.min_value=this.min_value,t.max_position=this.max_pos,t.min_position=this.min_pos,t},this.set_info=function(t){this.direction=t.direction,this.max_value=t.max_value,this.min_value=t.min_value,this.max_pos=t.max_position,this.min_pos=t.min_position}}function GrowToolbar(f){GrowNode.call(this,f),this.grownode_open=this.open,this.TOOLBAR_SPACING=.2,this.tools1_mask,this.tools2_mask,this.type=function(){return Glow.eObjectType_GrowToolbar},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowToolbar : "+t[i]),o){case Glow.eSave_GrowToolbar:break;case Glow.eSave_GrowToolbar_grownode_part:i=this.grownode_open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowToolbar")}if(a)break}return i},this.event_handler=function(t,e,i){var a,s,o;if(0===this.visible||0!==this.dimmed)return 0;switch(t.event){case Glow.eEvent_CursorMotion:return 0}switch(a=this.trf.reverse(e,i),t.event){case Glow.eEvent_MB1Down:0!=(s=this.nc_event_handler(t,a.x,a.y))&&(o=s-1,this.nc.a.get(o).setColorInverse(1));break;case Glow.eEvent_MB1Up:0!=(s=this.nc_event_handler(t,a.x,a.y))&&(o=s-1,this.nc.a.get(o).setColorInverse(0));break;case Glow.eEvent_MB1Click:if(s=this.nc_event_handler(t,a.x,a.y),console.log("MB1 Click toolbar",s),0!=s){o=s-1;var r=this.get_mask_index(o);if(null==r)break;var n=r[0],_=r[1];console.log("MB1 Click category: "+n+" idx "+_+" sts"+o);this.ctx.send_toolbar_callback(this,n,_,Glow.eEvent_MB1Click,e,i)}break;default:if(0!=(s=this.nc.event_handler(t,a.x,a.y)))return s}return 0},this.nc_event_handler=function(t,e,i){var a;for(a=0;a<this.nc.a.size();a++)if(0!=this.nc.a.get(a).event_handler(t,e,i))return a+1;return 0},this.configure=function(t,e,i,a,s,o,r,n){var _,l,h,c;console.log("Configure show_mask "+s+" "+o),_=0,this.nc.a.clear(),c=1;for(var w=this.tools1_mask=0;w<i;w++){if(0!=(c&s)){if(""===t[w]){c<<=1;continue}if(h=t[w],null===(l=this.ctx.get_nodeclass_from_name(h))){var d=h+".pwsg";0!=(1&this.ctx.loadSubgraph(d))&&(l=this.ctx.get_nodeclass_from_name(h))}if(null!==l)(u=new GrowNode(f)).n_name=h,console.log("Button "+h+" "+_),u.nc=l,u.move_to(_,0),this.nc.a.add(u),0!=(c&r)&&u.setVisibility(Glow.eVis_Dimmed),_+=(y=u.measure()).ur_x-y.ll_x+this.TOOLBAR_SPACING,this.tools1_mask|=c}c<<=1}0!==_&&(_+=2*this.TOOLBAR_SPACING),c=1;for(w=this.tools2_mask=0;w<a;w++){if(0!=(c&o)){if(""===e[w]){c<<=1;continue}if(h=e[w],null===(l=this.ctx.get_nodeclass_from_name(h))){d=h+".pwsg";0!=(1&this.ctx.loadSubgraph(d))&&(l=this.ctx.get_nodeclass_from_name(h))}var u,y;if(null!==l)(u=new GrowNode(f)).n_name=h,u.nc=l,console.log("Button "+h+" "+_),u.move_to(_,0),this.nc.a.add(u),0!=(c&n)&&u.setVisibility(Glow.eVis_Dimmed),_+=(y=u.measure()).ur_x-y.ll_x+this.TOOLBAR_SPACING,this.tools2_mask|=c}c<<=1}this.get_node_borders(),this.scale(),console.log("Toolbar configure tools_mask "+this.tools1_mask+" "+this.tools2_mask)},this.get_mask_index=function(t){var e,i,a,s,o=0;for(s=0;s<64;s++)if(e=s<32?1<<s:1<<s-32,(s<32&&0!=(this.tools1_mask&e)||32<=s&&0!=(this.tools2_mask&e))&&o++,o==t+1){a=s%32,i=s/32+1;var r=new Array(2);return r[0]=i,r[1]=a,r}return null},this.scale=function(){var t;0!=this.ctx.mw.window_width&&(console.log("Toolbar.scale offset_x "+this.ctx.mw.offset_x+" wwidth "+this.ctx.mw.window_width),this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x>this.ctx.mw.window_width&&(t=(this.ctx.mw.window_width-(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x)-10)/((this.x_right-this.x_left)*this.ctx.mw.zoom_factor_x),thix.trf.scale(t,1,thix.x_left,thix.y_low),thix.get_node_borders()))}}function GrowRect(t){this.ctx=t,this.n_name=null,this.x_right=0,this.x_left=0,this.y_high=0,this.y_low=0,this.original_border_drawtype=0,this.original_fill_drawtype=0,this.fill_drawtype=0,this.background_drawtype=Glow.eDrawType_No,this.border=0,this.shadow_width=5,this.shadow_contrast=2,this.shadow=0,this.relief=Glow.eRelief_Up,this.disable_shadow=0,this.invisible=0,this.fixcolor=0,this.fixposition=0,this.gradient=Glow.eGradient_No,this.gradient_contrast=4,this.disable_gradient=0,this.bgcolor_gradient=0,this.fill_eq_background=0,this.dynamicsize=0,this.trf=new GlowTransform,this.ll=new GlowPoint(this.ctx),this.ur=new GlowPoint(this.ctx),this.draw_type=0,this.line_width=0,this.display_level=0,this.fill=0,this.type=function(){return Glow.eObjectType_GrowRect},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowRect : "+t[i]),o){case Glow.eSave_GrowRect:break;case Glow.eSave_GrowRect_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowRect_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowRect_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowRect_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowRect_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowRect_original_border_drawtype:this.original_border_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRect_original_fill_drawtype:this.original_fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRect_fill_drawtype:this.fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRect_background_drawtype:this.background_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRect_border:this.border=parseInt(s[1],10);break;case Glow.eSave_GrowRect_shadow_width:this.shadow_width=parseFloat(s[1]);break;case Glow.eSave_GrowRect_shadow_contrast:this.shadow_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowRect_shadow:this.shadow=parseInt(s[1],10);break;case Glow.eSave_GrowRect_relief:this.relief=parseInt(s[1],10);break;case Glow.eSave_GrowRect_disable_shadow:this.disable_shadow=parseInt(s[1],10);break;case Glow.eSave_GrowRect_invisible:this.invisible=parseInt(s[1],10);break;case Glow.eSave_GrowRect_fixcolor:this.fixcolor=parseInt(s[1],10);break;case Glow.eSave_GrowRect_fixposition:this.fixposition=parseInt(s[1],10);break;case Glow.eSave_GrowRect_gradient:this.gradient=parseInt(s[1],10);break;case Glow.eSave_GrowRect_gradient_contrast:this.gradient_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowRect_disable_gradient:this.disable_gradient=parseInt(s[1],10);break;case Glow.eSave_GrowRect_bgcolor_gradient:this.bgcolor_gradient=parseInt(s[1],10);break;case Glow.eSave_GrowRect_fill_eq_background:this.fill_eq_background=parseInt(s[1],10);break;case Glow.eSave_GrowRect_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowRect_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowRect_rect_part:i=this.glowrect_open(t,i+1);break;case Glow.eSave_GrowRect_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowRect")}if(a)break}return i},this.glowrect_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowRect : "+t[i]),o){case Glow.eSave_Rect:break;case Glow.eSave_Rect_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Rect_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Rect_display_level:this.display_level=parseInt(s[1],10);break;case Glow.eSave_Rect_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_Rect_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_Rect_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowRect")}if(a)break}return i},this.event_handler=function(t,e,i){switch(t.event){case Glow.eEvent_CursorMotion:return 0}var a=this.trf.reverse(e,i);return this.ll.x<=a.x&&a.x<=this.ur.x&&this.ll.y<=a.y&&a.y<=this.ur.y?1:0},this.draw=function(){0!==this.visible&&this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw&&(0===this.invisible||0!==e&&null===a)){var o,r,n,_,l,h,c,w,d,u;0!==this.fixcolor&&(s=null),o=null!==a&&0!==a.line_width?this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1:this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1,o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),h=null===t?(n=this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5-this.ctx.mw.offset_x,_=this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5-this.ctx.mw.offset_y,l=this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5-this.ctx.mw.offset_x,this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5-this.ctx.mw.offset_y):(n=this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5-this.ctx.mw.offset_x,_=this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5-this.ctx.mw.offset_y,l=this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5-this.ctx.mw.offset_x,this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5-this.ctx.mw.offset_y),c=Math.min(n,l),d=Math.max(n,l),w=Math.min(_,h),u=Math.max(_,h);var y,f=this.shadow_width/100*Math.min(d-c,u-w)+.5,p=(null!==a&&0!==a.shadow||0!==this.shadow)&&0===this.disable_shadow;y=0!==this.fill_eq_background?GlowColor.get_drawtype(this.background_drawtype,Glow.eDrawType_FillHighlight,e,s,3,0):GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0);var m,v,g,b,x,G,S,C,D=this.gradient;if(this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(D=a.gradient),p&&0!=f){for(var T=new Array(7),k=0;k<7;k++)T[k]=new GlowPoint;var M=this.shadow_contrast;this.relief==Glow.eRelief_Down&&(M=-this.shadow_contrast),r=GlowColor.shift_drawtype(y,0-M,s),T[0].x=c,T[0].y=w,T[1].x=d,T[1].y=w,T[2].x=d-f,T[2].y=w+f,T[3].x=c+f,T[3].y=w+f,T[4].x=c+f,T[4].y=u-f,T[5].x=c,T[5].y=u,T[6].x=c,T[6].y=w,this.ctx.gdraw.fill_polyline(T,7,r,0),r=GlowColor.shift_drawtype(y,M+0,s),T[0].x=d,T[0].y=u,T[1].x=c,T[1].y=u,T[2].x=c+f,T[2].y=u-f,T[3].x=d-f,T[3].y=u-f,T[4].x=d-f,T[4].y=w+f,T[5].x=d,T[5].y=w,T[6].x=d,T[6].y=u,this.ctx.gdraw.fill_polyline(T,7,r,0)}if(0!==this.fill)if(p&&0!=f)if(D==Glow.eGradient_No||y==Glow.eDrawType_ColorRed)r=y,this.ctx.gdraw.fill_rect(c+f,w+f,d-c-2*f,u-w-2*f,r);else b=null!==t?this.trf.rot(t):this.trf.rot(),m=0!==this.bgcolor_gradient&&this.background_drawtype!=Glow.eDrawType_No?(g=y,v=GlowColor.get_drawtype(this.background_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0)):(v=0<=this.gradient_contrast?(g=GlowColor.shift_drawtype(y,-this.gradient_contrast/2+.5+0,null),GlowColor.shift_drawtype(y,this.gradient_contrast/2+.6+0,null)):(g=GlowColor.shift_drawtype(y,-this.gradient_contrast/2-.6+0,null),GlowColor.shift_drawtype(y,this.gradient_contrast/2+0,null)),y),this.ctx.gdraw.gradient_fill_rect(c+f,w+f,d-c-2*f,u-w-2*f,m,v,g,this.ctx.gdraw.gradient_rotate(b,D));else if(D==Glow.eGradient_No||y==Glow.eDrawType_ColorRed)r=y,this.ctx.gdraw.fill_rect(c,w,d-c,u-w,r);else C=null!==t?this.trf.rot(t):this.trf.rot(),x=0!==this.bgcolor_gradient&&this.background_drawtype!=Glow.eDrawType_No?(S=y,G=GlowColor.get_drawtype(this.background_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0)):(G=0<=this.gradient_contrast?(S=GlowColor.shift_drawtype(y,-this.gradient_contrast/2+.5+0,null),GlowColor.shift_drawtype(y,this.gradient_contrast/2+.6+0,null)):(S=GlowColor.shift_drawtype(y,-this.gradient_contrast/2-.6+0,null),GlowColor.shift_drawtype(y,this.gradient_contrast/2,null)),y),this.ctx.gdraw.gradient_fill_rect(c,w,d-c,u-w,x,G,S,this.ctx.gdraw.gradient_rotate(C,D));0===this.border&&(0!==this.fill||p&&0!==this.shadow_width)||(r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(c,w,d-c,u-w,r,o,0))}},this.get_borders=function(t,e){var i,a,s,o,r,n,_,l;return l=null!==t?(r=this.trf.x(t,this.ll.x,this.ll.y),n=this.trf.x(t,this.ur.x,this.ur.y),_=this.trf.y(t,this.ll.x,this.ll.y),this.trf.y(t,this.ur.x,this.ur.y)):(r=this.trf.x(this.ll.x,this.ll.y),n=this.trf.x(this.ur.x,this.ur.y),_=this.trf.y(this.ll.x,this.ll.y),this.trf.y(this.ur.x,this.ur.y)),i=Math.min(r,n),a=Math.max(r,n),s=Math.min(_,l),o=Math.max(_,l),i<e.ll_x&&(e.ll_x=i),a>e.ur_x&&(e.ur_x=a),s<e.ll_y&&(e.ll_y=s),o>e.ur_y&&(e.ur_y=o),e},this.get_node_borders=function(){var t=new GlowGeometry;t.ll_x=t.ll_y=1e37,t.ur_x=t.ur_y=-1e37,this.get_borders(null,t),this.x_left=t.ll_x,this.x_right=t.ur_x,this.y_low=t.ll_y,this.y_high=t.ur_y},this.set_scale=function(t,e,i,a,s){var o,r,n,_;if(!(0!=this.trf.s_a11&&0!=this.trf.s_a22&&Math.abs(t-this.trf.a11/this.trf.s_a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s_a22)<Number.MIN_VALUE)){switch(s){case Glow.eScaleType_LowerLeft:i=this.x_left,a=this.y_low;break;case Glow.eScaleType_LowerRight:i=this.x_right,a=this.y_low;break;case Glow.eScaleType_UpperRight:i=this.x_right,a=this.y_high;break;case Glow.eScaleType_UpperLeft:i=this.x_left,a=this.y_high;break;case Glow.eScaleType_FixPoint:break;case Glow.eScaleType_Center:i=(this.x_left+this.x_right)/2,a=(this.y_low+this.y_high)/2}switch(o=this.x_left,r=this.x_right,n=this.y_low,_=this.y_high,this.trf.scale_from_stored(t,e,i,a),this.get_node_borders(),s){case Glow.eScaleType_LowerLeft:this.x_left=o,this.y_low=n;break;case Glow.eScaleType_LowerRight:this.x_right=r,this.y_low=n;break;case Glow.eScaleType_UpperRight:this.x_right=r,this.y_high=_;break;case Glow.eScaleType_UpperLeft:this.x_left=o,this.y_high=_;break;case Glow.eScaleType_FixPoint:break;case Glow.eScaleType_Center:i=(this.x_left+this.x_right)/2,a=(this.y_low+this.y_high)/2}this.ctx.draw(o*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,n*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,r*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,_*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP)}},this.getUserData=function(){return null},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return Glow.eCycle_Slow},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowRectRounded(t){this.ctx=t,this.n_name,this.x_right,this.x_left,this.y_high,this.y_low,this.original_border_drawtype,this.original_fill_drawtype,this.fill_drawtype,this.border,this.shadow_width,this.shadow_contrast,this.shadow,this.relief,this.disable_shadow,this.fixposition,this.gradient,this.gradient_contrast,this.disable_gradient,this.dynamicsize,this.trf=new GlowTransform,this.round_amount,this.ll=new GlowPoint(t),this.ur=new GlowPoint(t),this.draw_type,this.line_width,this.display_level,this.fill,this.type=function(){return Glow.eObjectType_GrowRectRounded},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowRectRounded : "+t[i]),o){case Glow.eSave_GrowRectRounded:break;case Glow.eSave_GrowRectRounded_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowRectRounded_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowRectRounded_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowRectRounded_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowRectRounded_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowRectRounded_original_border_drawtype:this.original_border_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_original_fill_drawtype:this.original_fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_fill_drawtype:this.fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_border:this.border=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_round_amount:this.round_amount=parseFloat(s[1]);break;case Glow.eSave_GrowRectRounded_shadow_width:this.shadow_width=parseFloat(s[1]);break;case Glow.eSave_GrowRectRounded_shadow_contrast:this.shadow_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_shadow:this.shadow=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_relief:this.relief=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_disable_shadow:this.disable_shadow=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_fixposition:this.fixposition=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_gradient:this.gradient=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_gradient_contrast:this.gradient_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_disable_gradient:this.disable_gradient=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowRectRounded_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowRectRounded_rect_part:i=this.glowrect_open(t,i+1);break;case Glow.eSave_GrowRectRounded_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowRectRounded")}if(a)break}return i},this.glowrect_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowRectRounded : "+t[i]),o){case Glow.eSave_Rect:break;case Glow.eSave_Rect_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Rect_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Rect_display_level:this.display_level=parseInt(s[1],10);break;case Glow.eSave_Rect_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_Rect_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_Rect_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowRect")}if(a)break}return i},this.event_handler=function(t,e,i){switch(t.event){case Glow.eEvent_CursorMotion:return 0}var a=this.trf.reverse(e,i);return this.ll.x<=a.x&&a.x<=this.ur.x&&this.ll.y<=a.y&&a.y<=this.ur.y?(console.log("Event handler: Hit in rect"),1):0},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u;o=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),h=null===t?(n=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y):(n=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y),c=Math.min(n,l),d=Math.max(n,l),w=Math.min(_,h),u=Math.max(_,h);var y=Math.floor(this.round_amount/100*Math.min(d-c,u-w)+.5);if(0!==this.fill){var f=Math.floor(this.shadow_width/100*Math.min(d-c,u-w)+.5),p=(null!==a&&0!==a.shadow||0!==this.shadow)&&0===this.disable_shadow,m=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0),v=this.gradient;if(this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(v=a.gradient),p&&0!==f){var g,b,x,G=this.shadow_contrast;if(this.relief==Glow.eRelief_Down&&(G=-this.shadow_contrast),r=GlowColor.shift_drawtype(m,0-G,s),this.ctx.gdraw.fill_rect(c+y,w,d-c-2*y,f,r),this.ctx.gdraw.fill_rect(c,w+y,f,u-w-2*y,r),this.ctx.gdraw.fill_arc(c,w,2*y,2*y,90,90,r),this.ctx.gdraw.fill_arc(c,u-2*y,2*y,2*y,180,45,r),this.ctx.gdraw.fill_arc(d-2*y,w,2*y,2*y,45,45,r),r=GlowColor.shift_drawtype(m,G+0,s),this.ctx.gdraw.fill_rect(c+y,u-f,d-c-2*y,f,r),this.ctx.gdraw.fill_rect(d-f,w+y,f,u-w-2*y,r),this.ctx.gdraw.fill_arc(c,u-2*y,2*y,2*y,225,45,r),this.ctx.gdraw.fill_arc(d-2*y,w,2*y,2*y,0,45,r),this.ctx.gdraw.fill_arc(d-2*y,u-2*y,2*y,2*y,270,90,r),v==Glow.eGradient_No)r=m,f<y?(this.ctx.gdraw.fill_rect(c+f,w+y,d-c-2*f,u-w-2*y,r),this.ctx.gdraw.fill_rect(c+y,w+f,d-c-2*y,y-f,r),this.ctx.gdraw.fill_rect(c+y,u-y,d-c-2*y,y-f,r),this.ctx.gdraw.fill_arc(c+f,w+f,2*y-2*f,2*y-2*f,90,90,r),this.ctx.gdraw.fill_arc(c+f,u-2*y+f,2*y-2*f,2*y-2*f,180,90,r),this.ctx.gdraw.fill_arc(d-2*y+f,u-2*y+f,2*y-2*f,2*y-2*f,270,90,r),this.ctx.gdraw.fill_arc(d-2*y+f,w+f,2*y-2*f,2*y-2*f,0,90,r)):this.ctx.gdraw.fill_rect(c+y,w+y,d-c-2*y,u-w-2*y,r);else x=null!==t?this.trf.rot(t):this.trf.rot(),g=0<=this.gradient_contrast?(b=GlowColor.shift_drawtype(m,-this.gradient_contrast/2+0,null),GlowColor.shift_drawtype(m,Math.floor(this.gradient_contrast/2+.6)+0,null)):(b=GlowColor.shift_drawtype(m,0-Math.floor(this.gradient_contrast/2-.6),null),GlowColor.shift_drawtype(m,this.gradient_contrast/2+0,null)),this.ctx.gdraw.gradient_fill_rectrounded(c+f,w+f,d-c-2*f,u-w-2*f,y-f,m,g,b,this.ctx.gdraw.gradient_rotate(x,v))}else{var S,C,D;if(v==Glow.eGradient_No)r=m,this.ctx.gdraw.fill_rect(c,w+y,d-c,u-w-2*y,r),this.ctx.gdraw.fill_rect(c+y,w,d-c-2*y,y,r),this.ctx.gdraw.fill_rect(c+y,u-y,d-c-2*y,y,r),this.ctx.gdraw.fill_arc(c,w,2*y,2*y,90,90,r),this.ctx.gdraw.fill_arc(c,u-2*y,2*y,2*y,180,90,r),this.ctx.gdraw.fill_arc(d-2*y,u-2*y,2*y,2*y,270,90,r),this.ctx.gdraw.fill_arc(d-2*y,w,2*y,2*y,0,90,r);else D=null!==t?this.trf.rot(t):this.trf.rot(),S=0<=this.gradient_contrast?(C=GlowColor.shift_drawtype(m,-this.gradient_contrast/2+0,null),GlowColor.shift_drawtype(m,Math.floor(this.gradient_contrast/2+.6)+0,null)):(C=GlowColor.shift_drawtype(m,0-Math.floor(this.gradient_contrast/2-.6),null),GlowColor.shift_drawtype(m,this.gradient_contrast/2+0,null)),this.ctx.gdraw.gradient_fill_rectrounded(c,w,d-c,u-w,y,m,S,C,this.ctx.gdraw.gradient_rotate(D,v))}}if(0!==this.border||0===this.fill){r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0);this.ctx.gdraw.line(c+y,w,d-y,w,r,o,0),this.ctx.gdraw.line(c,w-0+y,c,u-0-y,r,o,0),this.ctx.gdraw.line(c+y,u,d-y,u,r,o,0),this.ctx.gdraw.line(d-0,w+y,d-0,u-y,r,o,0),this.ctx.gdraw.arc(c,w,2*y,2*y,90,90,r,o,0),this.ctx.gdraw.arc(c,u-2*y,2*y,2*y,180,90,r,o,0),this.ctx.gdraw.arc(d-2*y,u-2*y,2*y,2*y,270,90,r,o,0),this.ctx.gdraw.arc(d-2*y,w,2*y,2*y,0,90,r,o,0)}}}}function GrowLine(t){this.ctx=t,this.n_name=null,this.x_right=0,this.x_left=0,this.y_high=0,this.y_low=0,this.line_type=0,this.original_border_drawtype,this.dynamicsize=0,this.trf=new GlowTransform,this.p1=new GlowPoint(this.ctx),this.p2=new GlowPoint(this.ctx),this.draw_type=0,this.line_width=0,this.type=function(){return Glow.eObjectType_GrowLine},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowLine : "+t[i]),o){case Glow.eSave_GrowLine:break;case Glow.eSave_GrowLine_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowLine_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowLine_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowLine_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowLine_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowLine_line_type:this.line_type=parseInt(s[1],10);break;case Glow.eSave_GrowLine_original_border_drawtype:this.original_border_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowLine_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowLine_dynamic:i+=this.dynamicsize;break;case Glow.eSave_GrowLine_line_part:i=this.glowline_open(t,i+1);break;case Glow.eSave_GrowLine_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowLine")}if(a)break}return i},this.glowline_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowLine : "+t[i]),o){case Glow.eSave_Line:break;case Glow.eSave_Line_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Line_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Line_p1:i=this.p1.open(t,i+1);break;case Glow.eSave_Line_p2:i=this.p2.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowLine")}if(a)break}return i},this.event_handler=function(t,e,i){return 0},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){var o,r,n,_,l,h;0===this.ctx.nodraw&&(9!=i&&this.ctx.hot_indication!=Glow.eHotIndication_LineWidth&&(i=0),r=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),h=null===t?(n=Math.floor(this.trf.x(this.p1.x,this.p1.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(this.p1.x,this.p1.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(this.p2.x,this.p2.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.trf.y(this.p2.x,this.p2.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y):(n=Math.floor(this.trf.x(t,this.p1.x,this.p1.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(t,this.p1.x,this.p1.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(t,this.p2.x,this.p2.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.trf.y(t,this.p2.x,this.p2.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y),n==l&&_==h||(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.line_type==Glow.eLineType_Solid?this.ctx.gdraw.line(n,_,l,h,o,r,0):this.ctx.gdraw.line_dashed(n,_,l,h,o,r,0,this.line_type)))},this.get_borders=function(t,e){},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowArc(t){this.ctx=t,this.n_name=null,this.x_right,this.x_left,this.y_high,this.y_low,this.original_border_drawtype,this.original_fill_drawtype,this.fill_drawtype,this.background_drawtype=Glow.eDrawType_No,this.border,this.shadow_width,this.shadow_contrast,this.shadow,this.relief,this.disable_shadow,this.fixcolor,this.fixposition,this.gradient,this.gradient_contrast,this.disable_gradient,this.fill_eq_background,this.dynamicsize,this.trf=new GlowTransform,this.ll=new GlowPoint(t),this.ur=new GlowPoint(t),this.draw_type,this.angle1,this.angle2,this.line_width,this.display_level,this.fill,this.type=function(){return Glow.eObjectType_GrowArc},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowArc : "+t[i]),o){case Glow.eSave_GrowArc:break;case Glow.eSave_GrowArc_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowArc_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowArc_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowArc_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowArc_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowArc_original_border_drawtype:this.original_border_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowArc_original_fill_drawtype:this.original_fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowArc_fill_drawtype:this.fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowArc_background_drawtype:this.background_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowArc_border:this.border=parseInt(s[1],10);break;case Glow.eSave_GrowArc_shadow_width:this.shadow_width=parseFloat(s[1]);break;case Glow.eSave_GrowArc_shadow_contrast:this.shadow_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowArc_shadow:this.shadow=parseInt(s[1],10);break;case Glow.eSave_GrowArc_relief:this.relief=parseInt(s[1],10);break;case Glow.eSave_GrowArc_disable_shadow:this.disable_shadow=parseInt(s[1],10);break;case Glow.eSave_GrowArc_fixcolor:this.fixcolor=parseInt(s[1],10);break;case Glow.eSave_GrowArc_fixposition:this.fixposition=parseInt(s[1],10);break;case Glow.eSave_GrowArc_gradient:this.gradient=parseInt(s[1],10);break;case Glow.eSave_GrowArc_gradient_contrast:this.gradient_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowArc_disable_gradient:this.disable_gradient=parseInt(s[1],10);break;case Glow.eSave_GrowArc_fill_eq_background:this.fill_eq_background=parseInt(s[1],10);break;case Glow.eSave_GrowArc_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowArc_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowArc_arc_part:i=this.glowarc_open(t,i+1);break;case Glow.eSave_GrowArc_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowArc")}if(a)break}return i},this.glowarc_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowArc : "+t[i]),o){case Glow.eSave_Arc:break;case Glow.eSave_Arc_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Arc_angle1:this.angle1=parseInt(s[1],10);break;case Glow.eSave_Arc_angle2:this.angle2=parseInt(s[1],10);break;case Glow.eSave_Arc_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Arc_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_Arc_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_Arc_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowArc")}if(a)break}return i},this.event_handler=function(t,e,i){switch(t.event){case Glow.eEvent_CursorMotion:return 0}var a=this.trf.reverse(e,i);return this.ll.x<=a.x&&a.x<=this.ur.x&&this.ll.y<=a.y&&a.y<=this.ur.y?1:0},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y,f=0;if(this.ctx.hot_indication==Glow.eHotIndication_No?i=0:this.ctx.hot_indication==Glow.eHotIndication_DarkColor?(f=i,i=0):this.ctx.hot_indication==Glow.eHotIndication_LightColor&&(f=-i,i=0),0!==this.fixcolor&&(s=null),r=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),(y=null===t?(n=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot())):(n=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot(t))))%90!=0&&Math.abs(this.ur.x-this.ll.x-(this.ur.y-this.ll.y))<Float.MIN_VALUE){var p,m,v;if(null===t)p=this.trf.vertical_scale(this.trf),m=(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x))/2,v=(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y))/2;else{var g=t.multiply(this.trf);p=trf.vertical_scale(g),m=(trf.x(t,ll.x,ll.y)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+(trf.x(t,ur.x,ur.y)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x))/2,v=(trf.y(t,ll.x,ll.y)*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+(trf.y(t,ur.x,ur.y)*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y))/2}n=Math.floor(-p*((this.ur.x-this.ll.x)/2*this.ctx.mw.zoom_factor_x)+m+.5),_=Math.floor(-p*((this.ur.y-this.ll.y)/2*this.ctx.mw.zoom_factor_y)+v+.5),l=Math.floor(p*((this.ur.x-this.ll.x)/2*this.ctx.mw.zoom_factor_x)+m+.5),h=Math.floor(p*((this.ur.y-this.ll.y)/2*this.ctx.mw.zoom_factor_y)+v+.5)}if(c=Math.min(n,l),d=Math.max(n,l),w=Math.min(_,h),u=Math.max(_,h),0!==this.fill){var b,x=(null!==a&&0!==a.shadow||0!==this.shadow)&&0===this.disable_shadow;b=0!==this.fill_eq_background?GlowColor.get_drawtype(this.background_drawtype,Glow.eDrawType_FillHighlight,e,s,3,0):GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0);var G=this.gradient;if(this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(G=a.gradient),x&&0!==this.shadow_width&&360==this.angle2){var S,C,D=Math.floor(this.shadow_width/100*Math.min(d-c,u-w)+.5),T=this.shadow_contrast;if(this.relief==Glow.eRelief_Down&&(T=-this.shadow_contrast),G==Glow.eGradient_No||b==Glow.eDrawType_ColorRed)o=GlowColor.shift_drawtype(b,-T+f,s),this.ctx.gdraw.fill_arc(c,w,d-c,u-w,35,140,o),o=GlowColor.shift_drawtype(b,T+f,s),this.ctx.gdraw.fill_arc(c,w,d-c,u-w,215,140,o),o=0!==f?GlowColor.shift_drawtype(b,f,null):b,this.ctx.gdraw.fill_arc(c,w,d-c,u-w,-5,40,o),this.ctx.gdraw.fill_arc(c,w,d-c,u-w,175,40,o),this.ctx.gdraw.fill_arc(c+D,w+D,d-c-2*D,u-w-2*D,this.angle1-y,this.angle2,o);else S=GlowColor.shift_drawtype(b,-T+f,s),C=GlowColor.shift_drawtype(b,T+f,s),this.ctx.gdraw.gradient_fill_arc(c,w,d-c,u-w,this.angle1-y,this.angle2,b,C,S,Glow.eGradient_DiagonalUpperLeft),S=0<=this.gradient_contrast?(C=GlowColor.shift_drawtype(b,-this.gradient_contrast/2+f,null),GlowColor.shift_drawtype(b,Math.floor(this.gradient_contrast/2+.6)+f,null)):(C=GlowColor.shift_drawtype(b,-Math.floor(this.gradient_contrast/2-.6)+f,null),GlowColor.shift_drawtype(b,this.gradient_contrast/2+f,null)),this.ctx.gdraw.gradient_fill_arc(c+D,w+D,d-c-2*D,u-w-2*D,this.angle1-y,this.angle2,b,S,C,G)}else{var k,M;if(G==Glow.eGradient_No||b==Glow.eDrawType_ColorRed)o=0!==f?GlowColor.shift_drawtype(b,f,null):b,this.ctx.gdraw.fill_arc(c,w,d-c,u-w,this.angle1-y,this.angle2,o);else k=0<=this.gradient_contrast?(M=GlowColor.shift_drawtype(b,-this.gradient_contrast/2+f,null),GlowColor.shift_drawtype(b,Math.floor(this.gradient_contrast/2+.6)+f,null)):(M=GlowColor.shift_drawtype(b,-Math.floor(this.gradient_contrast/2-.6)+f,null),GlowColor.shift_drawtype(b,this.gradient_contrast/2+f,null)),this.ctx.gdraw.gradient_fill_arc(c,w,d-c,u-w,this.angle1-y,this.angle2,b,k,M,G)}}0===this.border&&0!==this.fill||(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.arc(c,w,d-c,u-w,this.angle1-y,this.angle2,o,r,0))}},this.get_borders=function(t,e){var i,a,s,o,r,n,_,l;return l=null!==t?(r=this.trf.x(t,this.ll.x,this.ll.y),n=this.trf.x(t,this.ur.x,this.ur.y),_=this.trf.y(t,this.ll.x,this.ll.y),this.trf.y(t,this.ur.x,this.ur.y)):(r=this.trf.x(this.ll.x,this.ll.y),n=this.trf.x(this.ur.x,this.ur.y),_=this.trf.y(this.ll.x,this.ll.y),this.trf.y(this.ur.x,this.ur.y)),i=Math.min(r,n),a=Math.max(r,n),s=Math.min(_,l),o=Math.max(_,l),i<e.ll_x&&(e.ll_x=i),a>e.ur_x&&(e.ur_x=a),s<e.ll_y&&(e.ll_y=s),o>e.ur_y&&(e.ur_y=o),e},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowText(t){this.ctx=t,this.n_name,this.x_right,this.x_left,this.y_high,this.y_low,this.original_color_drawtype,this.font,this.adjustment=Glow.eAdjustment_Left,this.dynamicsize,this.trf=new GlowTransform,this.p=new GlowPoint(t),this.text,this.draw_type,this.text_size,this.display_level,this.color_drawtype,this.type=function(){return Glow.eObjectType_GrowText},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowArc : "+t[i]),o){case Glow.eSave_GrowText:break;case Glow.eSave_GrowText_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowText_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowText_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowText_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowText_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowText_original_color_drawtype:this.original_color_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowText_font:this.font=parseInt(s[1],10);break;case Glow.eSave_GrowText_adjustment:this.adjustment=parseInt(s[1],10);break;case Glow.eSave_GrowText_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowText_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowText_text_part:i=this.glowtext_open(t,i+1);break;case Glow.eSave_GrowText_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowText")}if(a)break}return i},this.glowtext_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowArc : "+t[i]),o){case Glow.eSave_Text:break;case Glow.eSave_Text_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Text_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_Text_color_drawtype:this.color_drawtype=parseInt(s[1],10);break;case Glow.eSave_Text_text:this.text=t[i].substring(4);break;case Glow.eSave_Text_p:i=this.p.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowText")}if(a)break}return i},this.event_handler=function(t,e,i){return 0},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw&&null!==this.text){var o,r,n,_,l,h,c,w,d=this.trf.vertical_scale(t),u=Math.floor(d*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-3),y=d*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);u=Math.min(u,Glow.DRAW_TYPE_SIZE-1);var f,p,m=e;if(null!==a&&(m=a.highlight),p=null!==a&&a.text_font!=Glow.eFont_No?(f=a.text_font,a.text_type):(f=this.font,this.draw_type),n=_=l=h=0,w=null===t?(o=Math.floor(this.trf.x(this.p.x,this.p.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,r=Math.floor(this.trf.y(this.p.x,this.p.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot())):(o=Math.floor(this.trf.x(t,this.p.x,this.p.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,r=Math.floor(this.trf.y(t,this.p.x,this.p.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot(t))),w=this.adjustment==Glow.eAdjustment_Center?w<0?w%360+360:w%360:0,""!==this.text){if(0!==m||0!==i&&null===a||this.adjustment!=Glow.eAdjustment_Left){var v=this.ctx.gdraw.getTextExtent(this.text,Math.max(0,u),f,p);switch(l=v.width,c=(h=v.height)/4,this.adjustment){case Glow.eAdjustment_Left:n=o,_=r-(h-c);break;case Glow.eAdjustment_Right:n=o-=l,_=r-(h-c);break;case Glow.eAdjustment_Center:switch(w){case 90:n=o-l/2,_=r-h/2,o-=l/2,r+=h/2;break;case 270:n=o-l/2,_=r-h/2,o-=l/2,r-=h/2-l/2;break;default:n=o-l/2,_=r-h/2,o-=l/2,r+=h/2-c}}}if(0!==m?this.ctx.gdraw.rect(n,_,l,h,Glow.eDrawType_FillHighlight,Math.max(1,Math.min(u+i,2)),0):0!==i&&null===a&&this.ctx.gdraw.rect(n,_,l,h,Glow.eDrawType_LineGray,Math.max(Math.min(u,2),1),0),0<=u){var g=GlowColor.get_drawtype(this.color_drawtype,Glow.eDrawType_LineHighlight,e,s,2,0);this.ctx.gdraw.text(o,r,this.text,p,g,u,e,0,f,y,w)}}else if(0<=u){var b=this.ctx.gdraw.getTextExtent("A",Math.max(0,u),f,p);l=b.width,c=(h=b.height)/4,this.ctx.gdraw.rect(o,r-(h-c),l,h,Glow.eDrawType_LineGray,u,0)}}},this.get_borders=function(t,e){},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowAnnot(t){this.ctx=t,this.p=new GlowPoint(t),this.adjustment,this.trf=new GlowTransform,this.number,this.draw_type,this.color_drawtype,this.text_size,this.display_level,this.annot_type,this.font,this.protect,this.type=function(){return Glow.eObjectType_GrowAnnot},this.getNumber=function(){return this.number},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowArc : "+t[i]),o){case Glow.eSave_GrowAnnot:break;case Glow.eSave_GrowAnnot_adjustment:this.adjustment=parseInt(s[1],10);break;case Glow.eSave_GrowAnnot_annot_part:i=this.glowannot_open(t,i+1);break;case Glow.eSave_GrowAnnot_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowAnnot")}if(a)break}return i},this.glowannot_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowArc : "+t[i]),o){case Glow.eSave_Annot:break;case Glow.eSave_Annot_number:this.number=parseInt(s[1],10);break;case Glow.eSave_Annot_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Annot_color_drawtype:this.color_drawtype=parseInt(s[1],10);break;case Glow.eSave_Annot_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_Annot_display_level:this.display_level=parseInt(s[1],10);break;case Glow.eSave_Annot_p:i=this.p.open(t,i+1);break;case Glow.eSave_Annot_annot_type:this.annot_type=parseInt(s[1],10);break;case Glow.eSave_Annot_font:this.font=parseInt(s[1],10);break;case Glow.eSave_Annot_protect:this.protect=parseInt(s[1],10);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowAnnot")}if(a)break}return i},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){var o,r;if(0===this.ctx.nodraw&&null!==a.annotv[this.number]){var n,_,l,h,c=0,w=0,d=this.trf.vertical_scale(t),u=Math.floor(d*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-3),y=d*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);if(!(u<0))switch(u=Math.min(u,Glow.DRAW_TYPE_SIZE-1),null!==a&&a.annot_scrollingtext==this.number&&(c=a.annot_offset_x,w=a.annot_offset_y),h=null!==a&&a.text_font!=Glow.eFont_No?(l=a.text_font,a.text_type):(l=this.font,this.draw_type),_=(_=null===t?(o=Math.floor((this.trf.x(this.p.x,this.p.y)+c)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,r=Math.floor((this.trf.y(this.p.x,this.p.y)+w)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,Math.floor(this.trf.rot())):(o=Math.floor((this.trf.x(t,this.p.x,this.p.y)+c)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,r=Math.floor((this.trf.y(t,this.p.x,this.p.y)+w)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,Math.floor(this.trf.rot(t))))<0?_%360+360:_%360,this.annot_type){case Glow.eAnnotType_OneLine:var f=0,p=0,m=0;if(n=GlowColor.get_drawtype(this.color_drawtype,Glow.eDrawType_LineHighlight,e,s,2,0),(_<45||315<=_)&&0!==a.annotv_inputmode[this.number]&&0!==a.input_selected||!(_<45||315<=_)||this.adjustment==Glow.eAdjustment_Right||this.adjustment==Glow.eAdjustment_Center){var v=this.getTextExtent(t,a);f=v.width,m=(p=v.height)/4}switch(this.adjustment){case Glow.eAdjustment_Left:break;case Glow.eAdjustment_Right:o-=f;break;case Glow.eAdjustment_Center:o-=f/2}_<45||315<=_?0!==a.annotv_inputmode[this.number]&&0!==a.input_selected&&this.ctx.gdraw.fill_rect(o,r-p+m,f,p,Glow.eDrawType_MediumGray):this.adjustment==Glow.eAdjustment_Center?45<=_&&_<135?(o+=f/2,r+=f/2):135<=_&&_<225?r+=p-m:225<=_&&_<315?(o+=f/2-p+m,r-=f/2-p+m):o-=f:(45<=_&&_<135?r+=p-m:135<=_&&_<225?(o-=f,r+=p-m):o-=f,_=0),this.ctx.gdraw.text(o,r,a.annotv[this.number],h,n,u,e,0,l,y,_);break;case Glow.eAnnotType_MultiLine:}}},this.getTextExtent=function(t,e){var i=new GlowDimension;if(null===e.annotv[this.number]||""===e.annotv[this.number])return i.width=0,i.height=0,i;var a=this.trf.vertical_scale(t),s=Math.floor(a*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4);this.ctx.mw.zoom_factor_y,this.ctx.mw.base_zoom_factor,this.text_size;if(s<0)return i.width=0,i.height=0,i;s=Math.min(s,Glow.DRAW_TYPE_SIZE-1);var o=this.ctx.gdraw.getTextExtent(e.annotv[this.number],s,this.font,this.draw_type);return i.width=o.width,i.height=o.height,i},this.event_handler=function(t,e,i){return 0},this.get_borders=function(t,e){},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GlowShadowInfo(){this.drawtype,this.x,this.y}function GrowPolyline(t){this.ctx=t,this.n_name=null,this.x_right,this.x_left,this.y_high,this.y_low,this.original_border_drawtype=0,this.original_fill_drawtype=0,this.fill_drawtype=0,this.background_drawtype=0,this.border=1,this.fill_eq_border=0,this.shadow_width=0,this.shadow_contrast=0,this.shadow=0,this.relief=0,this.disable_shadow=0,this.fixcolor=0,this.fixposition=0,this.gradient=0,this.gradient_contrast=0,this.disable_gradient=0,this.fill_eq_light=0,this.fill_eq_shadow=0,this.fill_eq_bglight=0,this.fill_eq_bgshadow=0,this.fill_eq_background=0,this.dynamicsize=0,this.trf=new GlowTransform,this.a_points=new GlowArray(t),this.points=[],this.draw_type=0,this.line_width=0,this.fill=0,this.closed_line=0,this.init=function(t,e,i,a,s,o,r,n,_,l){this.original_border_drawtype=a,this.fill_drawtype=l,this.border=n,this.shadow=_,this.shadow_width=5,this.relief=Glow.eRelief_Up,this.shadow_contrast=2,this.gradient=Glow.eGradient_No,this.gradient_contrast=4,this.n_name=t,this.draw_type=a,this.line_width=s,this.fill=r,this.background_drawtype=Glow.eDrawType_No;for(var h=0;h<i;h++){var c=new GlowPoint(this.ctx);c.x=e[h].x,c.y=e[h].y,this.a_points.add(c)}this.points=new Array(this.a_points.size());for(h=0;h<this.a_points.size();h++)this.points[h]=new GlowPointX},this.type=function(){return Glow.eObjectType_GrowPolyLine},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowPolyline : "+t[i]),o){case Glow.eSave_GrowPolyLine:break;case Glow.eSave_GrowPolyLine_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowPolyLine_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowPolyLine_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowPolyLine_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowPolyLine_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowPolyLine_original_border_drawtype:this.original_border_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_original_fill_drawtype:this.original_fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_drawtype:this.fill_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_background_drawtype:this.background_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_border:this.border=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_shadow_width:this.shadow_width=parseFloat(s[1]);break;case Glow.eSave_GrowPolyLine_shadow_contrast:this.shadow_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_shadow:this.shadow=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_relief:this.relief=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_disable_shadow:this.disable_shadow=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fixcolor:this.fixcolor=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fixposition:this.fixposition=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_gradient:this.gradient=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_gradient_contrast:this.gradient_contrast=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_disable_gradient:this.disable_gradient=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_eq_border:this.fill_eq_border=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_eq_light:this.fill_eq_light=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_eq_shadow:this.fill_eq_shadow=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_eq_bglight:this.fill_eq_bglight=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_eq_bgshadow:this.fill_eq_bgshadow=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_fill_eq_background:this.fill_eq_background=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowPolyLine_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowPolyLine_polyline_part:i=this.glowpolyline_open(t,i+1);break;case Glow.eSave_GrowPolyLine_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowPolyline")}if(a)break}for(var r=0;r<this.a_points.size();r++)this.points[r]=new GlowPointX;return i},this.glowpolyline_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowPolyline : "+t[i]),o){case Glow.eSave_PolyLine:break;case Glow.eSave_PolyLine_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_PolyLine_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_PolyLine_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_PolyLine_closed_line:this.closed_line=parseInt(s[1],10);break;case Glow.eSave_PolyLine_a_points:i=this.a_points.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowPolyline")}if(a)break}return i},this.event_handler=function(t,e,i){return 0},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h=0;for(0!==i&&(this.ctx.hot_indication==Glow.eHotIndication_No?i=0:this.ctx.hot_indication==Glow.eHotIndication_DarkColor?(h=i,i=0):this.ctx.hot_indication==Glow.eHotIndication_LightColor&&(h=-i,i=0)),0!==this.fixcolor&&(s=null),n=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),n+=i,n=Math.max(0,n),n=Math.min(n,Glow.DRAW_TYPE_SIZE-1),o=0;o<this.a_points.size();o++)l=null===t?(_=this.trf.x(this.a_points.get(o).x,this.a_points.get(o).y),this.trf.y(this.a_points.get(o).x,this.a_points.get(o).y)):(_=this.trf.x(t,this.a_points.get(o).x,this.a_points.get(o).y),this.trf.y(t,this.a_points.get(o).x,this.a_points.get(o).y)),this.points[o].x=Math.floor(_*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,this.points[o].y=Math.floor(l*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y;if(0!==this.fill){var c,w,d,u=this.gradient;if(this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(u=a.gradient),r=0!==this.fill_eq_border?GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0):0!==this.fill_eq_background?GlowColor.get_drawtype(this.background_drawtype,Glow.eDrawType_FillHighlight,e,s,3,0):GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0),0!==this.fill_eq_light&&null!==a&&0!==a.shadow?r=GlowColor.shift_drawtype(r,-this.shadow_contrast+h,s):0!==this.fill_eq_bglight?r=null!==s&&a.background_drawtype!=Glow.eDrawType_No?GlowColor.shift_drawtype(s.background_drawtype,-this.shadow_contrast+h,s):GlowColor.shift_drawtype(this.original_fill_drawtype,-this.shadow_contrast+h,s):0!==this.fill_eq_shadow&&null!==a&&0!==a.shadow?r=GlowColor.shift_drawtype(r,this.shadow_contrast+h,s):0!==this.fill_eq_bgshadow?r=null!==s&&a.background_drawtype!=Glow.eDrawType_No?GlowColor.shift_drawtype(s.background_drawtype,this.shadow_contrast+h,s):GlowColor.shift_drawtype(this.original_fill_drawtype,this.shadow_contrast+h,s):0!==h&&(r=GlowColor.shift_drawtype(r,h,null)),u==Glow.eGradient_No||r==Glow.eDrawType_ColorRed)this.ctx.gdraw.fill_polyline(this.points,this.a_points.size(),r,0);else d=null!==t?this.trf.rot(t):this.trf.rot(),c=0<=this.gradient_contrast?(w=GlowColor.shift_drawtype(r,-this.gradient_contrast/2,null),GlowColor.shift_drawtype(r,Math.floor(this.gradient_contrast/2+.6),null)):(w=GlowColor.shift_drawtype(r,-Math.floor(this.gradient_contrast)/2-.6,null),GlowColor.shift_drawtype(r,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_polyline(this.points,this.a_points.size(),r,c,w,this.ctx.gdraw.gradient_rotate(d,u))}var y=(null!==a&&0!==a.shadow||0!==this.shadow)&&0===this.disable_shadow&&0===this.fill_eq_light&&0===this.fill_eq_shadow;if(y&&0!==this.shadow_width){var f,p,m=this.trf.vertical_scale(t),v=Math.floor(this.shadow_width/100*m*Math.min((this.x_right-this.x_left)*this.ctx.mw.zoom_factor_x,(this.y_high-this.y_low)*this.ctx.mw.zoom_factor_y)+.5);if(1<=v){p=(f=this.calculate_shadow(v,e,s,0,h)).length;var g=[];for(g[0]=new GlowPointX,g[1]=new GlowPointX,g[2]=new GlowPointX,g[3]=new GlowPointX,o=0;o<p-1;o++)g[0].x=this.points[o].x,g[0].y=this.points[o].y,g[1].x=f[o].x,g[1].y=f[o].y,g[3].x=this.points[o+1].x,g[3].y=this.points[o+1].y,g[2].x=f[o+1].x,g[2].y=f[o+1].y,this.ctx.gdraw.fill_polyline(g,4,f[o].drawtype,0)}}0===this.border&&(0!==this.fill||y&&0!==this.shadow_width)||(r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.polyline(this.points,this.a_points.size(),r,n,0))}},this.calculate_shadow=function(t,e,i,a,s){var o,r,n,_,l,h,c,w=this.a_points.size();this.points[0].x==this.points[w-1].x&&this.points[0].y==this.points[w-1].y&&w--,o=this.points[0].x==this.points[this.a_points.size()-1].x&&this.points[0].y==this.points[this.a_points.size()-1].y?new Array(w+1):new Array(w);var d=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,i,1,0),u=this.shadow_contrast;for(this.relief==Glow.eRelief_Down&&(u=-this.shadow_contrast),h=GlowColor.shift_drawtype(d,-u+s,i),c=GlowColor.shift_drawtype(d,u+s,i),n=this.shadow_direction(),l=0;l<w;l++){var y,f,p,m,v,g,b,x,G,S;o[l]=new GlowShadowInfo,m=0===l?(y=this.points[w-1].x,this.points[w-1].y):(y=this.points[l-1].x,this.points[l-1].y),f=this.points[l].x,v=this.points[l].y,g=l==w-1?(p=this.points[0].x,this.points[0].y):(p=this.points[l+1].x,this.points[l+1].y),_=n,-1!=l&&(Math.abs(y-f)<Number.MIN_VALUE?p<f&&v<m?_=-n:f<p&&m<v&&(_=-n):Math.abs(f-p)<Number.MIN_VALUE?y<f&&v<g?_=-n:f<y&&g<v&&(_=-n):y<f&&p<f?_=-n:f<y&&f<p&&(_=-n)),Math.abs(y-f)<Number.MIN_VALUE?Math.abs(f-p)<Number.MIN_VALUE?(r=f+n*t,o[l].x=Math.floor(r+.5),o[l].y=Math.floor(v+.5)):(S=v-f*(G=(g-v)/(p-f))+_*t/Math.abs(Math.cos(Math.atan(G))),r=f+n*t,o[l].x=Math.floor(r+.5),o[l].y=Math.floor(G*r+S+.5)):Math.abs(f-p)<Number.MIN_VALUE?(x=m-y*(b=(v-m)/(f-y))+n*t/Math.abs(Math.cos(Math.atan(b))),r=f+_*t,o[l].x=Math.floor(r+.5),o[l].y=Math.floor(b*r+x+.5)):(G=(g-v)/(p-f),x=m-y*(b=(v-m)/(f-y))+n*t/Math.abs(Math.cos(Math.atan(b))),S=v-f*G+_*t/Math.abs(Math.cos(Math.atan(G))),Math.abs(b-G)<Number.MIN_VALUE?Math.abs(b)<Number.MIN_VALUE?(o[l].x=Math.floor(f+.5),o[l].y=Math.floor(x+.5)):(r=((S=g-(G=-G)*p)-x)/(b-G),o[l].x=Math.floor(r+.5),o[l].y=Math.floor(G*r+S+.5),G=b,S=x):(r=(S-x)/(b-G),o[l].x=Math.floor(r+.5),o[l].y=Math.floor(G*r+S+.5))),o[l].drawtype=1==_?h:c,n=_}return this.points[0].x==this.points[this.a_points.size()-1].x&&this.points[0].y==this.points[this.a_points.size()-1].y&&(o[w]=new GlowShadowInfo,o[w].x=o[0].x,o[w].y=o[0].y),o},this.shadow_direction=function(){var t,e,i,a,s,o=0,r=0,n=this.a_points.size();a=i=0,this.points[n-1].x==this.points[0].x&&this.points[n-1].y==this.points[0].y&&n--;for(var _=0;_<n;_++)_==n-1?(this.points[0].x==this.points[_].x?(t=90,this.points[0].y<this.points[_].y&&(t+=180)):t=180*Math.atan((this.points[0].y-this.points[_].y)/(this.points[0].x-this.points[_].x))/Math.PI,this.points[0].x<this.points[_].x&&(t+=180)):(this.points[_+1].x==this.points[_].x?(t=90,this.points[_+1].y<this.points[_].y&&(t+=180)):t=180*Math.atan((this.points[_+1].y-this.points[_].y)/(this.points[_+1].x-this.points[_].x))/Math.PI,this.points[_+1].x<this.points[_].x&&(t+=180)),0===_?a=t:0<_&&((e=t-(i-180))<0?e+=360:360<=e&&(e-=360),o+=e,r+=360-e),_==n-1&&((e=a-(t-180))<0?e+=360:360<=e&&(e-=360),o+=e,r+=360-e),i=t;return s=this.points[0].x==this.points[this.a_points.size()-1].x&&this.points[0].y==this.points[this.a_points.size()-1].y?this.points[this.a_points.size()-2]:this.points[this.a_points.size()-1],r-o<0?this.points[0].x==s.x?this.points[0].x<this.points[1].x?1:-1:this.points[0].x>s.x?1:-1:this.points[0].x==s.x?this.points[0].x<this.points[1].x?1:-1:this.points[0].x<s.x?1:-1},this.add_and_shift_y_value=function(t){for(var e=this.a_points.size()-1;0<e;e--)this.a_points.get(e).y=this.a_points.get(e-1).y;this.a_points.get(0).y=t},this.add_and_shift_y_value_filled=function(t){for(var e=this.a_points.size()-2;1<e;e--)this.a_points.get(e).y=this.a_points.get(e-1).y;this.a_points.get(1).y=t},this.get_borders=function(t,e){var i,a,s,o=0,r=0;for(i=0;i<this.a_points.size()-1;i++)r=null!==t?(s=0===i?(a=this.trf.x(t,this.a_points.get(i).x,this.a_points.get(i).y),this.trf.y(t,this.a_points.get(i).x,this.a_points.get(i).y)):(a=o,r),o=this.trf.x(t,this.a_points.get(i).x,this.a_points.get(i).y),this.trf.y(t,this.a_points.get(i).x,this.a_points.get(i).y)):(s=0===i?(a=this.trf.x(this.a_points.get(i).x,this.a_points.get(i).y),this.trf.y(this.a_points.get(i).x,this.a_points.get(i).y)):(a=o,r),o=this.trf.x(this.a_points.get(i+1).x,this.a_points.get(i+1).y),this.trf.y(this.a_points.get(i+1).x,this.a_points.get(i+1).y)),a<e.ll_x&&(e.ll_x=a),o<e.ll_x&&(e.ll_x=o),a>e.ur_x&&(e.ur_x=a),o>e.ur_x&&(e.ur_x=o),s<e.ll_y&&(e.ll_y=s),r<e.ll_y&&(e.ll_y=r),s>e.ur_y&&(e.ur_y=s),r>e.ur_y&&(e.ur_y=r)},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GlowConPoint(t){this.ctx=t,this.p=new GlowPoint(t),this.number,this.direction,this.trace_attribute,this.trace_attr_type,this.trf=new GlowTransform,this.type=function(){return Glow.eObjectType_ConPoint},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowPolyline : "+t[i]),o){case Glow.eSave_ConPoint:break;case Glow.eSave_ConPoint_number:this.number=parseInt(s[1],10);break;case Glow.eSave_ConPoint_direction:this.direction=parseInt(s[1],10);break;case Glow.eSave_ConPoint_p:i=this.p.open(t,i+1);break;case Glow.eSave_ConPoint_trace_attr_type:this.trace_attr_type=parseInt(s[1],10);break;case Glow.eSave_ConPoint_trace_attribute:1<s.length&&(this.trace_attribute=s[1]);break;case Glow.eSave_ConPoint_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowConPoint")}if(a)break}return i},this.draw=function(){},this.tdraw=function(t,e,i,a,s){},this.event_handler=function(t,e,i){return 0},this.get_borders=function(t,e){},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowConPoint(t){this.ctx=t,this.n_name,this.x_right,this.x_left,this.y_high,this.y_low,this.arc=new GlowArc(t),this.p=new GlowPoint(t),this.number,this.direction,this.trace_attribute,this.trace_attr_type,this.trf=new GlowTransform,this.type=function(){return Glow.eObjectType_GrowConPoint},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowConPoint : "+t[i]),o){case Glow.eSave_GrowConPoint:break;case Glow.eSave_GrowConPoint_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowConPoint_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowConPoint_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowConPoint_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowConPoint_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowConPoint_conpoint_part:i=this.glowconpoint_open(t,i+1);break;case Glow.eSave_GrowConPoint_arc:i=this.arc.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowConPoint")}if(a)break}return i},this.glowconpoint_open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowConPoint : "+t[i]),o){case Glow.eSave_ConPoint:break;case Glow.eSave_ConPoint_number:case Glow.eSave_ConPoint_direction:this.number=parseInt(s[1],10);break;case Glow.eSave_ConPoint_p:i=this.p.open(t,i+1);break;case Glow.eSave_ConPoint_trace_attr_type:this.trace_attr_type=parseInt(s[1],10);break;case Glow.eSave_ConPoint_trace_attribute:1<s.length&&(this.trace_attribute=s[1]);break;case Glow.eSave_ConPoint_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowConPoint")}if(a)break}return i},this.event_handler=function(t,e,i){return 0},this.draw=function(){},this.tdraw=function(t,e,i,a,s){},this.get_borders=function(t,e){},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GlowArc(t){this.ctx=t,this.ll=new GlowPoint(t),this.ur=new GlowPoint(t),this.draw_type,this.angle1,this.angle2,this.line_width,this.display_level,this.fill,this.type=function(){return Glow.eObjectType_Arc},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowArc : "+t[i]),o){case Glow.eSave_Arc:break;case Glow.eSave_Arc_draw_type:this.draw_type=parseInt(s[1],10);break;case Glow.eSave_Arc_angle1:this.angle1=parseInt(s[1],10);break;case Glow.eSave_Arc_angle2:this.angle2=parseInt(s[1],10);break;case Glow.eSave_Arc_line_width:this.line_width=parseInt(s[1],10);break;case Glow.eSave_Arc_fill:this.fill=parseInt(s[1],10);break;case Glow.eSave_Arc_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_Arc_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GlowArc")}if(a)break}return i},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){var o,r,n,_;if(0===this.ctx.nodraw&&(o=Math.floor(this.ll.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,r=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,n=Math.floor(this.ur.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.ur.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,o!=n||r!=_)){var l=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1);l+=i,l=Math.max(0,l),l=Math.min(l,Glow.DRAW_TYPE_SIZE-1),this.ctx.gdraw.arc(o,r,n-o,_-r,this.angle1,this.angle2,this.draw_type,l,e)}},this.draw_shadow=function(t,e,i,a){if(0===this.ctx.nodraw){var s,o,r,n;s=Math.floor(this.ll.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,o=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,r=Math.floor(this.ur.x*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,n=Math.floor(this.ur.y*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y;var _=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1);_+=a,_=Math.max(0,_),_=Math.min(_,Glow.DRAW_TYPE_SIZE-1);var l=this.border;0!==this.shadow&&2<_&&(0===this.angle1?(this.ctx.gdraw.arc(s+_/2-_+l,o+_/2-_+l,r-s+_-2*l,n-o+_-2*l,this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.arc(s+_/2-_+l,o+_/2-_+l,r-s+_-2*l,n-o+_-2*l,angle1,angle2-45,GlowColor.shift_drawtype(this.draw_type,2,null),0,i),this.ctx.gdraw.arc(s+_/2-l,o+_/2-l,Math.max(0,r-s-_+2*l),Math.max(0,n-o-_+2*l),this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,2,null),0,i),this.ctx.gdraw.arc(s+_/2-l,o+_/2-l,Math.max(0,r-s-_+2*l),Math.max(0,n-o-_+2*l),this.angle1,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i)):90==this.angle1?(this.ctx.gdraw.arc(s+_/2-_+l,o+_/2-_+l,r-s+_-2*l,n-o+_-2*l,this.angle1,this.angle2,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.arc(s+_/2-l,o+_/2-l,Math.max(0,r-s-_+2*l),Math.max(0,n-o-_+2*l),this.angle1,this.angle2,GlowColor.shift_drawtype(this.draw_type,2,null),0,i)):180==this.angle1?(this.ctx.gdraw.arc(s+_/2-_+l,o+_/2-_+l,r-s+_-2*l,n-o+_-2*l,this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,2,null),0,i),this.ctx.gdraw.arc(s+_/2-_+l,o+_/2-_+l,r-s+_-2*l,n-o+_-2*l,this.angle1,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.arc(s+_/2-l,o+_/2-l,Math.max(0,r-s-_+2*l),Math.max(0,n-o-_+2*l),this.angle1+45,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,-2,null),0,i),this.ctx.gdraw.arc(s+_/2-l,o+_/2-l,Math.max(0,r-s-_+2*l),Math.max(0,n-o-_+2*l),this.angle1,this.angle2-45,GlowColor.shift_drawtype(this.draw_type,2,null),0,i)):270==this.angle1&&(this.ctx.gdraw.arc(s+_/2-_+l,o+_/2-_+l,r-s+_-2*l,n-o+_-2*l,this.angle1,this.angle2,GlowColor.shift_drawtype(this.draw_type,2,null),0,i),this.ctx.gdraw.arc(s+_/2-l,o+_/2-l,Math.max(0,r-s-_+2*l),Math.max(0,n-o-_+2*l),this.angle1,this.angle2,GlowColor.shift_drawtype(dthis.raw_type,-2,null),0,i))),0!==t&&(this.ctx.gdraw.arc(s+_/2-_,o+_/2-_,r-s+_,n-o+_,this.angle1,this.angle2,Glow.eDrawType_Line,0,i),0<_&&this.ctx.gdraw.arc(s+_/2,o+_/2,Math.max(0,r-s-_),Math.max(0,n-o-_),this.angle1,this.angle2,Glow.eDrawType_Line,0,i))}}}function GrowImage(t){var e=this;this.ctx=t,this.n_name,this.x_right,this.x_left,this.y_high,this.y_low,this.image_filename=null,this.dynamicsize,this.trf=new GlowTransform,this.color_lightness,this.color_intensity,this.color_shift,this.color_tone,this.fixposition,this.ll=new GlowPoint(t),this.ur=new GlowPoint(t),this.display_level,this.image=new Image,this.image.onLoad=function(){console.log("Loading image"),e.draw()},this.type=function(){return Glow.eObjectType_GrowImage},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowImage : "+t[i]),o){case Glow.eSave_GrowImage:break;case Glow.eSave_GrowImage_n_name:1<s.length&&(this.n_name=s[1]);break;case Glow.eSave_GrowImage_image_filename:1<s.length&&(this.image_filename=s[1],this.image.src=this.image_filename);break;case Glow.eSave_GrowImage_x_right:this.x_right=parseFloat(s[1]);break;case Glow.eSave_GrowImage_x_left:this.x_left=parseFloat(s[1]);break;case Glow.eSave_GrowImage_y_high:this.y_high=parseFloat(s[1]);break;case Glow.eSave_GrowImage_y_low:this.y_low=parseFloat(s[1]);break;case Glow.eSave_GrowImage_dynamicsize:this.dynamicsize=parseInt(s[1],10);break;case Glow.eSave_GrowImage_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowImage_trf:i=this.trf.open(t,i+1);break;case Glow.eSave_GrowImage_display_level:this.display_level=parseInt(s[1],10);break;case Glow.eSave_GrowImage_ll:i=this.ll.open(t,i+1);break;case Glow.eSave_GrowImage_ur:i=this.ur.open(t,i+1);break;case Glow.eSave_GrowImage_color_tone:this.color_tone=parseInt(s[1],10);break;case Glow.eSave_GrowImage_color_lightness:this.color_lightness=parseInt(s[1],10);break;case Glow.eSave_GrowImage_color_intensity:this.color_intensity=parseInt(s[1],10);break;case Glow.eSave_GrowImage_color_shift:this.color_shift=parseInt(s[1],10);break;case Glow.eSave_GrowImage_fixposition:this.fixposition=parseInt(s[1],10);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowImage")}if(a)break}return i},this.event_handler=function(t,e,i){var a;switch(t.event){case Glow.eEvent_CursorMotion:return 0}return a=this.trf.reverse(e,i),this.ll.x<=a.x&&a.x<=this.ur.x&&this.ll.y<=a.y&&a.y<=this.ur.y?(console.log("Event handler: Hit in image"),1):0},this.draw=function(){0!==this.image.naturalWidth&&this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0==this.ctx.nodraw){var o,r,n,_,l,h,c,w,d;o=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),l=null===t?(r=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,n=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,_=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y):(r=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,n=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,_=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y),h=Math.min(r,_),w=Math.max(r,_),c=Math.min(n,l),d=Math.max(n,l),this.ctx.gdraw.image(this.image,h,c,w-h,d-c)}},this.get_borders=function(t,e){var i,a,s,o,r,n,_,l;l=null!==t?(r=this.trf.x(t,this.ll.x,this.ll.y),n=this.trf.x(t,this.ur.x,this.ur.y),_=this.trf.y(t,this.ll.x,this.ll.y),this.trf.y(t,this.ur.x,this.ur.y)):(r=this.trf.x(this.ll.x,this.ll.y),n=this.trf.x(this.ur.x,this.ur.y),_=this.trf.y(this.ll.x,this.ll.y),this.trf.y(this.ur.x,this.ur.y)),i=Math.min(r,n),a=Math.max(r,n),s=Math.min(_,l),o=Math.max(_,l),i<e.ll_x&&(e.ll_x=i),a>e.ur_x&&(e.ur_x=a),s<e.ll_y&&(e.ll_y=s),o>e.ur_y&&(e.ur_y=o)},this.get_node_borders=function(){var t=new GlowGeometry;t.ll_x=t.ll_y=1e37,t.ur_x=t.ur_y=-1e37,this.get_borders(null,t),this.x_left=t.ll_x,this.x_right=t.ur_x,this.y_low=t.ll_y,this.y_high=t.ur_y},this.set_scale=function(t,e,i,a,s){var o,r,n,_;if(!(0!==this.trf.s_a11&&0!==this.trf.s_a22&&Math.abs(t-this.trf.a11/this.trf.s_a11)<Number.MIN_VALUE&&Math.abs(e-this.trf.a22/this.trf.s_a22)<Number.MIN_VALUE)){switch(s){case Glow.eScaleType_LowerLeft:i=this.x_left,a=this.y_low;break;case Glow.eScaleType_LowerRight:i=this.x_right,a=this.y_low;break;case Glow.eScaleType_UpperRight:i=this.x_right,a=this.y_high;break;case Glow.eScaleType_UpperLeft:i=this.x_left,a=this.y_high;break;case Glow.eScaleType_FixPoint:break;case Glow.eScaleType_Center:i=(this.x_left+this.x_right)/2,a=(this.y_low+this.y_high)/2}switch(o=this.x_left,r=this.x_right,n=this.y_low,_=this.y_high,this.trf.scale_from_stored(t,e,i,a),this.get_node_borders(),s){case Glow.eScaleType_LowerLeft:this.x_left=o,this.y_low=n;break;case Glow.eScaleType_LowerRight:this.x_right=r,this.y_low=n;break;case Glow.eScaleType_UpperRight:this.x_right=r,this.y_high=_;break;case Glow.eScaleType_UpperLeft:this.x_left=o,this.y_high=_;break;case Glow.eScaleType_FixPoint:break;case Glow.eScaleType_Center:i=(x_left+x_right)/2,a=(y_low+y_high)/2}this.ctx.draw(o*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,n*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,r*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,_*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP)}},this.getName=function(){return this.n_name},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowConGlue(t){GrowNode.call(this,t),this.grownode_open=this.open,this.line_width_up,this.line_width_down,this.line_width_left,this.line_width_right,this.border,this.type=function(){return Glow.eObjectType_GrowConGlue},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GlowConGlue : "+t[i]),o){case Glow.eSave_GrowConGlue:break;case Glow.eSave_GrowConGlue_line_width_up:this.line_width_up=parseInt(s[1],10);break;case Glow.eSave_GrowConGlue_line_width_down:this.line_width_down=parseInt(s[1],10);break;case Glow.eSave_GrowConGlue_line_width_left:this.line_width_left=parseInt(s[1],10);break;case Glow.eSave_GrowConGlue_line_width_right:this.line_width_right=parseInt(s[1],10);break;case Glow.eSave_GrowConGlue_border:this.border=parseInt(s[1],10);break;case Glow.eSave_GrowConGlue_node_part:i=this.grownode_open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowConGlue")}if(a)break}return i},this.draw=function(){this.tdraw(null,this.highlight,this.hot,null,null)},this.tdraw=function(t,e,i,a,s){var o,r,n,_,l,h,c,w,d,u,y,f,p,m,v,g,b,x,G,S,C;0==this.ctx.nodraw&&(o=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,y=null==t?(w=this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,d=this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y,u=this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y):(w=t.x(this.x_left,this.y_low)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,d=t.y(this.x_left,this.y_low)*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y,u=t.x(this.x_right,this.y_high)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,t.y(this.x_right,this.y_high)*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y),f=Math.floor(Math.min(w,u)+.5),m=Math.floor(Math.max(w,u)+.5),p=Math.floor(Math.min(d,y)+.5),v=Math.floor(Math.max(d,y)+.5),g=Math.floor((w+u)/2+.5),b=Math.floor((d+y)/2+.5),h=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),G=this.line_width_down,C=this.line_width_right,x=this.line_width_up,S=this.line_width_left,r=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*x-1),r+=i,n=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*G-1),n+=i,_=Math.floor(this.ctx.mw.zoom_factor_x/this.ctx.mw.base_zoom_factor*S-1),_+=i,l=Math.floor(this.ctx.mw.zoom_factor_x/this.ctx.mw.base_zoom_factor*C-1),l+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),n=Math.max(0,n),n=Math.min(n,Glow.DRAW_TYPE_SIZE-1),_=Math.max(0,_),_=Math.min(_,Glow.DRAW_TYPE_SIZE-1),l=Math.max(0,l),l=Math.min(l,Glow.DRAW_TYPE_SIZE-1),-1!=x&&-1==G&&-1==C&&-1==S?(this.ctx.gdraw.fill_rect(g-r+r/2,b,r+1,v-b,h),0!=this.shadow&&2<r&&(0!=this.border&&(r-=2,b++),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+r/2,b,g+r/2,v,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g-r+r/2,b,g-r+r/2,v,c,0,0),this.ctx.gdraw.line(g-r+r/2,b,g+r/2,b,c,0,0),0!=this.border&&(r+=2,b--)),0!=this.border&&(this.ctx.gdraw.line(g-r+r/2,b,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b,g+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b,g+r/2,b,Glow.eDrawType_Line,0,0))):-1==x&&-1!=G&&-1==C&&-1==S?(this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b-p,h),0!=this.shadow&&2<n&&(0!=this.border&&(n-=2,b--),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+n/2,p,g+n/2,b,c,0,0),this.ctx.gdraw.line(g-n+n/2,b,g+n/2,b,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b,c,0,0),0!=this.border&&(n+=2,b++)),0!=this.border&&(this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,b,g+n/2,b,Glow.eDrawType_Line,0,0))):-1==x&&-1==G&&-1!=C&&-1==S?(this.ctx.gdraw.fill_rect(g,b-l+l/2,m-g,l+1,h),0!=this.shadow&&2<l&&(0!=this.border&&(l-=2,g++),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g,b+l/2,m,b+l/2,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g,b-l+l/2,m,b-l+l/2,c,0,0),this.ctx.gdraw.line(g,b-l+l/2,g,b+l/2,c,0,0),0!=this.border&&(l+=2,g--)),0!=this.border&&(this.ctx.gdraw.line(g,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g,b-l+l/2,g,b+l/2,Glow.eDrawType_Line,0,0))):-1==x&&-1==G&&-1==C&&-1!=S?(this.ctx.gdraw.fill_rect(f,b-_+_/2,g-f,_+1,h),0!=this.shadow&&2<_&&(0!=this.border&&(_-=2,g--),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(f,b+_/2,g,b+_/2,c,0,0),this.ctx.gdraw.line(g,b-_+_/2,g,b+_/2,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(f,b-_+_/2,g,b-_+_/2,c,0,0),0!=this.border&&(_+=2,g++)),0!=this.border&&(this.ctx.gdraw.line(f,b-_+_/2,g,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b+_/2,g,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g,b-_+_/2,g,b+_/2,Glow.eDrawType_Line,0,0))):-1!=x&&-1!=G&&-1==C&&-1==S?(this.ctx.gdraw.fill_rect(g-r+r/2,b,r+1,v-b,h),this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b-p,h),0!=this.shadow&&2<n&&(0!=this.border&&(r-=2,n-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b,c,0,0),this.ctx.gdraw.line(g-r+r/2,b,g-r+r/2,v,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+n/2,p,g+n/2,b,c,0,0),this.ctx.gdraw.line(g+r/2,b,g+r/2,v,c,0,0),0!=this.border&&(r+=2,n+=2)),0!=this.border&&(this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b,g+r/2,v,Glow.eDrawType_Line,0,0),n!=r&&(this.ctx.gdraw.line(g-r+r/2,b,g-n+n/2,b,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b,g+n/2,b,Glow.eDrawType_Line,0,0)))):-1!=S&&-1!=C&&-1==x&&-1==G?(this.ctx.gdraw.fill_rect(g,b-l+l/2,m-g,l+1,h),this.ctx.gdraw.fill_rect(f,b-_+_/2,g-f,_+1,h),0!=this.shadow&&(2<_||2<l)&&(0!=this.border&&(_-=2,l-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(f,b-_+_/2,g,b-_+_/2,c,0,0),this.ctx.gdraw.line(g,b-l+l/2,m,b-l+l/2,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(f,b+_/2,g,b+_/2,c,0,0),this.ctx.gdraw.line(g,b+l/2,m,b+l/2,c,0,0),0!=this.border&&(_+=2,l+=2)),0!=this.border&&(this.ctx.gdraw.line(f,b-_+_/2,g,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b+_/2,g,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),_!=l&&(this.ctx.gdraw.line(g,b-l+l/2,g,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g,b+l/2,g,b+_/2,Glow.eDrawType_Line,0,0)))):-1!=S&&-1==C&&-1!=x&&-1==G?(this.ctx.gdraw.fill_rect(g-r+r/2,b+_/2,r+1,v-(b+_/2),h),this.ctx.gdraw.fill_rect(f,b-_+_/2,g+r/2-f+1,_+1,h),0!=this.shadow&&(2<_||2<r)&&(0!=this.border&&(_-=2,r-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(f,b-_+_/2,g+r/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,c,0,0),this.ctx.gdraw.line(g+r/2,b-_+_/2,g+r/2,v,c,0,0),0!=this.border&&(_+=2,r+=2)),0!=this.border&&(this.ctx.gdraw.line(f,b-_+_/2,g+r/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b-_+_/2,g+r/2,v,Glow.eDrawType_Line,0,0))):-1==S&&-1!=C&&-1!=x&&-1==G?(this.ctx.gdraw.fill_rect(g-r+r/2,b-l+l/2,r+1,v-(b-l+l/2),h),this.ctx.gdraw.fill_rect(g+r/2,b-l+l/2,m-(g+r/2),l+1,h),0!=this.shadow&&(2<l||2<r)&&(0!=this.border&&(l-=2,r-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,m,b-l+l/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-r+r/2,v,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,c,0,0),0!=this.border&&(l+=2,r+=2)),0!=this.border&&(this.ctx.gdraw.line(g-r+r/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,Glow.eDrawType_Line,0,0))):-1==S&&-1!=C&&-1==x&&-1!=G?(this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b-l+l/2-p,h),this.ctx.gdraw.fill_rect(g-n+n/2,b-l+l/2,m-(g-n+n/2),l+1,h),0!=this.shadow&&(2<l||2<n)&&(0!=this.border&&(l-=2,n-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,c,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b+l/2,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g-n+n/2,b+l/2,m,b+l/2,c,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,c,0,0),0!=this.border&&(l+=2,n+=2)),0!=this.border&&(this.ctx.gdraw.line(g-n+n/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,Glow.eDrawType_Line,0,0))):-1!=S&&-1==C&&-1==x&&-1!=G?(this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b+_/2-p+1,h),this.ctx.gdraw.fill_rect(f,b-_+_/2,g-n+n/2-f,_+1,h),0!=this.shadow&&(2<_||2<n)&&(0!=this.border&&(_-=2,n-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(f,b+_/2,g+n/2,b+_/2,c,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b+_/2,c,0,0),0!=this.border&&(_+=2,n+=2)),0!=this.border&&(this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b+_/2,g+n/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0))):-1!=S&&-1!=C&&-1==x&&-1!=G?(this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b-p+1,h),this.ctx.gdraw.fill_rect(f,b-_+_/2,g+n/2-f,_+1,h),this.ctx.gdraw.fill_rect(g-n+n/2,b-l+l/2,m-(g-n+n/2),l+1,h),0!=this.shadow&&(2<_||2<l||2<n)&&(0!=this.border&&(_-=2,l-=2,n-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,c,0,0),l==_?this.ctx.gdraw.line(f,b+_/2,m,b+_/2,c,0,0):_<l?(this.ctx.gdraw.line(f,b+_/2,g-n+n/2,b+_/2,c,0,0),this.ctx.gdraw.line(g-n+n/2,b+l/2,m,b+l/2,c,0,0)):(this.ctx.gdraw.line(f,b+_/2,g+n/2,b+_/2,c,0,0),this.ctx.gdraw.line(g+n/2,b+l/2,m,b+l/2,c,0,0)),0!=this.border&&(_+=2,l+=2,n+=2)),0!=this.border&&(this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,Glow.eDrawType_Line,0,0),l==_?this.ctx.gdraw.line(f,b+_/2,m,b+_/2,Glow.eDrawType_Line,0,0):_<l?(this.ctx.gdraw.line(f,b+_/2,g-n+n/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,b+l/2,g-n+n/2,b+_/2,Glow.eDrawType_Line,0,0)):(this.ctx.gdraw.line(f,b+_/2,g+n/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,b+l/2,g+n/2,b+_/2,Glow.eDrawType_Line,0,0)))):-1!=S&&-1!=C&&-1!=x&&-1==G?(this.ctx.gdraw.fill_rect(g-r+r/2,b,r+1,v-b,h),this.ctx.gdraw.fill_rect(f,b-_+_/2,g+r/2-f,_+1,h),this.ctx.gdraw.fill_rect(g-r+r/2,b-l+l/2,m-(g-r+r/2),l+1,h),0!=this.shadow&&(2<_||2<l||2<r)&&(0!=this.border&&(_-=2,l-=2,r-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,c,0,0),l==_?this.ctx.gdraw.line(f,b-_+_/2,m,b-_+_/2,c,0,0):_<l?(this.ctx.gdraw.line(f,b-_+_/2,g-r+r/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,m,b-l+l/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-r+r/2,b-_+_/2,c,0,0)):(this.ctx.gdraw.line(f,b-_+_/2,g+r/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g+r/2,b-l+l/2,m,b-l+l/2,c,0,0),this.ctx.gdraw.line(g+r/2,b-l+l/2,g+r/2,b-_+_/2,c,0,0)),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,c,0,0),0!=this.border&&(_+=2,l+=2,r+=2)),0!=this.border&&(this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,Glow.eDrawType_Line,0,0),l==_?this.ctx.gdraw.line(f,b-_+_/2,m,b-_+_/2,Glow.eDrawType_Line,0,0):_<l?(this.ctx.gdraw.line(f,b-_+_/2,g-r+r/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-r+r/2,b-_+_/2,Glow.eDrawType_Line,0,0)):(this.ctx.gdraw.line(f,b-_+_/2,g+r/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b-l+l/2,g+r/2,b-_+_/2,Glow.eDrawType_Line,0,0)))):-1!=S&&-1==C&&-1!=x&&-1!=G?(this.ctx.gdraw.fill_rect(f,b-_+_/2,g-f,_+1,h),this.ctx.gdraw.fill_rect(g-r+r/2,b-_+_/2,r+1,v-(b-_+_/2),h),this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b+_/2-p,h),0!=this.shadow&&(2<_||2<n||2<r)&&(0!=this.border&&(_-=2,n-=2,r-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,c,0,0),r==n?this.ctx.gdraw.line(g+n/2,p,g+n/2,v,c,0,0):r<n?(this.ctx.gdraw.line(g+n/2,p,g+n/2,b+_/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+_/2,g+r/2,v,c,0,0),this.ctx.gdraw.line(g+r/2,b+_/2,g+n/2,b+_/2,c,0,0)):(this.ctx.gdraw.line(g+n/2,p,g+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g+r/2,b-_+_/2,g+r/2,v,c,0,0),this.ctx.gdraw.line(g+r/2,b-_+_/2,g+n/2,b-_+_/2,c,0,0)),0!=this.border&&(_+=2,n+=2,r+=2)),0!=this.border&&(this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,Glow.eDrawType_Line,0,0),r==n?this.ctx.gdraw.line(g+n/2,p,g+n/2,v,Glow.eDrawType_Line,0,0):r<n?(this.ctx.gdraw.line(g+n/2,p,g+n/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+_/2,g+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+_/2,g+n/2,b+_/2,Glow.eDrawType_Line,0,0)):(this.ctx.gdraw.line(g+n/2,p,g+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b-_+_/2,g+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b-_+_/2,g+n/2,b-_+_/2,Glow.eDrawType_Line,0,0)))):-1==S&&-1!=C&&-1!=x&&-1!=G?(this.ctx.gdraw.fill_rect(g,b-l+l/2,m-g,l+1,h),this.ctx.gdraw.fill_rect(g-r+r/2,b-l+l/2,r+1,v-(b-l+l/2),h),this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b+l/2-p,h),0!=this.shadow&&(2<l||2<n||2<r)&&(0!=this.border&&(l-=2,n-=2,r-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,c,0,0),r==n?this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,v,c,0,0):r<n?(this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b+l/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b+l/2,g-r+r/2,v,c,0,0)):(this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-l+l/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-r+r/2,v,c,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-n+n/2,b-l+l/2,c,0,0)),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,c,0,0),0!=this.border&&(l+=2,n+=2,r+=2)),0!=this.border&&(this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,Glow.eDrawType_Line,0,0),r==n?this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,v,Glow.eDrawType_Line,0,0):r<n?(this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b+l/2,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b+l/2,g-n+n/2,b+l/2,Glow.eDrawType_Line,0,0)):(this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-r+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b-l+l/2,g-n+n/2,b-l+l/2,Glow.eDrawType_Line,0,0)))):-1!=S&&-1!=C&&-1!=x&&-1!=G?(this.ctx.gdraw.fill_rect(g,b-l+l/2,m-g,l+1,h),this.ctx.gdraw.fill_rect(f,b-_+_/2,g-f,_+1,h),this.ctx.gdraw.fill_rect(g-r+r/2,b,r+1,v-b,h),this.ctx.gdraw.fill_rect(g-n+n/2,p,n+1,b-p,h),0!=this.shadow&&(2<_||2<l||2<n||2<r)&&(0!=this.border&&(l-=2,_-=2,n-=2,r-=2),c=GlowColor.shift_drawtype(this.draw_type,-2,null),this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,c,0,0),this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,c,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,c,0,0),c=GlowColor.shift_drawtype(this.draw_type,2,null),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,c,0,0),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,c,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,c,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,c,0,0),0!=this.border&&(l+=2,_+=2,n+=2,r+=2)),0!=this.border&&(this.ctx.gdraw.line(g+n/2,b-l+l/2,m,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+n/2,p,g+n/2,b-l+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,m,b+l/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g+r/2,b+l/2,g+r/2,v,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b-_+_/2,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-n+n/2,p,g-n+n/2,b-_+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(f,b+_/2,g-r+r/2,b+_/2,Glow.eDrawType_Line,0,0),this.ctx.gdraw.line(g-r+r/2,b+_/2,g-r+r/2,v,Glow.eDrawType_Line,0,0))):(this.ctx.gdraw.line(g,p,g,b,h,o,0),this.ctx.gdraw.line(g,b,g,v,h,o,0),this.ctx.gdraw.line(f,b,g,b,h,o,0),this.ctx.gdraw.line(g,b,m,b,h,o,0)))},this.event_handler=function(t,e,i){return 0},this.get_borders=function(t,e){},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowBar(t){GrowRect.call(this,t),this.growrect_open=this.open,this.max_value,this.min_value,this.bar_value,this.bar_bordercolor,this.bar_borderwidth,this.bar_drawtype,this.userdata=null,this.type=function(){return Glow.eObjectType_GrowBar},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowBar : "+t[i]),o){case Glow.eSave_GrowBar:break;case Glow.eSave_GrowBar_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowBar_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowBar_bar_value:this.bar_value=parseFloat(s[1]);break;case Glow.eSave_GrowBar_bar_bordercolor:this.bar_bordercolor=parseInt(s[1],10);break;case Glow.eSave_GrowBar_bar_borderwidth:this.bar_borderwidth=parseInt(s[1],10);break;case Glow.eSave_GrowBar_bar_drawtype:this.bar_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowBar_rect_part:i=this.growrect_open(t,i+1);break;case Glow.eSave_GrowBar_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_GrowBar_trace_data1:case Glow.eSave_GrowBar_trace_data2:case Glow.eSave_GrowBar_trace_attr_type:case Glow.eSave_GrowBar_trace_color:case Glow.eSave_GrowBar_trace_data3:case Glow.eSave_GrowBar_trace_data4:case Glow.eSave_GrowBar_trace_data5:case Glow.eSave_GrowBar_trace_data6:case Glow.eSave_GrowBar_trace_data7:case Glow.eSave_GrowBar_trace_data8:case Glow.eSave_GrowBar_trace_data9:case Glow.eSave_GrowBar_trace_data10:case Glow.eSave_GrowBar_access:case Glow.eSave_GrowBar_cycle:case Glow.eSave_GrowBar_ref_object:break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowBar")}if(a)break}return i},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_=this.gradient;this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(_=a.gradient);var l,h,c,w,d,u,y,f,p,m,v=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.bar_borderwidth-1);if(v=Math.min(Glow.DRAW_TYPE_SIZE-1,Math.max(0,v)),o=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),w=null===t?(l=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,c=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y):(l=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,c=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y),d=Math.min(l,c),y=Math.max(l,c),u=Math.min(h,w),f=Math.max(h,w),0!==this.fill)if(r=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0),_==Glow.eGradient_No)this.ctx.gdraw.fill_rect(d,u,y-d,f-u,r);else n=null!==t?this.trf.rot(t):this.trf.rot(),p=0<=this.gradient_contrast?(m=GlowColor.shift_drawtype(r,-this.gradient_contrast/2,null),GlowColor.shift_drawtype(r,Math.floor(this.gradient_contrast/2+.6),null)):(m=GlowColor.shift_drawtype(r,-Math.floor(this.gradient_contrast/2-.6),null),GlowColor.shift_drawtype(r,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_rect(d,u,y-d,f-u,r,p,m,this.ctx.gdraw.gradient_rotate(n,_));if(r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.max_value!=this.min_value){var g,b,x,G,S,C,D,T;T=(n=null!==t?360*(this.trf.rot(t)/360-Math.floor(this.trf.rot(t)/360)):360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360)))<=45||315<n?(G=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(f-u)),x=y-d,S=g=d,D=y,C=b=f-(G=Math.max(0,Math.min(G,f-u)))):45<n&&n<=135?(x=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(y-d)),G=f-u,C=b=u,D=S=(g=d)+(x=Math.max(0,Math.min(x,y-d))),f):135<n&&n<=225?(G=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(f-u)),x=y-d,S=g=d,D=y,C=(b=u)+(G=Math.max(0,Math.min(G,f-u)))):(x=Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(y-d)),G=f-u,C=b=u,D=S=g=y-(x=Math.max(0,Math.min(x,y-d))),f);var k,M,I=r;if(this.bar_drawtype!=Glow.eDrawType_Inherit&&(I=this.bar_drawtype),_==Glow.eGradient_No)this.ctx.gdraw.fill_rect(g,b,x,G,I);else n=null!==t?this.trf.rot(t):this.trf.rot(),k=0<=this.gradient_contrast?(M=GlowColor.shift_drawtype(I,-this.gradient_contrast/2,null),GlowColor.shift_drawtype(I,Math.floor(this.gradient_contrast/2+.6),null)):(M=GlowColor.shift_drawtype(I,-Math.floor(this.gradient_contrast/2-.6),null),GlowColor.shift_drawtype(I,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_rect(g,b,x,G,I,k,M,this.ctx.gdraw.gradient_rotate(n,_));I=r,this.bar_bordercolor!=Glow.eDrawType_Inherit&&(I=this.bar_bordercolor),this.ctx.gdraw.line(S,C,D,T,I,v,0)}0!==this.border&&this.ctx.gdraw.rect(d,u,y-d,f-u,r,o,0)}},this.set_range=function(t,e){this.max_value=e,this.min_value=t,this.draw()},this.set_value=function(t){this.bar_value=t,this.draw()},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return 0},this.getClassUserData=function(){return null},this.getUserData=function(){return this.userdata},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowBarArc(t){GrowArc.call(this,t),this.growarc_open=this.open,this.max_value,this.min_value,this.bar_width,this.bar_value,this.bar_bordercolor,this.bar_borderwidth,this.bar_drawtype,this.bar_direction,this.userdata=null,this.type=function(){return Glow.eObjectType_GrowBarArc},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowBarArc : "+t[i]),o){case Glow.eSave_GrowBarArc:break;case Glow.eSave_GrowBarArc_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowBarArc_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowBarArc_bar_width:this.bar_width=parseFloat(s[1]);break;case Glow.eSave_GrowBarArc_bar_direction:this.bar_direction=parseInt(s[1],10);break;case Glow.eSave_GrowBarArc_bar_value:this.bar_value=parseFloat(s[1]);break;case Glow.eSave_GrowBarArc_bar_bordercolor:this.bar_bordercolor=parseInt(s[1],10);break;case Glow.eSave_GrowBarArc_bar_borderwidth:this.bar_borderwidth=parseInt(s[1],10);break;case Glow.eSave_GrowBarArc_bar_drawtype:this.bar_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowBarArc_arc_part:i=this.growarc_open(t,i+1);break;case Glow.eSave_GrowBarArc_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowBarArc")}if(a)break}return i},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y,f,p,m,v,g,b=Math.floor(this.bar_width*this.ctx.mw.zoom_factor_x),x=Math.max(this.min_value,Math.min(this.bar_value,this.max_value));if(o=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),r=null===t?(c=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,w=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,d=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,u=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360))):(c=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,w=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,d=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,u=Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,360*(this.trf.rot(t)/360-Math.floor(this.trf.rot(t)/360))),y=Math.min(c,d),p=Math.max(c,d),f=Math.min(w,u),h=((m=Math.max(w,u))-f)/(p-y),p-y<b&&(b=p-y),_=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0),l=this.background_drawtype==Glow.eDrawType_No?this.ctx.background_color:this.background_drawtype,this.ctx.gdraw.fill_arc(y,f,p-y,m-f,0,360,l),this.ctx.gdraw.fill_arc(y,f,p-y,m-f,this.angle1-Math.floor(r),this.angle2,_),n=0===this.bar_direction?this.angle1-r:this.angle1+this.angle2*(this.max_value-x)/(this.max_value-this.min_value)-r,this.gradient==Glow.eGradient_No)this.ctx.gdraw.fill_arc(y,f,p-y,m-f,n,this.angle2*(x-this.min_value)/(this.max_value-this.min_value),this.bar_drawtype);else v=0<=this.gradient_contrast?(g=GlowColor.shift_drawtype(this.bar_drawtype,-this.gradient_contrast/2,null),GlowColor.shift_drawtype(this.bar_drawtype,Math.floor(this.gradient_contrast/2+.6),null)):(g=GlowColor.shift_drawtype(this.bar_drawtype,-Math.floor(this.gradient_contrast/2-.6),null),GlowColor.shift_drawtype(this.bar_drawtype,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_arc(y,f,p-y,m-f,n,this.angle2*(x-this.min_value)/(this.max_value-this.min_value),this.bar_drawtype,v,g,this.gradient);if(this.ctx.gdraw.fill_arc(y+b,f+h*b,p-y-2*b,m-f-2*h*b,0,360,l),n=0===this.bar_direction?Math.PI*(this.angle1-r+this.angle2*(x-this.min_value)/(this.max_value-this.min_value))/180:Math.PI*(this.angle1-r+this.angle2*(this.max_value-x)/(this.max_value-this.min_value))/180,this.ctx.gdraw.line((p+y)/2+(p-y)/2*Math.cos(n),(m+f)/2-(m-f)/2*Math.sin(n),(p+y)/2+((p-y)/2-b)*Math.cos(n),(m+f)/2-h*((p-y)/2-b)*Math.sin(n),this.bar_bordercolor,this.bar_borderwidth,0),0!==this.border){var G=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0);this.ctx.gdraw.arc(y,f,p-y,m-f,this.angle1-Math.floor(r),this.angle2,G,o),this.ctx.gdraw.arc(y+b,f+h*b,p-y-2*b,m-f-2*h*b,this.angle1-Math.floor(r),this.angle2,G,o),n=Math.PI*(this.angle1-r)/180,this.ctx.gdraw.line((p+y)/2+(p-y)/2*Math.cos(n),(m+f)/2-(m-f)/2*Math.sin(n),(p+y)/2+((p-y)/2-b)*Math.cos(n),(m+f)/2-h*((p-y)/2-b)*Math.sin(n),G,o,0),n=Math.PI*(this.angle1+this.angle2-r)/180,this.ctx.gdraw.line((p+y)/2+(p-y)/2*Math.cos(n),(m+f)/2-(m-f)/2*Math.sin(n),(p+y)/2+((p-y)/2-b)*Math.cos(n),(m+f)/2-h*((p-y)/2-b)*Math.sin(n),G,o,0)}}},this.set_range=function(t,e){this.max_value=e,this.min_value=t,this.draw()},this.set_value=function(t){this.bar_value=t,this.draw()},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return 0},this.getClassUserData=function(){return null},this.getUserData=function(){return this.userdata},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowTrend(n){GrowRect.call(this,n),this.growrect_open=this.open,this.y_max_value=new Array(Glow.TREND_MAX_CURVES),this.y_min_value=new Array(Glow.TREND_MAX_CURVES),this.x_max_value=new Array(Glow.TREND_MAX_CURVES),this.x_min_value=new Array(Glow.TREND_MAX_CURVES),this.vertical_lines,this.horizontal_lines,this.fill_curve,this.no_of_points,this.curve_width,this.curve_drawtype=new Array(Glow.TREND_MAX_CURVES),this.curve_fill_drawtype=new Array(Glow.TREND_MAX_CURVES),this.scan_time,this.curve=new Array(Glow.TREND_MAX_CURVES),this.curve_cnt=1,this.userdata=null,this.display_x_mark1=0,this.display_x_mark2=0,this.display_y_mark1=0,this.display_y_mark2=0,this.x_mark1,this.x_mark2,this.y_mark1,this.y_mark2,this.mark1_color,this.mark2_color;for(var t=0;t<Glow.TREND_MAX_CURVES;t++)this.curve[t]=null;this.type=function(){return Glow.eObjectType_GrowTrend},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowTrend : "+t[i]),o){case Glow.eSave_GrowTrend:break;case Glow.eSave_GrowTrend_y_max_value_0:this.y_max_value[0]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_y_max_value_1:this.y_max_value[1]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_y_min_value_0:this.y_min_value[0]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_y_min_value_1:this.y_min_value[1]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_x_max_value_0:this.x_max_value[0]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_x_max_value_1:this.x_max_value[1]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_x_min_value_0:this.x_min_value[0]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_x_min_value_1:this.x_min_value[1]=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_horizontal_lines:this.horizontal_lines=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_vertical_lines:this.vertical_lines=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_fill_curve:this.fill_curve=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_curve_drawtype_0:this.curve_drawtype[0]=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_curve_drawtype_1:this.curve_drawtype[1]=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_curve_fill_drawtype_0:this.curve_fill_drawtype[0]=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_curve_fill_drawtype_1:this.curve_fill_drawtype[1]=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_no_of_points:this.no_of_points=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_curve_width:this.curve_width=parseInt(s[1],10);break;case Glow.eSave_GrowTrend_scan_time:this.scan_time=parseFloat(s[1]);break;case Glow.eSave_GrowTrend_rect_part:i=this.growrect_open(t,i+1);break;case Glow.eSave_GrowTrend_trace_data1:case Glow.eSave_GrowTrend_trace_data2:case Glow.eSave_GrowTrend_trace_data3:case Glow.eSave_GrowTrend_trace_data4:case Glow.eSave_GrowTrend_trace_data5:case Glow.eSave_GrowTrend_trace_data6:case Glow.eSave_GrowTrend_trace_data7:case Glow.eSave_GrowTrend_trace_data8:case Glow.eSave_GrowTrend_trace_data9:case Glow.eSave_GrowTrend_trace_data10:case Glow.eSave_GrowTrend_trace_attr_type:case Glow.eSave_GrowTrend_trace_color:case Glow.eSave_GrowTrend_access:case Glow.eSave_GrowTrend_cycle:case Glow.eSave_GrowTrend_ref_object:break;case Glow.eSave_GrowTrend_userdata_cb:if(null!==n.appl){var r=n.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowTrend",i,o)}if(a)break}return this.configure_curves(),i},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y,f,p,m,v;if(r=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),c=null===t?(_=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,l=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,h=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y):(_=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,l=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,h=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y),w=Math.min(_,h),u=Math.max(_,h),d=Math.min(l,c),y=Math.max(l,c),0!==this.fill){var g,b,x,G=this.gradient;if(this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(G=a.gradient),n=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0),G==Glow.eGradient_No)this.ctx.gdraw.fill_rect(w,d,u-w,y-d,n);else x=null!==t?this.trf.rot(t):this.trf.rot(),g=0<=this.gradient_contrast?(b=GlowColor.shift_drawtype(n,-this.gradient_contrast/2,null),GlowColor.shift_drawtype(n,Math.floor(this.gradient_contrast/2+.6),null)):(b=GlowColor.shift_drawtype(n,-Math.floor(this.gradient_contrast/2-.6),null),GlowColor.shift_drawtype(n,this.gradient_contrast/2,null)),this.ctx.gdraw.gradient_fill_rect(w,d,u-w,y-d,n,g,b,this.ctx.gdraw.gradient_rotate(x,G))}if(n=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),0!==this.fill_curve){for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&(this.curve[o].border=0);if(null!==t){var S=t.multiply(this.trf);for(o=0;o<this.curve_cnt;o++)null!==curve[o]&&curve[o].tdraw(S,e,i,a,s)}else for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&this.curve[o].tdraw(this.trf,e,i,a,s);for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&(this.curve[o].border=1)}for(o=0;o<this.vertical_lines;o++){var C=Math.floor(w+(u-w)/(this.vertical_lines+1)*(o+1));this.ctx.gdraw.line(C,d,C,y,n,0,0)}for(o=0;o<this.horizontal_lines;o++){var D=Math.floor(d+(y-d)/(this.horizontal_lines+1)*(o+1));this.ctx.gdraw.line(w,D,u,D,n,0,0)}if(0!==this.fill_curve)for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&(this.curve[o].fill=0);if(null!==t){var T=t.multiply(this.trf);for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&this.curve[o].tdraw(T,e,i,a,s)}else for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&this.curve[o].tdraw(this.trf,e,i,a,s);if(0!==this.fill_curve)for(o=0;o<this.curve_cnt;o++)null!==this.curve[o]&&(this.curve[o].fill=1);if(0!==this.display_x_mark1)w<=(f=null===t?Math.floor(this.trf.x(this.x_mark1,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x:Math.floor(this.trf.x(t,this.x_mark1,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x)&&f<=u&&((n=this.mark1_color)==Glow.eDrawType_Inherit&&(n=Glow.eDrawType_ColorYellow),this.ctx.gdraw.line(f,d,f,y,n,r,0));if(0!==this.display_x_mark2)w<=(p=null===t?Math.floor(this.trf.x(this.x_mark2,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x:Math.floor(this.trf.x(t,this.x_mark2,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x)&&p<=u&&((n=this.mark2_color)==Glow.eDrawType_Inherit&&(n=Glow.eDrawType_ColorYellow),this.ctx.gdraw.line(p,d,p,y,n,r,0));if(0!==this.display_y_mark1)d<=(m=null===t?Math.floor(this.trf.y(this.ll.x,this.y_mark1)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y:Math.floor(this.trf.y(t,this.ll.x,this.y_mark1)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y)&&m<=y&&((n=this.mark1_color)==Glow.eDrawType_Inherit&&(n=Glow.eDrawType_ColorYellow),this.ctx.gdraw.line(w,m,u,m,n,r,0));if(0!==this.display_y_mark2)d<=(v=null===t?Math.floor(this.trf.y(this.ll.x,this.y_mark2)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y:Math.floor(this.trf.y(t,this.ll.x,this.y_mark2)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y)&&v<=y&&((n=this.mark2_color)==Glow.eDrawType_Inherit&&(n=Glow.eDrawType_ColorYellow),this.ctx.gdraw.line(w,v,u,v,n,r,0));0!==this.border&&this.ctx.gdraw.rect(w,d,u-w,y-d,n,r,0)}},this.set_range=function(t,e,i){0!==t&&1!=t||(this.y_max_value[t]=i,this.y_min_value[t]=e,this.configure_curves())},this.configure_curves=function(){var t,e,i,a,s=[],o=new GlowPoint;for(this.curve_cnt=2,this.no_of_points=Math.max(2,this.no_of_points),i=this.no_of_points,0!==this.fill_curve&&(i+=2),this.curve_width=Math.min(Glow.DRAW_TYPE_SIZE,Math.max(1,this.curve_width)),s=new Array(i),a=0;a<i;a++)s[a]=new GlowPoint,o=s[a],0===this.fill_curve?(o.y=this.ur.y,o.x=this.ur.x-a*(this.ur.x-this.ll.x)/(i-1)):(o.y=this.ur.y,o.x=0===a?this.ur.x:a==i-1?this.ll.x:this.ur.x-(a-1)*(this.ur.x-this.ll.x)/(i-3));for(a=0;a<this.curve_cnt;a++)null!==this.curve[a]&&(this.curve[a]=null),t=this.curve_drawtype[a]!=Glow.eDrawType_Inherit?this.curve_drawtype[a]:this.draw_type,e=this.curve_fill_drawtype[a]!=Glow.eDrawType_Inherit?this.curve_fill_drawtype[a]:this.draw_type,this.ctx.nodraw++,this.curve[a]=new GrowPolyline(this.ctx),this.curve[a].init("",s,i,t,this.curve_width,0,this.fill_curve,1,0,e),this.ctx.nodraw--},this.set_range_y=function(t,e,i){var a;0!==t&&1!=t||(0===t&&(0!==this.display_y_mark1&&(a=this.y_min_value[0]-(this.y_mark1-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y),this.y_mark1=this.ur.y-(a-e)/(i-e)*(this.ur.y-this.ll.y)),0!==this.display_y_mark2&&(a=this.y_min_value[0]-(this.y_mark2-ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y),this.y_mark2=this.ur.y-(a-e)/(i-e)*(this.ur.y-this.ll.y))),this.y_max_value[t]=i,this.y_min_value[t]=e,this.configure_curves())},this.add_value=function(t,e){var i=0;e>=this.curve_cnt||(this.y_max_value[e]!=this.y_min_value[e]&&(i=this.ur.y-(t-this.y_min_value[e])/(this.y_max_value[e]-this.y_min_value[e])*(this.ur.y-this.ll.y)),i=Math.max(this.ll.y,Math.min(i,this.ur.y)),0===this.fill_curve?this.curve[e].add_and_shift_y_value(i):this.curve[e].add_and_shift_y_value_filled(i),this.draw())},this.set_scan_time=function(t){this.scan_time=t,this.configure_curves()},this.get_scan_time=function(){return this.scan_time},this.get_no_of_points=function(){return this.no_of_points},this.set_x_mark1=function(t){this.display_x_mark1=1,this.x_mark1=this.ll.x+(t-this.x_min_value[0])/(this.x_max_value[0]-this.x_min_value[0])*(this.ur.x-this.ll.x),this.draw()},this.set_x_mark2=function(t){this.display_x_mark2=1,this.x_mark2=this.ll.x+(t-this.x_min_value[0])/(this.x_max_value[0]-this.x_min_value[0])*(this.ur.x-this.ll.x),this.draw()},this.set_y_mark1=function(t){this.display_y_mark1=1,this.y_mark1=this.ur.y-(t-this.y_min_value[0])/(this.y_max_value[0]-this.y_min_value[0])*(this.ur.y-this.ll.y),this.draw()},this.set_y_mark2=function(t){this.display_y_mark2=1,this.y_mark2=this.ur.y-(t-this.y_min_value[0])/(this.y_max_value[0]-this.y_min_value[0])*(this.ur.y-this.ll.y),this.draw()},this.set_mark_color=function(t,e){this.mark1_color=t,this.mark2_color=e},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return 0},this.getClassUserData=function(){return null},this.getClassUserData=function(){return nc.userdata},this.getUserData=function(){return this.userdata},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowXYCurve(w){GrowTrend.call(this,w),this.growtrend_open=this.open,this.type=function(){return Glow.eObjectType_GrowXYCurve},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowXYCurve : "+t[i]),o){case Glow.eSave_GrowXYCurve:break;case Glow.eSave_GrowXYCurve_trend_part:i=this.growtrend_open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowXYCurve")}if(a)break}return i},this.set_xy_range_x=function(t,e,i){if(!(t>Glow.TREND_MAX_CURVES||t<0)){if(0===t){if(0!==this.display_x_mark1){var a=(this.x_mark1-this.ll.x)*(this.x_max_value[0]-this.x_min_value[0])/(this.ur.x-this.ll.x)+this.x_min_value[0];this.x_mark1=this.ll.x+(a-e)/(i-e)*(this.ur.x-this.ll.x)}if(0!==this.display_x_mark2){a=(this.x_mark2-this.ll.x)*(this.x_max_value[0]-this.x_min_value[0])/(this.ur.x-this.ll.x)+this.x_min_value[0];this.x_mark2=this.ll.x+(a-e)/(i-e)*(this.ur.x-this.ll.x)}}this.x_max_value[t]=i,this.x_min_value[t]=e}},this.set_xy_range_y=function(t,e,i){if(!(t>Glow.TREND_MAX_CURVES||t<0)){if(0===t){if(0!==this.display_y_mark1){var a=this.y_min_value[0]-(this.y_mark1-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark1=this.ur.y-(a-e)/(i-e)*(this.ur.y-this.ll.y)}if(0!==this.display_y_mark2){a=this.y_min_value[0]-(this.y_mark2-this.ur.y)*(this.y_max_value[0]-this.y_min_value[0])/(this.ur.y-this.ll.y);this.y_mark2=this.ur.y-(a-e)/(i-e)*(this.ur.y-this.ll.y)}}this.y_max_value[t]=i,this.y_min_value[t]=e}},this.set_xy_noofcurves=function(t){this.curve_cnt=t},this.set_xy_curve_color=function(t,e,i){t>Glow.TREND_MAX_CURVES||t<0||(this.curve_drawtype[t]=e,this.curve_fill_drawtype[t]=i)},this.set_xy_data=function(t,e,i,a){var s,o,r,n,_,l,h,c;if(!(i>Glow.TREND_MAX_CURVES||i<0)){for(this.no_of_points=Math.max(2,this.no_of_points),r=Math.min(this.no_of_points,a),0!==this.fill_curve&&(r+=2),this.curve_width=Math.min(Glow.DRAW_TYPE_SIZE,Math.max(1,this.curve_width)),n=new Array(r),h=i,c=l=0;l<r;l++,c++)_=n[l]=new GlowPointX,0==this.fill_curve?(c=l,this.y_max_value[h]!=this.y_min_value[h]&&(_.y=this.ur.y-(t[c]-this.y_min_value[h])/(this.y_max_value[h]-this.y_min_value[h])*(this.ur.y-this.ll.y)),_.y=Math.max(this.ll.y,Math.min(_.y,this.ur.y)),this.x_max_value[h]!=this.x_min_value[h]&&(_.x=this.ll.x+(e[c]-this.x_min_value[h])/(this.x_max_value[h]-this.x_min_value[h])*(this.ur.x-this.ll.x)),_.x=Math.max(this.ll.x,Math.min(_.x,this.ur.x))):0==l?(this.x_max_value[h]!=this.x_min_value[h]&&(_.x=this.ll.x+(e[c]-this.x_min_value[h])/(this.x_max_value[h]-this.x_min_value[h])*(this.ur.x-this.ll.x)),_.x=Math.max(this.ll.x,Math.min(_.x,this.ur.x)),_.y=this.ur.y,c--):l==r-1?(this.x_max_value[h]!=this.x_min_value[h]&&(_.x=this.ll.x+(e[c-1]-this.x_min_value[h])/(this.x_max_value[h]-this.x_min_value[h])*(this.ur.x-this.ll.x)),_.x=Math.max(this.ll.x,Math.min(_.x,this.ur.x)),_.y=this.ur.y):(this.y_max_value[h]!=this.y_min_value[h]&&(_.y=this.ur.y-(t[c]-this.y_min_value[h])/(this.y_max_value[h]-this.y_min_value[h])*(this.ur.y-this.ll.y)),_.y=Math.max(this.ll.y,Math.min(_.y,this.ur.y)),this.x_max_value[h]!=this.x_min_value[h]&&(_.x=this.ll.x+(e[c]-this.x_min_value[h])/(this.x_max_value[h]-this.x_min_value[h])*(this.ur.x-this.ll.x)),_.x=Math.max(this.ll.x,Math.min(_.x,this.ur.x)));s=this.curve_drawtype[h]!=Glow.eDrawType_Inherit?this.curve_drawtype[h]:this.draw_type,o=this.curve_fill_drawtype[h]!=Glow.eDrawType_Inherit?this.curve_fill_drawtype[h]:this.draw_type,this.ctx.nodraw++,this.curve[h]=new GrowPolyline(w),this.curve[h].init("",n,r,s,this.curve_width,0,this.fill_curve,1,0,o),this.ctx.nodraw--,this.draw()}}}function GrowMenu(t){GrowRect.call(this,t),this.info,this.text_size,this.text_drawtype,this.text_color,this.text_color_disabled,this.item_cnt,this.item_height,this.current_item=-1,this.current_idx=-1,this.new_item=-1,this.old_item=-1,this.parent_menu=null,this.min_width,this.input_focus,this.font,this.hot,this.init=function(t,e,i,a,s,o,r,n,_,l,h,c,w,d,u){this.ll.x=i,this.ll.y=a,this.ur.x=i+10,this.ur.y=a+10,this.draw_type=o,this.line_width=r,this.fill=n,this.border=_,this.shadow=0,this.fill_drawtype=l,this.n_name=t,this.info=e,this.text_size=h,this.text_drawtype=c,this.text_color=w,this.text_color_disabled=d,this.font=u,this.tdraw(null,0,0,null,null)},this.type=function(){return Glow.eObjectType_GrowMenu},this.tdraw=function(t,e,i,a,s){if(0==this.ctx.nodraw){var o,r,n,_,l,h,c=Math.floor(this.trf.vertical_scale(t)*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),w=this.trf.vertical_scale(t)*this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);c=Math.min(c,Glow.DRAW_TYPE_SIZE-1),c=Math.max(0,c),o=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1);var d,u=0,y=0,f=0,p=0;for(d=this.item_cnt=0;d<this.info.item.length;d++)if(this.info.item[d].occupied){var m=this.ctx.gdraw.getTextExtent(this.info.item[d].text,Math.max(0,c),this.font,this.text_drawtype);h=m.width,(u=m.height)/4,y<h&&(y=h),f+=Math.floor(1.6*u),this.info.item[d].type==Glow.eMenuItem_PulldownMenu&&(p=1),this.item_cnt++}if(0!=this.item_cnt){var v=4*u/5;r=Math.floor(this.ll.x*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,n=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,(_=r+y+15+Math.floor(p*v))-r<Math.floor(this.min_width*this.ctx.mw.zoom_factor_x)&&(_=r+Math.floor(this.min_width*this.ctx.mw.zoom_factor_x)),(l=n+Math.floor(f))>this.ctx.getHeight()+this.ctx.mw.subwindow_y?(n=(l=this.ctx.getHeight()+this.ctx.mw.subwindow_y)-Math.floor(f),this.ll.posit(this.ll.x,(n+this.ctx.mw.offset_y)/this.ctx.mw.zoom_factor_x),this.ur.posit(this.ur.x,(l+this.ctx.mw.offset_y)/this.ctx.mw.zoom_factor_y),r=Math.floor(this.ll.x*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,n=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,_=r+y+15+Math.floor(p*v),l=n+Math.floor(f)):this.ur.posit((_+this.ctx.mw.offset_x)/this.ctx.mw.zoom_factor_x,(l+this.ctx.mw.offset_y)/this.ctx.mw.zoom_factor_y),n=Math.floor(this.ll.y*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,this.get_node_borders(),0!==this.fill&&this.ctx.gdraw.fill_rect(r,n,_-r,l-n,this.fill_drawtype),this.item_height=f/this.item_cnt;var g,b,x=r+3,G=0;for(d=0;d<this.info.item.length;d++)if(this.info.item[d].occupied){if(g=n+Math.floor(this.item_height*G+u+1),d==this.current_item&&(b=this.fill_drawtype%10<7?GlowColor.shift_drawtype(this.fill_drawtype,2,null):GlowColor.shift_drawtype(this.fill_drawtype,-2,null),this.ctx.gdraw.fill_rect(r,Math.floor(n+G*this.item_height),_-r,Math.floor(this.item_height),b)),this.info.item[d].type==Glow.eMenuItem_ButtonDisabled?this.ctx.gdraw.text(x,g,this.info.item[d].text,this.text_drawtype,this.text_color_disabled,c,e,0,this.font,w,0):this.ctx.gdraw.text(x,g,this.info.item[d].text,this.text_drawtype,this.text_color,c,e,0,this.font,w,0),this.info.item[d].type==Glow.eMenuItem_PulldownMenu){for(var S=new Array(4),C=0;C<4;C++)S[C]=new GlowPointX;S[0].x=_-v-2,S[0].y=Math.floor(n+G*this.item_height+this.item_height/2-v/2),S[1].x=_-2,S[1].y=Math.floor(n+G*this.item_height+this.item_height/2),S[2].x=_-v-2,S[2].y=Math.floor(n+G*this.item_height+this.item_height/2+v/2),S[3].x=_-v-2,S[3].y=Math.floor(n+G*this.item_height+this.item_height/2-v/2),this.ctx.gdraw.fill_polyline(S,4,Glow.eDrawType_MediumGray,0)}G++}0!=this.border&&this.ctx.gdraw.rect(r,n,_-r,l-n,this.draw_type,o,0)}}},this.local_event_handler=function(t,e,i){var a,s,o,r;if(a=Math.min(this.ll.x,this.ur.x),s=Math.max(this.ll.x,this.ur.x),o=Math.min(this.ll.y,this.ur.y),r=Math.max(this.ll.y,this.ur.y),a<=e&&e<=s&&o<=i&&i<=r){var n,_=this.trf.vertical_scale(null);if((n=Math.floor((i-this.ll.y)/(this.item_height/_/this.ctx.mw.zoom_factor_y)))>this.item_cnt-1&&(n=this.item_cnt-1),n<0&&(n=0),n!=this.current_idx){this.new_item=1,this.old_item=this.current_item,this.current_idx=n;for(var l=0,h=0;l<32;l++)if(this.info.item[l].occupied){if(h==n){this.current_item=l;break}h++}}else this.new_item=0,this.old_item=this.current_item;return 1}return this.new_item=0},this.event_handler=function(t,e,i){var a,s,o=this.trf.reverse(e,i);switch(a=0,t.event){case Glow.eEvent_CursorMotion:var r=0;0!=(a=this.local_event_handler(t,o.x,o.y))&&(r=this.ctx.hot_found=1),0!=a&&0==this.hot&&(r=this.hot=1),0==a&&0!=this.hot&&(0==this.ctx.hot_found&&(this.hot=0),r=1),0!=r&&this.ctx.draw(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x-Glow.DRAW_MP,this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y-Glow.DRAW_MP,this.x_right*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x+Glow.DRAW_MP,this.y_high*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y+Glow.DRAW_MP),this.old_item!=this.current_item&&-1!=this.old_item&&(this.info.item[this.old_item].type,Glow.eMenuItem_PulldownMenu),0!=this.hot&&0!=this.new_item&&(console.log("GrowMenu new item,send MenuCreate"),this.info.item[this.current_item].type==Glow.eMenuItem_PulldownMenu&&this.ctx.send_menu_callback(this,this.current_item,Glow.eEvent_MenuCreate,this.ur.x,this.ll.y+this.item_height/this.ctx.mw.zoom_factor_y*this.current_item));break;case Glow.eEvent_MB1Click:if(0!=(a=this.local_event_handler(t,o.x,o.y))&&-1!=this.current_item&&this.info.item[this.current_item].type==Glow.eMenuItem_Button){if((s=this.ctx.send_menu_callback(this,this.current_item,Glow.eEvent_MenuActivated,e,i))==Glow.GLOW__TERMINATED)return s;var n;for(n=this;null!=n.parent_menu;n=n.parent_menu);return this.ctx.send_menu_callback(n,0,Glow.eEvent_MenuDelete,0,0),Glow.GLOW__NO_PROPAGATE}default:a=this.local_event_handler(t,o.x,o.y)}return 0!=a&&this.ctx.register_callback_object(Glow.eObjectType_Node,this),a}}function GrowScrollBar(t){GrowRect.call(this,t),this.max_value,this.min_value,this.bar_value,this.bar_length,this.user_data=null,this.direction,this.movement_active=0,this.start_pos,this.start_value,this.parent,this.bar_color,this.hot,this.highlight,this.init=function(t,e,i,a,s,o,r,n,_,l,h,c,w){this.ll.x=e,this.ll.y=i,this.ur.x=e+a,this.ur.y=i+s,this.draw_type=r,this.line_width=n,this.fill=1,this.border=1,this.shadow=0,this.fill_drawtype=l,this.n_name=t,this.display_level=_,this.bar_color=h,this.direction=o,this.parent=w,0!=c&&this.draw(null,this.highlight,this.hot,null,null)},this.tdraw=function(t,e,i,a,s){if(0==this.ctx.nodraw){var o,r,n,_,l,h,c,w,d;o=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1);var u=0,y=0,f=0,p=0;l=null===t?(r=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,n=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,_=this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x,Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y):(r=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,n=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,_=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y),h=Math.min(r,_),w=Math.max(r,_),c=Math.min(n,l),d=Math.max(n,l);var m,v=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0),g=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0);if(this.ctx.gdraw.fill_rect(h,c,w-h,d-c,v),0!==this.shadow&&(m=GlowColor.shift_drawtype(this.fill_drawtype,2,null),this.ctx.gdraw.line(h+1,c+1,h+1,d-1,m,0,0),this.ctx.gdraw.line(h+1,c+1,w-1,c+1,m,0,0),m=GlowColor.shift_drawtype(this.fill_drawtype,-2,null),this.ctx.gdraw.line(h+1,d-1,w-1,d-1,m,0,0),this.ctx.gdraw.line(w-1,c+1,w-1,d-1,m,0,0)),this.max_value!=this.min_value){switch(this.direction){case Glow.eDir_Vertical:p=Math.floor(this.bar_length/(this.max_value-this.min_value)*(d-c)),p=Math.max(0,Math.min(p,d-c)),f=w-h,u=h,y=c+Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(d-c));break;case Glow.eDir_Horizontal:f=Math.floor(this.bar_length/(this.max_value-this.min_value)*(w-h)),f=Math.max(0,Math.min(f,w-h)),p=d-c,u=h+Math.floor((this.bar_value-this.min_value)/(this.max_value-this.min_value)*(w-h)),y=c}this.ctx.gdraw.fill_rect(u,y,f,p,this.bar_color),0!==this.shadow&&(m=GlowColor.shift_drawtype(this.bar_color,-2,null),this.ctx.gdraw.line(u+1,y+1,u+1,y+p-1,m,0,0),this.ctx.gdraw.line(u+1,y+1,u+f-1,y+1,m,0,0),m=GlowColor.shift_drawtype(this.bar_color,2,null),this.ctx.gdraw.line(u+1,y+p-1,u+f-1,y+p-1,m,0,0),this.ctx.gdraw.line(u+f-1,y+1,u+f-1,y+p-1,m,0,0)),this.ctx.gdraw.rect(u,y,f,p,g,o,0)}this.ctx.gdraw.rect(h,c,w-h,d-c,g,o,0)}},this.set_value=function(t,e){return console.log("Value",t),this.bar_value=t,0!=e&&(this.bar_length=e),this.bar_value<this.min_value&&(this.bar_value=this.min_value),this.bar_value>this.max_value&&(this.bar_value=this.max_value),this.draw(),this.bar_value},this.event_handler=function(t,e,i){var a,s,o,r;if(a=Math.min(this.ll.x,this.ur.x),s=Math.max(this.ll.x,this.ur.x),o=Math.min(this.ll.y,this.ur.y),r=Math.max(this.ll.y,this.ur.y),0===this.movement_active&&!(a<=e&&e<=s&&o<=i&&i<=r))return 0;if(t.event==Glow.eEvent_ButtonMotion&&0==this.movement_active)return 0;if(this.min_value==this.max_value)return 1;switch(t.event){case Glow.eEvent_MB1Down:switch(this.direction){case Glow.eDir_Vertical:o+(this.bar_value-this.min_value)/(this.max_value-this.min_value)*(r-o)<=i&&i<=o+(this.bar_value-this.min_value+this.bar_length)/(this.max_value-this.min_value)*(r-o)&&(this.start_pos=i,this.start_value=this.bar_value,this.movement_active=1,this.ctx.setSliderActive(!0));break;case Glow.eDir_Horizontal:a+(this.bar_value-this.min_value)/(this.max_value-this.min_value)*(s-a)<=e&&e<=a+(this.bar_value-this.min_value+this.bar_length)/(this.max_value-this.min_value)*(s-a)&&(this.start_pos=e,this.start_value=this.bar_value,this.movement_active=1,this.ctx.setSliderActive(!0))}break;case Glow.eEvent_MB1Up:this.movement_active=0,this.ctx.setSliderActive(!1);break;case Glow.eEvent_ButtonMotion:if(0!=this.movement_active){if(this.bar_length>=this.max_value-this.min_value)break;switch(this.direction){case Glow.eDir_Vertical:this.bar_value=this.start_value+(i-this.start_pos)/(r-o)*(this.max_value-this.min_value),this.bar_value<this.min_value&&(this.bar_value=this.min_value),this.bar_value>this.max_value-this.bar_length&&(this.bar_value=this.max_value-this.bar_length),this.parent.verticalScrollValueChanged(this.bar_value);break;case Glow.eDir_Horizontal:this.bar_value=this.start_value+(e-this.start_pos)/(s-a)*(this.max_value-this.min_value),this.bar_value<this.min_value&&(this.bar_value=this.min_value),this.bar_value>this.max_value-this.bar_length&&(this.bar_value=this.max_value-this.bar_length),this.parent.horizontalScrollValueChanged(this.bar_value)}}}return 1},this.set_range=function(t,e){this.max_value=e,this.min_value=t,this.draw()},this.set_shadow=function(t){this.shadow=t},this.set_position=function(t,e,i,a){this.ll.posit(t,e),this.ur.posit(t+i,e+a)}}function GrowWindow(t){var o=this;GrowRect.call(this,t),this.growrect_open=this.open,this.growrect_event_handler=this.event_handler,this.file_name="",this.input_file_name="",this.scrollbar_width,this.scrollbar_color,this.scrollbar_bg_color,this.vertical_scrollbar,this.horizontal_scrollbar,this.window_scale,this.owner="",this.userdata=null,this.windowCtx=null,this.wctx_x0,this.wctx_x1,this.wctx_y0,this.wctx_y1,this.y_low_offs=0,this.h_value=0,this.v_value=0,this.v_scrollbar=null,this.h_scrollbar=null,this.init=function(t,e,i,a,s,o,r,n,_,l,h){this.n_name=t,this.ll.x=e,this.ll.y=i,this.ur.x=e+a,this.ur.y=i+s,this.draw_type=o,this.line_width=r,this.fill=n,this.border=_,this.shadow=l,this.fill_drawtype=h},this.type=function(){return Glow.eObjectType_GrowWindow},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowWindow : "+t[i]),o){case Glow.eSave_GrowWindow:break;case Glow.eSave_GrowWindow_file_name:1<s.length&&(this.file_name=s[1]);break;case Glow.eSave_GrowWindow_scrollbar_width:this.scrollbar_width=parseFloat(s[1]);break;case Glow.eSave_GrowWindow_scrollbar_color:this.scrollbar_color=parseInt(s[1],10);break;case Glow.eSave_GrowWindow_scrollbar_bg_color:this.scrollbar_bg_color=parseInt(s[1],10);break;case Glow.eSave_GrowWindow_vertical_scrollbar:this.vertical_scrollbar=parseInt(s[1],10);break;case Glow.eSave_GrowWindow_horizontal_scrollbar:this.horizontal_scrollbar=parseInt(s[1],10);break;case Glow.eSave_GrowWindow_window_scale:this.window_scale=parseFloat(s[1]);break;case Glow.eSave_GrowWindow_owner:1<s.length&&(this.owner=s[1]);break;case Glow.eSave_GrowWindow_rect_part:i=this.growrect_open(t,i+1);break;case Glow.eSave_GrowWindow_userdata_cb:if(null!=this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowWindow")}if(a)break}return null!==this.file_name&&""!=this.file_name&&this.new_ctx(),i},this.tdraw=function(t,e,i,a,s){var o,r,n,_,l,h,c,w,d,u;0==this.ctx.nodraw&&(o=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1),u=null==t?(c=this.trf.x(this.ll.x,this.ll.y),w=this.trf.y(this.ll.x,this.ll.y),d=this.trf.x(this.ur.x,this.ur.y),this.trf.y(this.ur.x,this.ur.y)):(c=this.trf.x(t,this.ll.x,this.ll.y),w=this.trf.y(t,this.ll.x,this.ll.y),d=this.trf.x(t,this.ur.x,this.ur.y),this.trf.y(t,this.ur.x,this.ur.y)),c=Math.min(c,d),d=Math.max(c,d),w=Math.min(w,u),u=Math.max(w,u),null!==this.v_scrollbar&&(null===this.h_scrollbar?this.v_scrollbar.set_position(d-this.scrollbar_width,w+this.y_low_offs,this.scrollbar_width,u-(w+this.y_low_offs)):this.v_scrollbar.set_position(d-scrollbar_width,w+this.y_low_offs,this.scrollbar_width,u-(w+this.y_low_offs)-this.scrollbar_width),this.v_scrollbar.tdraw(null,0,0,null,null)),null!==this.h_scrollbar&&(null===this.v_scrollbar?this.h_scrollbar.set_position(c,u-this.scrollbar_width,d-c,this.scrollbar_width):this.h_scrollbar.set_position(c,u-this.scrollbar_width,d-c-this.scrollbar_width,this.scrollbar_width),this.h_scrollbar.tdraw(null,0,0,null,null)),n=Math.floor(c*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,_=Math.floor((w+this.y_low_offs)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,null!=this.windowCtx&&(l=Math.floor((d-this.vertical_scrollbar*this.scrollbar_width)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,h=Math.floor((u-this.horizontal_scrollbar*this.scrollbar_width)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,this.windowCtx.mw.window_width=Math.floor((this.x_right-this.x_left)*this.ctx.mw.zoom_factor_x),this.windowCtx.mw.window_height=Math.floor((this.y_high-this.y_low)*this.ctx.mw.zoom_factor_y),this.windowCtx.mw.subwindow_x=Math.floor(this.x_left*this.ctx.mw.zoom_factor_x-this.ctx.mw.offset_x),this.windowCtx.mw.subwindow_y=Math.floor(this.y_low*this.ctx.mw.zoom_factor_y-this.ctx.mw.offset_y),this.windowCtx.mw.offset_x=-n+Math.floor(this.h_value*this.ctx.mw.zoom_factor_x),this.windowCtx.mw.offset_y=-_+Math.floor(this.v_value*this.ctx.mw.zoom_factor_y),this.windowCtx.mw.zoom_factor_x=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor_x,this.windowCtx.mw.zoom_factor_y=this.windowCtx.mw.subwindow_scale*this.ctx.mw.zoom_factor_y,0!==this.fill&&this.ctx.gdraw.fill_rect(n,_,l-n,h-_,this.fill_drawtype),this.ctx.gdraw.set_clip_rectangle(n,_,l-1,h-1),null!==this.windowCtx.customcolors&&this.ctx.gdraw.push_customcolors(this.windowCtx.customcolors),this.windowCtx.rdraw(n,_,l,h),null!==this.windowCtx.customcolors&&this.ctx.gdraw.pop_customcolors(),this.ctx.gdraw.reset_clip_rectangle()),l=Math.floor(d*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,h=Math.floor(u*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(n,_,l-n,h-_,r,o,0))},this.new_ctx=function(){if("_no_"!=this.file_name&&""!==this.file_name){-1!=(i=this.file_name.indexOf("/"))&&(this.file_name=this.file_name.substring(i+1)),-1==this.file_name.indexOf(".")&&(this.file_name=this.file_name+".pwg");for(var t=this.owner,e=0;e<4;e++){var i;if(-1==(i=t.indexOf("$object")))break;var a=this.ctx.getOwner();t=t.substring(0,i)+a+t.substring(i+7)}this.owner=t,this.windowCtx=this.ctx.appl.loadCtx(this.file_name,this.read_cb),this.windowCtx.appl=this.ctx.appl}},this.read_cb=function(t,e){var i=o.ctx.appl.ctxPop(o.ctx);o.windowCtx.gdraw=o.ctx.gdraw,o.ctx.appl.frame.read_func(o.windowCtx,t,e),o.windowCtx.owner=o.owner,o.windowCtx.mw.subwindow_scale=o.window_scale,o.windowCtx.mw.zoom_factor_x=o.windowCtx.mw.zoom_factor_y=o.windowCtx.mw.subwindow_scale*o.ctx.mw.zoom_factor_x,o.input_file_name=o.file_name,o.windowCtx.background_color!=Glow.eDrawType_Inherit&&(o.fill_drawtype=o.original_fill_drawtype=o.windowCtx.background_color,o.fill=1),o.windowCtx.x0!=o.windowCtx.x1&&o.windowCtx.y0!=o.windowCtx.y1?(o.wctx_x0=o.windowCtx.x0,o.wctx_x1=o.windowCtx.x1,o.wctx_y0=o.windowCtx.y0,o.wctx_y1=o.windowCtx.y1):(o.wctx_x0=o.windowCtx.x_left,o.wctx_x1=o.windowCtx.x_right,o.wctx_y0=o.windowCtx.y_low,o.wctx_y1=o.windowCtx.y_high),o.windowCtx.mw.window_width=Math.floor((o.x_right-o.x_left)*o.ctx.mw.zoom_factor_x),o.windowCtx.mw.window_height=Math.floor((o.y_high-o.y_low)*o.ctx.mw.zoom_factor_y),o.windowCtx.mw.subwindow_x=Math.floor(o.x_left*o.ctx.mw.zoom_factor_x-o.ctx.mw.offset_x),o.windowCtx.mw.subwindow_y=Math.floor(o.y_low*o.ctx.mw.zoom_factor_y-o.ctx.mw.offset_y),o.windowCtx.mw.subwindow_scale=o.ctx.mw.subwindow_scale*o.window_scale,o.windowCtx.mw.zoom_factor_x=o.windowCtx.mw.zoom_factor_y=o.ctx.mw.zoom_factor_x*o.windowCtx.mw.subwindow_scale,o.configureScrollbars(),null!==o.windowCtx.customcolors&&o.ctx.gdraw.pop_customcolors(),o.windowCtx.traceConnect(),o.draw(),i&&o.ctx.appl.ctxPush()},this.event_handler=function(t,e,i){var a,s,o;if(s=o=0,null!=this.v_scrollbar&&(s=this.v_scrollbar.event_handler(t,e,i)),null!=this.h_scrollbar&&(o=h_scrollbar.event_handler(t,e,i)),0!=s||0!=o)return 1;if(a=this.growrect_event_handler(t,e,i),this.ctx.callback_object==this&&(this.ctx.callback_object=null,thix.ctx.callback_object_type=Glow.eObjectType_NoObject),null!==this.windowCtx&&0!==a){var r=Math.floor((this.x_right-this.vertical_scrollbar*this.scrollbar_width)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,n=Math.floor(this.x_left*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,_=Math.floor((this.y_high-this.horizontal_scrollbar*this.scrollbar_width)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,l=Math.floor((this.y_low+this.y_low_offs)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y;this.ctx.gdraw.set_clip_rectangle(n,l,r,_);var h=new GlowEvent;if(h.event=t.event,h.type=t.type,h.x=(t.x-this.x_left)/this.windowCtx.mw.subwindow_scale+this.h_value/this.windowCtx.mw.subwindow_scale,h.y=(t.y-this.y_low)/this.windowCtx.mw.subwindow_scale+this.v_value/this.windowCtx.mw.subwindow_scale,h.object=t.object,h.object_type=t.object_type,(a=this.windowCtx.event_handler(h,e,i))==Glow.GLOW__TERMINATED)return a;this.ctx.gdraw.reset_clip_rectangle()}return a},this.configureScrollbars=function(){var t,e,i,a;0!==this.vertical_scrollbar&&null===this.v_scrollbar?(t=this.x_right-this.scrollbar_width,e=this.y_low+this.y_low_offs,i=this.scrollbar_width,a=0!==this.horizontal_scrollbar?this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width:this.y_high-(this.y_low+this.y_low_offs),this.v_scrollbar=new GrowScrollBar(this.ctx),this.v_scrollbar.init("vScrollbar",t,e,i,a,Glow.eDir_Vertical,Glow.eDrawType_Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,1,this),null!==this.windowCtx&&(this.v_scrollbar.set_range(this.wctx_y0*this.windowCtx.mw.subwindow_scale,this.wctx_y1*this.window_scale),this.v_scrollbar.set_value(this.wctx_y0*this.windowCtx.mw.subwindow_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*this.horizontal_scrollbar),this.v_value=this.wctx_y0*this.windowCtx.mw.subwindow_scale),this.v_scrollbar.set_shadow(this.shadow)):null!==this.v_scrollbar?null!==this.windowCtx&&(this.v_scrollbar.set_range(this.wctx_y0*this.windowCtx.mw.subwindow_scale,this.wctx_y1*this.window_scale),this.v_scrollbar.set_value(this.wctx_y0*this.windowCtx.mw.subwindow_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*this.horizontal_scrollbar),this.v_value=this.wctx_y0*this.windowCtx.mw.subwindow_scale):this.v_value=this.wctx_y0*this.windowCtx.mw.subwindow_scale,0!==this.horizontal_scrollbar&&null===this.h_scrollbar?(t=this.x_left,e=this.y_high-this.scrollbar_width,a=this.scrollbar_width,i=0!==this.vertical_scrollbar?this.x_right-this.x_left-this.scrollbar_width:this.x_right-this.x_left,this.h_scrollbar=new GrowScrollBar(this.ctx),this.h_scrollbar.init("vScrollbar",t,e,i,a,Glow.eDir_Horizontal,Glow.eDrawType_Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,1,this),null!==this.windowCtx&&(this.h_scrollbar.set_range(this.wctx_x0*this.windowCtx.mw.subwindow_scale,this.wctx_x1*this.windowCtx.mw.subwindow_scale),this.h_scrollbar.set_value(this.wctx_x0*this.windowCtx.mw.subwindow_scale,this.x_right-this.x_left-this.scrollbar_width*this.vertical_scrollbar),this.h_value=this.wctx_x0*this.windowCtx.mw.subwindow_scale),this.h_scrollbar.set_shadow(this.shadow)):null!==this.h_scrollbar?null!==this.windowCtx&&(this.h_scrollbar.set_range(this.wctx_x0*this.windowCtx.mw.subwindow_scale,this.wctx_x1*this.windowCtx.mw.subwindow_scale),this.h_scrollbar.set_value(this.wctx_x0*this.windowCtx.mw.subwindow_scale,this.x_right-this.x_left-this.scrollbar_width*this.vertical_scrollbar),this.h_value=this.wctx_x0*this.windowCtx.mw.subwindow_scale):this.h_value=this.wctx_x0*this.windowCtx.mw.subwindow_scale},this.verticalScrollValueChanged=function(t){this.v_value!=t&&(this.v_value=t,this.draw())},this.horizontalScrollValueChanged=function(t){this.h_value!=t&&(this.h_value=t,this.draw())},this.update_attributes=function(){var t=this.ctx.appl.ctxPop(o.ctx);if(null===this.owner&&(this.owner=""),this.input_file_name!=this.file_name||null==this.windowCtx||this.windowCtx.owner!=this.owner){var e=Math.floor(this.x_right*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,i=Math.floor(this.x_left*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,a=Math.floor(this.y_high*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,s=Math.floor(this.y_low*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y;this.ctx.gdraw.set_clip_rectangle(i,s,e-1,a-1),null!==this.windowCtx&&(this.windowCtx.traceStarted()&&this.windowCtx.traceDisconnect(),this.fill_drawtype=this.original_fill_drawtype=Glow.eDrawType_Inherit,this.fill=0),this.file_name=this.input_file_name,this.new_ctx(),this.ctx.gdraw.reset_clip_rectangle()}t&&this.ctx.appl.ctxPush()},this.traceConnect=function(){null!==this.windowCtx&&this.windowCtx.traceConnect()},this.traceDisconnect=function(){null!==this.windowCtx&&this.windowCtx.traceDisconnect()},this.traceScan=function(){null!==this.windowCtx&&this.windowCtx.traceScan()},this.setSource=function(t,e){this.input_file_name=t,this.owner=e,this.update_attributes()},this.get_background_object_limits=function(t,e,i,a,s){console.log("GrowWindow.get_background_object_limits");for(var o=0,r=0;r<this.windowCtx.a.size()&&(console.log("background_object_limits",this.windowCtx.a.get(r).type()),0==(1&(o=this.windowCtx.a.get(r).get_background_object_limits(null,e,i,a,s))));r++);return o}}function GrowFolder(t){GrowWindow.call(this,t),this.growwindow_open=this.open,this.growwindow_tdraw=this.tdraw,this.growwindow_event_handler=this.event_handler,this.MAX_FOLDERS=12,this.folders,this.text_size,this.text_drawtype,this.text_color_drawtype,this.header_height,this.folder_file_names=new Array(this.MAX_FOLDERS),this.folder_text=new Array(this.MAX_FOLDERS),this.folder_scale=new Array(this.MAX_FOLDERS),this.folder_v_scrollbar=new Array(this.MAX_FOLDERS),this.folder_h_scrollbar=new Array(this.MAX_FOLDERS),this.folder_owner=new Array(this.MAX_FOLDERS),this.current_folder=0,this.color_selected,this.color_unselected;for(var e=0;e<this.MAX_FOLDERS;e++)this.folder_text[e]=null;this.type=function(){return Glow.eObjectType_GrowFolder},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowFolder : "+t[i]),o){case Glow.eSave_GrowFolder:break;case Glow.eSave_GrowFolder_folders:this.folders=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_text_drawtype:this.text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_text_color_drawtype:this.text_color_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_header_height:this.header_height=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_color_selected:this.color_selected=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_color_unselected:this.color_unselected=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names1:1<s.length&&(this.folder_file_names[0]=s[1]);break;case Glow.eSave_GrowFolder_folder_text1:1<s.length&&(this.folder_text[0]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale1:this.folder_scale[0]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar1:this.folder_v_scrollbar[0]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar1:this.folder_h_scrollbar[0]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names2:1<s.length&&(this.folder_file_names[1]=s[1]);break;case Glow.eSave_GrowFolder_folder_text2:1<s.length&&(this.folder_text[1]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale2:this.folder_scale[1]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar2:this.folder_v_scrollbar[1]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar2:this.folder_h_scrollbar[1]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names3:1<s.length&&(this.folder_file_names[2]=s[1]);break;case Glow.eSave_GrowFolder_folder_text3:1<s.length&&(this.folder_text[2]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale3:this.folder_scale[2]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar3:this.folder_v_scrollbar[2]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar3:this.folder_h_scrollbar[2]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names4:1<s.length&&(this.folder_file_names[3]=s[1]);break;case Glow.eSave_GrowFolder_folder_text4:1<s.length&&(this.folder_text[3]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale4:this.folder_scale[3]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar4:this.folder_v_scrollbar[3]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar4:this.folder_h_scrollbar[3]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names5:1<s.length&&(this.folder_file_names[4]=s[1]);break;case Glow.eSave_GrowFolder_folder_text5:1<s.length&&(this.folder_text[4]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale5:this.folder_scale[4]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar5:this.folder_v_scrollbar[4]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar5:this.folder_h_scrollbar[4]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names6:1<s.length&&(this.folder_file_names[5]=s[1]);break;case Glow.eSave_GrowFolder_folder_text6:1<s.length&&(this.folder_text[5]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale6:this.folder_scale[5]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar6:this.folder_v_scrollbar[5]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar6:this.folder_h_scrollbar[5]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names7:1<s.length&&(this.folder_file_names[6]=s[1]);break;case Glow.eSave_GrowFolder_folder_text7:1<s.length&&(this.folder_text[6]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale7:this.folder_scale[6]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar7:this.folder_v_scrollbar[6]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar7:this.folder_h_scrollbar[6]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names8:1<s.length&&(this.folder_file_names[7]=s[1]);break;case Glow.eSave_GrowFolder_folder_text8:1<s.length&&(this.folder_text[7]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale8:this.folder_scale[7]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar8:this.folder_v_scrollbar[7]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar8:this.folder_h_scrollbar[7]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names9:1<s.length&&(this.folder_file_names[8]=s[1]);break;case Glow.eSave_GrowFolder_folder_text9:1<s.length&&(this.folder_text[8]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale9:this.folder_scale[8]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar9:this.folder_v_scrollbar[8]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar9:this.folder_h_scrollbar[8]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names10:1<s.length&&(this.folder_file_names[9]=s[1]);break;case Glow.eSave_GrowFolder_folder_text10:1<s.length&&(this.folder_text[9]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale10:this.folder_scale[9]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar10:this.folder_v_scrollbar[9]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar10:this.folder_h_scrollbar[9]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names11:1<s.length&&(this.folder_file_names[10]=s[1]);break;case Glow.eSave_GrowFolder_folder_text11:1<s.length&&(this.folder_text[10]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale11:this.folder_scale[10]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar11:this.folder_v_scrollbar[10]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar11:this.folder_h_scrollbar[10]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_file_names12:1<s.length&&(this.folder_file_names[11]=s[1]);break;case Glow.eSave_GrowFolder_folder_text12:1<s.length&&(this.folder_text[11]=s[1]);break;case Glow.eSave_GrowFolder_folder_scale12:this.folder_scale[11]=parseFloat(s[1]);break;case Glow.eSave_GrowFolder_folder_v_scrollbar12:this.folder_v_scrollbar[11]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_h_scrollbar12:this.folder_h_scrollbar[11]=parseInt(s[1],10);break;case Glow.eSave_GrowFolder_folder_owner1:1<s.length&&(this.folder_owner[0]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner2:1<s.length&&(this.folder_owner[1]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner3:1<s.length&&(this.folder_owner[2]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner4:1<s.length&&(this.folder_owner[3]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner5:1<s.length&&(this.folder_owner[4]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner6:1<s.length&&(this.folder_owner[5]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner7:1<s.length&&(this.folder_owner[6]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner8:1<s.length&&(this.folder_owner[7]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner9:1<s.length&&(this.folder_owner[8]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner10:1<s.length&&(this.folder_owner[9]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner11:1<s.length&&(this.folder_owner[10]=s[1]);break;case Glow.eSave_GrowFolder_folder_owner12:1<s.length&&(this.folder_owner[11]=s[1]);break;case Glow.eSave_GrowFolder_window_part:i=this.growwindow_open(t,i+1);break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowFolder")}if(a)break}return this.y_low_offs=this.header_height,this.input_file_name=this.folder_file_names[0],this.window_scale=this.folder_scale[0],this.vertical_scrollbar=this.folder_v_scrollbar[0],this.horizontal_scrollbar=this.folder_h_scrollbar[0],this.owner=this.folder_owner[0],this.update_attributes(),i},this.tdraw=function(t,e,i,a,s){if(0==this.ctx.nodraw){var o,r;o=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1);var n,_,l,h,c,w,d,u,y=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),f=this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);y=Math.min(y,Glow.DRAW_TYPE_SIZE-1),u=null==t?(c=this.trf.x(this.ll.x,this.ll.y),w=this.trf.y(this.ll.x,this.ll.y),d=this.trf.x(this.ur.x,this.ur.y),this.trf.y(this.ur.x,this.ur.y)):(c=this.trf.x(t,this.ll.x,this.ll.y),w=this.trf.y(t,this.ll.x,this.ll.y),d=this.trf.x(t,this.ur.x,this.ur.y),this.trf.y(t,this.ur.x,this.ur.y)),c=Math.min(c,d),d=Math.max(c,d),w=Math.min(w,u),u=Math.max(w,u),n=Math.floor(c*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,l=Math.floor(d*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,h=Math.floor((w+this.y_low_offs)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,_=Math.floor(w*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0);for(var p,m=GlowColor.shift_drawtype(this.color_unselected,-2,s),v=GlowColor.shift_drawtype(this.color_unselected,2,s),g=(l-n)/this.folders,b=h-_,x=new Array(4),G=0;G<4;G++)x[G]=new GlowPointX;for(var S=this.folders-1;-1<=S;S--)if(S!=this.current_folder){if(-1==S&&(S=this.current_folder),p=n+S*g,x[0].x=0==S?n:p-b/4,x[0].y=_+b,x[1].x=p+b/4,x[1].y=_,x[2].x=p+g-b/4,x[2].y=_,S==this.folders-1?x[3].x=l:x[3].x=p+g+b/4,x[3].y=_+b,S==this.current_folder)this.ctx.gdraw.fill_polyline(x,4,this.color_selected,0);else if(this.ctx.gdraw.fill_polyline(x,4,this.color_unselected,0),0!==this.shadow&&(this.ctx.gdraw.line(x[0].x+1,x[0].y,x[1].x+1,x[1].y,m,0,0),0!=S)){var C=new Array(4);for(G=0;G<4;G++)C[G]=new GlowPointX;C[0].x=p+b/4,C[0].y=_+b,C[1].x=p,C[1].y=_+b/2,C[2].x=p+b/8,C[2].y=_+b/4,C[3].x=p+b/2,C[3].y=_+b,this.ctx.gdraw.fill_polyline(C,4,v,0)}if(0!=this.shadow&&(S==this.current_folder&&(m=GlowColor.shift_drawtype(this.color_selected,-2,s),this.ctx.gdraw.line(x[0].x+1,x[0].y,x[1].x+1,x[1].y,m,0,0)),this.ctx.gdraw.line(x[1].x,x[1].y+1,x[2].x,x[2].y+1,m,0,0)),this.ctx.gdraw.polyline(x,4,r,o,0),0<=y&&null!==this.folder_text[S]&&this.ctx.gdraw.text(p+b/2,_+b-2,this.folder_text[S],this.text_drawtype,this.text_color_drawtype,y,e,0,Glow.eFont_Helvetica,f,0),S==this.current_folder)break}this.growwindow_tdraw(t,e,i,a,s),this.ctx.gdraw.line(x[0].x+1,x[0].y,x[3].x-1,x[3].y,this.color_selected,o,0)}},this.event_handler=function(t,e,i){if(t.event==Glow.eEvent_MB1Click&&this.x_left<=e&&e<=this.x_right&&this.y_low<=i&&i<=this.y_low+this.header_height){for(var a=(this.x_right-this.x_left)/this.folders,s=this.x_left+a,o=0;o<this.folders;o++){if(e<=s){this.input_file_name=this.folder_file_names[o],this.window_scale=this.folder_scale[o],this.vertical_scrollbar=this.folder_v_scrollbar[o],this.horizontal_scrollbar=this.folder_h_scrollbar[o],this.owner=this.folder_owner[o],this.current_folder=o,this.update_attributes(),this.draw();break}s+=a}return 1}var r=new GlowEvent;return r.event=t.event,r.type=t.type,r.x=t.x,r.y=t.y-this.header_height,r.object=t.object,r.object_type=t.object_type,this.growwindow_event_handler(r,e,i)}}function Range(t,e,i,a,s){this.lines=t,this.longq=e,this.vvalq=i,this.hvalq=a,this.format=s}GlowNodeGroup.prototype=Object.create(GlowNodeClass.prototype),GrowGroup.prototype=Object.create(GrowNode.prototype),GrowSlider.prototype=Object.create(GrowNode.prototype),GrowToolbar.prototype=Object.create(GrowNode.prototype),GrowConGlue.prototype=Object.create(GrowNode.prototype),GrowBar.prototype=Object.create(GrowRect.prototype),GrowBarArc.prototype=Object.create(GrowArc.prototype),GrowTrend.prototype=Object.create(GrowRect.prototype),GrowXYCurve.prototype=Object.create(GrowTrend.prototype),GrowMenu.prototype=Object.create(GrowRect.prototype),GrowScrollBar.prototype=Object.create(GrowRect.prototype),GrowWindow.prototype=Object.create(GrowRect.prototype),GrowFolder.prototype=Object.create(GrowWindow.prototype);var RangeData=[[new Range(26,5,5,10,"%3.1f"),new Range(21,5,5,10,"%3.1f"),new Range(31,5,10,10,"%3.1f"),new Range(41,5,10,20,"%3.1f"),new Range(26,5,5,10,"%1.0f"),new Range(31,5,10,10,"%1.0f"),new Range(36,5,10,10,"%1.0f"),new Range(17,2,4,4,"%1.0f"),new Range(19,2,4,4,"%1.0f"),new Range(21,2,4,8,"%2.0f"),new Range(23,2,4,8,"%2.0f"),new Range(13,4,4,4,"%2.0f"),new Range(14,4,4,4,"%2.0f"),new Range(15,4,4,4,"%2.0f"),new Range(16,5,5,5,"%2.0f"),new Range(17,5,5,5,"%2.0f"),new Range(18,5,5,5,"%2.0f"),new Range(19,5,5,5,"%2.0f"),new Range(20,5,5,5,"%2.0f"),new Range(21,5,5,5,"%2.0f"),new Range(22,5,5,5,"%2.0f"),new Range(23,5,5,5,"%2.0f"),new Range(24,5,5,5,"%2.0f"),new Range(25,5,5,5,"%2.0f"),new Range(26,5,5,10,"%2.0f")],[new Range(101,5,10,20,"%3.1f"),new Range(101,5,10,20,"%3.1f"),new Range(61,10,10,20,"%3.1f"),new Range(81,10,10,20,"%3.1f"),new Range(101,10,20,20,"%1.0f"),new Range(61,5,10,20,"%1.0f"),new Range(71,5,10,20,"%1.0f"),new Range(81,5,10,20,"%1.0f"),new Range(91,5,10,20,"%1.0f"),new Range(101,5,10,20,"%2.0f"),new Range(56,5,5,5,"%2.0f"),new Range(61,5,10,10,"%2.0f"),new Range(66,5,10,20,"%2.0f"),new Range(71,5,10,20,"%2.0f"),new Range(76,5,10,20,"%2.0f"),new Range(81,5,10,20,"%2.0f"),new Range(86,5,10,20,"%2.0f"),new Range(91,5,10,20,"%2.0f"),new Range(96,5,10,20,"%2.0f"),new Range(101,5,10,25,"%2.0f"),new Range(43,2,6,6,"%2.0f"),new Range(45,2,4,8,"%2.0f"),new Range(47,2,4,8,"%2.0f"),new Range(49,2,4,8,"%2.0f"),new Range(26,5,5,5,"%2.0f")]];function GrowAxis(t){GrowRect.call(this,t),this.growrect_open=this.open,this.text_size,this.text_drawtype,this.text_color_drawtype,this.max_value,this.min_value,this.lines,this.linelength,this.longquotient,this.valuequotient,this.increment,this.format=null,this.userdata=null,this.cFormat=null,this.sb,this.type=function(){return Glow.eObjectType_GrowAxis},this.configure=function(){this.lines<=1&&(this.lines=2),this.longquotient<=0&&(this.longquotient=1),this.valuequotient<=0&&(this.valuequotient=1),this.increment=(this.max_value-this.min_value)/(this.lines-1)},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowAxis : "+t[i]),o){case Glow.eSave_GrowAxis:break;case Glow.eSave_GrowAxis_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_GrowAxis_text_drawtype:this.text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowAxis_text_color_drawtype:this.text_color_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowAxis_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowAxis_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowAxis_lines:this.lines=parseInt(s[1],10);break;case Glow.eSave_GrowAxis_longquotient:this.longquotient=parseInt(s[1],10);break;case Glow.eSave_GrowAxis_valuequotient:this.valuequotient=parseInt(s[1],10);break;case Glow.eSave_GrowAxis_format:1<s.length&&(this.format=s[1]);break;case Glow.eSave_GrowAxis_rect_part:i=this.growrect_open(t,i+1);break;case Glow.eSave_GrowAxis_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowAxis")}if(a)break}return this.configure(),null!==this.format&&(this.cFormat=new GlowCFormat(this.format)),i},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y,f,p,m,v,g,b,x,G,S=Math.abs(this.increment)>Number.MIN_VALUE,C=0,D=0,T=0,k=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),M=this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);if(k=Math.min(k,Glow.DRAW_TYPE_SIZE-1),(null===a||0===a.invisible)&&0===this.invisible)if(r=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),u=null===t?(f=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,p=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,m=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,v=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360))):(f=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,p=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,m=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,v=Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,360*(this.trf.rot(t)/360-Math.floor(this.trf.rot(t)/360))),g=Math.min(f,m),x=Math.max(f,m),b=Math.min(p,v),G=Math.max(p,v),y=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),u<=45||315<u){if(this.ctx.gdraw.line(x,b,x,G,y,r,0),S){for(o=0;o<this.lines;o++)if(o%this.valuequotient==0){l=this.format_text(this.format,this.max_value-o*this.increment);var I=this.ctx.gdraw.getTextExtent(l,Math.max(0,k),Glow.eFont_Helvetica,this.text_drawtype);d=I.width,D=(C=I.height)/4,T<d&&(T=d)}c=g+T,(h=x-g-T)<3&&(h=3)}else h=x-(c=g);for(o=0;o<this.lines;o++)_=Math.floor(b+(G-b)/(this.lines-1)*o),o%this.longquotient==0?this.ctx.gdraw.line(x-h,_,x,_,y,r,0):this.ctx.gdraw.line(x-Math.floor(2/3*h),_,x,_,y,r,0),S&&(l=this.format_text(this.format,this.max_value-o*this.increment),0<=k&&T<x-g&&o%this.valuequotient==0&&(w=o==this.lines-1?_:0===o?_+C-D-3:_+(C-D)/2,this.ctx.gdraw.text(g,w,l,this.text_drawtype,this.text_color_drawtype,k,e,0,Glow.eFont_Helvetica,M,0)))}else if(45<u&&u<=135){if(this.ctx.gdraw.line(g,G,x,G,y,r,0),S){var A=this.ctx.gdraw.getTextExtent("0",Math.max(0,k),Glow.eFont_Helvetica,this.text_drawtype);d=A.width,D=(C=A.height)/4,(h=G-b-C)<3&&(h=3)}else h=G-b;for(o=0;o<this.lines;o++)if(n=Math.floor(g+(x-g)/(this.lines-1)*(this.lines-1-o)),o%this.longquotient==0?this.ctx.gdraw.line(n,G-h,n,G,y,r,0):this.ctx.gdraw.line(n,G-Math.floor(2/3*h),n,G,y,r,0),S&&o%this.valuequotient==0){l=this.format_text(this.format,this.max_value-o*this.increment);var P=this.ctx.gdraw.getTextExtent(l,Math.max(0,k),Glow.eFont_Helvetica,this.text_drawtype);d=P.width,D=(C=P.height)/4,0<=k&&C<G-b&&(c=o==this.lines-1?n:0===o?n-d:n-d/2,this.ctx.gdraw.text(c,b+C-D,l,this.text_drawtype,this.text_color_drawtype,k,e,0,Glow.eFont_Helvetica,M,0))}}else if(135<u&&u<=225){if(this.ctx.gdraw.line(g,b,g,G,y,r,0),S){for(o=0;o<this.lines;o++)if(o%this.valuequotient==0){l=this.format_text(this.format,this.max_value-o*this.increment);var R=this.ctx.gdraw.getTextExtent(l,Math.max(0,k),Glow.eFont_Helvetica,this.text_drawtype);d=R.width,D=(C=R.height)/4,T<d&&(T=d)}c=x-T,(h=x-g-T)<3&&(h=3)}else h=(c=x)-g;for(o=0;o<this.lines;o++)_=Math.floor(b+(G-b)/(this.lines-1)*(this.lines-1-o)),o%this.longquotient==0?this.ctx.gdraw.line(g,_,g+h,_,y,r,0):this.ctx.gdraw.line(g,_,g+Math.floor(2/3*h),_,y,r,0),l=this.format_text(this.format,this.max_value-o*this.increment),S&&0<=k&&T<x-g&&o%this.valuequotient==0&&(w=o==this.lines-1?_+C-D-3:0===o?_:_+(C-D)/2,this.ctx.gdraw.text(c,w,l,this.text_drawtype,this.text_color_drawtype,k,e,0,Glow.eFont_Helvetica,M,0))}else{if(this.ctx.gdraw.line(g,b,x,b,y,r,0),S){var O=this.ctx.gdraw.getTextExtent("0",Math.max(0,k),Glow.eFont_Helvetica,this.text_drawtype);d=O.width,(h=G-b-((C=O.height)-(D=C/4)))<3&&(h=3)}else h=G-b;for(o=0;o<this.lines;o++)if(n=Math.floor(g+(x-g)/(this.lines-1)*o),o%this.longquotient==0?this.ctx.gdraw.line(n,b,n,b+h,y,r,0):this.ctx.gdraw.line(n,b,n,b+Math.floor(2/3*h),y,r,0),S&&o%this.valuequotient==0){l=this.format_text(this.format,this.max_value-o*this.increment);var E=this.ctx.gdraw.getTextExtent(l,Math.max(0,k),Glow.eFont_Helvetica,this.text_drawtype);d=E.width,D=(C=E.height)/4,0<=k&&C-D<G-b&&(c=o==this.lines-1?n-d:0===o?n:n-d/2,this.ctx.gdraw.text(c,G,l,this.text_drawtype,this.text_color_drawtype,k,e,0,Glow.eFont_Helvetica,M,0))}}}},this.format_text=function(t,e){Math.abs(e)<Number.MIN_VALUE&&(e=0);var i=this.cFormat.format(e,i);return i},this.getUserData=function(){return userdata},this.set_range=function(t,e,i){this.max_value=e,this.min_value=t;var a=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,s=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,o=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,r=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,n=360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360));if(0===i){var _,l;_=(0!=(n<45||135<n&&n<225||315<n?0:1)?Math.abs(o-a):Math.abs(r-s))<150?0:1;var h=Math.abs(e-t);for(h<5&&(h*=1e3),l=Math.floor(h+.5);25<=l;)l=Math.floor(l/10+.5);0<l&&l<=25&&(this.lines=RangeData[_][l-1].lines,this.longquotient=RangeData[_][l-1].longq,0!==this.horizontal?this.valuequotient=RangeData[_][l-1].hvalq:this.valuequotient=RangeData[_][l-1].vvalq);var c=Math.max(Math.abs(e),Math.abs(t));switch(_){case 0:this.format=c<.01?"%g":c<.1?"%5.3f":c<1?"%4.2f":c<3?"%3.1f":c<=20?"%2.0f":c<=200?"%3.0f":c<2e3?"%4.0f":c<2e4?"%5.0f":"%g";break;case 1:this.format=c<.01?"%g":c<.1?"%5.3f":c<1?"%4.2f":c<=4?"%3.1f":c<=20?"%2.0f":c<=200?"%3.0f":c<2e3?"%4.0f":c<2e4?"%5.0f":"%g"}}this.configure(),this.draw()},this.setVisibility=function(t){switch(t){case Glow.eVis_Visible:this.invisible=0;break;case Glow.eVis_Invisible:this.invisible=1,this.draw();break;case Glow.eVis_Dimmed:}},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return 0},this.getClassUserData=function(){return null},this.getUserData=function(){return this.userdata},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowAxisArc(t){GrowArc.call(this,t),this.growarc_open=this.open,this.text_size,this.text_drawtype,this.text_color_drawtype,this.max_value,this.min_value,this.lines,this.linelength,this.longquotient,this.valuequotient,this.increment,this.format=null,this.userdata=null,this.cFormat=null,this.sb=null,this.type=function(){return Glow.eObjectType_GrowAxisArc},this.configure=function(){this.lines<=1&&(this.lines=2),this.longquotient<=0&&(this.longquotient=1),this.valuequotient<=0&&(this.valuequotient=1),this.increment=(this.max_value-this.min_value)/(this.lines-1)},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowAxisArc : "+t[i]),o){case Glow.eSave_GrowAxisArc:break;case Glow.eSave_GrowAxisArc_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_GrowAxisArc_text_drawtype:this.text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowAxisArc_text_color_drawtype:this.text_color_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowAxisArc_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowAxisArc_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowAxisArc_lines:this.lines=parseInt(s[1],10);break;case Glow.eSave_GrowAxisArc_linelength:this.linelength=parseFloat(s[1]);break;case Glow.eSave_GrowAxisArc_longquotient:this.longquotient=parseInt(s[1],10);break;case Glow.eSave_GrowAxisArc_valuequotient:this.valuequotient=parseInt(s[1],10);break;case Glow.eSave_GrowAxisArc_format:1<s.length&&(this.format=s[1]);break;case Glow.eSave_GrowAxisArc_arc_part:i=this.growarc_open(t,i+1);break;case Glow.eSave_GrowAxisArc_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowAxisArc")}if(a)break}return this.configure(),null!==this.format&&(this.cFormat=new GlowCFormat(this.format)),i},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y,f,p,m,v,g,b=Math.abs(this.increment)>Number.MIN_VALUE,x=0,G=0,S=0,C=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),D=this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);if(C=Math.min(C,Glow.DRAW_TYPE_SIZE-1),r=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),l=null===t?(c=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,w=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,d=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,u=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360))):(c=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,w=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,d=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,u=Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,360*(this.trf.rot(t)/360-Math.floor(this.trf.rot(t)/360))),y=Math.min(c,d),p=Math.max(c,d),f=Math.min(w,u),m=Math.max(w,u),h=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.arc(y,f,p-y,m-f,this.angle1-l,this.angle2,h,r,0),1!=this.lines){n=0<this.increment?this.format_text(this.format,this.min_value+(this.lines-2)*this.increment):this.format_text(this.format,this.min_value+this.increment);var T=this.ctx.gdraw.getTextExtent(n,Math.max(0,C),Glow.eFont_Helvetica,this.text_drawtype);_=T.width,G=(x=T.height)/4,S<_&&(S=_);var k=this.angle2/(this.lines-1);for(o=0;o<this.lines;o++){var M=Math.sin((this.angle1+o*k)/180*Math.PI),I=Math.cos((this.angle1+o*k)/180*Math.PI);w=Math.floor((m-f)/2*(1-M)+f),c=Math.floor((p-y)/2*(I+1)+y),d=o%this.longquotient==0?(u=Math.floor((m-f)/2*(-M*(1-this.linelength)+1)+f),Math.floor((p-y)/2*(I*(1-this.linelength)+1)+y)):(u=Math.floor((m-f)/2*(-M*(1-this.linelength/2)+1)+f),Math.floor((p-y)/2*(I*(1-this.linelength/2)+1)+y)),g=Math.floor((m-f)/2*(-M*(1-this.linelength)+1)+f+M*(x-G)/2),v=Math.floor((p-y)/2*(I*(1-this.linelength)+1)+y-I*_/2),this.ctx.gdraw.line(c,w,d,u,h,r,0),b&&0<=C&&o%this.valuequotient==0&&(360!=this.angle2||!(0<this.increment&&o==this.lines-1||this.increment<0&&0===o))&&(n=this.format_text(this.format,this.min_value+o*this.increment),_=(T=this.ctx.gdraw.getTextExtent(n,Math.max(0,C),Glow.eFont_Helvetica,this.text_drawtype)).width,G=(x=T.height)/4,S<_&&(S=_),o==this.lines-1&&0===this.angle1&&180==this.angle2||0===o&&0===this.angle1&&360!=this.angle2||(g+=(x-G)/2),v-=_/2,this.ctx.gdraw.text(v,g,n,this.text_drawtype,this.text_color_drawtype,C,e,0,Glow.eFont_Helvetica,D,0))}}}},this.format_text=function(t,e){Math.abs(e)<Number.MIN_VALUE&&(e=0);var i=this.cFormat.format(e,i);return i},this.getUserData=function(){return userdata},this.set_range=function(t,e,i){this.max_value=e,this.min_value=t;var a=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,s=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,o=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,r=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,n=360*(this.trf.rot()/360-Math.floor(this.trf.rot()/360));if(0===i){var _,l,h=n<45||135<n&&n<225||315<n?0:1;_=(0!=h?Math.abs(o-a):Math.abs(r-s))<150?0:1;var c=Math.abs(e-t);for(c<5&&(c*=1e3),l=Math.floor(c+.5);25<=l;)l/=10;0<l&&l<=25&&(this.lines=RangeData[_][l-1].lines,this.longquotient=RangeData[_][l-1].longq,this.valuequotient=0!=h?RangeData[_][l-1].hvalq:RangeData[_][l-1].vvalq);var w=Math.max(Math.abs(e),Math.abs(t));switch(_){case 0:this.format=w<.01?"%g":w<.1?"%5.3f":w<1?"%4.2f":w<3?"%3.1f":w<=20?"%2.0f":w<=200?"%3.0f":w<2e3?"%4.0f":w<2e4?"%5.0f":"%g";break;case 1:this.format=w<.01?"%g":w<.1?"%5.3f":w<1?"%4.2f":w<=4?"%3.1f":w<=20?"%2.0f":w<=200?"%3.0f":w<2e3?"%4.0f":w<2e4?"%5.0f":"%g"}}this.configure(),this.draw()},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return 0},this.getClassUserData=function(){return null},this.getUserData=function(){return this.userdata},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowPie(t){GrowArc.call(this,t),this.growarc_open=this.open,this.PIE_MAX_SECTORS=12,this.sectors,this.min_value,this.max_value,this.sector_color=new Array(this.PIE_MAX_SECTORS),this.sector_size=new Array(this.PIE_MAX_SECTORS),this.userdata=null,this.type=function(){return Glow.eObjectType_GrowPie},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowPie : "+t[i]),o){case Glow.eSave_GrowPie:break;case Glow.eSave_GrowPie_arc_part:i=this.growarc_open(t,i+1);break;case Glow.eSave_GrowPie_sectors:this.sectors=parseInt(s[1],10);break;case Glow.eSave_GrowPie_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowPie_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_color1:this.sector_color[0]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color2:this.sector_color[1]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color3:this.sector_color[2]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color4:this.sector_color[3]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color5:this.sector_color[4]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color6:this.sector_color[5]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color7:this.sector_color[6]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color8:this.sector_color[7]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color9:this.sector_color[8]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color10:this.sector_color[9]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color11:this.sector_color[10]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_color12:this.sector_color[11]=parseInt(s[1],10);break;case Glow.eSave_GrowPie_sector_size1:this.sector_size[0]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size2:this.sector_size[1]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size3:this.sector_size[2]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size4:this.sector_size[3]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size5:this.sector_size[4]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size6:this.sector_size[5]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size7:this.sector_size[6]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size8:this.sector_size[7]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size9:this.sector_size[8]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size10:this.sector_size[9]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size11:this.sector_size[10]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_sector_size12:this.sector_size[11]=parseFloat(s[1]);break;case Glow.eSave_GrowPie_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowPie")}if(a)break}return i},this.tdraw=function(t,e,i,a,s){if(0===this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y,f=0;this.ctx.hot_indication==Glow.eHotIndication_No?i=0:this.ctx.hot_indication==Glow.eHotIndication_DarkColor?(f=i,i=0):this.ctx.hot_indication==Glow.eHotIndication_LightColor&&(f=-i,i=0),0!==this.fixcolor&&(s=null),r=null!==a&&0!==a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),y=null===t?(n=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot())):(n=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot(t))),c=Math.min(n,l),d=Math.max(n,l),w=Math.min(_,h),u=Math.max(_,h);var p=(null!==a&&0!==a.shadow||0!==this.shadow)&&0===this.disable_shadow,m=this.gradient;this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(m=a.gradient);for(var v,g=this.angle1,b=0,x=this.angle1,G=0;G<this.sectors+1;G++){var S;if(G==this.sectors){if(x>=this.angle1+this.angle2)break;v=this.angle1+this.angle2-x,S=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0)}else{if(this.sector_size[G]<=this.min_value)continue;if(g>=this.angle2+this.angle1)break;g+(b=this.sector_size[G]/(this.max_value-this.min_value)*this.angle2)>this.angle1+this.angle2&&(b=this.angle1+this.angle2-g),v=Math.floor(b+g-x+.5),S=GlowColor.get_drawtype(this.sector_color[G],Glow.eDrawType_FillHighlight,e,s,1,0)}if(m==Glow.eGradient_No||S==Glow.eDrawType_ColorRed)o=0!==f?GlowColor.shift_drawtype(S,f,null):S,this.ctx.gdraw.fill_arc(c,w,d-c,u-w,x-y,v,o);else if(p&&0!==this.shadow_width){var C=Math.floor(this.shadow_width/100*Math.min(d-c,u-w)+.5),D=this.shadow_contrast;this.relief==Glow.eRelief_Down&&(D=-this.shadow_contrast),T=GlowColor.shift_drawtype(S,-D+f,s),k=GlowColor.shift_drawtype(S,D+f,s),this.ctx.gdraw.gradient_fill_arc(c,w,d-c,u-w,x-y,v,S,k,T,Glow.eGradient_DiagonalUpperLeft),T=0<=this.gradient_contrast?(k=GlowColor.shift_drawtype(S,-this.gradient_contrast/2+f,null),GlowColor.shift_drawtype(S,Math.floor(this.gradient_contrast/2+.6)+f,null)):(k=GlowColor.shift_drawtype(S,-Math.floor(this.gradient_contrast/2-.6)+f,null),GlowColor.shift_drawtype(S,this.gradient_contrast/2+f,null)),this.ctx.gdraw.gradient_fill_arc(c+C,w+C,d-c-2*C,u-w-2*C,x-y,v,S,T,k,m)}else{var T,k;T=0<=this.gradient_contrast?(k=GlowColor.shift_drawtype(S,-this.gradient_contrast/2+f,null),GlowColor.shift_drawtype(S,Math.floor(this.gradient_contrast/2+.6)+f,null)):(k=GlowColor.shift_drawtype(S,-Math.floor(this.gradient_contrast/2-.6)+f,null),GlowColor.shift_drawtype(S,this.gradient_contrast/2+f,0)),this.ctx.gdraw.gradient_fill_arc(c,w,d-c,u-w,x-y,v,S,T,k,m)}g+=b,x+=v}0!==this.border&&(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.arc(c,w,d-c,u-w,this.angle1-y,this.angle2,o,r,0))}},this.set_conf=function(t,e,i,a){this.sectors=t,this.min_value=e,this.max_value=i;for(var s=0;s<this.sectors;s++)this.sector_color[s]=a[s];this.draw()},this.get_conf=function(){var t=new GlowPieInfo;return t.sector_num=this.sectors,t.min_val=this.min_value,t.max_val=this.max_value,t},this.set_values=function(t){for(var e=0;e<this.sectors;e++)this.sector_size[e]=t[e];this.draw()},this.getUserData=function(){return userdata},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return Glow.eCycle_Slow},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowBarChart(t){GrowRect.call(this,t),this.growrect_open=this.open,this.BARCHART_MAX_BARSEGMENTS=12,this.BARCHART_MAX_BARS=200,this.bars,this.barsegments,this.min_value,this.max_value,this.vertical_lines,this.horizontal_lines,this.line_color,this.bar_color=new Array(this.BARCHART_MAX_BARSEGMENTS),this.bar_values=new Array(this.BARCHART_MAX_BARSEGMENTS*this.BARCHART_MAX_BARS),this.userdata=null,this.type=function(){return Glow.eObjectType_GrowBarChart},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowPie : "+t[i]),o){case Glow.eSave_GrowBarChart:break;case Glow.eSave_GrowBarChart_rect_part:i=this.growrect_open(t,i+1);break;case Glow.eSave_GrowBarChart_bars:this.bars=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_barsegments:this.barsegments=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_max_value:this.max_value=parseFloat(s[1]);break;case Glow.eSave_GrowBarChart_min_value:this.min_value=parseFloat(s[1]);break;case Glow.eSave_GrowBarChart_horizontal_lines:this.horizontal_lines=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_vertical_lines:this.vertical_lines=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_line_color:this.line_color=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color1:this.bar_color[0]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color2:this.bar_color[1]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color3:this.bar_color[2]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color4:this.bar_color[3]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color5:this.bar_color[4]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color6:this.bar_color[5]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color7:this.bar_color[6]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color8:this.bar_color[7]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color9:this.bar_color[8]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color10:this.bar_color[9]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color11:this.bar_color[10]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_bar_color12:this.bar_color[11]=parseInt(s[1],10);break;case Glow.eSave_GrowBarChart_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowBarChart")}if(a)break}return i},this.tdraw=function(t,e,i,a,s){if(0==this.ctx.nodraw){var o,r,n,_,l,h,c,w,d,u,y=0;this.ctx.hot_indication==Glow.eHotIndication_No?i=0:this.ctx.hot_indication==Glow.eHotIndication_DarkColor?(y=i,i=0):this.ctx.hot_indication==Glow.eHotIndication_LightColor&&(y=-i,i=0),r=null!=a&&0!=a.line_width?Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*a.line_width-1):Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),r+=i,r=Math.max(0,r),r=Math.min(r,Glow.DRAW_TYPE_SIZE-1),null===t?(n=Math.floor(this.trf.x(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot())):(n=Math.floor(this.trf.x(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,_=Math.floor(this.trf.y(t,this.ll.x,this.ll.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,l=Math.floor(this.trf.x(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_x+.5)-this.ctx.mw.offset_x,h=Math.floor(this.trf.y(t,this.ur.x,this.ur.y)*this.ctx.mw.zoom_factor_y+.5)-this.ctx.mw.offset_y,Math.floor(this.trf.rot(t))),c=Math.min(n,l),d=Math.max(n,l),w=Math.min(_,h),u=Math.max(_,h);var f,p,m,v,g,b,x,G,S,C,D,T=this.gradient;this.gradient==Glow.eGradient_No&&null!==a&&a.gradient!=Glow.eGradient_No&&0===this.disable_gradient&&(T=a.gradient);var k=0,M=0,I=0,A=0;D=(d-c)/this.bars,m=c;for(var P=0;P<this.bars;P++){p=m,m=P==this.bars-1?d:c+(P+1)*D,0<=this.min_value?b=v=u:(b=v=u+this.min_value*(u-w)/(this.max_value-this.min_value),C=G=u+this.min_value*(u-w)/(this.max_value-this.min_value));for(var R=0;R<this.barsegments+1;R++)if(void 0!==this.bar_values[R]){var O,E,z=0;if(0<this.min_value||0<this.bar_values[R*this.bars+P]){if(f=0,g=v,R==this.barsegments?(v<=w?f=1:v=w,z=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0)):this.bar_values[R*this.bars+P]<=this.min_value?f=1:g<=w?f=1:(b-=this.bar_values[R*this.bars+P]*(u-w)/(this.max_value-this.min_value),(v=Math.floor(b))<w&&(v=w),z=GlowColor.get_drawtype(this.bar_color[R],Glow.eDrawType_FillHighlight,e,s,1,0)),0==f)if(T==Glow.eGradient_No||z==Glow.eDrawType_ColorRed||R==this.barsegments)o=0!=y?GlowColor.shift_drawtype(z,y,null):z,this.ctx.gdraw.fill_rect(p,v,m-p,g-v,o);else O=0<=this.gradient_contrast?(E=GlowColor.shift_drawtype(z,-this.gradient_contrast/2+y,null),GlowColor.shift_drawtype(z,Math.floor(this.gradient_contrast/2+.6)+y,null)):(E=GlowColor.shift_drawtype(z,-Math.floor(this.gradient_contrast/2-.6)+y,null),GlowColor.shift_drawtype(z,this.gradient_contrast/2+y,null)),this.ctx.gdraw.gradient_fill_rect(p,v,m-p,g-v,z,O,E,T)}else if(f=0,x=G,R==this.barsegments?(u<=(S=G)?f=1:G=u,z=GlowColor.get_drawtype(this.fill_drawtype,Glow.eDrawType_FillHighlight,e,s,1,0)):0<=this.bar_values[R*this.bars+P]?f=1:u<=x?f=1:(C-=this.bar_values[R*this.bars+P]*(u-w)/(this.max_value-this.min_value),u<(G=Math.floor(C))&&(G=u),z=GlowColor.get_drawtype(this.bar_color[R],Glow.eDrawType_FillHighlight,e,s,1,0)),!f)if(T==Glow.eGradient_No||z==Glow.eDrawType_ColorRed||R==this.barsegments)o=0!=y?GlowColor.shift_drawtype(z,y,null):z,this.ctx.gdraw.fill_rect(p,x,m-p,G-x,o);else O=0<=this.gradient_contrast?(E=GlowColor.shift_drawtype(z,-this.gradient_contrast/2+y,null),GlowColor.shift_drawtype(z,Math.floor(this.gradient_contrast/2+.6)+y,null)):(E=GlowColor.shift_drawtype(z,-Math.floor(this.gradient_contrast/2-.6)+y,null),GlowColor.shift_drawtype(z,this.gradient_contrast/2+y,null)),this.ctx.gdraw.gradient_fill_rect(p,x,m-p,G-x,z,O,E,T);0!==this.border&&R==this.barsegments&&(0<P&&(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(k,M,I,A,o,r,0)),A=0<=this.min_value?(I=m-(k=p),u-(M=v)):(M=v,I=m-(k=p),u+this.min_value*(u-w)/(this.max_value-this.min_value)-v),P==this.bars-1&&(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(k,M,I,A,o,r,0)),this.min_value<0&&(0<P&&(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(k,M,I,A,o,r,0)),I=m-(k=p),A=S-(M=u+this.min_value*(u-w)/(this.max_value-this.min_value)),P==this.bars-1&&(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(k,M,I,A,o,r,0))))}}o=GlowColor.get_drawtype(this.line_color,Glow.eDrawType_LineHighlight,e,s,0,0);for(R=0;R<this.vertical_lines;R++){var L=Math.floor(c+(d-c)/(this.vertical_lines+1)*(R+1));this.ctx.gdraw.line(L,w,L,u,o,0,0)}for(R=0;R<this.horizontal_lines;R++){var j=Math.floor(w+(u-w)/(this.horizontal_lines+1)*(R+1));this.ctx.gdraw.line(c,j,d,j,o,0,0)}0!==this.border&&(o=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),this.ctx.gdraw.rect(c,w,d-c,u-w,o,r,0))}},this.set_conf=function(t,e,i,a,s,o,r,n){this.bars=t,this.barsegments=e,this.min_value=i,this.max_value=a,this.vertical_lines=s,this.horizontal_lines=o,this.line_color=r;for(var _=0;_<this.bars;_++)this.bar_color[_]=n[_];this.draw()},this.get_conf=function(){var t=new GlowBarChartInfo;return t.bars=this.bars,t.barsegments=this.barsegments,t.max_value=this.max_value,t.min_value=this.min_value,t},this.set_values=function(t,e,i,a,s,o,r,n,_,l,h,c){var w,d=0;if(d<this.barsegments&&null!==t)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=t[w];if(++d<this.barsegments&&null!==e)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=e[w];if(++d<this.barsegments&&null!==i)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=i[w];if(++d<this.barsegments&&null!=a)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=a[w];if(++d<this.barsegments&&null!=s)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=s[w];if(++d<this.barsegments&&null!=o)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=o[w];if(++d<this.barsegments&&null!=r)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=r[w];if(++d<this.barsegments&&null!=n)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=n[w];if(++d<this.barsegments&&null!=_)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=_[w];if(++d<this.barsegments&&null!=l)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=l[w];if(++d<this.barsegments&&null!=h)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=h[w];if(++d<this.barsegments&&null!=c)for(w=0;w<this.bars;w++)this.bar_values[d*this.bars+w]=c[w]},this.getUserData=function(){return userdata},this.getClassDynType1=function(){return 0},this.getClassDynType2=function(){return 0},this.getClassActionType1=function(){return 0},this.getClassActionType2=function(){return 0},this.getClassCycle=function(){return Glow.eCycle_Slow},this.get_background_object_limits=function(t,e,i,a,s){return 0}}function GrowTable(s){GrowRect.call(this,s),this.growrect_open=this.open,this.growrect_event_handler=this.event_handler,this.mTableOptions_No=0,this.mTableOptions_ZeroIfHeader=1,this.mTableOptions_ZeroIfHeaderIs0=2,this.file_name,this.userdata=null,this.vertical_scrollbar,this.horizontal_scrollbar,this.scrollbar_width,this.v_scrollbar=null,this.h_scrollbar=null,this.v_value,this.h_value,this.table_x0,this.table_x1,this.table_y0,this.table_y1,this.scrollbar_color,this.scrollbar_bg_color,this.window_scale=1,this.y_low_offs,this.x_left_offs,this.rows,this.columns,this.header_row,this.header_column,this.text_size,this.text_drawtype,this.text_color_drawtype,this.header_text_size,this.header_text_drawtype,this.header_text_color,this.header_row_height,this.row_height,this.column_width=new Array(Glow.TABLE_MAX_COL),this.header_text=new Array(Glow.TABLE_MAX_COL),this.column_size=new Array(Glow.TABLE_MAX_COL),this.column_adjustment=new Array(Glow.TABLE_MAX_COL),this.value_size,this.cell_value,this.selected_cell_row=-1,this.selected_cell_column=-1,this.select_drawtype,this.input_focus=0,this.header_text_bold,this.options,this.font,this.type=function(){return Glow.eObjectType_GrowTable},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.ctx.debug&&console.log("GrowPie : "+t[i]),o){case Glow.eSave_GrowTable:break;case Glow.eSave_GrowTable_scrollbar_width:this.scrollbar_width=parseFloat(s[1]);break;case Glow.eSave_GrowTable_scrollbar_color:this.scrollbar_color=parseInt(s[1],10);break;case Glow.eSave_GrowTable_scrollbar_bg_color:this.scrollbar_bg_color=parseInt(s[1],10);break;case Glow.eSave_GrowTable_vertical_scrollbar:this.vertical_scrollbar=parseInt(s[1],10);break;case Glow.eSave_GrowTable_horizontal_scrollbar:this.horizontal_scrollbar=parseInt(s[1],10);break;case Glow.eSave_GrowTable_window_scale:this.window_scale=parseFloat(s[1]);break;case Glow.eSave_GrowTable_rows:this.rows=parseInt(s[1],10);break;case Glow.eSave_GrowTable_columns:this.columns=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_row:this.header_row=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_column:this.header_column=parseInt(s[1],10);break;case Glow.eSave_GrowTable_text_size:this.text_size=parseInt(s[1],10);break;case Glow.eSave_GrowTable_text_drawtype:this.text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowTable_text_color_drawtype:this.text_color_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_text_size:this.header_text_size=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_text_drawtype:this.header_text_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_text_color:this.header_text_color=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_text_bold:this.header_text_bold=parseInt(s[1],10);break;case Glow.eSave_GrowTable_header_row_height:this.header_row_height=parseFloat(s[1]);break;case Glow.eSave_GrowTable_row_height:this.row_height=parseFloat(s[1]);break;case Glow.eSave_GrowTable_options:this.options=parseInt(s[1],10);break;case Glow.eSave_GrowTable_select_drawtype:this.select_drawtype=parseInt(s[1],10);break;case Glow.eSave_GrowTable_font:this.font=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_width1:this.column_width[0]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text1:1<s.length&&(this.header_text[0]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width2:this.column_width[1]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text2:1<s.length&&(this.header_text[1]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width3:this.column_width[2]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text3:1<s.length&&(this.header_text[2]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width4:this.column_width[3]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text4:1<s.length&&(this.header_text[3]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width5:this.column_width[4]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text5:1<s.length&&(this.header_text[4]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width6:this.column_width[5]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text6:1<s.length&&(this.header_text[5]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width7:this.column_width[6]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text7:1<s.length&&(this.header_text[6]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width8:this.column_width[7]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text8:1<s.length&&(this.header_text[7]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width9:this.column_width[8]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text9:1<s.length&&(this.header_text[8]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width10:this.column_width[9]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text10:1<s.length&&(this.header_text[9]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width11:this.column_width[10]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text11:1<s.length&&(this.header_text[10]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_width12:this.column_width[11]=parseFloat(s[1]);break;case Glow.eSave_GrowTable_header_text12:1<s.length&&(this.header_text[11]=t[i].substring(5));break;case Glow.eSave_GrowTable_column_adjustment1:this.column_adjustment[0]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment2:this.column_adjustment[1]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment3:this.column_adjustment[2]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment4:this.column_adjustment[3]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment5:this.column_adjustment[4]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment6:this.column_adjustment[5]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment7:this.column_adjustment[6]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment8:this.column_adjustment[7]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment9:this.column_adjustment[8]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment10:this.column_adjustment[9]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment11:this.column_adjustment[10]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_column_adjustment12:this.column_adjustment[11]=parseInt(s[1],10);break;case Glow.eSave_GrowTable_rect_part:i=this.growrect_open(t,i+1);break;case Glow.eSave_GrowTable_userdata_cb:if(null!==this.ctx.appl){var r=this.ctx.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Node);this.userdata=r.userdata,i=r.row}break;case Glow.eSave_End:a=!0;break;default:console.log("Syntax error in GrowTable")}if(a)break}return this.ctx.debug&&console.log("GeTable: call_value size: "+columns*rows),this.configure(),this.configure_scrollbars(),i},this.configure=function(){this.table_x0=this.table_y0=0;for(var t=this.table_x1=0;t<this.columns;t++)0!==this.header_column&&0===t||(this.table_x1+=this.column_width[t]);this.table_y1=this.row_height*this.rows,0!==this.header_row?this.y_low_offs=this.header_row_height:this.y_low_offs=0,0!=this.header_column?this.x_left_offs=this.column_width[0]:this.x_left_offs=0,this.cell_value=new Array(this.columns*this.rows)},this.configure_scrollbars=function(){var t,e,i,a;0!==this.vertical_scrollbar&&null===this.v_scrollbar?(t=this.x_right-this.scrollbar_width,e=this.y_low+this.y_low_offs,i=this.scrollbar_width,a=0!==this.horizontal_scrollbar?this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width:this.y_high-(this.y_low+this.y_low_offs),this.v_scrollbar=new GrowScrollBar(s),this.v_scrollbar.init("vScrollbar",t,e,i,a,Glow.eDir_Vertical,Glow.eDrawType_Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,1,this),this.v_scrollbar.set_range(this.table_y0*this.window_scale,this.table_y1*this.window_scale),this.v_scrollbar.set_value(this.table_y0*this.window_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*this.horizontal_scrollbar),this.v_scrollbar.set_shadow(this.shadow),this.v_value=this.table_y0*this.window_scale):0==this.vertical_scrollbar&&null!=this.v_scrollbar?(this.v_scrollbar=null,this.v_value=this.table_y0*this.window_scale):null!==this.v_scrollbar?(this.v_scrollbar.set_range(this.table_y0*this.window_scale,this.table_y1*this.window_scale),this.v_scrollbar.set_value(this.table_y0*this.window_scale,this.y_high-(this.y_low+this.y_low_offs)-this.scrollbar_width*this.horizontal_scrollbar),this.v_value=this.table_y0*this.window_scale,this.v_scrollbar.set_shadow(this.shadow)):this.v_value=this.table_y0*this.window_scale,0!==this.horizontal_scrollbar&&null===this.h_scrollbar?(t=this.x_left+this.x_left_offs,e=this.y_high-this.scrollbar_width,a=this.scrollbar_width,i=0!==this.vertical_scrollbar?this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width:this.x_right-(this.x_left+this.x_left_offs),this.h_scrollbar=new GrowScrollBar(s),this.h_scrollbar.init("hScrollbar",t,e,i,a,Glow.eDir_Horizontal,Glow.eDrawType_Line,1,this.display_level,this.scrollbar_bg_color,this.scrollbar_color,1,this),this.h_scrollbar.set_range(this.table_x0*this.window_scale,this.table_x1*this.window_scale),this.h_scrollbar.set_value(this.table_x0*this.window_scale,this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*this.vertical_scrollbar),this.h_scrollbar.set_shadow(this.shadow),this.h_value=this.table_x0*this.window_scale):0===this.horizontal_scrollbar&&null!==this.h_scrollbar?(this.h_scrollbar=null,this.h_value=this.table_x0*this.window_scale):null!==this.h_scrollbar?(this.h_scrollbar.set_value(this.table_x0*this.window_scale,this.x_right-(this.x_left+this.x_left_offs)-this.scrollbar_width*this.vertical_scrollbar),this.h_value=this.table_x0*this.window_scale,this.h_scrollbar.set_range(this.table_x0*this.window_scale,this.table_x1*this.window_scale),this.h_scrollbar.set_shadow(this.shadow)):this.h_value=this.table_x0*this.window_scale},this.draw=function(){this.tdraw(null,0,0,null,null)},this.tdraw=function(t,e,i,a,s){if(0==this.ctx.nodraw){var o,r;o=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*this.line_width-1),o+=i,o=Math.max(0,o),o=Math.min(o,Glow.DRAW_TYPE_SIZE-1);var n=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.text_size+4)-4),_=this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.text_size);n=Math.min(n,Glow.DRAW_TYPE_SIZE-1);var l=Math.floor(this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(this.header_text_size+4)-4);l=Math.min(l,Glow.DRAW_TYPE_SIZE-1);var h,c,w,d,u,y,f,p,m,v,g,b=this.ctx.mw.zoom_factor_y/this.ctx.mw.base_zoom_factor*(8+2*this.header_text_size);p=null===t?(u=this.trf.x(this.ll.x,this.ll.y),y=this.trf.y(this.ll.x,this.ll.y),f=this.trf.x(this.ur.x,this.ur.y),this.trf.y(this.ur.x,this.ur.y)):(u=this.trf.x(t,this.ll.x,this.ll.y),y=this.trf.y(t,this.ll.x,this.ll.y),f=this.trf.x(t,this.ur.x,this.ur.y),this.trf.y(t,this.ur.x,this.ur.y)),u=Math.min(u,f),f=Math.max(u,f),y=Math.min(y,p),p=Math.max(y,p),null!=this.v_scrollbar&&(null==this.h_scrollbar?this.v_scrollbar.set_position(f-this.scrollbar_width,y+this.y_low_offs,this.scrollbar_width,p-(y+this.y_low_offs)):this.v_scrollbar.set_position(f-this.scrollbar_width,y+this.y_low_offs,this.scrollbar_width,p-(y+this.y_low_offs)-this.scrollbar_width),this.v_scrollbar.tdraw(null,0,0,null,null)),null!==this.h_scrollbar&&(null===this.v_scrollbar?this.h_scrollbar.set_position(u+this.x_left_offs,p-this.scrollbar_width,f-(u+this.x_left_offs),this.scrollbar_width):this.h_scrollbar.set_position(u+this.x_left_offs,p-this.scrollbar_width,f-(u+this.x_left_offs)-this.scrollbar_width,this.scrollbar_width),this.h_scrollbar.tdraw(null,0,0,null,null)),r=GlowColor.get_drawtype(this.draw_type,Glow.eDrawType_LineHighlight,e,s,0,0),v=GlowColor.shift_drawtype(this.fill_drawtype,2,null),m=GlowColor.shift_drawtype(this.fill_drawtype,-2,null),g=this.select_drawtype==Glow.eDrawType_Inherit?v:this.select_drawtype,h=Math.floor(u*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,c=Math.floor(y*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,w=Math.floor(f*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,d=Math.floor(p*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y;var x,G,S,C=Math.floor((u+this.x_left_offs)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,D=Math.floor((y+this.y_low_offs)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,T=Math.floor((f-this.vertical_scrollbar*this.scrollbar_width)*this.ctx.mw.zoom_factor_x)-this.ctx.mw.offset_x,k=Math.floor((p-this.horizontal_scrollbar*this.scrollbar_width)*this.ctx.mw.zoom_factor_y)-this.ctx.mw.offset_y,M=C-Math.floor(this.h_value*this.ctx.mw.zoom_factor_x),I=D-Math.floor(this.v_value*this.ctx.mw.zoom_factor_y),A=M+Math.floor(this.table_x1*this.ctx.mw.zoom_factor_x),P=I+Math.floor(this.table_y1*this.ctx.mw.zoom_factor_y),R=0,O=0;if(0!=this.header_row&&(R=Math.floor(this.header_row_height*this.ctx.mw.zoom_factor_y)),0!==this.header_column&&(O=Math.floor(this.column_width[0]*this.ctx.mw.zoom_factor_x)),0!==this.header_row){if(0!==this.fill&&this.ctx.gdraw.fill_rect(h,c,w-h,R,this.fill_drawtype),this.ctx.gdraw.set_clip_rectangle(h+O,c,w,c+R),0!==this.shadow){x=M,G=c;for(var E=this.header_column;E<this.columns+1&&!(w<x);E++)E!=this.header_column&&this.ctx.gdraw.line(Math.floor(x)-1,c,Math.floor(x)-1,c+R,v,0,0),E!=this.columns&&this.ctx.gdraw.line(Math.floor(x)+1,c,Math.floor(x)+1,c+R,m,0,0),x+=this.column_width[E]*this.ctx.mw.zoom_factor_x;this.ctx.gdraw.line(h,1+c,A,1+c,m,0,0),this.ctx.gdraw.line(h,c+R-1,A,c+R-1,v,1,0)}x=M,G=c;for(E=this.header_column;E<this.columns+1&&!(w<x);E++)this.ctx.gdraw.line(Math.floor(x),c,Math.floor(x),c+R,r,o,0),x+=this.column_width[E]*this.ctx.mw.zoom_factor_x;x=M,G=c;for(E=this.header_column;E<this.columns&&(0<=l&&""!==this.header_text[E]&&this.ctx.gdraw.text(Math.floor(x+10),Math.floor(G+R-4),this.header_text[E],this.header_text_drawtype,this.header_text_color,l,e,0,this.font,b,0),!(w<(x+=this.column_width[E]*this.ctx.mw.zoom_factor_x)));E++);this.ctx.gdraw.reset_clip_rectangle(),0!==O&&(0!==this.shadow&&(this.ctx.gdraw.line(h+O-1,c,h+O-1,c+R,v,1,0),this.ctx.gdraw.line(h-1,c+R-1,h+O,c+R-1,v,1,0),this.ctx.gdraw.line(h,1+c,h+O,1+c,m,0,0),this.ctx.gdraw.line(1+h,c,1+h,c+R,m,0,0)),this.ctx.gdraw.line(h+O,c,h+O,c+R,r,o,0)),this.ctx.gdraw.rect(h,c,w-h,R,r,o,0),0!==this.header_column&&(x=h,G=c,0<=l&&""!==this.header_text[0]&&this.ctx.gdraw.text(Math.floor(x+10),Math.floor(G+R-4),this.header_text[0],this.header_text_drawtype,this.header_text_color,l,e,0,this.font,_,0))}if(0!==this.header_column){if(0!==this.fill&&this.ctx.gdraw.fill_rect(h,c+R,O,d-c-R,this.fill_drawtype),this.ctx.gdraw.set_clip_rectangle(h,c+R,h+O,d),0<=this.selected_cell_row&&0===this.selected_cell_column&&(x=h,G=I+this.row_height*this.ctx.mw.zoom_factor_y*this.selected_cell_row,this.ctx.gdraw.fill_rect(Math.floor(x),Math.floor(G),O,Math.floor(this.row_height*this.ctx.mw.zoom_factor_y),g)),0!==this.shadow){x=h,G=I;for(E=0;E<this.rows+1&&!(d<G);E++)c<G&&(0!=E&&this.ctx.gdraw.line(h,Math.floor(G)-1,h+O,Math.floor(G)-1,v,0,0),E!=this.rows&&this.ctx.gdraw.line(h,Math.floor(G)+1,h+O,Math.floor(G)+1,m,0,0)),G+=this.row_height*this.ctx.mw.zoom_factor_y;this.ctx.gdraw.line(1+h,c+R,1+h,d,m,0,0),this.ctx.gdraw.line(h+O-1,c+R,h+O-1,d,v,1,0)}x=h,G=I;for(E=0;E<this.rows&&!((G+=this.row_height*this.ctx.mw.zoom_factor_y)-this.row_height*this.ctx.mw.zoom_factor_y>d);E++)if(c<G&&(this.ctx.gdraw.line(h,Math.floor(G),h+O,Math.floor(G),r,o,0),S=E,0<=n&&null!=this.cell_value[S]&&""!==this.cell_value[S])){var z=Math.floor(x)+10;if(this.column_adjustment[0]==Glow.eAdjustment_Right||this.column_adjustment[0]==Glow.eAdjustment_Center)switch(N=(B=this.ctx.gdraw.getTextExtent(this.cell_value[S],n,this.font,this.text_drawtype)).width,B.height/4,this.column_adjustment[0]){case Glow.eAdjustment_Left:break;case Glow.eAdjustment_Right:z=Math.floor(x)+O-10-N;break;case Glow.eAdjustment_Center:z=Math.floor(x+(O-N)/2)}this.ctx.gdraw.text(z,Math.floor(G-5),this.cell_value[S],this.text_drawtype,this.text_color_drawtype,n,e,0,this.font,_,0)}this.ctx.gdraw.reset_clip_rectangle(),this.ctx.gdraw.rect(h,c+R-1,O,d-c-R+1,r,o,0)}if(0!==this.fill&&this.ctx.gdraw.fill_rect(C,D,T-C,k-D,this.fill_drawtype),this.ctx.gdraw.set_clip_rectangle(C,D,T,k),0<=this.selected_cell_row&&(0===this.header_column||0!==this.selected_cell_column)){x=M;for(E=this.header_column;E<this.selected_cell_column;E++)x+=this.column_width[E]*this.ctx.mw.zoom_factor_x;G=I+this.row_height*this.ctx.mw.zoom_factor_y*this.selected_cell_row,this.ctx.gdraw.fill_rect(Math.floor(x),Math.floor(G),Math.floor(this.column_width[selected_cell_column]*this.ctx.mw.zoom_factor_x),Math.floor(this.row_height*this.ctx.mw.zoom_factor_y),this.sel_drawtype)}if(0!==this.shadow){x=M,G=I;for(E=this.header_column;E<this.columns+1&&!(w<x);E++)h<x&&(E!=this.header_column&&this.ctx.gdraw.line(Math.floor(x)-1,I,Math.floor(x)-1,P,v,0,0),E!=this.columns&&this.ctx.gdraw.line(Math.floor(x)+1,I,Math.floor(x)+1,P,m,0,0)),x+=this.column_width[E]*this.ctx.mw.zoom_factor_x;for(E=0;E<this.rows+1&&!(d<G);E++)c<G&&(0!=E&&this.ctx.gdraw.line(M,Math.floor(G-1),A,Math.floor(G)-1,v,0,0),E!=this.rows&&this.ctx.gdraw.line(M,Math.floor(G)+1,A,Math.floor(G)+1,m,0,0)),G+=this.row_height*this.ctx.mw.zoom_factor_y}x=M,G=I;for(E=this.header_column;E<this.columns+1&&!(w<x);E++)h<x&&this.ctx.gdraw.line(Math.floor(x),I,Math.floor(x),P,r,o,0),x+=this.column_width[E]*this.ctx.mw.zoom_factor_x;for(E=0;E<this.rows+1&&!(d<G);E++)c<G&&this.ctx.gdraw.line(M,Math.floor(G),A,Math.floor(G),r,o,0),G+=this.row_height*this.ctx.mw.zoom_factor_y;var L=this.header_column*this.rows;x=M;var j=h-Math.floor(this.column_width[0]*this.ctx.mw.zoom_factor_x);for(E=this.header_column;E<this.columns&&!(w<x);E++){if(j<x){G=I;for(var F=0;F<this.rows&&!((G+=this.row_height*this.ctx.mw.zoom_factor_y)-this.row_height*this.ctx.mw.zoom_factor_y>d);F++)if((0==(this.options&this.mTableOptions_ZeroIfHeader)||null!==this.cell_value[F]&&""!==this.cell_value[F])&&(0==(this.options&this.mTableOptions_ZeroIfHeaderIs0)||null!==this.cell_value[F]&&"0"!=this.cell_value[F])&&c<G&&(S=L+F,0<=n&&null!==this.cell_value[S]&&""!==this.cell_value[S])){var N,B;z=Math.floor(x)+10;if(this.column_adjustment[E]==Glow.eAdjustment_Right||this.column_adjustment[E]==Glow.eAdjustment_Center)switch(N=(B=this.ctx.gdraw.getTextExtent(this.cell_value[S],n,this.font,this.text_drawtype)).width,B.height/4,this.column_adjustment[E]){case Glow.eAdjustment_Left:break;case Glow.eAdjustment_Right:z=Math.floor(x+this.column_width[E]*this.ctx.mw.zoom_factor_x)-10-N;break;case Glow.eAdjustment_Center:z=Math.floor(x+(this.column_width[E]*this.ctx.mw.zoom_factor_x-N)/2)}this.ctx.gdraw.text(z,Math.floor(G-5),this.cell_value[S],this.text_drawtype,this.text_color_drawtype,n,e,0,this.font,_,0)}}x+=this.column_width[E]*this.ctx.mw.zoom_factor_x,L+=this.rows}this.ctx.gdraw.reset_clip_rectangle(),this.ctx.gdraw.rect(C,D,w-C,d-D,r,o,0),0!==this.input_focus&&(this.ctx.gdraw.line(h-2,c-2,h-2,2+d,Glow.eDrawType_DarkGray,0,0),this.ctx.gdraw.line(h-2,c-2,2+w,c-2,Glow.eDrawType_DarkGray,0,0),this.ctx.gdraw.line(h-2,2+d,2+w,2+d,Glow.eDrawType_LightGray,0,0),this.ctx.gdraw.line(2+w,c-2,2+w,2+d,Glow.eDrawType_LightGray,0,0))}},this.getUserData=function(){return this.userdata},this.verticalScrollValueChanged=function(t){this.v_value!=t&&(this.v_value=t,this.draw())},this.horizontalScrollValueChanged=function(t){this.h_value!=t&&(this.h_value=t,this.draw())},this.event_handler=function(t,e,i){var a,s,o;if(s=o=0,null!==this.v_scrollbar&&(s=this.v_scrollbar.event_handler(t,e,i)),null!==this.h_scrollbar&&(o=this.h_scrollbar.event_handler(t,e,i)),0!=s||0!=o)return 1;if(a=this.growrect_event_handler(t,e,i),t.event==Glow.eEvent_ButtonMotion)return 0;switch(t.event){case Glow.eEvent_MB1Click:var r=-1,n=-1,_=this.x_left+this.x_left_offs,l=this.y_low+this.y_low_offs,h=this.x_right-this.vertical_scrollbar*this.scrollbar_width,c=this.y_high-this.horizontal_scrollbar*this.scrollbar_width,w=_-this.h_value,d=l-this.v_value;if(l<=i&&i<=c){if(0!=this.header_column&&this.x_left<=e&&e<=this.x_left+this.x_left_offs)r=0;else if(_<=e&&e<=h)for(var u=w,y=this.header_column;y<this.columns;y++)if(e<=(u+=this.column_width[y])){r=y;break}var f=d;for(y=0;y<this.rows;y++)if(i<=(f+=this.row_height)){n=y;break}}-1!=n&&-1!=r&&this.ctx.send_table_callback(this,t.event,e,i,r,n)}return a},this.getTableInfo=function(){var t=new GlowTableInfo;t.columns=this.columns,t.rows=this.rows;for(var e=0;e<Glow.TABLE_MAX_COL;e++)t.column_size[e]=this.column_size[e];return t},this.setTableInfo=function(t){this.columns=t.columns,this.rows=t.rows;for(var e=0;e<Glow.TABLE_MAX_COL;e++)this.column_size[e]=t.column_size[e]},this.setValue=function(t,e,i){this.cell_value[e*this.rows+i]=t},this.setSelectedCell=function(t,e){this.selected_cell_column==t&&this.selected_cell_row==e||t>=this.columns||e>=this.rows||(this.selected_cell_column=t,this.selected_cell_row=e,this.draw())},this.getSelectedCellRow=function(){return this.selected_cell_row},this.getSelectedCellColumn=function(){return-1==this.selected_cell_row?-1:this.selected_cell_column}}function GrowCtxWindow(){this.zoom_factor_x=1,this.zoom_factor_y=1,this.base_zoom_factor=1,this.offset_x=0,this.offset_y=0,this.window_width=0,this.window_height=0,this.subwindow_x=0,this.subwindow_y=0,this.subwindow_scale=1}function GlowDraw(t){this.ctx=t,this.canvas=document.querySelector("canvas"),this.gctx=this.canvas.getContext("2d"),this.offset_top=this.canvas.offsetTop,this.clip_x1=new Array(10),this.clip_y1=new Array(10),this.clip_x2=new Array(10),this.clip_y2=new Array(10),this.clipCount=0,this.CUSTOMCOLORS_STACK_SIZE=10,this.customcolors=new Array(this.CUSTOMCOLORS_STACK_SIZE),this.customcolors_cnt=0,this.gctx.save(),this.rect=function(t,e,i,a,s,o,r){this.gctx.lineWidth=o+1,this.gctx.strokeStyle=this.getColor(s),this.gctx.strokeRect(t,e,i,a)},this.fill_rect=function(t,e,i,a,s){this.gctx.fillStyle=this.getColor(s),this.gctx.fillRect(t,e,i,a)},this.line=function(t,e,i,a,s,o,r){this.gctx.strokeStyle=this.getColor(s),this.gctx.lineWidth=o+1,this.gctx.beginPath(),this.gctx.moveTo(t,e),this.gctx.lineTo(i,a),this.gctx.stroke()},this.line_dashed=function(t,e,i,a,s,o,r,n){var _=null;switch(n){case Glow.eLineType_Solid:break;case Glow.eLineType_Dashed1:_=[o,o];break;case Glow.eLineType_Dashed2:_=[2*o,2*o];break;case Glow.eLineType_Dashed3:_=[4*o,4*o];break;case Glow.eLineType_Dotted:_=[o,6*o];break;case Glow.eLineType_DotDashed1:_=[o,2*o,4*o,2*o];break;case Glow.eLineType_DotDashed2:_=[o,4*o,8*o,4*o]}this.gctx.strokeStyle=this.getColor(s),this.gctx.lineWidth=o+1,this.gctx.beginPath(),null!==_&&this.gctx.setLineDash(_),this.gctx.moveTo(t,e),this.gctx.lineTo(i,a),this.gctx.stroke(),null!==_&&this.gctx.setLineDash([])},this.arc=function(t,e,i,a,s,o,r,n,_){this.gctx.strokeStyle=this.getColor(r),this.gctx.lineWidth=n+1,this.gctx.beginPath(),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+i/2,e+a/2,i/2,a/2,0,-s*Math.PI/180,-(s+o)*Math.PI/180,!0):this.gctx.arc(t+i/2,e+a/2,i/2,-s*Math.PI/180,-(s+o)*Math.PI/180,!0),this.gctx.stroke()},this.fill_arc=function(t,e,i,a,s,o,r){this.gctx.fillStyle=this.getColor(r),this.gctx.beginPath(),360!=o&&this.gctx.moveTo(t+i/2,e+a/2),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+i/2,e+a/2,i/2,a/2,0,-s*Math.PI/180,-(s+o)*Math.PI/180,!0):this.gctx.arc(t+i/2,e+a/2,i/2,-s*Math.PI/180,-(s+o)*Math.PI/180,!0),this.gctx.fill()},this.polyline=function(t,e,i,a,s){if(!this.nodraw&&0!==t.length){this.gctx.lineWidth=a+1,this.gctx.strokeStyle=this.getColor(i),this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(var o=1;o<e;o++)this.gctx.lineTo(t[o].x,t[o].y);this.gctx.stroke()}},this.fill_polyline=function(t,e,i,a){if(!this.nodraw){this.gctx.fillStyle=this.getColor(i),this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(var s=1;s<e;s++)this.gctx.lineTo(t[s].x,t[s].y);this.gctx.fill()}},this.text=function(t,e,i,a,s,o,r,n,_,l,h){var c;switch(o){case 0:c=8;break;case 1:c=10;break;case 2:c=12;break;case 3:case 4:c=14;break;case 5:c=16;break;case 6:case 7:c=18;break;default:c=3*o}this.gctx.font=c+"px Arial",this.gctx.lineWidth=.5,this.gctx.fillStyle=this.getColor(s),this.gctx.fillText(i,t,e)},this.getColor=function(t){var e=GlowColor.rgb_color(t,this.get_customcolors());return"rgb("+Math.floor(255*e.r)+","+Math.floor(255*e.g)+","+Math.floor(255*e.b)+")"},this.getTextExtent=function(t,e,i,a){var s,o=new GlowDimension;switch(e){case 0:s=8;break;case 1:s=10;break;case 2:s=12;break;case 3:case 4:s=14;break;case 5:s=8;break;case 6:case 7:s=18;break;default:s=3*e}return this.gctx.font=s+"px Arial",o.width=this.gctx.measureText(t).width,o.height=s,o},this.gradient_fill_rect=function(t,e,i,a,s,o,r,n){this.nodraw||(this.setGradient(n,o,r,t,e,i,a),this.gctx.fillRect(t,e,i,a))},this.gradient_fill_rectrounded=function(t,e,i,a,s,o,r,n,_){this.nodraw||(this.setGradient(_,r,n,t,e,i,a),this.gctx.beginPath(),this.gctx.moveTo(t+s,e),this.gctx.arcTo(t+i,e,t+i,e+a,s),this.gctx.arcTo(t+i,e+a,t,e+a,s),this.gctx.arcTo(t,e+a,t,e,s),this.gctx.arcTo(t,e,t+i,e,s),this.gctx.closePath(),this.gctx.fill())},this.gradient_fill_arc=function(t,e,i,a,s,o,r,n,_,l){this.nodraw||(this.setGradient(l,n,_,t,e,i,a),this.gctx.beginPath(),360!=o&&this.gctx.moveTo(t+i/2,e+a/2),"function"==typeof this.gctx.ellipse?this.gctx.ellipse(t+i/2,e+a/2,i/2,a/2,0,-s*Math.PI/180,-(s+o)*Math.PI/180,!0):this.gctx.arc(t+i/2,e+a/2,i/2,-s*Math.PI/180,-(s+o)*Math.PI/180,!0),this.gctx.fill())},this.gradient_fill_polyline=function(t,e,i,a,s,o){if(!this.nodraw&&0!==t.length){this.getColor(i);var r=Number.MAX_VALUE,n=-Number.MAX_VALUE,_=Number.MAX_VALUE,l=-Number.MAX_VALUE;this.gctx.beginPath(),this.gctx.moveTo(t[0].x,t[0].y);for(var h=1;h<e;h++)this.gctx.lineTo(t[h].x,t[h].y),t[h].x>n&&(n=t[h].x),t[h].x<r&&(r=t[h].x),t[h].y>l&&(l=t[h].y),t[h].y<_&&(_=t[h].y);this.setGradient(o,a,s,r,_,n-r,l-_),this.gctx.fill()}},this.image=function(t,e,i,a,s){this.gctx.drawImage(t,e,i,a,s)},this.gradient_rotate=function(t,e){return e},this.setGradient=function(t,e,i,a,s,o,r){var n=0,_=0,l=0,h=0,c=0;switch(t){case Glow.eGradient_HorizontalUp:l=n=a,h=(_=s)+r;break;case Glow.eGradient_HorizontalDown:case Glow.eGradient_HorizontalTube1:_=s+r,l=n=a,h=s;break;case Glow.eGradient_HorizontalTube2:l=n=a,h=(_=s)+r;break;case Glow.eGradient_VerticalLeft:l=(n=a)+o,h=_=s;break;case Glow.eGradient_VerticalRight:case Glow.eGradient_VerticalTube1:case Glow.eGradient_VerticalTube2:n=a+o,l=a,h=_=s;break;case Glow.eGradient_DiagonalUpperLeft:l=(n=a)+o,h=(_=s)+r;break;case Glow.eGradient_DiagonalLowerLeft:_=s+r,l=(n=a)+o,h=s;break;case Glow.eGradient_DiagonalUpperRight:n=a+o,l=a,h=(_=s)+r;break;case Glow.eGradient_DiagonalLowerRight:n=a+o,_=s+r,l=a,h=s;break;case Glow.eGradient_DiagonalUpTube:n=a+o/5,_=s+r/5,l=a+4*o/5,h=s+4*r/5;break;case Glow.eGradient_DiagonalDownTube:n=a+4*o/5,_=s+r/5,l=a+o/5,h=s+4*r/5;break;case Glow.eGradient_Globe:n=a+.3*o,_=s+.3*r,l=a+o,h=s+r,c=Math.sqrt(o*o/4+r*r/4);break;case Glow.eGradient_RadialCenter:n=a+.5*o,_=s+.5*r,l=a+o,h=s+r,c=Math.sqrt(o*o/4+r*r/4);break;case Glow.eGradient_RadialUpperLeft:l=(n=a)+o,h=(_=s)+r,c=Math.sqrt(o*o+r*r);break;case Glow.eGradient_RadialLowerLeft:_=s+r,l=(n=a)+o,h=s,c=Math.sqrt(o*o+r*r);break;case Glow.eGradient_RadialUpperRight:n=a+o,l=a,h=(_=s)+r,c=Math.sqrt(o*o+r*r);break;case Glow.eGradient_RadialLowerRight:n=a+o,_=s+r,l=a,h=s,c=Math.sqrt(o*o+r*r)}switch(t){case Glow.eGradient_HorizontalUp:case Glow.eGradient_HorizontalDown:case Glow.eGradient_VerticalLeft:case Glow.eGradient_VerticalRight:case Glow.eGradient_DiagonalUpperLeft:case Glow.eGradient_DiagonalLowerLeft:case Glow.eGradient_DiagonalUpperRight:case Glow.eGradient_DiagonalLowerRight:(w=this.gctx.createLinearGradient(n,_,l,h)).addColorStop(0,this.getColor(i)),w.addColorStop(1,this.getColor(e)),this.gctx.fillStyle=w;break;case Glow.eGradient_HorizontalTube1:case Glow.eGradient_VerticalTube1:case Glow.eGradient_DiagonalUpTube:case Glow.eGradient_DiagonalDownTube:(w=this.gctx.createLinearGradient(n,_,l,h)).addColorStop(0,this.getColor(e)),w.addColorStop(.5,this.getColor(i)),w.addColorStop(1,this.getColor(e)),this.gctx.fillStyle=w;break;case Glow.eGradient_HorizontalTube2:case Glow.eGradient_VerticalTube2:var w;(w=this.gctx.createLinearGradient(n,_,l,h)).addColorStop(0,this.getColor(e)),w.addColorStop(.3,this.getColor(i)),w.addColorStop(.95,this.getColor(e)),this.gctx.fillStyle=w;break;case Glow.eGradient_Globe:case Glow.eGradient_RadialCenter:case Glow.eGradient_RadialUpperLeft:case Glow.eGradient_RadialLowerLeft:case Glow.eGradient_RadialUpperRight:case Glow.eGradient_RadialLowerRight:var d=this.gctx.createRadialGradient(n,_,1,n,_,c);d.addColorStop(0,this.getColor(i)),d.addColorStop(1,this.getColor(e)),this.gctx.fillStyle=d}},this.set_clip_rectangle=function(t,e,i,a){if(0<this.clipCount){if(10<=this.clipCount)return 0;t<this.clip_x1[this.clipCount-1]&&(t=this.clip_x1[this.clipCount-1]),e<this.clip_y1[this.clipCount-1]&&(e=this.clip_y1[this.clipCount-1]),i>this.clip_x2[this.clipCount-1]&&(i=this.clip_x2[this.clipCount-1]),a>this.clip_y2[this.clipCount-1]&&(a=this.clip_y2[this.clipCount-1])}return this.clip_x1[this.clipCount]=t,this.clip_y1[this.clipCount]=e,this.clip_x2[this.clipCount]=i,this.clip_y2[this.clipCount]=a,this.clipCount++,this.gctx.restore(),this.gctx.save(),this.gctx.beginPath(),this.gctx.rect(t,e,i-t+1,a-e+1),this.gctx.clip(),1},this.reset_clip_rectangle=function(){0!=this.clipCount?(this.clipCount--,0<this.clipCount?(this.gctx.restore(),this.gctx.save(),this.gctx.beginPath(),this.gctx.rect(this.clip_x1[this.clipCount-1],this.clip_y1[this.clipCount-1],this.clip_x2[this.clipCount-1]-this.clip_x1[this.clipCount-1],this.clip_y2[this.clipCount-1]-this.clip_y1[this.clipCount-1]),this.gctx.clip()):(this.gctx.restore(),this.gctx.save())):console.log("Clip mismatch")},this.get_clip_rectangle=function(){if(0==this.clipCount)return null;var t=new GlowRectangle;return t.x1=this.clip_x1[this.clipCount-1],t.y1=this.clip_y1[this.clipCount-1],t.x2=this.clip_x2[this.clipCount-1],t.y2=this.clip_y2[this.clipCount-1],t},this.set_customcolors=function(t){this.customcolors[0]=t,this.customcolors_cnt=1},this.push_customcolors=function(t){if(this.customcolors_cnt>this.CUSTOMCOLORS_STACK_SIZE)console.log("** Max number custom colors exceede");else{for(var e=this.customcolors_cnt;0<e;e--)this.customcolors[e]=this.customcolors[e-1];this.customcolors[0]=t,this.customcolors_cnt++}},this.pop_customcolors=function(){this.customcolors_cnt;for(var t=0;t<this.customcolors_cnt-1;t++)this.customcolors[t]=this.customcolors[t+1];this.customcolors_cnt--},this.get_customcolors=function(){return 0==this.customcolors_cnt?null:this.customcolors[0]}}function GrowCtx(t){this.appl=null,this.debug=!1,this.antiAliasing=0,this.mw=new GrowCtxWindow,this.x_right=0,this.x_left=0,this.y_high=0,this.y_low=0,this.name=null,this.version=0,this.background_color=0,this.dynamicsize=0,this.arg_cnt=0,this.argname=[],this.argtype=[],this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.path_cnt=0,this.path=[],this.dyn_type1=0,this.dyn_type2=0,this.dyn_action_type1=0,this.dyn_action_type2=0,this.dyn_color=[],this.dyn_attr=[],this.slider=0,this.subgraph=0,this.scantime=0,this.fast_scantime=0,this.animation_scantime=0,this.java_width=0,this.background_image=null,this.background_tiled=0,this.double_buffered=0,this.cycle=0,this.mb3_action=0,this.translate_on=0,this.input_focus_mark=0,this.hot_indication=0,this.app_motion=Glow.eAppMotion_Both,this.color_theme=null,this.default_color_theme="pwr_colortheme1.pwgc",this.userdata=null,this.callback_object=null,this.callback_object_type=0,this.hot_mode=0,this.hot_found=0,this.restriction_object=null,this.move_restriction=0,this.restriction_max_limit=0,this.restriction_min_limit=0,this.recursive_trace=0,this.nodraw=0,this.owner="",this.customcolors=new GlowCustomColors,this.a=new GlowArray(this),this.a_nc=new GlowArray(this),this.a_cc=new GlowArray(this),this.gdraw=null==t?new GlowDraw(this):t.gdraw,this.name=null,this.sliderActive=0,this.sliderObject=null,this.node_move_last_x=0,this.node_move_last_y=0,this.slider_cursor_offset=0,this.trace_started=!1,this.drawing=!1,this.open=function(t,e){for(var i=!1,a=!1,s=e;s<t.length;s++)if(!(2<t[s].length&&"0!"==t[s].substring(0,2)||1<t[s].length&&"!"==t[s].substring(0,1))){var o=t[s].split(" "),r=parseInt(o[0],10);switch(this.debug&&console.log("ctx : "+t[s]),r){case Glow.eSave_Ctx:break;case Glow.eSave_Ctx_zoom_factor_x:this.mw.zoom_factor_x=parseFloat(o[1]);break;case Glow.eSave_Ctx_zoom_factor_y:this.mw.zoom_factor_y=parseFloat(o[1]),a=!0;break;case Glow.eSave_Ctx_base_zoom_factor:this.mw.base_zoom_factor=parseFloat(o[1]);break;case Glow.eSave_Ctx_offset_x:this.mw.offset_x=parseInt(o[1],10);break;case Glow.eSave_Ctx_offset_y:this.mw.offset_y=parseInt(o[1],10);break;case Glow.eSave_Ctx_nav_zoom_factor_x:case Glow.eSave_Ctx_nav_zoom_factor_y:case Glow.eSave_Ctx_print_zoom_factor:case Glow.eSave_Ctx_nav_offset_x:case Glow.eSave_Ctx_nav_offset_y:break;case Glow.eSave_Ctx_x_right:this.x_right=parseFloat(o[1]);break;case Glow.eSave_Ctx_x_left:this.x_left=parseFloat(o[1]);break;case Glow.eSave_Ctx_y_high:this.y_high=parseFloat(o[1]);break;case Glow.eSave_Ctx_y_low:this.y_low=parseFloat(o[1]);break;case Glow.eSave_Ctx_nav_rect_ll_x:case Glow.eSave_Ctx_nav_rect_ll_y:case Glow.eSave_Ctx_nav_rect_ur_x:case Glow.eSave_Ctx_nav_rect_ur_y:case Glow.eSave_Ctx_nav_rect_hot:break;case Glow.eSave_Ctx_name:this.name=o[1];break;case Glow.eSave_Ctx_user_highlight:case Glow.eSave_Ctx_grid_size_x:case Glow.eSave_Ctx_grid_size_y:case Glow.eSave_Ctx_grid_on:case Glow.eSave_Ctx_draw_delta:case Glow.eSave_Ctx_refcon_width:case Glow.eSave_Ctx_refcon_height:case Glow.eSave_Ctx_refcon_textsize:case Glow.eSave_Ctx_refcon_linewidth:break;case Glow.eSave_Ctx_version:this.version=parseInt(o[1],10);break;case Glow.eSave_Ctx_hot_indication:this.hot_indication=parseInt(o[1],10);break;case Glow.eSave_Ctx_tiptext_size:break;case Glow.eSave_Ctx_app_motion:this.app_motion=parseInt(o[1],10);break;case Glow.eSave_Ctx_color_theme:1<o.length&&(this.color_theme=o[1]);break;case Glow.eSave_Ctx_grow:s=this.open_grow(t,s+1),!0;break;case Glow.eSave_Ctx_a_nc:s=this.a_nc.open(t,s+1);break;case Glow.eSave_Ctx_a_cc:s=this.a_cc.open(t,s+1);break;case Glow.eSave_Ctx_a:s=this.a.open(t,s+1);break;case Glow.eSave_Ctx_comment:s=this.open_comment(t,s+1);break;case Glow.eSave_End:i=!0;break;case Glow.eSave_Comment:break;default:console.log("Syntax error in GlowCtx",r)}if(i)break}a||(this.mw.zoom_factor_y=this.mw.zoom_factor_x),null!==this.color_theme&&""!==this.color_theme&&("$default"==this.color_theme?null!==this.default_color_theme&&(this.customcolors.read_colorfile(this,this.default_color_theme),this.gdraw.push_customcolors(this.customcolors)):(this.customcolors.read_colorfile(this,this.color_theme),this.gdraw.push_customcolors(this.customcolors)))},this.open_comment=function(t,e){var i;for(i=e;i<t.length&&"!"!=!t[i].substring(0,1)&&"!*/"!=t[i].substring(0,3);i++);return i},this.open_grow=function(t,e){var i,a,s=!1;for(i=e;i<t.length;i++){var o=t[i].split(" "),r=parseInt(o[0],10);switch(this.debug&&console.log("ctx : "+t[i]),r){case Glow.eSave_GrowCtx:break;case Glow.eSave_GrowCtx_conpoint_num_cnt:case Glow.eSave_GrowCtx_objectname_cnt:case Glow.eSave_GrowCtx_name:this.name=o[1];break;case Glow.eSave_GrowCtx_background_color:this.background_color=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dynamicsize:this.dynamicsize=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dynamic:0<this.dynamicsize&&(i+=this.dynamicsize);break;case Glow.eSave_GrowCtx_arg_cnt:this.arg_cnt=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_argname:for(a=0;a<this.arg_cnt;a++)this.argname[a]=o[1];break;case Glow.eSave_GrowCtx_argtype:for(a=0;a<this.arg_cnt;a++)this.argtype[a]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_x0:this.x0=parseFloat(o[1]);break;case Glow.eSave_GrowCtx_y0:this.y0=parseFloat(o[1]);break;case Glow.eSave_GrowCtx_x1:this.x1=parseFloat(o[1]);break;case Glow.eSave_GrowCtx_y1:this.y1=parseFloat(o[1]);break;case Glow.eSave_End:s=!0;break;case Glow.eSave_GrowCtx_path_cnt:this.path_cnt=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_path:for(a=0;a<this.path_cnt;a++)i++,this.path[a]=t[i];break;case Glow.eSave_GrowCtx_dyn_type1:this.dyn_type1=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_type2:this.dyn_type2=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_action_type1:this.dyn_action_type1=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_action_type2:this.dyn_action_type2=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_color1:this.dyn_color[0]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_color2:this.dyn_color[1]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_color3:this.dyn_color[2]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_color4:this.dyn_color[3]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_attr1:this.dyn_attr[0]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_attr2:this.dyn_attr[1]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_attr3:this.dyn_attr[2]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_dyn_attr4:this.dyn_attr[3]=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_no_con_obstacle:break;case Glow.eSave_GrowCtx_slider:this.slider=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_subgraph:this.subgraph=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_java_name:case Glow.eSave_GrowCtx_is_javaapplet:case Glow.eSave_GrowCtx_is_javaapplication:case Glow.eSave_GrowCtx_next_subgraph:case Glow.eSave_GrowCtx_animation_count:break;case Glow.eSave_GrowCtx_scantime:this.scantime=parseFloat(o[1]);break;case Glow.eSave_GrowCtx_fast_scantime:this.fast_scantime=parseFloat(o[1]);break;case Glow.eSave_GrowCtx_animation_scantime:this.animation_scantime=parseFloat(o[1]);break;case Glow.eSave_GrowCtx_java_width:this.java_width=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_background_image:1<o.length&&(this.background_image=o[1]);break;case Glow.eSave_GrowCtx_background_tiled:this.background_tiled=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_double_buffered:this.double_buffered=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_cycle:this.cycle=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_mb3_action:this.mb3_action=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_translate_on:this.translate_on=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_input_focus_mark:this.input_focus_mark=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_recursive_trace:this.recursive_trace=parseInt(o[1],10);break;case Glow.eSave_GrowCtx_userdata_cb:if(null!==this.appl){var n=this.appl.growUserdataOpen(t,i+1,this,Glow.eUserdataCbType_Ctx);this.userdata=n.userdata,i=n.row}break;case Glow.eSave_GrowCtx_bitmap_fonts:break;case Glow.eSave_GrowCtx_customcolors:i=this.customcolors.open(t,i+1);break;default:console.log("Syntax error in GrowCtx open_growctx",r)}if(s)break}return this.mw.offset_x=this.x0*this.mw.zoom_factor_x,this.mw.offset_y=this.y0*this.mw.zoom_factor_y,i},this.get_nodeclass_from_name=function(t){for(var e=0;e<this.a_nc.size();e++)if(t==this.a_nc.get(e).nc_name)return this.a_nc.get(e);return null},this.get_conclass_from_name=function(t){for(var e=0;e<this.a_cc.size();e++)if(t==this.a_cc.get(e).cc_name)return this.a_cc.get(e);return null},this.event_handler=function(t){var e,i=0;t.x,this.mw.zoom_factor_x,this.mw.offset_x,t.y,this.mw.zoom_factor_y,this.mw.offset_y;this.callback_object=null,this.callback_object_type=Glow.eObjectType_NoObject;for(var a=this.a.size()-1;0<=a&&(i=this.a.get(a).event_handler(t,t.x,t.y))!=Glow.GLOW__NO_PROPAGATE;a--){if(i==Glow.GLOW__TERMINATED)return i;if(1==i)break}switch(t.event){case Glow.eEvent_MB1Down:if(1==i&&null!==this.callback_object&&this.callback_object.type()==Glow.eObjectType_GrowSlider){if(this.sliderActive=!0,this.sliderObject=this.callback_object,(e=new GlowEvent).event=Glow.eEvent_SliderMoveStart,e.type=Glow.eEventType_Object,e.x=t.x,e.y=t.y,e.object=this.callback_object,e.object_type=this.callback_object.type(),this.appl.event_handler(e),null!==this.restriction_object){var s=this.restriction_object.measure();this.move_restriction==Glow.eMoveRestriction_VerticalSlider?this.slider_cursor_offset=s.ll_y-t.y:this.slider_cursor_offset=s.ll_x-t.x}this.node_move_last_x=t.x,this.node_move_last_y=t.y}break;case Glow.eEvent_MB1Up:this.sliderActive&&(null!==this.restriction_object&&((e=new GlowEvent).event=Glow.eEvent_SliderMoveEnd,e.type=Glow.eEventType_Object,e.x=t.x,e.y=t.y,e.object=this.restriction_object,e.object_type=this.restriction_object.type(),this.appl.event_handler(e),this.restriction_object=null),this.sliderObject=null,this.sliderActive=!1);break;case Glow.eEvent_ButtonMotion:var o,r,n,_;if(this.sliderActive&&null!==this.restriction_object)switch(this.move_restriction){case Glow.eMoveRestriction_VerticalSlider:if((n=t.y)+this.slider_cursor_offset>this.restriction_max_limit){if(this.node_move_last_y+this.slider_cursor_offset>this.restriction_max_limit)break;r=this.restriction_max_limit-this.node_move_last_y-this.slider_cursor_offset}else if(n+this.slider_cursor_offset<this.restriction_min_limit){if(this.node_move_last_y+this.slider_cursor_offset<this.restriction_min_limit)break;r=this.restriction_min_limit-this.node_move_last_y-this.slider_cursor_offset}else r=this.node_move_last_y+this.slider_cursor_offset>this.restriction_max_limit?n+this.slider_cursor_offset-this.restriction_max_limit:this.node_move_last_y+this.slider_cursor_offset<this.restriction_min_limit?n+this.slider_cursor_offset-this.restriction_min_limit:t.y-this.node_move_last_y;if(0===r)break;this.restriction_object.move(0,r),(e=new GlowEvent).event=Glow.eEvent_SliderMoved,e.type=Glow.eEventType_Object,e.x=t.x,e.y=this.node_move_last_y+r,e.object=this.restriction_object,e.object_type=this.restriction_object.type(),this.appl.event_handler(e),this.node_move_last_x=t.x,this.node_move_last_y=t.y;break;case Glow.eMoveRestriction_HorizontalSlider:if((_=t.x)+this.slider_cursor_offset>this.restriction_max_limit){if(this.node_move_last_x+this.slider_cursor_offset>this.restriction_max_limit)break;o=this.restriction_max_limit-this.node_move_last_x-this.slider_cursor_offset}else if(_+this.slider_cursor_offset<this.restriction_min_limit){if(this.node_move_last_x+this.slider_cursor_offset<this.restriction_min_limit)break;o=this.restriction_min_limit-this.node_move_last_x-this.slider_cursor_offset}else o=this.node_move_last_x+this.slider_cursor_offset>this.restriction_max_limit?_+this.slider_cursor_offset-this.restriction_max_limit:this.node_move_last_x+this.slider_cursor_offset<this.restriction_min_limit?_+this.slider_cursor_offset-this.restriction_min_limit:t.x-this.node_move_last_x;if(0===o)break;this.restriction_object.move(o,0),(e=new GlowEvent).event=Glow.eEvent_SliderMoved,e.type=Glow.eEventType_Object,e.x=this.node_move_last_x+o,e.y=t.y,e.object=this.restriction_object,e.object_type=this.restriction_object.type(),this.appl.event_handler(e),this.node_move_last_x=t.x,this.node_move_last_y=t.y}}return 1==i&&null!==this.appl&&(t.object=this.callback_object,t.object_type=this.callback_object_type,this.appl.event_handler(t)),i},this.getWidth=function(){return this.gdraw.canvas.width},this.getHeight=function(){return this.gdraw.canvas.height},this.setNodraw=function(){this.nodraw++},this.resetNodraw=function(){0<this.nodraw&&this.nodraw--},this.getNodraw=function(){return this.nodraw},this.draw=function(){this.tdraw(null,0,0,null,null)},this.rdraw=function(t,e,i,a){if(!this.drawing){var s;for(s=0;s<this.a.size();s++)this.a.get(s).type()==Glow.eObjectType_Con&&this.a.get(s).draw();for(s=0;s<this.a.size();s++)this.a.get(s).type()!=Glow.eObjectType_Con&&this.a.get(s).draw()}},this.tdraw=function(t,e,i,a,s){var o;for(this.gdraw.fill_rect(0,0,this.gdraw.canvas.width,this.gdraw.canvas.height,this.background_color),o=0;o<this.a.size();o++)this.a.get(o).type()==Glow.eObjectType_Con&&this.a.get(o).draw();for(o=0;o<this.a.size();o++)this.a.get(o).type()!=Glow.eObjectType_Con&&this.a.get(o).draw()},this.traceConnect=function(){this.nodraw++;for(var t=0;t<this.a.size();t++)if(this.a.get(t).type()==Glow.eObjectType_GrowNode||this.a.get(t).type()==Glow.eObjectType_GrowGroup||this.a.get(t).type()==Glow.eObjectType_GrowBar||this.a.get(t).type()==Glow.eObjectType_GrowBarArc||this.a.get(t).type()==Glow.eObjectType_GrowTrend||this.a.get(t).type()==Glow.eObjectType_GrowTable||this.a.get(t).type()==Glow.eObjectType_GrowSlider||this.a.get(t).type()==Glow.eObjectType_GrowWindow||this.a.get(t).type()==Glow.eObjectType_GrowFolder||this.a.get(t).type()==Glow.eObjectType_GrowXYCurve||this.a.get(t).type()==Glow.eObjectType_GrowPie||this.a.get(t).type()==Glow.eObjectType_GrowBarChart||this.a.get(t).type()==Glow.eObjectType_GrowToolbar||this.a.get(t).type()==Glow.eObjectType_GrowAxis||this.a.get(t).type()==Glow.eObjectType_GrowAxisArc)if(this.appl.traceConnect(this.a.get(t)),this.a.get(t).type()==Glow.eObjectType_GrowGroup)for(var e=0;e<this.a.get(t).nc.a.size();e++)this.a.get(t).nc.a.get(e).type()!=Glow.eObjectType_GrowNode&&this.a.get(t).nc.a.get(e).type()!=Glow.eObjectType_GrowGroup||this.appl.traceConnect(this.a.get(t).nc.a.get(e));else this.a.get(t).type()!=Glow.eObjectType_GrowWindow&&this.a.get(t).type()!=Glow.eObjectType_GrowFolder||this.a.get(t).traceConnect();this.nodraw--,this.trace_started=!0},this.traceDisconnect=function(){this.trace_started=!1;for(var t=0;t<this.a.size();t++)if(this.a.get(t).type()==Glow.eObjectType_GrowNode||this.a.get(t).type()==Glow.eObjectType_GrowGroup||this.a.get(t).type()==Glow.eObjectType_GrowBar||this.a.get(t).type()==Glow.eObjectType_GrowBarArc||this.a.get(t).type()==Glow.eObjectType_GrowTrend||this.a.get(t).type()==Glow.eObjectType_GrowTable||this.a.get(t).type()==Glow.eObjectType_GrowSlider||this.a.get(t).type()==Glow.eObjectType_GrowWindow||this.a.get(t).type()==Glow.eObjectType_GrowFolder||this.a.get(t).type()==Glow.eObjectType_GrowXYCurve||this.a.get(t).type()==Glow.eObjectType_GrowPie||this.a.get(t).type()==Glow.eObjectType_GrowBarChart||this.a.get(t).type()==Glow.eObjectType_GrowAxis||this.a.get(t).type()==Glow.eObjectType_GrowAxisArc)if(this.appl.traceDisconnect(this.a.get(t)),this.a.get(t).type()==Glow.eObjectType_GrowGroup)for(var e=0;e<this.a.get(t).nc.a.size();e++)this.a.get(t).nc.a.get(e).type()!=Glow.eObjectType_GrowNode&&this.a.get(t).nc.a.get(e).type()!=Glow.eObjectType_GrowGroup||this.appl.traceDisconnect(this.a.get(t).nc.a.get(e));else this.a.get(t).type()!=Glow.eObjectType_GrowWindow&&this.a.get(t).type()!=Glow.eObjectType_GrowFolder||this.a.get(t).traceDisconnect()},this.traceScan=function(){for(var t=0;t<this.a.size();t++)if(this.a.get(t).type()==Glow.eObjectType_GrowNode||this.a.get(t).type()==Glow.eObjectType_GrowGroup||this.a.get(t).type()==Glow.eObjectType_GrowBar||this.a.get(t).type()==Glow.eObjectType_GrowBarArc||this.a.get(t).type()==Glow.eObjectType_GrowTrend||this.a.get(t).type()==Glow.eObjectType_GrowTable||this.a.get(t).type()==Glow.eObjectType_GrowSlider||this.a.get(t).type()==Glow.eObjectType_GrowWindow||this.a.get(t).type()==Glow.eObjectType_GrowFolder||this.a.get(t).type()==Glow.eObjectType_GrowXYCurve||this.a.get(t).type()==Glow.eObjectType_GrowPie||this.a.get(t).type()==Glow.eObjectType_GrowBarChart||this.a.get(t).type()==Glow.eObjectType_GrowAxis||this.a.get(t).type()==Glow.eObjectType_GrowAxisArc)if(this.appl.traceScan(this.a.get(t)),this.a.get(t).type()==Glow.eObjectType_GrowGroup)for(var e=0;e<this.a.get(t).nc.a.size();e++)this.a.get(t).nc.a.get(e).type()!=Glow.eObjectType_GrowNode&&this.a.get(t).nc.a.get(e).type()!=Glow.eObjectType_GrowGroup||this.appl.traceScan(this.a.get(t).nc.a.get(e));else this.a.get(t).type()!=Glow.eObjectType_GrowWindow&&this.a.get(t).type()!=Glow.eObjectType_GrowFolder||this.a.get(t).traceScan()},this.traceStarted=function(){return this.trace_started},this.get_node_from_name=function(t){for(var e=0;e<this.a.size();e++)if(this.a.get(e).type()==Glow.eObjectType_GrowNode&&t==this.a.get(e).n_name)return this.a.get(e);return null},this.get_object_group=function(t){for(var e,i=0;i<this.a.size();i++)if(this.a.get(i).type()==Glow.eObjectType_GrowGroup&&null!=(e=this.a.get(i).get_object_group(t)))return e;return null},this.insert=function(t){this.a.add(t)},this.remove=function(t){this.a.remove(t)},this.register_callback_object=function(t,e){this.callback_object=e,this.callback_object_type=t},this.send_menu_callback=function(t,e,i,a,s){var o=new GlowEventMenu;return o.event=i,o.type=Glow.eEventType_Menu,o.x=a,o.y=s,o.object_type=t.type(),o.object=t,o.item=e,this.appl.event_handler(o),1},this.send_table_callback=function(t,e,i,a,s,o){var r=new GlowEventTable;return r.event=e,r.type=Glow.eEventType_Table,r.x=i,r.y=a,r.object_type=t.type(),r.object=t,r.column=s,r.row=o,this.appl.event_handler(r),1},this.send_toolbar_callback=function(t,e,i,a,s,o){var r=new GlowEventToolbar;return r.event=a,r.type=Glow.eEventType_Toolbar,r.x=s,r.y=o,r.object_type=t.type(),r.object=t,r.category=e,r.idx=i,this.appl.event_handler(r),1},this.setOwner=function(t){this.owner=t},this.getOwner=function(){return this.owner},this.get_object_list=function(){return this.a},this.getBackgroundObjectLimits=function(t,e,i){for(var a=0,s=new GlowBackgroundObject,o=0;o<this.a.size()&&0==(1&(a=this.a.get(o).get_background_object_limits(null,t,e,i,s)));o++);return s.sts=a,s},this.setMoveRestrictions=function(t,e,i,a){this.move_restriction=t,this.restriction_max_limit=e,this.restriction_min_limit=i,this.restriction_object=a},this.findByName=function(t){for(var e=t.toUpperCase(),i=0;i<this.a.size();i++)if(this.a.get(i).n_name.toUpperCase()==e)return this.a.get(i);return null},this.setSubwindowSource=function(t,e,i){var a=this.findByName(t);null!=a&&a.type()==Glow.eObjectType_GrowWindow?a.setSource(e,i):console.log("Window "+t+" not found "+a)},this.getSliderActive=function(){return this.sliderActive},this.setSliderActive=function(t){this.sliderActive=t},this.loadSubgraph=function(t){return 0}}function GrowFrame(t){var o=this;this.appl=t,this.get_nogdh=function(){var t=window.location.search.substring(1).split("&");return 2<t.length&&"no"==t[2].substring(4)},this.nogdh=this.get_nogdh(),console.log("Nogdh:",this.nogdh),this.appl.ctx=new GrowCtx(null),this.appl.baseCtx=this.appl.ctx,this.appl.ctx.appl=t,this.timer=null,this.vars_object=null,this.tmp_ctx=null,this.readGrowWeb=function(t,e){var i=window.location.href.lastIndexOf("/"),a=window.location.href.substring(0,i+1);a+=t;var s=new XMLHttpRequest;s.read_cb=e,s.open("GET",a,!0),s.addEventListener("load",function(){var t=s.responseText.split("\n");s.read_cb(t,0)}),s.send(null)},this.read_func=function(t,e,i){if(t==o.appl.baseCtx&&"DefaultWidth"==e[0].substring(3,15)&&"DefaultHeight"==e[1].substring(3,16)){var a=parseInt(e[0].substring(16),10),s=parseInt(e[1].substring(17),10);t.gdraw.canvas.width=a,t.gdraw.canvas.height=s}t.open(e,i),t.draw()},this.register_events=function(t){o.appl.ctx.gdraw.canvas.addEventListener("click",function(t){var e=t.pageY-o.appl.ctx.gdraw.offset_top,i=t.pageX-10;o.event_handler(i,e,Glow.eEvent_MB1Click)}),o.appl.ctx.gdraw.canvas.addEventListener("mousedown",function(t){var e=t.pageY-o.appl.ctx.gdraw.offset_top,i=t.pageX-10;o.event_handler(i,e,Glow.eEvent_MB1Down)}),o.appl.ctx.gdraw.canvas.addEventListener("mouseup",function(t){var e=t.pageY-o.appl.ctx.gdraw.offset_top,i=t.pageX-10;o.event_handler(i,e,Glow.eEvent_MB1Up)}),o.appl.ctx.gdraw.canvas.addEventListener("mousemove",function(t){var e=t.pageY-o.appl.ctx.gdraw.offset_top,i=t.pageX-10;(null==t.buttons?1==t.witch:1==t.buttons)?o.event_handler(i,e,Glow.eEvent_ButtonMotion):o.event_handler(i,e,Glow.eEvent_CursorMotion)})},this.readGrowWindow=function(t,e){var i=new GrowCtx(this.appl.baseCtx);i.appl=this.appl;var a=window.location.href.lastIndexOf("/"),s=window.location.href.substring(0,a+1);s+=t;var o=new XMLHttpRequest;return o.read_cb=e,o.open("GET",s,!0),o.addEventListener("load",function(){var t=o.responseText.split("\n");o.read_cb(t,0)}),o.send(null),i},this.grow_open=function(){console.log("grow_open")},this.grow_scan=function(){},this.grow_cyclic=function(){},this.grow_close=function(){console.log("Close function",o.timer)},this.get_filename=function(){return window.location.search.substring(1).split("&")[0].substring(6)+".pwg"},this.get_instance=function(){var t=window.location.search.substring(1).split("&");return 1<t.length?t[1].substring(9):""},this.event_handler=function(t,e,i){var a=new GlowEvent;a.event=i,a.x=(t+this.appl.ctx.mw.offset_x)/this.appl.ctx.mw.zoom_factor_x,a.y=(e+this.appl.ctx.mw.offset_y)/this.appl.ctx.mw.zoom_factor_y,this.appl.ctx.event_handler(a)},this.appl.ctx.setOwner(this.get_instance())}GrowAxis.prototype=Object.create(GrowRect.prototype),GrowAxisArc.prototype=Object.create(GrowArc.prototype),GrowPie.prototype=Object.create(GrowArc.prototype),GrowBarChart.prototype=Object.create(GrowRect.prototype),GrowTable.prototype=Object.create(GrowRect.prototype);var DynC={DYN__NO_PROPAGATE:20001,eValueInput_Success:0,eValueInput_Error:1,eValueInput_SyntaxError:2,eValueInput_MinValueExceeded:3,eValueInput_MaxValueExceeded:4,eCurveDataType_XYArrays:0,eCurveDataType_PointArray:1,eCurveDataType_TableObject:2,mInstance_1:1,mInstance_2:2,mInstance_3:4,mInstance_4:8,mInstance_5:16,mInstance_6:32,mInstance_7:64,mInstance_8:128,mInstance_9:256,mInstance_10:512,mInstance_11:1024,mInstance_12:2048,mInstance_13:4096,mInstance_14:8192,mInstance_15:16384,mInstance_16:32768,mInstance_17:65536,mInstance_18:1<<17,mInstance_19:1<<18,mInstance_20:1<<19,mInstance_21:1<<20,mInstance_22:1<<21,mInstance_23:1<<22,mInstance_24:1<<23,mInstance_25:1<<24,mInstance_26:1<<25,mInstance_27:1<<26,mInstance_28:1<<27,mInstance_29:1<<28,mInstance_30:1<<29,mInstance_31:1<<30,mInstance_32:1<<31,mDynType1_No:0,mDynType1_Inherit:1,mDynType1_Tone:2,mDynType1_DigLowColor:4,mDynType1_DigColor:8,mDynType1_DigError:16,mDynType1_DigWarning:32,mDynType1_DigFlash:64,mDynType1_Invisible:128,mDynType1_DigBorder:256,mDynType1_DigText:512,mDynType1_Value:1024,mDynType1_AnalogColor:2048,mDynType1_Rotate:4096,mDynType1_Move:8192,mDynType1_AnalogShift:16384,mDynType1_DigShift:32768,mDynType1_Animation:65536,mDynType1_Bar:1<<17,mDynType1_Trend:1<<18,mDynType1_SliderBackground:1<<19,mDynType1_Video:1<<20,mDynType1_FillLevel:1<<21,mDynType1_FastCurve:1<<22,mDynType1_AnalogText:1<<23,mDynType1_Table:1<<24,mDynType1_StatusColor:1<<25,mDynType1_HostObject:1<<26,mDynType1_DigSound:1<<27,mDynType1_XY_Curve:1<<28,mDynType1_DigCommand:1<<29,mDynType1_Pie:1<<30,mDynType1_BarChart:1<<31,mDynType2_No:0,mDynType2_Axis:1,mDynType2_DigTextColor:2,mDynType2_TimeoutColor:4,mDynType2_DigFourShift:8,mDynType2_ScrollingText:16,mDynType2_ColorThemeLightness:32,mDynType2_DigBackgroundColor:64,mDynType2_DigSwap:128,mDynType2_DigScript:256,mActionType1_No:0,mActionType1_Inherit:1,mActionType1_PopupMenu:2,mActionType1_SetDig:4,mActionType1_ResetDig:8,mActionType1_ToggleDig:16,mActionType1_StoDig:32,mActionType1_Command:64,mActionType1_CommandDoubleClick:128,mActionType1_Confirm:256,mActionType1_IncrAnalog:512,mActionType1_RadioButton:1024,mActionType1_Slider:2048,mActionType1_ValueInput:4096,mActionType1_TipText:8192,mActionType1_Help:16384,mActionType1_OpenGraph:32768,mActionType1_OpenURL:65536,mActionType1_InputFocus:1<<17,mActionType1_CloseGraph:1<<18,mActionType1_PulldownMenu:1<<19,mActionType1_OptionMenu:1<<20,mActionType1_SetValue:1<<21,mActionType1_MethodToolbar:1<<22,mActionType1_MethodPulldownMenu:1<<23,mActionType1_Script:1<<24,mActionType1_CatchSignal:1<<25,mActionType1_EmitSignal:1<<26,mActionType2_No:0,eDynPrio_DigSound:0,eDynPrio_HostObject:1,eDynPrio_Invisible:2,eDynPrio_DigFlash:3,eDynPrio_TimeoutColor:4,eDynPrio_DigError:5,eDynPrio_DigWarning:6,eDynPrio_AnalogColor:7,eDynPrio_DigColor:8,eDynPrio_DigLowColor:9,eDynPrio_DigBackgroundColor:10,eDynPrio_DigTextColor:11,eDynPrio_DigBorder:12,eDynPrio_DigText:13,eDynPrio_FillLevel:14,eDynPrio_Value:15,eDynPrio_ValueInput:16,eDynPrio_Rotate:17,eDynPrio_Move:18,eDynPrio_AnalogShift:19,eDynPrio_DigShift:20,eDynPrio_DigFourShift:21,eDynPrio_Animation:22,eDynPrio_Bar:23,eDynPrio_Trend:24,eDynPrio_FastCurve:25,eDynPrio_XY_Curve:26,eDynPrio_AnalogText:27,eDynPrio_Table:28,eDynPrio_SliderBackground:29,eDynPrio_Video:30,eDynPrio_StatusColor:31,eDynPrio_PopupMenu:32,eDynPrio_Confirm:33,eDynPrio_SetDig:34,eDynPrio_ResetDig:35,eDynPrio_ToggleDig:36,eDynPrio_StoDig:37,eDynPrio_Help:38,eDynPrio_OpenGraph:39,eDynPrio_OpenURL:40,eDynPrio_CommandDoubleClick:41,eDynPrio_IncrAnalog:42,eDynPrio_RadioButton:43,eDynPrio_Slider:44,eDynPrio_TipText:45,eDynPrio_PulldownMenu:46,eDynPrio_OptionMenu:47,eDynPrio_InputFocus:48,eDynPrio_DigCommand:49,eDynPrio_SetValue:50,eDynPrio_Pie:51,eDynPrio_BarChart:52,eDynPrio_Axis:53,eDynPrio_MethodToolbar:54,eDynPrio_MethodPulldownMenu:55,eDynPrio_ScrollingText:56,eDynPrio_ColorThemeLightness:57,eDynPrio_DigSwap:58,eDynPrio_DigScript:59,eDynPrio_CatchSignal:60,eDynPrio_EmitSignal:61,eDynPrio_Script:9998,eDynPrio_Command:9999,eDynPrio_CloseGraph:1e4,eSave_Dyn:1,eSave_DigLowColor:2,eSave_DigColor:3,eSave_DigError:7,eSave_DigWarning:8,eSave_Invisible:9,eSave_DigBorder:10,eSave_DigText:11,eSave_Value:12,eSave_ValueInput:13,eSave_Rotate:14,eSave_Move:15,eSave_AnalogShift:17,eSave_DigShift:18,eSave_Animation:19,eSave_Bar:22,eSave_Trend:23,eSave_SliderBackground:24,eSave_Video:25,eSave_DigFlash:26,eSave_FillLevel:27,eSave_FastCurve:28,eSave_AnalogText:29,eSave_Table:30,eSave_StatusColor:31,eSave_HostObject:32,eSave_DigSound:33,eSave_XY_Curve:34,eSave_DigCommand:35,eSave_Pie:36,eSave_BarChart:37,eSave_Axis:38,eSave_DigTextColor:39,eSave_TimeoutColor:40,eSave_DigFourShift:41,eSave_ScrollingText:42,eSave_ColorThemeLightness:43,eSave_DigBackgroundColor:44,eSave_DigSwap:45,eSave_DigScript:46,eSave_PopupMenu:50,eSave_SetDig:51,eSave_ResetDig:52,eSave_ToggleDig:53,eSave_StoDig:54,eSave_Command:55,eSave_CommandDC:56,eSave_Confirm:57,eSave_IncrAnalog:58,eSave_RadioButton:59,eSave_Slider:60,eSave_AnalogColor:61,eSave_TipText:62,eSave_Help:63,eSave_OpenGraph:64,eSave_OpenURL:65,eSave_InputFocus:66,eSave_CloseGraph:67,eSave_PulldownMenu:68,eSave_OptionMenu:69,eSave_SetValue:70,eSave_MethodToolbar:71,eSave_MethodPulldownMenu:72,eSave_Script:73,eSave_CatchSignal:74,eSave_EmitSignal:75,eSave_End:99,eSave_Dyn_dyn_type1:100,eSave_Dyn_action_type1:101,eSave_Dyn_access:102,eSave_Dyn_cycle:103,eSave_Dyn_ref_object:104,eSave_Dyn_dyn_type2:105,eSave_Dyn_action_type2:106,eSave_DigLowColor_attribute:200,eSave_DigLowColor_color:201,eSave_DigColor_attribute:300,eSave_DigColor_color:301,eSave_DigColor_instance:302,eSave_DigColor_instance_mask:303,eSave_DigError_attribute:700,eSave_DigError_use_colortheme:701,eSave_DigWarning_attribute:800,eSave_DigWarning_use_colortheme:801,eSave_Invisible_attribute:900,eSave_Invisible_dimmed:901,eSave_Invisible_instance:902,eSave_Invisible_instance_mask:903,eSave_DigBorder_attribute:1e3,eSave_DigBorder_color:1001,eSave_DigText_attribute:1100,eSave_DigText_low_text:1101,eSave_DigText_instance:1102,eSave_DigText_instance_mask:1103,eSave_Value_attribute:1200,eSave_Value_format:1201,eSave_Value_instance:1202,eSave_Value_instance_mask:1203,eSave_Value_zero_blank:1204,eSave_Value_decimals_attr:1205,eSave_Value_decimals_decr:1206,eSave_ValueInput_attribute:1300,eSave_ValueInput_format:1301,eSave_ValueInput_min_value:1302,eSave_ValueInput_max_value:1303,eSave_ValueInput_clear:1304,eSave_ValueInput_popup:1305,eSave_ValueInput_unselect:1306,eSave_ValueInput_minvalue_attr:1307,eSave_ValueInput_maxvalue_attr:1308,eSave_ValueInput_escape_store:1309,eSave_ValueInput_keyboard_type:1310,eSave_ValueInput_update_open:1311,eSave_Rotate_attribute:1400,eSave_Rotate_x0:1401,eSave_Rotate_y0:1402,eSave_Rotate_factor:1403,eSave_Move_move_x_attribute:1500,eSave_Move_move_y_attribute:1501,eSave_Move_x_offset:1502,eSave_Move_y_offset:1503,eSave_Move_x_factor:1504,eSave_Move_scale_x_attribute:1505,eSave_Move_scale_y_attribute:1506,eSave_Move_scale_x_factor:1507,eSave_Move_scale_type:1508,eSave_Move_y_factor:1509,eSave_Move_scale_y_factor:1510,eSave_AnalogShift_attribute:1700,eSave_DigShift_attribute:1800,eSave_Animation_attribute:1900,eSave_Animation_sequence:1901,eSave_Bar_attribute:2200,eSave_Bar_minvalue_attr:2201,eSave_Bar_maxvalue_attr:2202,eSave_Trend_attribute1:2300,eSave_Trend_attribute2:2301,eSave_Trend_minvalue_attr1:2302,eSave_Trend_maxvalue_attr1:2303,eSave_Trend_minvalue_attr2:2304,eSave_Trend_maxvalue_attr2:2305,eSave_Trend_hold_attr:2306,eSave_Trend_timerange_attr:2307,eSave_Trend_mark1_attr:2308,eSave_Trend_mark2_attr:2309,eSave_Trend_mark1_color:2310,eSave_Trend_mark2_color:2311,eSave_DigFlash_attribute:2600,eSave_DigFlash_color:2601,eSave_DigFlash_color2:2602,eSave_FillLevel_attribute:2700,eSave_FillLevel_color:2701,eSave_FillLevel_direction:2702,eSave_FillLevel_min_value:2703,eSave_FillLevel_max_value:2704,eSave_FillLevel_minvalue_attr:2705,eSave_FillLevel_maxvalue_attr:2706,eSave_FastCurve_fast_object:2800,eSave_FastCurve_curve_index1:2801,eSave_FastCurve_curve_index2:2802,eSave_AnalogText_super:2900,eSave_Table_attribute1:3e3,eSave_Table_format1:3001,eSave_Table_sel_attribute1:3002,eSave_Table_attribute2:3003,eSave_Table_format2:3004,eSave_Table_sel_attribute2:3005,eSave_Table_attribute3:3006,eSave_Table_format3:3007,eSave_Table_sel_attribute3:3008,eSave_Table_attribute4:3009,eSave_Table_format4:3010,eSave_Table_sel_attribute4:3011,eSave_Table_attribute5:3012,eSave_Table_format5:3013,eSave_Table_sel_attribute5:3014,eSave_Table_attribute6:3015,eSave_Table_format6:3016,eSave_Table_sel_attribute6:3017,eSave_Table_attribute7:3018,eSave_Table_format7:3019,eSave_Table_sel_attribute7:3020,eSave_Table_attribute8:3021,eSave_Table_format8:3022,eSave_Table_sel_attribute8:3023,eSave_Table_attribute9:3024,eSave_Table_format9:3025,eSave_Table_sel_attribute9:3026,eSave_Table_attribute10:3027,eSave_Table_format10:3028,eSave_Table_sel_attribute10:3029,eSave_Table_attribute11:3030,eSave_Table_format11:3031,eSave_Table_sel_attribute11:3032,eSave_Table_attribute12:3033,eSave_Table_format12:3034,eSave_Table_sel_attribute12:3035,eSave_StatusColor_attribute:3100,eSave_StatusColor_nostatus_color:3101,eSave_StatusColor_use_colortheme:3102,eSave_HostObject_object:3200,eSave_DigSound_attribute:3300,eSave_DigSound_soundobject:3301,eSave_DigSound_level:3302,eSave_DigSound_interval:3303,eSave_DigSound_instance:3304,eSave_DigSound_instance_mask:3305,eSave_XY_Curve_x_attr:3400,eSave_XY_Curve_y_attr:3401,eSave_XY_Curve_y_min_value:3402,eSave_XY_Curve_y_max_value:3403,eSave_XY_Curve_x_min_value:3404,eSave_XY_Curve_x_max_value:3405,eSave_XY_Curve_y_minvalue_attr:3406,eSave_XY_Curve_y_maxvalue_attr:3407,eSave_XY_Curve_x_minvalue_attr:3408,eSave_XY_Curve_x_maxvalue_attr:3409,eSave_XY_Curve_noofpoints:3410,eSave_XY_Curve_noofpoints_attr:3411,eSave_XY_Curve_update_attr:3412,eSave_XY_Curve_datatype:3413,eSave_XY_Curve_instance:3414,eSave_XY_Curve_instance_mask:3415,eSave_XY_Curve_curve_color:3416,eSave_XY_Curve_fill_color:3417,eSave_XY_Curve_horizontal_padding:3418,eSave_XY_Curve_x_mark1_attr:3419,eSave_XY_Curve_x_mark2_attr:3420,eSave_XY_Curve_y_mark1_attr:3421,eSave_XY_Curve_y_mark2_attr:3422,eSave_XY_Curve_mark1_color:3423,eSave_XY_Curve_mark2_color:3424,eSave_DigCommand_attribute:3500,eSave_DigCommand_command:3501,eSave_DigCommand_instance:3502,eSave_DigCommand_instance_mask:3503,eSave_DigCommand_level:3504,eSave_Pie_attribute1:3600,eSave_Pie_attribute2:3601,eSave_Pie_attribute3:3602,eSave_Pie_attribute4:3603,eSave_Pie_attribute5:3604,eSave_Pie_attribute6:3605,eSave_Pie_attribute7:3606,eSave_Pie_attribute8:3607,eSave_Pie_attribute9:3608,eSave_Pie_attribute10:3609,eSave_Pie_attribute11:3610,eSave_Pie_attribute12:3611,eSave_Pie_fix_range:3612,eSave_BarChart_attribute1:3700,eSave_BarChart_attribute2:3701,eSave_BarChart_attribute3:3702,eSave_BarChart_attribute4:3703,eSave_BarChart_attribute5:3704,eSave_BarChart_attribute6:3705,eSave_BarChart_attribute7:3706,eSave_BarChart_attribute8:3707,eSave_BarChart_attribute9:3708,eSave_BarChart_attribute10:3709,eSave_BarChart_attribute11:3710,eSave_BarChart_attribute12:3711,eSave_BarChart_fix_range:3712,eSave_Axis_minvalue_attr:3800,eSave_Axis_maxvalue_attr:3801,eSave_Axis_keep_settings:3802,eSave_DigTextColor_attribute:3900,eSave_DigTextColor_color:3901,eSave_TimeoutColor_time:4e3,eSave_TimeoutColor_color:4001,eSave_DigFourShift_attribute1:4100,eSave_DigFourShift_attribute2:4101,eSave_DigFourShift_attribute3:4102,eSave_ScrollingText_attribute:4200,eSave_ScrollingText_direction:4201,eSave_ScrollingText_speed:4202,eSave_ScrollingText_bounce:4203,eSave_DigBackgroundColor_attribute:4400,eSave_DigBackgroundColor_color:4401,eSave_DigBackgroundColor_instance:4402,eSave_DigBackgroundColor_instance_mask:4403,eSave_DigSwap_attribute:4500,eSave_DigSwap_reset_value:4501,eSave_DigScript_attribute:4600,eSave_DigScript_script:4601,eSave_DigScript_script_len:4602,eSave_DigScript_level:4603,eSave_PopupMenu_ref_object:5e3,eSave_SetDig_attribute:5100,eSave_SetDig_instance:5101,eSave_SetDig_instance_mask:5102,eSave_ResetDig_attribute:5200,eSave_ResetDig_instance:5201,eSave_ResetDig_instance_mask:5202,eSave_ToggleDig_attribute:5300,eSave_StoDig_attribute:5400,eSave_Command_command:5500,eSave_CommandDC_command:5600,eSave_Confirm_text:5700,eSave_Confirm_on_set:5701,eSave_Confirm_on_reset:5702,eSave_IncrAnalog_attribute:5800,eSave_IncrAnalog_increment:5801,eSave_IncrAnalog_min_value:5802,eSave_IncrAnalog_max_value:5803,eSave_RadioButton_attribute:5900,eSave_Slider_attribute:6e3,eSave_Slider_minvalue_attr:6001,eSave_Slider_maxvalue_attr:6002,eSave_Slider_insensitive_attr:6003,eSave_Slider_release_attr:6004,eSave_AnalogColor_attribute:6100,eSave_AnalogColor_limit:6101,eSave_AnalogColor_limit_type:6102,eSave_AnalogColor_color:6103,eSave_AnalogColor_instance:6104,eSave_AnalogColor_instance_mask:6105,eSave_AnalogColor_border:6106,eSave_AnalogColor_common_attr:6107,eSave_TipText_text:6200,eSave_Help_topic:6300,eSave_Help_bookmark:6400,eSave_OpenGraph_graph_object:6401,eSave_OpenURL_url:6500,eSave_InputFocus_initial_focus:6600,eSave_InputFocus_next_horizontal:6601,eSave_InputFocus_next_vertical:6602,eSave_InputFocus_next_tab:6603,eSave_PulldownMenu_button_mask:6800,eSave_PulldownMenu_items_text0:6801,eSave_PulldownMenu_items_text1:6802,eSave_PulldownMenu_items_text2:6803,eSave_PulldownMenu_items_text3:6804,eSave_PulldownMenu_items_text4:6805,eSave_PulldownMenu_items_text5:6806,eSave_PulldownMenu_items_text6:6807,eSave_PulldownMenu_items_text7:6808,eSave_PulldownMenu_items_text8:6809,eSave_PulldownMenu_items_text9:6810,eSave_PulldownMenu_items_text10:6811,eSave_PulldownMenu_items_text11:6812,eSave_PulldownMenu_items_text12:6813,eSave_PulldownMenu_items_text13:6814,eSave_PulldownMenu_items_text14:6815,eSave_PulldownMenu_items_text15:6816,eSave_PulldownMenu_items_text16:6817,eSave_PulldownMenu_items_text17:6818,eSave_PulldownMenu_items_text18:6819,eSave_PulldownMenu_items_text19:6820,eSave_PulldownMenu_items_text20:6821,eSave_PulldownMenu_items_text21:6822,eSave_PulldownMenu_items_text22:6823,eSave_PulldownMenu_items_text23:6824,eSave_PulldownMenu_items_text24:6825,eSave_PulldownMenu_items_text25:6826,eSave_PulldownMenu_items_text26:6827,eSave_PulldownMenu_items_text27:6828,eSave_PulldownMenu_items_text28:6829,eSave_PulldownMenu_items_text29:6830,eSave_PulldownMenu_items_text30:6831,eSave_PulldownMenu_items_text31:6832,eSave_PulldownMenu_items_dyn0:6833,eSave_PulldownMenu_items_dyn1:6834,eSave_PulldownMenu_items_dyn2:6835,eSave_PulldownMenu_items_dyn3:6836,eSave_PulldownMenu_items_dyn4:6837,eSave_PulldownMenu_items_dyn5:6838,eSave_PulldownMenu_items_dyn6:6839,eSave_PulldownMenu_items_dyn7:6840,eSave_PulldownMenu_items_dyn8:6841,eSave_PulldownMenu_items_dyn9:6842,eSave_PulldownMenu_items_dyn10:6843,eSave_PulldownMenu_items_dyn11:6844,eSave_PulldownMenu_items_dyn12:6845,eSave_PulldownMenu_items_dyn13:6846,eSave_PulldownMenu_items_dyn14:6847,eSave_PulldownMenu_items_dyn15:6848,eSave_PulldownMenu_items_dyn16:6849,eSave_PulldownMenu_items_dyn17:6850,eSave_PulldownMenu_items_dyn18:6851,eSave_PulldownMenu_items_dyn19:6852,eSave_PulldownMenu_items_dyn20:6853,eSave_PulldownMenu_items_dyn21:6854,eSave_PulldownMenu_items_dyn22:6855,eSave_PulldownMenu_items_dyn23:6856,eSave_PulldownMenu_items_dyn24:6857,eSave_PulldownMenu_items_dyn25:6858,eSave_PulldownMenu_items_dyn26:6859,eSave_PulldownMenu_items_dyn27:6860,eSave_PulldownMenu_items_dyn28:6861,eSave_PulldownMenu_items_dyn29:6862,eSave_PulldownMenu_items_dyn30:6863,eSave_PulldownMenu_items_dyn31:6864,eSave_OptionMenu_button_mask:6900,eSave_OptionMenu_items_text0:6901,eSave_OptionMenu_items_text1:6902,eSave_OptionMenu_items_text2:6903,eSave_OptionMenu_items_text3:6904,eSave_OptionMenu_items_text4:6905,eSave_OptionMenu_items_text5:6906,eSave_OptionMenu_items_text6:6907,eSave_OptionMenu_items_text7:6908,eSave_OptionMenu_items_text8:6909,eSave_OptionMenu_items_text9:6910,eSave_OptionMenu_items_text10:6911,eSave_OptionMenu_items_text11:6912,eSave_OptionMenu_items_text12:6913,eSave_OptionMenu_items_text13:6914,eSave_OptionMenu_items_text14:6915,eSave_OptionMenu_items_text15:6916,eSave_OptionMenu_items_text16:6917,eSave_OptionMenu_items_text17:6918,eSave_OptionMenu_items_text18:6919,eSave_OptionMenu_items_text19:6920,eSave_OptionMenu_items_text20:6921,eSave_OptionMenu_items_text21:6922,eSave_OptionMenu_items_text22:6923,eSave_OptionMenu_items_text23:6924,eSave_OptionMenu_items_text24:6925,eSave_OptionMenu_items_text25:6926,eSave_OptionMenu_items_text26:6927,eSave_OptionMenu_items_text27:6928,eSave_OptionMenu_items_text28:6929,eSave_OptionMenu_items_text29:6930,eSave_OptionMenu_items_text30:6931,eSave_OptionMenu_items_text31:6932,eSave_OptionMenu_items_enum0:6933,eSave_OptionMenu_items_enum1:6934,eSave_OptionMenu_items_enum2:6935,eSave_OptionMenu_items_enum3:6936,eSave_OptionMenu_items_enum4:6937,eSave_OptionMenu_items_enum5:6938,eSave_OptionMenu_items_enum6:6939,eSave_OptionMenu_items_enum7:6940,eSave_OptionMenu_items_enum8:6941,eSave_OptionMenu_items_enum9:6942,eSave_OptionMenu_items_enum10:6943,eSave_OptionMenu_items_enum11:6944,eSave_OptionMenu_items_enum12:6945,eSave_OptionMenu_items_enum13:6946,eSave_OptionMenu_items_enum14:6947,eSave_OptionMenu_items_enum15:6948,eSave_OptionMenu_items_enum16:6949,eSave_OptionMenu_items_enum17:6950,eSave_OptionMenu_items_enum18:6951,eSave_OptionMenu_items_enum19:6952,eSave_OptionMenu_items_enum20:6953,eSave_OptionMenu_items_enum21:6954,eSave_OptionMenu_items_enum22:6955,eSave_OptionMenu_items_enum23:6956,eSave_OptionMenu_items_enum24:6957,eSave_OptionMenu_items_enum25:6958,eSave_OptionMenu_items_enum26:6959,eSave_OptionMenu_items_enum27:6960,eSave_OptionMenu_items_enum28:6961,eSave_OptionMenu_items_enum29:6962,eSave_OptionMenu_items_enum30:6963,eSave_OptionMenu_items_enum31:6964,eSave_OptionMenu_attribute:6965,eSave_OptionMenu_text_attribute:6966,eSave_OptionMenu_size_attribute:6967,eSave_OptionMenu_update_attribute:6968,eSave_OptionMenu_optionmenu_type:6969,eSave_SetValue_attribute:7e3,eSave_SetValue_value:7001,eSave_SetValue_instance:7002,eSave_SetValue_instance_mask:7003,eSave_MethodToolbar_method_object:7100,eSave_MethodToolbar_toolbar_type:7101,eSave_MethodPulldownMenu_method_object:7200,eSave_MethodPulldownMenu_menu_type:7201,eSave_Script_script_len:7300,eSave_Script_script:7301,eSave_CatchSignal_signal_name:7400,eSave_EmitSignal_signal_name:7500,eSave_EmitSignal_global:7501,eAnimSequence_Inherit:0,eAnimSequence_Cycle:1,eAnimSequence_Dig:2,eAnimSequence_ForwBack:3,eLimitType_Gt:0,eLimitType_Lt:1,eLimitType_Ge:2,eLimitType_Le:3,eLimitType_Eq:4,ePwrStatus_No:0,ePwrStatus_Success:1,ePwrStatus_Warning:2,ePwrStatus_Error:3,ePwrStatus_Fatal:4,eMethodsMenuType_Object:0,eMethodsMenuType_Help:1,eMethodsMenuType_Simulate:2,eMethodToolbarType_Object:0,eMethodToolbarType_Simulate:1,method_toolbar_op_cnt:12,method_toolbar_op_helpmask:256,method_toolbar_op_subgraph:["pwr_mb2opengraph","pwr_mb2openobjectgraph","pwr_mb2trend","pwr_mb2history","pwr_mb2fast","pwr_mb2camera","pwr_mb2histevent","pwr_mb2blockevents","pwr_mb2help","pwr_mb2photo","pwr_mb2note","pwr_mb2parentgraph"],method_toolbar_mnt_cnt:32,method_toolbar_mnt_helpmask:16,method_toolbar_mnt_subgraph:["pwr_mb2openobject","pwr_mb2openplc","pwr_mb2rtnavigator","pwr_mb2crossreferences","pwr_mb2helpclass","pwr_mb2datasheet","pwr_mb2circuitdiagram","","","","","","","","","","","","","","","","","","","","","","","","","pwr_mb2simulate"],method_toolbar_op_methods:["Graph","Object Graph","Trend","History","Fast","Camera","Event Log...","Block Events...","Help","Photo","Note","Parent Object Graph"],method_toolbar_mnt_methods:["Open Object","Open Plc","RtNavigator","Crossreferences","Help Class","DataSheet","CircuitDiagram","","","","","","","","","","","","","","","","","","","","","","","","","Simulate"],method_toolbar_op_tooltip:["Graph","Object graph","Trend","History","Fast curve","Camera","Event log","Block events","Help","Photo","Note","Open parent object graph"],method_toolbar_mnt_tooltip:["Open object","Open plc","Navigator","CrossReferences","Help class","Datasheet","CircuitDiagram","","","","","","","","","","","","","","","","","","","","","","","","","Simulate"]};function DynParsedAttrName(){this.name,this.tname,this.inverted,this.elements,this.index,this.type,this.database,this.bitmask}function Dyn(h){this.debug=!1,this.elements=[],this.graph=h,this.object=null,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.access=0,this.cycle=0,this.total_dyn_type1=0,this.total_dyn_type2=0,this.total_action_type1=0,this.total_action_type2=0,this.repaintNow=!1,this.ignoreColor=!1,this.resetColor=!1,this.ignoreBgColor=!1,this.resetBgColor=!1,this.getColor1=function(t,e){return e==Glow.eDrawType_Inherit?t.getClassTraceColor1():e},this.getColor2=function(t,e){return e==Glow.eDrawType_Inherit?t.getClassTraceColor2():e},this.merge=function(t){var e,i,a;this.dyn_type1=this.dyn_type1|t.dyn_type1,this.total_dyn_type1=this.total_dyn_type1|t.total_dyn_type1,this.action_type1=this.action_type1|t.action_type1,this.total_action_type1=this.total_action_type1|t.total_action_type1;for(var s=0;s<t.elements.length;s++){i=t.elements[s];for(var o=0;o<this.elements.length;o++)if((e=this.elements[o]).dyn_type1==i.dyn_type1&&e.dyn_type2==i.dyn_type2&&e.action_type1==i.action_type1&&e.action_type2==i.action_type2&&(void 0===e.instance||void 0!==e.instance&&e.instance==i.instance)){this.elements.splice(o,1);break}null!=(a=this.copy_element(i))&&(a.dyn=this).elements.push(a)}},this.copy_element=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},this.open=function(t,e){var i,a,s=!1;for(i=e;i<t.length;i++){var o=t[i].split(" "),r=parseInt(o[0],10);switch(this.debug&&console.log("Dyn : "+t[i]),a=null,r){case DynC.eSave_Dyn:break;case DynC.eSave_Dyn_dyn_type1:this.dyn_type1=parseInt(o[1],10);break;case DynC.eSave_Dyn_dyn_type2:this.dyn_type2=parseInt(o[1],10);break;case DynC.eSave_Dyn_action_type1:this.action_type1=parseInt(o[1],10);break;case DynC.eSave_Dyn_action_type2:this.action_type2=parseInt(o[1],10);break;case DynC.eSave_Dyn_access:this.access=parseInt(o[1],10);break;case DynC.eSave_Dyn_cycle:this.cycle=parseInt(o[1],10);break;case DynC.eSave_DigLowColor:a=new DynDigLowColor(this);break;case DynC.eSave_DigColor:a=new DynDigColor(this);break;case DynC.eSave_DigWarning:a=new DynDigWarning(this);break;case DynC.eSave_DigError:a=new DynDigError(this);break;case DynC.eSave_DigFlash:a=new DynDigFlash(this);break;case DynC.eSave_Invisible:a=new DynInvisible(this);break;case DynC.eSave_DigBorder:a=new DynDigBorder(this);break;case DynC.eSave_DigText:a=new DynDigText(this);break;case DynC.eSave_Value:a=new DynValue(this);break;case DynC.eSave_ValueInput:a=new DynValueInput(this);break;case DynC.eSave_AnalogColor:a=new DynAnalogColor(this);break;case DynC.eSave_Rotate:a=new DynRotate(this);break;case DynC.eSave_Move:a=new DynMove(this);break;case DynC.eSave_AnalogShift:a=new DynAnalogShift(this);break;case DynC.eSave_DigShift:a=new DynDigShift(this);break;case DynC.eSave_DigFourShift:a=new DynDigFourShift(this);break;case DynC.eSave_ScrollingText:a=new DynScrollingText(this);break;case DynC.eSave_ColorThemeLightness:a=new DynColorThemeLightness(this);break;case DynC.eSave_DigBackgroundColor:a=new DynDigBackgroundColor(this);break;case DynC.eSave_DigSwap:a=new DynDigSwap(this);break;case DynC.eSave_DigScript:a=new DynDigScript(this);break;case DynC.eSave_Animation:a=new DynAnimation(this);break;case DynC.eSave_Video:a=new DynVideo(this);break;case DynC.eSave_Bar:a=new DynBar(this);break;case DynC.eSave_Trend:a=new DynTrend(this);break;case DynC.eSave_FillLevel:a=new DynFillLevel(this);break;case DynC.eSave_FastCurve:a=new DynFastCurve(this);break;case DynC.eSave_AnalogText:a=new DynAnalogText(this);break;case DynC.eSave_Table:a=new DynTable(this);break;case DynC.eSave_StatusColor:a=new DynStatusColor(this);break;case DynC.eSave_Pie:a=new DynPie(this);break;case DynC.eSave_BarChart:a=new DynBarChart(this);break;case DynC.eSave_Axis:a=new DynAxis(this);break;case DynC.eSave_DigTextColor:a=new DynDigTextColor(this);break;case DynC.eSave_TimeoutColor:a=new DynTimeoutColor(this);break;case DynC.eSave_HostObject:a=new DynHostObject(this);break;case DynC.eSave_DigSound:a=new DynDigSound(this);break;case DynC.eSave_XY_Curve:a=new DynXY_Curve(this);break;case DynC.eSave_DigCommand:a=new DynDigCommand(this);break;case DynC.eSave_PopupMenu:a=new DynPopupMenu(this);break;case DynC.eSave_SetDig:a=new DynSetDig(this);break;case DynC.eSave_ResetDig:a=new DynResetDig(this);break;case DynC.eSave_ToggleDig:a=new DynToggleDig(this);break;case DynC.eSave_StoDig:a=new DynStoDig(this);break;case DynC.eSave_Command:a=new DynCommand(this);break;case DynC.eSave_CommandDC:a=new DynCommandDoubleClick(this);break;case DynC.eSave_Confirm:a=new DynConfirm(this);break;case DynC.eSave_IncrAnalog:a=new DynIncrAnalog(this);break;case DynC.eSave_RadioButton:a=new DynRadioButton(this);break;case DynC.eSave_Slider:a=new DynSlider(this);break;case DynC.eSave_TipText:a=new DynTipText(this);break;case DynC.eSave_Help:a=new DynHelp(this);break;case DynC.eSave_OpenGraph:a=new DynOpenGraph(this);break;case DynC.eSave_OpenURL:a=new DynOpenURL(this);break;case DynC.eSave_InputFocus:a=new DynInputFocus(this);break;case DynC.eSave_CloseGraph:a=new DynCloseGraph(this);break;case DynC.eSave_PulldownMenu:a=new DynPulldownMenu(this);break;case DynC.eSave_OptionMenu:a=new DynOptionMenu(this);break;case DynC.eSave_SetValue:a=new DynSetValue(this);break;case DynC.eSave_MethodToolbar:a=new DynMethodToolbar(this);break;case DynC.eSave_MethodPulldownMenu:a=new DynMethodPulldownMenu(this);break;case DynC.eSave_Script:a=new DynScript(this);break;case DynC.eSave_CatchSignal:a=new DynCatchSignal(this);break;case DynC.eSave_EmitSignal:a=new DynEmitSignal(this);break;case DynC.eSave_End:s=!0;break;default:console.log("Syntax error in Dyn")}if(null!==a&&(this.elements.push(a),i=a.open(t,i+1)),s)break}return i},this.connect=function(t){if(0!=(this.dyn_type1&DynC.mDynType1_Inherit)){var e=t.getClassDynType1(),i=t.getClassDynType2();this.total_dyn_type1=this.dyn_type1|e,this.total_dyn_type2=this.dyn_type2|i}else this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2;if(0!=(this.action_type1&DynC.mActionType1_Inherit)){var a=t.getClassActionType1(),s=t.getClassActionType2();this.total_action_type1=this.action_type1|a,this.total_action_type2=this.action_type2|s}else this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2;this.cycle==Glow.eCycle_Inherit&&(this.cycle=t.getClassCycle(),this.cycle==Glow.eCycle_Inherit&&(this.cycle=Glow.eCycle_Slow));for(var o=0;o<this.elements.length;o++)this.elements[o].connect(t);return 1},this.disconnect=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].disconnect()},this.scan=function(t){this.repaintNow=!1,this.ignoreColor=!1,this.resetColor=!1,this.ignoreBgColor=!1,this.resetBgColor=!1;for(var e=0;e<this.elements.length;e++)this.elements[e].scan(t);this.repaintNow&&t.draw()},this.action=function(t,e){for(var i,a=0;a<this.elements.length;a++)if((i=this.elements[a].action(t,e))==DynC.DYN__NO_PROPAGATE||i==Glow.GLOW__TERMINATED||i==Glow.GLOW__SUBTERMINATED)return i;return 1},this.setTotal=function(t){if(null==t)this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2,this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2;else{if(0!=(this.dyn_type1&DynC.mDynType1_Inherit)){var e=t.getClassDynType1(),i=t.getClassDynType2();this.total_dyn_type1=this.dyn_type1|e,this.total_dyn_type2=this.dyn_type2|i}else this.total_dyn_type1=this.dyn_type1,this.total_dyn_type2=this.dyn_type2;if(0!=(this.action_type1&DynC.mActionType1_Inherit)){var a=t.getClassActionType1(),s=t.getClassActionType2();this.total_action_type1=this.action_type1|a,this.total_action_type2=this.action_type2|s}else this.total_action_type1=this.action_type1,this.total_action_type2=this.action_type2}},this.parseAttrName=function(t){if(null===t)return null;if(0!=(this.total_dyn_type1&DynC.mDynType1_HostObject)){var e=t.indexOf("$hostobject");if(-1!=e){var i=this.getHostObject(),a=t.substring(0,e)+i+t.substring(e+11);return this.graph.parseAttrName(a)}}return this.graph.parseAttrName(t)},this.getHostObject=function(){for(var t=0;t<this.elements.length;t++)if(0!=(this.elements[t].dyn_type1&DynC.mDynType1_HostObject))return this.elements[t].hostobject;return""},this.getDig=function(t,e,i,a){switch(e){case Pwr.eType_Boolean:var s=!1;switch(a){case GraphIfc.eDatabase_Gdh:s=this.graph.getGdh().getObjectRefInfo(t);break;case GraphIfc.eDatabase_Local:s=this.graph.getLdb().getObjectRefInfo(t)}return s;case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Int64:case Pwr.eType_UInt64:var o=0;switch(a){case GraphIfc.eDatabase_Gdh:o=this.graph.getGdh().getObjectRefInfo(t);break;case GraphIfc.eDatabase_Local:o=this.graph.getLdb().getObjectRefInfo(t)}return 0!==o;case GraphIfc.eType_Bit:var r=0;switch(a){case GraphIfc.eDatabase_Gdh:r=this.graph.getGdh().getObjectRefInfo(t);break;case GraphIfc.eDatabase_Local:r=this.graph.getLdb().getObjectRefInfo(t)}return 0!=(r&i);case Pwr.eType_Float32:case Pwr.eType_Float64:var n=0;switch(a){case GraphIfc.eDatabase_Gdh:n=this.graph.getGdh().getObjectRefInfo(t);break;case GraphIfc.eDatabase_Local:n=this.graph.getLdb().getObjectRefInfo(t)}return n>Number.MIN_VALUE;case Pwr.eType_String:switch(a){case GraphIfc.eDatabase_Gdh:return!(""===h.getGdh().getObjectRefInfo(t))}return!1;default:return!1}},this.confirmedAction=function(t,e){if(null!=this.elements){var i=new GlowEvent;i.event=t,i.object=e,this.action_type1&=~DynC.mActionType1_Confirm;for(var a=0;a<this.elements.length;a++)this.elements[a].action(e,i);this.action_type1|=DynC.mActionType1_Confirm}},this.instance_to_number=function(t){for(var e=1,i=t;1<i;)i>>=1,e++;return e},this.valueInputAction=function(t,e){if(null===this.elements)return DynC.eValueInput_Error;var i=t,a=i.dyn.graph.ctxPop(t.dyn.object.ctx),s=null,o=0,r=0;null!==i.minvalue_attr?null!==(l=i.dyn.parseAttrName(i.minvalue_attr))&&l.type==Pwr.eType_Float32||(o=i.min_value):o=i.min_value;null!==i.maxvalue_attr?null===(l=i.dyn.parseAttrName(i.maxvalue_attr))||""===l.name?r=i.max_value:l.type==Pwr.eType_Float32||(r=i.max_value):r=i.max_value;switch(i.a_typeid){case Pwr.eType_Float32:var n=parseFloat(e.trim());if(0!==o&&0!==r&&n<o)return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_MinValueExceeded;if(0!==o&&0!==r&&r<n)return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_MaxValueExceeded;if(null===(l=i.dyn.parseAttrName(i.value_element.attribute))||""===l.name)break;switch(l.database){case GraphIfc.eDatabase_Gdh:s=i.dyn.graph.getGdh().setObjectInfoFloat(l.name,n);break;case GraphIfc.eDatabase_Local:s=i.dyn.graph.getLdb().setObjectInfo(h,l.name,n);break;default:return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error}if(s.evenSts())return console.log("setObjectInfoError "+s),a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error;break;case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Int16:case Pwr.eType_UInt16:case Pwr.eType_Int8:case Pwr.eType_UInt8:n=parseInt(e.trim(),10);if(0!==o&&0!==r&&n<o)return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_MinValueExceeded;if(0!==o&&0!==r&&r<n)return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_MaxValueExceeded;if(null===(l=i.dyn.parseAttrName(i.value_element.attribute))||""===l.name)break;switch(l.database){case GraphIfc.eDatabase_Gdh:s=i.dyn.graph.getGdh().setObjectInfoInt(l.name,n);break;case GraphIfc.eDatabase_Local:s=i.dyn.graph.getLdb().setObjectInfo(h,l.name,n);break;default:return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error}if(s.evenSts())return console.log("setObjectInfoError "+s),a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error;break;case Pwr.eType_Boolean:var _=parseInt(e.trim(),10);if(0===_)n=!1;else{if(1!=_)break;n=!0}if(null===(l=i.dyn.parseAttrName(i.value_element.attribute))||""===l.name)break;switch(l.database){case GraphIfc.eDatabase_Gdh:s=i.dyn.graph.getGdh().setObjectInfoBoolean(l.name,n);break;case GraphIfc.eDatabase_Local:s=i.dyn.graph.getLdb().setObjectInfo(h,l.name,n);break;default:return DynC.eValueInput_Error}if(s.evenSts())return console.log("setObjectInfoError "+s),a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error;break;case Pwr.eType_String:var l;if(null===(l=i.dyn.parseAttrName(i.value_element.attribute))||""===l.name)break;switch(l.database){case GraphIfc.eDatabase_Gdh:s=i.dyn.graph.getGdh().setObjectInfoString(l.name,e);break;case GraphIfc.eDatabase_Local:s=i.dyn.graph.getLdb().setObjectInfo(h,l.name,e);break;default:return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error}if(s.evenSts())return console.log("setObjectInfoError "+s),a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Error}return a&&i.dyn.graph.ctxPush(),DynC.eValueInput_Success},this.value_to_msg=function(t){var e;if(0===t)e="";else{switch(7&t){case 3:case 1:e="MSG-SUCCESS, ";break;case 0:e="MSG-WARNING, ";break;case 2:e="MSG-ERROR, ";break;case 4:e="MSG-FATAL, ";break;default:e="MSG-NO, "}switch(t){case 134512649:e+="Success";break;case 134512659:e+="Proview startup pu";break;case 134512665:e+="Proview running";break;case 134512731:e+="Server running";break;case 134512795:e+="Application running";break;case 134512820:e+="Process timeout";break;default:e+="Message number "+t}}return e}}function DynReference(t,e){this.name=e,this.pname,this.p=0,this.database,this.inverted,this.attrFound=!1,this.oldValue,this.bittmask,this.elements,this.typeid,this.sts=!1,this.connect=function(t){if(this.sts){switch(this.sts=!1,this.pname.database){case GraphIfc.eDatabase_Gdh:this.p=t.graph.getGdh().refObjectInfo(this.pname.tname,this.pname.type,this.pname.elements);break;case GraphIfc.eDatabase_Local:this.p=t.graph.getLdb().refObjectInfo(t.graph,this.pname.name);break;default:this.p=0}0!==this.p&&(this.inverted=this.pname.inverted,this.typeid=this.pname.type,this.bitmask=this.pname.bitmask,this.database=this.pname.database,this.elements=this.pname.elements,this.pname=null,this.attrFound=!0,this.sts=!0)}},this.disconnect=function(t){this.sts&&this.database==GraphIfc.eDatabase_Gdh&&(t.graph.getGdh().unrefObjectInfo(this.p),this.sts=!1)},this.get_ref_value=function(t){var e=null;switch(this.database){case GraphIfc.eDatabase_Gdh:e=t.graph.getGdh().getObjectRefInfo(this.p);break;case GraphIfc.eDatabase_Local:e=t.graph.getLdb().getObjectRefInfo(this.p)}return e},this.pname=t.parseAttrName(this.name),null!==this.pname&&""!==this.pname.name&&(this.sts=!0)}function DynDigLowColor(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigLowColor,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigLowColor,this.instance_mask=0,this.instance=0,this.a=null,this.attribute,this.color,this.firstScan=!0,this.connect=function(t){var e=t;return this.color=this.dyn.getColor1(e,this.color),this.color<0||this.color>=Glow.eDrawType__?0:(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigLowColor: "+this.attribute),1)},this.disconnect=function(){null!==this.a&&this.a.disconnect(this.dyn)},this.scan=function(t){var e=t;if(null!==this.a&&this.a.sts&&!this.dyn.ignoreColor){var i=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(i=!i),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==i&&!this.dyn.resetColor)return;0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?i?(this.color>=Glow.eDrawTone__&&e.resetFillColor(),e.resetColorTone()):this.color>=Glow.eDrawTone__?e.setFillColor(this.color):e.setColorTone(this.color):i?e.resetFillColor():e.setFillColor(this.color),this.dyn.repaintNow=!0,this.a.oldValue=i}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigLowColor : "+t[i]),null,o){case DynC.eSave_DigLowColor:break;case DynC.eSave_DigLowColor_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigLowColor_color:this.color=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigLowColor")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigColor(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigColor,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigColor,this.instance_mask=0,this.instance=0,this.a=null,this.attribute,this.color,this.firstScan=!0,this.connect=function(t){return this.color=this.dyn.getColor2(t,this.color),this.color<0||this.color>=Glow.eDrawType__?0:(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigColor: "+this.attribute),1)},this.disconnect=function(){null!==this.a&&this.a.disconnect(this.dyn)},this.scan=function(t){if(null!==this.a&&this.a.sts&&!this.dyn.ignoreColor){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?e?(this.color>=Glow.eDrawTone__?(this.dyn.resetColor&&t.resetFillColor(),t.setFillColor(this.color)):t.setColorTone(this.color),this.dyn.ignoreColor=!0):(this.color>=Glow.eDrawTone__&&t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0):e?(t.setFillColor(this.color),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigColor : "+t[i]),null,o){case DynC.eSave_DigColor:break;case DynC.eSave_DigColor_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigColor_color:this.color=parseInt(s[1],10);break;case DynC.eSave_DigColor_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_DigColor_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigColor")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigWarning(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigWarning,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigWarning,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.use_colortheme,this.firstScan=!0,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigWarning: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts&&!this.dyn.ignoreColor){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?e?(t.setColorTone(Glow.eDrawTone_Yellow),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0):e?(t.setFillColor(0!==this.use_colortheme?Glow.eDrawType_CustomColor41:Glow.eDrawType_ColorYellow),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigWarning : "+t[i]),null,o){case DynC.eSave_DigWarning:break;case DynC.eSave_DigWarning_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigWarning_use_colortheme:this.use_colortheme=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigWarning")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigError(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigError,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigError,this.instance_mask=0,this.instance=0,this.attribute,this.use_colortheme,this.firstScan=!0,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigError: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts&&!this.dyn.ignoreColor){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreColor=!0));0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?e?(t.setColorTone(Glow.eDrawTone_Red),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0):e?(t.setFillColor(0!==this.use_colortheme?Glow.eDrawType_CustomColor11:Glow.eDrawType_ColorRed),this.dyn.ignoreColor=!0):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigError : "+t[i]),null,o){case DynC.eSave_DigError:break;case DynC.eSave_DigError_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigError_use_colortheme:this.use_colortheme=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigError")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigFlash(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigFlash,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigFlash,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.color,this.color2,this.firstScan=!0,this.on=!1,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigFlash: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts&&!this.dyn.ignoreColor){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e&&!this.dyn.resetColor&&!e)return;0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?e?(this.on?(this.color>=Glow.eDrawTone__?t.setColorTone(this.color):t.setFillColor(this.color),this.dyn.ignoreColor=!0):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0),this.on=!this.on):(t.resetFillColor(),t.resetColorTone(),this.dyn.resetColor=!0):e?(this.on?(t.setFillColor(this.color),this.dyn.ignoreColor=!0):this.color2==Glow.eDrawType_Inherit?(t.resetFillColor(),this.dyn.resetColor=!0):(t.setFillColor(this.color2),this.dyn.ignoreColor=!0),this.on=!this.on):(t.resetFillColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigError : "+t[i]),null,o){case DynC.eSave_DigFlash:break;case DynC.eSave_DigFlash_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigFlash_color:this.color=parseInt(s[1],10);break;case DynC.eSave_DigFlash_color2:this.color2=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigFlash")}if(a)break}return i},this.action=function(t,e){return 1}}function DynInvisible(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Invisible,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Invisible,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.dimmed,this.firstScan=!0,this.cmd,this.command,this.connect=function(t){if(null!==this.attribute&&"$cmd("==this.attribute.toLowerCase().substring(0,5)){this.cmd=!0;var e=this.attribute.lastIndexOf(")");this.command=-1!=e&&5<e?this.attribute.substring(5,e):this.attribute.substring(5),this.command=this.dyn.graph.getCommand(command)}else if(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),!this.a.sts)return console.log("DigFlash: "+this.attribute),1;return 1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.cmd){if(this.firstScan){var e=this.dyn.graph.command(this.command);console.log("DynInvisible: "+this.command+", value: "+e),0===e&&(0===this.dimmed?t.setVisibility(Glow.eVis_Invisible):t.setVisibility(Glow.eVis_Dimmed)),this.firstScan=!1}}else if(this.a.sts&&!this.dyn.ignoreColor){var i=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.typeid==Pwr.eType_String&&(i=!i),this.a.inverted&&(i=!i),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==i&&!this.dyn.resetColor&&!i)return;i?0===this.dimmed?t.setVisibility(Glow.eVis_Invisible):t.setVisibility(Glow.eVis_Dimmed):t.setVisibility(Glow.eVis_Visible),this.dyn.repaintNow=!0,this.a.oldValue=i}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynInvisible : "+t[i]),null,o){case DynC.eSave_Invisible:break;case DynC.eSave_Invisible_attribute:1<s.length&&(this.attribute=t[i].substring(4));break;case DynC.eSave_Invisible_dimmed:this.dimmed=parseInt(s[1],10);break;case DynC.eSave_Invisible_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_Invisible_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynInvisible")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigTextColor(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_DigTextColor,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigTextColor,this.instance_mask=0,this.instance=0,this.a=null,this.attribute,this.color,this.firstScan=!0,this.connect=function(t){return this.color=this.dyn.getColor1(t,this.color),this.color<0||this.color>=Glow.eDrawType__?0:(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigTextColor: "+this.attribute),1)},this.disconnect=function(){null!==this.a&&this.a.disconnect(this.dyn)},this.scan=function(t){if(null!==this.a&&this.a.sts&&!this.dyn.ignoreColor){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e&&!this.dyn.resetColor)return;e?t.setTextColor(this.color):t.resetTextColor(),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DigTextColor : "+t[i]),null,o){case DynC.eSave_DigTextColor:break;case DynC.eSave_DigTextColor_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigTextColor_color:this.color=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigTextColor")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigText(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigText,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigText,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.low_text,this.high_text,this.firstScan=!0,this.connect=function(t){return null===this.low_text?1:(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts?(this.high_text=t.getAnnotation(1),null===this.high_text&&(this.high_text="")):console.log("DigText: "+attribute),1)},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e)return;e?t.setAnnotation(1,this.high_text):t.setAnnotation(1,this.low_text),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DigText : "+t[i]),null,o){case DynC.eSave_DigText:break;case DynC.eSave_DigText_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigText_low_text:1<s.length&&(this.low_text=t[i].substring(5));break;case DynC.eSave_DigText_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_DigText_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigText")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigBorder(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigBorder,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigBorder,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.color,this.firstScan=!0,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigBorder: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e)return;e?t.setBorderColor(this.color):t.resetBorderColor(),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynBorder : "+t[i]),null,o){case DynC.eSave_DigBorder:break;case DynC.eSave_DigBorder_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigBorder_color:this.color=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigBorder")}if(a)break}return i},this.action=function(t,e){return 1}}function DynValue(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Value,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Value,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.format=null,this.zero_blank,this.decimals_attr,this.decimals_decr,this.firstScan=!0,this.oldValueB,this.oldValueF,this.oldValueI,this.oldValueS,this.cFormat=null,this.read_decimals=function(t,e,i,a){var s=t.parseAttrName(e);if(null===s||""===s.name)return a;switch(s.type){case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Enum:case Pwr.eType_Mask:break;default:return a}return a},this.connect=function(t){return null===this.format&&null===this.decimals_attr?1:(void 0!==this.decimals_attr&&null!==this.decimals_attr&&""!==this.decimals_attr&&(this.format=this.read_decimals(this.dyn,this.decimals_attr,this.decimals_decr,this.format),console.log("read_decimals "+this.format)),null===this.format||(this.cFormat=new GlowCFormat(this.format),this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("Value: "+attribute)),1)},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.dyn.instance_to_number(this.instance);switch(this.a.typeid){case Pwr.eType_Float32:if(void 0===(a=this.a.get_ref_value(this.dyn)))return;if(a!=this.oldValueF||this.firstScan){if(null!==this.cFormat){var i=this.cFormat.format(a);t.setAnnotation(e,i)}this.dyn.repaintNow=!0,this.oldValueF=a}break;case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Int16:case Pwr.eType_UInt16:case Pwr.eType_Int8:case Pwr.eType_UInt8:if(void 0===(a=this.a.get_ref_value(this.dyn)))return;if(a!=this.oldValueI||this.firstScan){if(null!==this.cFormat){i=this.cFormat.format(a);t.setAnnotation(e,i)}this.dyn.repaintNow=!0,this.oldValueI=a}break;case Pwr.eType_Boolean:if(void 0===(a=this.a.get_ref_value(this.dyn)))return;if(a!=this.oldValueB||this.firstScan){if(null!==this.cFormat){i=this.cFormat.format(a);t.setAnnotation(e,i)}this.dyn.repaintNow=!0,this.oldValueB=a}break;case Pwr.eType_String:case Pwr.eType_Objid:case Pwr.eType_Time:case Pwr.eType_DeltaTime:if(void 0===(a=this.a.get_ref_value(this.dyn)))return;if(this.firstScan||a!=this.oldValueS){if(null!==this.cFormat)if(this.a_typeid==Pwr.eType_String){i=this.cFormat.format(a);t.setAnnotation(e,i)}else t.setAnnotation(e,a);this.dyn.repaintNow=!0,this.oldValueS=a}break;case Pwr.eType_Status:case Pwr.eType_NetStatus:var a;if(void 0===(a=this.a.get_ref_value(this.dyn)))return;if(a!=this.oldValueI||this.firstScan)if(0===a)t.setAnnotation(e,""),this.dyn.repaintNow=!0;else if(this.a.database==GraphIfc.eDatabase_Gdh){var s=new Array(2);s[0]=this,s[1]=t,this.dyn.graph.getGdh().getMsg(a,this.scan2,s)}this.oldValueI=a}this.firstScan&&(this.firstScan=!1)}},this.scan2=function(t,e,i,a){if(!0&i){var s=e[0],o=e[1],r=s.dyn.instance_to_number(s.instance);o.setAnnotation(r,a),s.dyn.repaintNow=!0}else o.setAnnotation(r,"Unknown message"),this.dyn.repaintNow=!0},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynBorder : "+t[i]),null,o){case DynC.eSave_Value:break;case DynC.eSave_Value_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_Value_format:1<s.length&&(this.format=s[1]);break;case DynC.eSave_Value_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_Value_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_Value_zero_blank:this.zero_blank=parseInt(s[1],10);break;case DynC.eSave_Value_decimals_attr:1<s.length&&(this.decimals_attr=s[1]);break;case DynC.eSave_Value_decimals_decr:this.decimals_decr=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynValue")}if(a)break}return null!==this.format&&(this.cFormat=new GlowCFormat(this.format)),i},this.action=function(t,e){return 1}}function DynValueInput(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_ValueInput,this.action_type2=0,this.prio=DynC.eDynPrio_ValueInput,this.instance_mask=0,this.instance=0,this.attribute,this.min_value,this.max_value,this.clear,this.popup,this.unselect,this.minvalue_attr,this.maxvalue_attr,this.escape_store,this.keyboard_type,this.update_open,this.value_element=null,this.a_typeid,this.connect=function(t){this.value_element=null;for(var e=0;e<this.dyn.elements.length;e++)if(this.dyn.elements[e].dyn_type1==DynC.mDynType1_Value){this.value_element=this.dyn.elements[e],this.a_typeid=this.value_element.a.typeid;break}return 1},this.disconnect=function(){},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Click:this.dyn.object=t,this.dyn.graph.openValueInputDialog(this.dyn,"Enter value",this)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynValueInput : "+t[i]),null,o){case DynC.eSave_ValueInput:break;case DynC.eSave_ValueInput_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_ValueInput_format:break;case DynC.eSave_ValueInput_unselect:this.unselect=parseInt(s[1],10);break;case DynC.eSave_ValueInput_min_value:this.min_value=parseFloat(s[1]);break;case DynC.eSave_ValueInput_max_value:this.max_value=parseFloat(s[1]);break;case DynC.eSave_ValueInput_clear:this.clear=parseInt(s[1],10);break;case DynC.eSave_ValueInput_popup:this.popup=parseInt(s[1],10);break;case DynC.eSave_ValueInput_minvalue_attr:1<s.length&&(this.minvalue_attr=s[1]);break;case DynC.eSave_ValueInput_maxvalue_attr:1<s.length&&(this.maxvalue_attr=s[1]);break;case DynC.eSave_ValueInput_escape_store:this.escape_store=parseInt(s[1],10);break;case DynC.eSave_ValueInput_keyboard_type:this.keyboard_type=parseInt(s[1],10);break;case DynC.eSave_ValueInput_update_open:this.update_open=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynValueInput")}if(a)break}return i},this.scan=function(t){return 1}}function DynAnalogColor(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_AnalogColor,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_AnalogColor,this.instance_mask=0,this.instance=0,this.a=null,this.attribute,this.limit,this.limit_type,this.color,this.border,this.common_attr,this.firstScan=!0,this.oldValueF,this.oldValueI,this.oldState,this.isMainInstance=!1,this.connect=function(t){for(var e=null,i=this.dyn.elements.length-1;0<=i;i--)if(this.dyn.elements[i].dyn_type1==DynC.mDynType1_AnalogColor){e=this.dyn.elements[i];break}if(null!==e){if(null==e.a||!e.a.attrFound){if(e.a=new DynReference(this.dyn,e.attribute),e.a.connect(this.dyn),!e.a.sts)return 1;e.isMainInstance=!0}this.isMainInstance||(this.a=new DynReference(this.dyn,e.attribute),this.a.p=e.a.p,this.a.attrFound=e.a.attrFound,this.a.typeid=e.a.typeid,this.a.database=e.a.database,this.a.sts=e.a.sts)}return 1},this.disconnect=function(){this.isMainInstance&&this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts&&!this.dyn.ignoreColor){var e=!1,i=!1,a=!1;if(this.a.typeid==Pwr.eType_Float32){var s=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(!this.dyn.resetColor&&s==this.oldValueF)return void(this.oldState&&(this.dyn.ignoreColor=!0));switch(this.limit_type){case DynC.eLimitType_Gt:e=s>this.limit;break;case DynC.eLimitType_Lt:e=s<this.limit;break;case DynC.eLimitType_Ge:case DynC.eLimitType_Le:e=s>=this.limit;break;case DynC.eLimitType_Eq:e=s==this.limit}this.oldValueF=s}else if(this.a.typeid==Pwr.eType_Int32||this.a.typeid==Pwr.eType_UInt32){s=this.dyn.graph.getGdh().getObjectRefInfo(this.a.p);if(this.firstScan)this.firstScan=!1;else if(!this.dyn.resetColor&&s==this.oldValueI)return void(this.oldState&&(this.dyn.ignoreColor=!0));switch(this.limit_type){case DynC.eLimitType_Gt:e=s>this.limit;break;case DynC.eLimitType_Lt:e=s<this.limit;break;case DynC.eLimitType_Ge:case DynC.eLimitType_Le:e=s>=this.limit;break;case DynC.eLimitType_Eq:e=s==this.limit}this.oldValueI=s}e!=this.oldState||this.dyn.resetColor||this.firstScan?(e?(i=!0,this.dyn.ignoreColor=!0):(a=!0,this.dyn.resetColor=!0),this.oldState=e):e&&(this.dyn.ignoreColor=!0),(i||a)&&(0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?i?(color>=Glow.eDrawTone__?0===this.border?t.setFillColor(this.color):t.setBorderColor(this.color):t.setColorTone(this.color),this.dyn.ignoreColor=!0):(this.color>=Glow.eDrawTone__&&(0===this.border?t.resetFillColor():t.resetBorderColor()),t.resetColorTone(),this.dyn.resetColor=!0):i?(0===this.border?t.setFillColor(this.color):t.setBorderColor(this.color),this.dyn.ignoreColor=!0):(0===this.border?t.resetFillColor():t.resetBorderColor(),this.dyn.resetColor=!0),this.dyn.repaintNow=!0)}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynAnalogColor : "+t[i]),null,o){case DynC.eSave_AnalogColor:break;case DynC.eSave_AnalogColor_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_AnalogColor_limit:this.limit=parseFloat(s[1]);break;case DynC.eSave_AnalogColor_limit_type:this.limit_type=parseInt(s[1],10);break;case DynC.eSave_AnalogColor_color:this.color=parseInt(s[1],10);break;case DynC.eSave_AnalogColor_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_AnalogColor_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_AnalogColor_border:this.border=parseInt(s[1],10);break;case DynC.eSave_AnalogColor_common_attr:this.common_attr=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynAnalogColor")}if(a)break}return i},this.action=function(t,e){return 1}}function DynRotate(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Rotate,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Rotate,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.x0,this.y0,this.factor,this.firstScan=!0,this.rotation_point,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts?(0!==this.x0||0!==this.y0?this.rotation_point=Glow.eRotationPoint_FixPoint:this.rotation_point=Glow.eRotationPoint_Zero,t.storeTransform()):console.log("Rotate: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.a.get_ref_value(this.dyn);e==this.a.oldValue&&!this.firstScan||(t.setRotation(e*this.factor,this.x0,this.y0,this.rotation_point),this.dyn.repaintNow=!0,this.a.oldValue=e),this.firstScan&&(this.firstScan=!1)}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynRotate : "+t[i]),null,o){case DynC.eSave_Rotate:break;case DynC.eSave_Rotate_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_Rotate_x0:this.x0=parseFloat(s[1]);break;case DynC.eSave_Rotate_y0:this.y0=parseFloat(s[1]);break;case DynC.eSave_Rotate_factor:this.factor=parseFloat(s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynRotate")}if(a)break}return i},this.action=function(t,e){return 1}}function DynMove(i){this.dyn=i,this.dyn_type1=DynC.mDynType1_Move,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Move,this.instance_mask=0,this.instance=0,this.move_x_a,this.move_y_a,this.scale_x_a,this.scale_y_a,this.move_x_attribute,this.move_y_attribute,this.scale_x_attribute,this.scale_y_attribute,this.x_factor,this.y_factor,this.x_offset,this.y_offset,this.scale_x_factor,this.scale_y_factor,this.scale_type,this.firstScan=!0,this.x_orig,this.y_orig,this.width_orig,this.height_orig,this.connect=function(t){if(this.move_x_a=new DynReference(this.dyn,this.move_x_attribute),this.move_x_a.connect(this.dyn),this.move_x_a.sts)switch(this.move_x_a.typeid){case Pwr.eType_Float32:case Pwr.eType_Float64:case Pwr.eType_Int32:case Pwr.eType_UInt32:break;default:return this.move_x_a.disconnect(i),console.log("Move: "+this.move_x_attribute),1}if(this.move_y_a=new DynReference(this.dyn,this.move_y_attribute),this.move_y_a.connect(this.dyn),this.move_y_a.sts)switch(this.move_y_a.typeid){case Pwr.eType_Float32:case Pwr.eType_Float64:case Pwr.eType_Int32:case Pwr.eType_UInt32:break;default:return this.move_y_a.disconnect(i),console.log("Move: "+this.move_y_attribute),1}if(this.scale_x_a=new DynReference(this.dyn,this.scale_x_attribute),this.scale_x_a.connect(this.dyn),this.scale_x_a.sts)switch(this.scale_x_a.typeid){case Pwr.eType_Float32:case Pwr.eType_Float64:case Pwr.eType_Int32:case Pwr.eType_UInt32:break;default:return this.scale_x_a.disconnect(i),console.log("Move: "+this.scale_x_attribute),1}if(this.scale_y_a=new DynReference(this.dyn,this.scale_y_attribute),this.scale_y_a.connect(this.dyn),this.scale_y_a.sts)switch(this.scale_y_a.typeid){case Pwr.eType_Float32:case Pwr.eType_Float64:case Pwr.eType_Int32:case Pwr.eType_UInt32:break;default:return this.scale_y_a.disconnect(i),console.log("Move: "+this.scale_y_attribute),1}if(!t.transformIsStored()){t.storeTransform();var e=t.measure();this.x_orig=e.ll_x,this.y_orig=e.ll_y,this.width_orig=e.ur_x-this.x_orig,this.height_orig=e.ur_y-this.y_orig}return 1},this.disconnect=function(){this.move_x_a.disconnect(this.dyn),this.move_y_a.disconnect(this.dyn),this.scale_x_a.disconnect(this.dyn),this.scale_y_a.disconnect(this.dyn)},this.scan=function(t){var e=!1,i=0,a=0,s=0,o=0;if(this.move_x_a.sts&&(i=this.move_x_a.get_ref_value(this.dyn)),this.move_y_a.sts&&(a=this.move_y_a.get_ref_value(this.dyn)),this.scale_x_a.sts&&(s=this.scale_x_a.get_ref_value(this.dyn)),this.scale_y_a.sts&&(o=this.scale_y_a.get_ref_value(this.dyn)),e=!1,this.firstScan)this.firstScan=!1;else if(this.move_x_a.sts&&i!=this.move_x_a.oldValue?e=!0:this.move_y_a.sts&&a!=this.move_y_a.oldValue?e=!0:this.scale_x_a.sts&&s!=this.scale_x_a.oldValue?e=!0:this.scale_y_a.sts&&o!=this.scale_y_a.oldValue&&(e=!0),!e)return;var r=0,n=0,_=1,l=1;if(this.scale_x_a.sts&&(_=s*this.scale_x_factor),this.scale_y_a.sts&&(l=o*this.scale_y_factor),this.move_x_a.sts||this.move_y_a.sts||t.set_scale(_,l,0,0,this.scale_type),this.scale_x_a.sts&&(this.scale_x_a.oldValue=s),this.scale_y_a.sts&&(this.scale_y_a.oldValue=o),this.move_x_a.sts||this.move_y_a.sts){if(this.move_x_a.sts){var h=0;switch(this.scale_type){case Glow.eScaleType_LowerRight:case Glow.eScaleType_UpperRight:h=this.width_orig*(1-_);break;case Glow.eScaleType_Center:h=this.width_orig*(1-_)/2}r=this.x_orig+h+(i-this.x_offset)*this.x_factor}else r=this.x_orig;if(this.move_y_a.sts){h=0;switch(this.scale_type){case Glow.eScaleType_UpperRight:case Glow.eScaleType_UpperLeft:h=this.height_orig*(1-l);break;case Glow.eScaleType_Center:h=this.height_orig*(1-l)/2}n=this.y_orig+h+(a-this.y_offset)*this.y_factor}else n=this.y_orig;Math.abs(_)<Number.MIN_VALUE&&(_=1e-4),Math.abs(l)<Number.MIN_VALUE&&(l=1e-4),t.set_scale_pos(r,n,_,l,0,0,this.scale_type),this.move_x_a.sts&&(this.move_x_a.oldValue=i),this.move_y_a.sts&&(this.move_y_a.oldValue=a)}else r=this.move_x_a.sts?(i-x_offset)*this.x_factor:0,n=this.move_y_a.sts?(a-y_offset)*this.y_factor:0,t.set_position(r,n),this.move_x_a.sts&&(this.move_x_a.oldValue=i),this.move_y_a.sts&&(this.move_y_a.oldValue=a)},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynMove : "+t[i]),null,o){case DynC.eSave_Move:break;case DynC.eSave_Move_move_x_attribute:1<s.length&&(this.move_x_attribute=s[1]);break;case DynC.eSave_Move_move_y_attribute:1<s.length&&(this.move_y_attribute=s[1]);break;case DynC.eSave_Move_scale_x_attribute:1<s.length&&(this.scale_x_attribute=s[1]);break;case DynC.eSave_Move_scale_y_attribute:1<s.length&&(this.scale_y_attribute=s[1]);break;case DynC.eSave_Move_x_offset:this.x_offset=parseFloat(s[1]);break;case DynC.eSave_Move_y_offset:this.y_offset=parseFloat(s[1]);break;case DynC.eSave_Move_x_factor:this.x_factor=parseFloat(s[1]);break;case DynC.eSave_Move_y_factor:this.y_factor=parseFloat(s[1]);break;case DynC.eSave_Move_scale_x_factor:this.scale_x_factor=parseFloat(s[1]);break;case DynC.eSave_Move_scale_y_factor:this.scale_y_factor=parseFloat(s[1]);break;case DynC.eSave_Move_scale_type:this.scale_type=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynMove")}if(a)break}return i},this.action=function(t,e){return 1}}function DynAnalogShift(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_AnalogShift,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_AnalogShift,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.firstScan=!0,this.oldValueF,this.oldValueI,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("AnalogShift: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=0;switch(this.a.typeid){case Pwr.eType_Float32:var i=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(i==this.oldValueF)return;e=Math.floor(i+.5),this.oldValueF=i;break;case Pwr.eType_Int32:i=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(i==this.oldValueI)return;e=i,this.oldValueI=i}t.set_nodeclass_by_index(e)}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynAnalogShift : "+t[i]),null,o){case DynC.eSave_AnalogShift:break;case DynC.eSave_AnalogShift_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynAnalogShift")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigShift(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigShift,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigShift,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.firstScan=!0,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigShift: "+attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e)return;e?t.set_last_nodeclass():t.set_root_nodeclass(),this.a.oldValue=e}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigShift : "+t[i]),null,o){case DynC.eSave_DigShift:break;case DynC.eSave_DigShift_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigShift")}if(a)break}return i},this.action=function(t,e){return 1}}function DynDigFourShift(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_DigFourShift,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigFourShift,this.instance_mask=0,this.instance=0,this.a1,this.a2,this.a3,this.attribute1,this.attribute2,this.attribute3,this.firstScan=!0,this.connect=function(t){return this.a1=new DynReference(this.dyn,this.attribute1),this.a1.connect(this.dyn),this.a1.sts?(this.a2=new DynReference(this.dyn,this.attribute2),this.a2.connect(this.dyn),this.a2.sts?(this.a3=new DynReference(this.dyn,this.attribute3),this.a3.connect(this.dyn),this.a3.sts||console.log("DigFourShift: "+this.attribute3)):console.log("DigFourShift: "+this.attribute2),1):(console.log("DigFourShift: "+this.attribute1),1)},this.disconnect=function(){this.a1.disconnect(this.dyn),this.a2.disconnect(this.dyn),this.a3.disconnect(this.dyn)},this.scan=function(t){if(this.a1.attrFound&&this.a2.attrFound&&this.a3.attrFound){var e=this.dyn.getDig(this.a1.p,this.a1.typeid,this.a1.bitmask,this.a1.database),i=this.dyn.getDig(this.a2.p,this.a2.typeid,this.a2.bitmask,this.a2.database),a=this.dyn.getDig(this.a3.p,this.a3.typeid,this.a3.bitmask,this.a3.database);if(this.a1.inverted&&(e=!e),this.a2.inverted&&(i=!i),this.a3.inverted&&(a=!a),this.firstScan)this.firstScan=!1;else if(this.a1.oldValue==e&&this.a2.oldValue==i&&this.a3.oldValue==a)return;a?t.set_nodeclass_by_index(2):i?t.set_nodeclass_by_index(1):e?t.set_root_nodeclass():t.set_last_nodeclass(),this.a1.oldValue=e,this.a2.oldValue=i,this.a3.oldValue=a}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigFourShift : "+t[i]),null,o){case DynC.eSave_DigFourShift:break;case DynC.eSave_DigFourShift_attribute1:1<s.length&&(this.attribute1=s[1]);break;case DynC.eSave_DigFourShift_attribute2:1<s.length&&(this.attribute2=s[1]);break;case DynC.eSave_DigFourShift_attribute3:1<s.length&&(this.attribute3=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigFourShift")}if(a)break}return i},this.action=function(t,e){return 1}}function DynScrollingText(a){this.dyn=a,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_ScrollingText,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_ScrollingText,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.direction,this.speed,this.bounce,this.firstScan=!0,this.offset=0,this.osize,this.connect=function(t){if(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),!this.a.sts)return console.log("ScrollingText: "+this.attribute),1;if(this.a.typeid!=Pwr.eType_String&&this.a.typeid!=Pwr.eType_Text)return console.log("ScrollingText: "+this.attribute),this.a.disconnect(a),1;var e=t.measure();switch(this.direction){case Glow.eDirection_Left:case Glow.eDirection_Right:this.osize=e.ur_x-e.ll_x;break;default:this.osize=e.ur_y-e.ll_y}return 1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){var e=t.getAnnotationTextExtent(1);if(null!==e){switch(this.direction){case Glow.eDirection_Left:this.offset-=this.speed*this.dyn.graph.getAnimationScanTime(),0!==this.bounce?e.width<this.osize?this.offset<0&&(this.offset=-this.offset,this.direction=Glow.eDirection_Right):this.offset<this.osize-e.width&&(this.offset+=this.osize-e.width-this.offset,this.direction=Glow.eDirection_Right):this.offset<-e.width&&(this.offset=this.osize),t.setAnnotationTextOffset(1,this.offset,0);break;case Glow.eDirection_Right:this.offset+=this.speed*this.dyn.graph.getAnimationScanTime(),0!=this.bounce?e.width<this.osize?this.offset>this.osize-e.width&&(this.offset-=this.offset-(this.osize-e.width),this.direction=Glow.eDirection_Left):0<this.offset&&(this.offset=-this.offset,this.direction=Glow.eDirection_Left):this.offset>this.osize&&(this.offset=-e.width),t.setAnnotationTextOffset(1,this.offset,0);break;case Glow.eDirection_Up:this.offset+=this.speed*this.dyn.graph.getAnimationScanTime(),0!=this.bounce?this.offset>this.osize-e.height&&(this.offset-=this.offset-(this.osize-e.height),this.direction=Glow.eDirection_Down):this.offset>this.osize&&(this.offset=-e.height),t.setAnnotationTextOffset(1,0,this.offset);break;case Glow.eDirection_Down:this.offset-=this.speed*this.dyn.graph.getAnimationScanTime(),0!=this.bounce?this.offset<0&&(this.offset=-this.offset,this.direction=Glow.eDirection_Up):this.offset<-e.height&&(this.offset=this.osize),t.setAnnotationTextOffset(1,0,this.offset)}var i=this.a.get_ref_value(a);!this.firstScan&&i==this.a.oldValue||(t.setAnnotation(1,i),this.dyn.repaintNow=!0,this.a.oldValue=i),this.firstScan&&(this.firstScan=!1)}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynScrollingText : "+t[i]),null,o){case DynC.eSave_ScrollingText:break;case DynC.eSave_ScrollingText_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_ScrollingText_direction:this.direction=parseInt(s[1],10);break;case DynC.eSave_ScrollingText_speed:this.speed=parseFloat(s[1]);break;case DynC.eSave_ScrollingText_bounce:this.bounce=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynScrollingText")}if(a)break}return i},this.action=function(t,e){return 1}}function DynColorThemeLightness(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_ColorThemeLightness,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_ColorThemeLightness,this.instance_mask=0,this.instance=0,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return t.setColorThemeLightness(),1},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynColorThemeLightness : "+t[i]),null,o){case DynC.eSave_ColorThemeLightness:break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynColorThemeLightness")}if(a)break}return i}}function DynDigBackgroundColor(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_DigBackgroundColor,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigBackgroundColor,this.instance_mask=0,this.instance=0,this.a=null,this.attribute,this.color,this.firstScan=!0,this.connect=function(t){return this.color<0||this.color>=Glow.eDrawType__?0:(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigBackgroundColor: "+this.attribute),1)},this.disconnect=function(){null!=this.a&&this.a.disconnect(this.dyn)},this.scan=function(t){if(null!==this.a&&this.a.sts&&!this.dyn.ignoreBgColor){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e&&!this.dyn.resetColor)return void(e&&(this.dyn.ignoreBgColor=!0));e?(t.setBackgroundColor(this.color),this.dyn.ignoreBgColor=!0):(t.resetBackgroundColor(),this.dyn.resetBgColor=!0),this.dyn.repaintNow=!0,this.a.oldValue=e}},this.action=function(t,e){return 1},this.open=function(t,e){var i;for(i=e;i<t.length;i++){var a=t[i].split(" "),s=parseInt(a[0],10);switch(this.dyn.debug&&console.log("DynDigBackgroundColor : "+t[i]),null,s){case DynC.eSave_DigBackgroundColor:break;case DynC.eSave_DigBackgroundColor_attribute:1<a.length&&(this.attribute=a[1]);break;case DynC.eSave_DigBackgroundColor_color:this.color=parseInt(a[1],10);break;case DynC.eSave_DigBackgroundColor_instance:this.instance=parseInt(a[1],10);break;case DynC.eSave_DigBackgroundColor_instance_mask:this.instance_mask=parseInt(a[1],10);break;case DynC.eSave_End:end_=!0;break;default:console.log("Syntax error in DynDigBackgroundColor")}0}return i}}function DynDigSwap(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_DigSwap,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigSwap,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.reset_value,this.firstScan=!0,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("DigSwap: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(!this.firstScan)return this.a.oldValue=e,void(this.firstScan=!1);this.a.inverted&&(e=!e),this.a.oldValue!=e&&(this.dyn.repaintNow=!0,this.a.oldValue=e)}},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigSwap : "+t[i]),null,o){case DynC.eSave_DigSwap:break;case DynC.eSave_DigSwap_attribute:1<s.length&&(attribute=s[1]);break;case DynC.eSave_DigSwap_reset_value:reset_value=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigSwap")}if(a)break}return i}}function DynAnimation(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Animation,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Animation,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.sequence,this.firstScan=!0,this.animation_count,this.animation_direction,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts?this.sequence==DynC.eAnimSequence_Inherit&&(this.sequence=t.get_nodeclass_dyn_attr1()):console.log("Animation: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){var e;if(this.a.sts){var i=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);this.a.inverted&&(i=!i),this.firstScan&&(this.animation_count=0,this.animation_direction=0,this.firstScan=!1,this.sequence==DynC.eAnimSequence_Dig&&(i&&t.set_last_nodeclass(),this.a.oldValue=i)),this.sequence==DynC.eAnimSequence_Dig?(this.a.oldValue!=i&&(i?(this.animation_count=0,this.animation_direction=1):i||(this.animation_direction=2,this.animation_count=0)),0!==this.animation_direction&&(e=t.get_animation_count(),this.animation_count++,this.animation_count>=e&&(1==this.animation_direction?0==(1&t.set_next_nodeclass())&&(this.animation_count=0,this.animation_direction=0):0==(1&t.set_previous_nodeclass())&&(this.animation_count=0,this.animation_direction=0),this.animation_count=0))):i?(0==this.animation_direction&&(this.animation_count=0,this.animation_direction=1),e=t.get_animation_count(),this.animation_count++,this.animation_count>=e&&(1==this.animation_direction?0==(1&t.set_next_nodeclass())&&(this.sequence==DynC.eAnimSequence_Cycle?t.set_nodeclass_by_index(1):(this.animation_direction=2,t.set_previous_nodeclass())):0==(1&t.set_previous_nodeclass())&&(this.animation_direction=1,t.set_next_nodeclass()),this.animation_count=0)):0!=this.animation_direction&&(this.animation_direction=0,t.set_first_nodeclass()),this.a.oldValue=i}},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("Animation : "+t[i]),null,o){case DynC.eSave_Animation:break;case DynC.eSave_Animation_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_Animation_sequence:this.sequence=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynAnimation")}if(a)break}return i}}function DynVideo(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Video,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Video,this.instance_mask=0,this.instance=0,this.connect=function(t){return 1},this.scan=function(t){return 1},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("Video : "+t[i]),null,o){case DynC.eSave_Video:break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynVideo")}if(a)break}return i}}function DynBar(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Bar,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Bar,this.instance_mask=0,this.instance=0,this.a,this.minvalue_a,this.maxvalue_a,this.attribute=null,this.minvalue_attr,this.maxvalue_attr,this.maxval=0,this.minval,this.firstScan=!0,this.old_value,this.old_ivalue,this.connect=function(t){return null==this.attribute?0:(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts?(this.minvalue_a=new DynReference(this.dyn,this.minvalue_attr),this.minvalue_a.connect(this.dyn),this.maxvalue_a=new DynReference(this.dyn,this.maxvalue_attr),this.maxvalue_a.connect(this.dyn)):console.log("Bar: "+this.attribute),1)},this.disconnect=function(){this.a.disconnect(this.dyn),this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn)},this.scan=function(t){var e,i;if(this.a.sts)switch(this.maxvalue_a.sts&&this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value(this.dyn),i=this.maxvalue_a.get_ref_value(this.dyn),e==this.minvalue_a.oldValue&&i==this.maxvalue_a.oldValue||(t.set_range(e,i),this.minvalue_a.oldValue=e,this.maxvalue_a.oldValue=i)),this.a.typeid){case Pwr.eType_Float32:var a=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(Math.abs(this.old_value-a)<Number.MIN_VALUE)return;t.set_value(a),this.old_value=a;break;case Pwr.eType_Int32:case Pwr.eType_UInt32:a=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(this.old_ivalue==a)return;t.set_value(a),this.old_ivalue=a}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynBar : "+t[i]),null,o){case DynC.eSave_Bar:break;case DynC.eSave_Bar_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_Bar_minvalue_attr:1<s.length&&(this.minvalue_attr=s[1]);break;case DynC.eSave_Bar_maxvalue_attr:1<s.length&&(this.maxvalue_attr=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynBar",i,o)}if(a)break}return i},this.action=function(t,e){return 1}}function DynTrend(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Trend,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Trend,this.instance_mask=0,this.instance=0,this.a1=null,this.a2=null,this.minvalue_a1=null,this.maxvalue_a1=null,this.minvalue_a2=null,this.maxvalue_a2=null,this.hold_a=null,this.timerange_a=null,this.mark1_a=null,this.mark2_a=null,this.attribute1=null,this.attribute2=null,this.minvalue_attr1=null,this.maxvalue_attr1=null,this.minvalue_attr2=null,this.maxvalue_attr2=null,this.hold_attr=null,this.timerange_attr=null,this.mark1_attr=null,this.mark2_attr=null,this.mark1_color,this.mark2_color,this.firstScan=!0,this.scan_time,this.acc_time,this.no_of_points,this.trend_hold,this.orig_graph_scan_time,this.orig_graph_fast_scan_time,this.orig_graph_animation_scan_time,this.connect=function(t){return this.a1=new DynReference(this.dyn,this.attribute1),this.a1.connect(this.dyn),this.a1.sts?""===this.attribute2.trim()||(this.a2=new DynReference(this.dyn,this.attribute2),this.a2.connect(this.dyn),this.a2.sts)?(this.no_of_points=t.get_no_of_points(),this.scan_time=t.get_scan_time(),this.acc_time=this.scan_time,this.trend_hold=0,""!==this.minvalue_attr1.trim()&&(this.minvalue_a1=new DynReference(this.dyn,this.minvalue_attr1),this.minvalue_a1.connect(this.dyn),this.minvalue_a1.sts||(this.minvalue_a1=null,console.log("Trend: "+this.minvalue_attr1))),""!==this.maxvalue_attr1.trim()&&(this.maxvalue_a1=new DynReference(this.dyn,this.maxvalue_attr1),this.maxvalue_a1.connect(this.dyn),this.maxvalue_a1.sts||(this.maxvalue_a1=null,console.log("Trend: "+this.maxvalue_attr1))),""!==this.minvalue_attr2.trim()&&(this.minvalue_a2=new DynReference(this.dyn,this.minvalue_attr2),this.minvalue_a2.connect(this.dyn),this.minvalue_a2.sts||(this.minvalue_a2=null,console.log("Trend: "+this.minvalue_attr2))),""!==this.maxvalue_attr2.trim()&&(this.maxvalue_a2=new DynReference(this.dyn,this.maxvalue_attr2),this.maxvalue_a2.connect(this.dyn),this.maxvalue_a2.sts||(this.maxvalue_a2=null,console.log("Trend: "+this.maxvalue_attr2))),""!==this.hold_attr.trim()&&(this.hold_a=new DynReference(this.dyn,this.hold_attr),this.hold_a.connect(this.dyn),this.hold_a.sts||(this.hold_a=null,console.log("Trend: "+this.hold_attr))),""!==this.timerange_attr.trim()&&(this.timerange_a=new DynReference(this.dyn,this.timerange_attr),this.timerange_a.connect(this.dyn),this.timerange_a.sts||(this.timerange_a=null,console.log("Trend: "+this.timerange_attr)),this.orig_graph_scan_time=this.dyn.graph.getScanTime(),this.orig_graph_fast_scan_time=this.dyn.graph.getFastScanTime(),this.orig_graph_animation_scan_time=this.dyn.graph.getAnimationScanTime()),null!==this.mark1_attr&&""!==this.mark1_attr.trim()&&(this.mark1_a=new DynReference(this.dyn,this.mark1_attr),this.mark1_a.connect(this.dyn),this.mark1_a.sts||(this.mark1_a=null,console.log("Trend: "+this.mark1_attr))),null!==this.mark2_attr&&""!==this.mark2_attr.trim()&&(this.mark2_a=new DynReference(this.dyn,this.mark2_attr),this.mark2_a.connect(this.dyn),this.mark2_a.sts||(this.mark2_a=null,console.log("Trend: "+this.mark2_attr))),this.mark1_color==Glow.eDrawType_Inherit&&this.mark2_color==Glow.eDrawType_Inherit||t.set_mark_color(this.mark1_color,this.mark2_color)):console.log("Trend: "+this.attribute2):console.log("Trend: "+this.attribute1),1},this.disconnect=function(){this.a1.disconnect(this.dyn),null!=this.a2&&this.a2.disconnect(this.dyn),null!=this.minvalue_a1&&this.minvalue_a1.disconnect(this.dyn),null!=this.maxvalue_a1&&this.maxvalue_a1.disconnect(this.dyn),null!=this.minvalue_a2&&this.minvalue_a2.disconnect(this.dyn),null!=this.maxvalue_a2&&this.maxvalue_a2.disconnect(this.dyn),null!=this.hold_a&&this.hold_a.disconnect(this.dyn),null!=this.timerange_a&&this.timerange_a.disconnect(this.dyn),null!=this.mark1_a&&this.mark1_a.disconnect(this.dyn),null!=this.mark2_a&&this.mark2_a.disconnect(this.dyn)},this.scan=function(t){if(this.a1.attrFound){if(null!==this.hold_a){this.hold_a.get_ref_value(this.dyn);if(this.holdval)return}if(null!==this.timerange_a){var e=this.timerange_a.get_ref_value(this.dyn);if(Math.abs(e-this.timerange_a.oldValue)>Number.MIN_VALUE){var i=e/this.no_of_points;if(.001<=i)if(t.set_scan_time(i),this.scan_time=i,this.cycle==Glow.eCycle_Slow){var a=this.dyn.graph.getScanTime(),s=this.dyn.graph.getFastScanTime(),o=this.dyn.graph.getAnimationScanTime();a>this.scan_time?this.dyn.graph.setScanTime(this.scan_time):this.scan_time>this.orig_graph_scan_time?this.dyn.graph.setScanTime(this.orig_graph_scan_time):this.dyn.graph.setScanTime(this.scan_time),s>this.scan_time?this.dyn.graph.setFastScanTime(this.scan_time):this.scan_time>orig_graph_fast_scan_time?this.dyn.graph.setFastScanTime(this.orig_graph_fast_scan_time):this.dyn.graph.setFastScanTime(this.scan_time),o>this.scan_time?this.dyn.graph.setAnimationScanTime(this.scan_time):this.scan_time>orig_graph_animation_scan_time?this.dyn.graph.setAnimationScanTime(this.orig_graph_animation_scan_time):this.dyn.graph.setAnimationScanTime(this.scan_time)}else{s=this.dyn.graph.getFastScanTime(),o=this.dyn.graph.getAnimationScanTime();s>this.scan_time?this.dyn.graph.setFastScanTime(this.scan_time):this.scan_time>orig_graph_fast_scan_time?this.dyn.graph.setFastScanTime(this.orig_graph_fast_scan_time):this.dyn.graph.setFastScanTime(this.scan_time),o>this.scan_time?this.dyn.graph.setAnimationScanTime(this.scan_time):this.scan_time>orig_graph_animation_scan_time?this.dyn.graph.setAnimationScanTime(orig_graph_animation_scan_time):this.dyn.graph.setAnimationScanTime(this.scan_time)}this.timerange_a.oldValue=e}}var r,n;if(null!==this.maxvalue_a1&&null!==this.minvalue_a1&&(r=this.minvalue_a1.get_ref_value(this.dyn),n=this.maxvalue_a1.get_ref_value(this.dyn),r==this.minvalue_a1.oldValue&&n==this.maxvalue_a1.oldValue||(Math.abs(n-r)>Number.MIN_VALUE&&t.set_range_y(0,r,n),this.minvalue_a1.oldValue=r,this.maxvalue_a1.oldValue=n)),null!==this.maxvalue_a2&&null!==this.minvalue_a2&&(r=this.minvalue_a2.get_ref_value(this.dyn),n=this.maxvalue_a2.get_ref_value(this.dyn),r==this.minvalue_a2.oldValue&&n==this.maxvalue_a2.oldValue||(Math.abs(n-r)>Number.MIN_VALUE&&t.set_range_y(1,r,n),this.minvalue_a2.oldValue=r,this.maxvalue_a2.oldValue=n)),null!==this.mark1_a){var _=this.mark1_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(_-this.mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark1(_),this.mark1_a.oldValue=_)}if(null!==this.mark2_a){var l=this.mark2_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(l-this.mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark2(l),this.mark2_a.oldValue=l)}if(this.firstScan&&(this.firstScan=!1),this.cycle==Glow.eCycle_Slow?this.acc_time+=this.dyn.graph.getScanTime():this.acc_time+=this.dyn.graph.getFastScanTime(),this.acc_time+Number.MIN_VALUE>=this.scan_time){if(0!=this.p1)switch(this.a1.typeid){case Pwr.eType_Boolean:(h=this.a1.get_ref_value(this.dyn))?t.add_value(1,0):t.add_value(0,0);break;case Pwr.eType_Float32:var h=this.a1.get_ref_value(this.dyn);t.add_value(h,0);break;case Pwr.eType_Int32:case Pwr.eType_UInt32:h=this.a1.get_ref_value(this.dyn);t.add_value(h,0)}if(null!=this.a2&&this.a2.sts)switch(this.a2.typeid){case Pwr.eType_Boolean:(h=this.a2.get_ref_value(this.dyn))?t.add_value(1,1):t.add_value(0,1);break;case Pwr.eType_Float32:h=this.a2.get_ref_value(this.dyn);t.add_value(h,1);break;case Pwr.eType_Int32:case Pwr.eType_UInt32:h=this.a2.get_ref_value(this.dyn);t.add_value(h,1)}this.acc_time=0}}},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynTrend : "+t[i]),null,o){case DynC.eSave_Trend:break;case DynC.eSave_Trend_attribute1:1<s.length&&(this.attribute1=s[1]);break;case DynC.eSave_Trend_attribute2:1<s.length&&(this.attribute2=s[1]);break;case DynC.eSave_Trend_minvalue_attr1:1<s.length&&(this.minvalue_attr1=s[1]);break;case DynC.eSave_Trend_maxvalue_attr1:1<s.length&&(this.maxvalue_attr1=s[1]);break;case DynC.eSave_Trend_minvalue_attr2:1<s.length&&(this.minvalue_attr2=s[1]);break;case DynC.eSave_Trend_maxvalue_attr2:1<s.length&&(this.maxvalue_attr2=s[1]);break;case DynC.eSave_Trend_hold_attr:1<s.length&&(this.hold_attr=s[1]);break;case DynC.eSave_Trend_timerange_attr:1<s.length&&(this.timerange_attr=s[1]);break;case DynC.eSave_Trend_mark1_attr:1<s.length&&(this.mark1_attr=s[1]);break;case DynC.eSave_Trend_mark2_attr:1<s.length&&(this.mark2_attr=s[1]);break;case DynC.eSave_Trend_mark1_color:this.mark1_color=parseInt(s[1],10);break;case DynC.eSave_Trend_mark2_color:this.mark2_color=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynTrend",e,o)}if(a)break}return i}}function DynXY_Curve(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_XY_Curve,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_XY_Curve,this.instance_mask=0,this.instance=0,this.firstScan=!0,this.x_a=null,this.y_a=null,this.y_minvalue_a=null,this.y_maxvalue_a=null,this.x_minvalue_a=null,this.x_maxvalue_a=null,this.noofpoints_a=null,this.update_a=null,this.x_mark1_a=null,this.x_mark2_a=null,this.y_mark1_a=null,this.y_mark2_a=null,this.x_attr=null,this.y_attr=null,this.y_minvalue_attr,this.y_maxvalue_attr,this.x_minvalue_attr,this.x_maxvalue_attr,this.noofpoints_attr,this.update_attr,this.x_mark1_attr=null,this.x_mark2_attr=null,this.y_mark1_attr=null,this.y_mark2_attr=null,this.mark1_color,this.mark2_color,this.y_min_value,this.y_max_value,this.x_min_value,this.x_max_value,this.horizontal_padding,this.datatype,this.curve_color,this.fill_color,this.noofpoints,this.noOfPoints,this.xAttrType,this.yAttrType,this.curveX=[],this.curveY=[],this.curve_number,this.object;this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynXYCurve : "+t[i]),null,o){case DynC.eSave_XY_Curve:break;case DynC.eSave_XY_Curve_x_attr:1<s.length&&(this.x_attr=s[1]);break;case DynC.eSave_XY_Curve_y_attr:1<s.length&&(this.y_attr=s[1]);break;case DynC.eSave_XY_Curve_y_minvalue_attr:1<s.length&&(this.y_minvalue_attr=s[1]);break;case DynC.eSave_XY_Curve_y_maxvalue_attr:1<s.length&&(this.y_maxvalue_attr=s[1]);break;case DynC.eSave_XY_Curve_x_minvalue_attr:1<s.length&&(this.x_minvalue_attr=s[1]);break;case DynC.eSave_XY_Curve_x_maxvalue_attr:1<s.length&&(this.x_maxvalue_attr=s[1]);break;case DynC.eSave_XY_Curve_noofpoints_attr:1<s.length&&(this.noofpoints_attr=s[1]);break;case DynC.eSave_XY_Curve_update_attr:1<s.length&&(this.update_attr=s[1]);break;case DynC.eSave_XY_Curve_y_min_value:this.y_min_value=parseFloat(s[1]);break;case DynC.eSave_XY_Curve_y_max_value:this.y_max_value=parseFloat(s[1]);break;case DynC.eSave_XY_Curve_x_min_value:this.x_min_value=parseFloat(s[1]);break;case DynC.eSave_XY_Curve_x_max_value:this.x_max_value=parseFloat(s[1]);break;case DynC.eSave_XY_Curve_datatype:this.datatype=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_curve_color:this.curve_color=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_fill_color:this.fill_color=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_horizontal_padding:this.horizontal_padding=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_x_mark1_attr:1<s.length&&(this.x_mark1_attr=s[1]);break;case DynC.eSave_XY_Curve_x_mark2_attr:1<s.length&&(this.x_mark2_attr=s[1]);break;case DynC.eSave_XY_Curve_y_mark1_attr:1<s.length&&(this.y_mark1_attr=s[1]);break;case DynC.eSave_XY_Curve_y_mark2_attr:1<s.length&&(this.y_mark2_attr=s[1]);break;case DynC.eSave_XY_Curve_mark1_color:this.mark1_color=parseInt(s[1],10);break;case DynC.eSave_XY_Curve_mark2_color:this.mark2_color=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynXYCurve")}if(a)break}return i},this.connect=function(t){if(null==this.x_attr||null==this.y_attr)return 1;""!==this.update_attr.trim()&&(this.update_a=new DynReference(this.dyn,this.update_attr),this.update_a.connect(this.dyn),this.update_a.sts||(console.log("XYCurve: "+this.update_attr),this.update_a=null)),""!==this.noofpoints_attr.trim()&&(this.noofpoints_a=new DynReference(this.dyn,this.noofpoints_attr),this.noofpoints_a.connect(this.dyn),this.noofpoints_a.sts||(console.log("XYCurve: "+this.noofpoints_attr),this.noofpoints_a=null)),""!==this.y_minvalue_attr.trim()&&(this.y_minvalue_a=new DynReference(this.dyn,this.y_minvalue_attr),this.y_minvalue_a.connect(this.dyn),this.y_minvalue_a.sts||(console.log("XYCurve: "+this.y_minvalue_attr),this.y_minvalue_a=null)),""!==this.y_maxvalue_attr.trim()&&(this.y_maxvalue_a=new DynReference(this.dyn,this.y_maxvalue_attr),this.y_maxvalue_a.connect(this.dyn),this.y_maxvalue_a.sts||(console.log("XYCurve: "+this.y_maxvalue_attr),this.y_maxvalue_a=null)),""!==this.x_minvalue_attr.trim()&&(this.x_minvalue_a=new DynReference(this.dyn,this.x_minvalue_attr),this.x_minvalue_a.connect(this.dyn),this.x_minvalue_a.sts||(console.log("XYCurve: "+this.x_minvalue_attr),this.x_minvalue_a=null)),""!==this.x_maxvalue_attr.trim()&&(this.x_maxvalue_a=new DynReference(this.dyn,this.x_maxvalue_attr),this.x_maxvalue_a.connect(this.dyn),this.x_maxvalue_a.sts||(console.log("XYCurve: "+this.x_maxvalue_attr),this.x_maxvalue_a=null)),""!==this.y_mark1_attr.trim()&&(this.y_mark1_a=new DynReference(this.dyn,this.y_mark1_attr),this.y_mark1_a.connect(this.dyn),this.y_mark1_a.sts||(console.log("XYCurve: "+this.y_mark1_attr),this.y_mark1_a=null)),""!==this.y_mark2_attr.trim()&&(this.y_mark2_a=new DynReference(this.dyn,this.y_mark2_attr),this.y_mark2_a.connect(this.dyn),this.y_mark2_a.sts||(console.log("XYCurve: "+this.y_mark2_attr),this.y_mark2_a=null)),this.curve_number=0;for(var e=this.instance;0!=e;)e>>=1,this.curve_number++;if(this.instance==DynC.mInstance_1){e=this.instance_mask;for(var i=0;0!=e;)e>>=1,i++;t.set_xy_noofcurves(i)}return this.noofpoints=t.get_no_of_points(),Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),Math.abs(this.x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),t.set_xy_curve_color(this.curve_number-1,this.curve_color,this.fill_color),this.mark1_color==Glow.eDrawType_Inherit&&this.mark2_color==Glow.eDrawType_Inherit||t.set_mark_color(this.mark1_color,this.mark2_color),1},this.disconnect=function(){null!==this.update_a&&this.update_a.disconnect(this.dyn),null!==this.noofpoints_a&&this.noofpoints_a.disconnect(this.dyn),null!==this.y_minvalue_a&&this.y_minvalue_a.disconnect(this.dyn),null!==this.y_maxvalue_a&&this.y_maxvalue_a.disconnect(this.dyn),null!==this.x_minvalue_a&&this.x_minvalue_a.disconnect(this.dyn),null!==this.x_maxvalue_a&&this.x_maxvalue_a.disconnect(this.dyn),null!==this.x_mark1_a&&this.x_mark1_a.disconnect(this.dyn),null!==this.x_mark2_a&&this.x_mark2_a.disconnect(this.dyn),null!==this.y_mark1_a&&this.y_mark1_a.disconnect(this.dyn),null!==this.y_mark2_a&&this.y_mark2_a.disconnect(this.dyn)},this.scan=function(t){var e,i,a=!1,s=1;if(this.object=t,this.noOfPoints=this.noofpoints,null!=this.x_attr&&null!=this.y_attr){var o;if(this.firstScan&&(a=!0),null!==this.update_a)(o=this.update_a.get_ref_value(this.dyn))&&!this.update_a.oldValue&&(a=!0),this.update_a.oldValue=o;if(null!==this.noofpoints_a)(o=this.noofpoints_a.get_ref_value(this.dyn))!=this.noofpoints_a.oldValue&&(a=!0,this.noofpoints=this.noOfPoints=o,this.noofpoints_a.oldValue=o);if(null!==this.y_minvalue_a)(o=this.y_minvalue_a.get_ref_value(this.dyn))!=this.y_min_value&&(this.y_min_value=o,Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),a=!0);if(null!==this.y_maxvalue_a)(o=this.y_maxvalue_a.get_ref_value(this.dyn))!=this.y_max_value&&(this.y_max_value=o,Math.abs(this.y_max_value-this.y_min_value)>Number.MIN_VALUE&&t.set_xy_range_y(this.curve_number-1,this.y_min_value,this.y_max_value),a=!0);if(null!==this.x_minvalue_a)(o=this.x_minvalue_a.get_ref_value(this.dyn))!=this.x_min_value&&(this.x_min_value=o,Math.abs(x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),a=!0);if(null!==this.x_maxvalue_a)(o=this.x_maxvalue_a.get_ref_value(this.dyn))!=this.x_max_value&&(this.x_max_value=o,Math.abs(x_max_value-this.x_min_value)>Number.MIN_VALUE&&t.set_xy_range_x(this.curve_number-1,this.x_min_value,this.x_max_value),a=!0);if(null!==this.x_mark1_a){var r=this.x_mark1_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(r-this.x_mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_x_mark1(r),this.x_mark1_a.oldValue=r)}if(null!==this.x_mark2_a){var n=this.x_mark2_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(n-this.x_mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_x_mark2(n),this.x_mark2_a.oldValue=n)}if(null!==this.y_mark1_a){r=this.y_mark1_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(r-this.y_mark1_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark1(r),this.y_mark1_a.oldValue=r)}if(null!==this.y_mark2_a){n=this.y_mark2_a.get_ref_value(this.dyn);(this.firstScan||Math.abs(n-this.y_mark2_a.oldValue)>Number.MIN_VALUE)&&(t.set_y_mark2(n),this.y_mark2_a.oldValue=n)}if(a){switch(i=(e=this.dyn.parseAttrName(this.x_attr)).elements,this.xAttrType=e.type,this.datatype){case DynC.eCurveDataType_XYArrays:i<this.noOfPoints&&(this.noOfPoints=i),s=this.noOfPoints;break;case DynC.eCurveDataType_PointArray:i/2<this.noOfPoints&&(this.noOfPoints=i/2),s=2*this.noOfPoints;break;case DynC.eCurveDataType_TableObject:(i-1)/2<this.noOfPoints&&(this.noOfPoints=(i-1)/2),s=2*this.noOfPoints+1}switch(this.xAttrType){case Pwr.eType_Float32:this.dyn.graph.getGdh().getObjectInfoFloatArray(e.name,s,this.scan2,this);break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:this.dyn.graph.getGdh().getObjectInfoIntArray(e.name,s,this.scan2,this);break;default:return}}this.firstScan=!1}},this.scan2=function(t,e,i,a){switch(e.xAttrType){case Pwr.eType_Float32:if(!(1&i))return;switch(e.datatype){case DynC.eCurveDataType_XYArrays:e.curveX=new Array(e.noOfPoints);for(var s=0;s<e.noOfPoints;s++)e.curveX[s]=a[s];break;case DynC.eCurveDataType_PointArray:curveX=new Array(e.noOfPoints),curveY=new Array(e.noOfPoints);for(s=0;s<e.noOfPoints;s++)e.curveX[s]=a[2*s],e.curveY[s]=a[2*s+1];e.dyn.repaintNow=!0;break;case DynC.eCurveDataType_TableObject:e.noOfPoints=Math.floor(a[0]),e.noOfPoints>e.noofpoints&&(e.noOfPoints=e.noofpoints),attrSize<e.noOfPoints&&(e.noOfPoints=attrSize),e.curveY=new Array(e.noOfPoints),e.curveX=new Array(e.noOfPoints);for(s=0;s<e.noOfPoints;s++)e.curveX[s]=a[2*s+1],e.curveY[s]=a[2*s+2];e.dyn.repaintNow=!0}break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:if(!(1&i))return;switch(e.datatype){case DynC.eCurveDataType_XYArrays:e.curveX=new Array(e.noOfPoints);for(s=0;s<e.noOfPoints;s++)e.curveX[s]=a[s];break;case DynC.eCurveDataType_PointArray:e.curveX=new Array(e.noOfPoints),e.curveY=new Array(e.noOfPoints);for(s=0;s<e.noOfPoints;s++)e.curveX[s]=a[2*s],e.curveY[s]=a[2*s+1];e.dyn.repaintNow=!0;break;case DynC.eCurveDataType_TableObject:e.noOfPoints=Math.floor(a[0]),e.noOfPoints>e.noofpoints&&(e.noOfPoints=e.noofpoints),attrSize<e.noOfPoints&&(e.noOfPoints=attrSize),e.curveY=new Array(e.noOfPoints),e.curveX=new Array(e.noOfPoints);for(s=0;s<e.noOfPoints;s++)e.curveX[s]=a[2*s+1],e.curveY[s]=a[2*s+2];e.dyn.repaintNow=!0}break;default:return}switch(e.datatype){case DynC.eCurveDataType_XYArrays:var o=e.dyn.parseAttrName(e.y_attr);switch(o.elements<e.noOfPoints&&(e.noOfPoints=o.elements),e.yAttrType=o.type,e.curveY=new Array(e.noOfPoints),e.yAttrType){case Pwr.eType_Float32:e.dyn.graph.getGdh().getObjectInfoFloatArray(o.name,e.noOfPoints,e.scan3,e);break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:e.dyn.graph.getGdh().getObjectInfoIntArray(o.name,e.noOfPoints,e.scan3,e);break;default:return}}},this.scan3=function(t,e,i,a){if(1&i){switch(e.datatype){case DynC.eCurveDataType_XYArrays:switch(e.yAttrType){case Pwr.eType_Float32:for(var s=0;s<e.noOfPoints;s++)e.curveY[s]=a[s];e.dyn.repaintNow=!0;break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:for(s=0;s<e.noOfPoints;s++)e.curveY[s]=a[s];e.dyn.repaintNow=!0;break;default:return}}e.object.set_xy_data(e.curveY,e.curveX,e.curve_number-1,e.noOfPoints)}}}function DynPie(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Pie,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Pie,this.instance_mask=0,this.instance=0,this.a,this.attribute=new Array(GrowPie.PIE_MAX_SECTORS),this.sectors,this.min_value,this.max_value,this.fix_range,this.attr_type,this.connected=!1,this.firstScan=!0,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynPie : "+t[i]),null,o){case DynC.eSave_Pie:break;case DynC.eSave_Pie_fix_range:this.fix_range=parseInt(s[1],10);break;case DynC.eSave_Pie_attribute1:1<s.length&&(this.attribute[0]=s[1]);break;case DynC.eSave_Pie_attribute2:1<s.length&&(this.attribute[1]=s[1]);break;case DynC.eSave_Pie_attribute3:1<s.length&&(this.attribute[2]=s[1]);break;case DynC.eSave_Pie_attribute4:1<s.length&&(this.attribute[3]=s[1]);break;case DynC.eSave_Pie_attribute5:1<s.length&&(this.attribute[4]=s[1]);break;case DynC.eSave_Pie_attribute6:1<s.length&&(this.attribute[5]=s[1]);break;case DynC.eSave_Pie_attribute7:1<s.length&&(this.attribute[6]=s[1]);break;case DynC.eSave_Pie_attribute8:1<s.length&&(this.attribute[7]=s[1]);break;case DynC.eSave_Pie_attribute9:1<s.length&&(this.attribute[8]=s[1]);break;case DynC.eSave_Pie_attribute10:1<s.length&&(this.attribute[9]=s[1]);break;case DynC.eSave_Pie_attribute11:1<s.length&&(this.attribute[10]=s[1]);break;case DynC.eSave_Pie_attribute12:1<s.length&&(this.attribute[11]=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynPie")}if(a)break}return i},this.connect=function(t){var e=t.get_conf();this.min_value=e.min_val,this.max_value=e.max_val,this.sectors=e.sector_num,this.sectors>GrowPie.PIE_MAX_SECTORS&&(this.sectors=GrowPie.PIE_MAX_SECTORS),this.a=new Array(this.sectors);for(var i=0;i<this.sectors;i++)if(null!==this.attribute[i]&&""!==this.attribute[i].trim()){if(this.a[i]=new DynReference(this.dyn,this.attribute[i]),this.a[i].connect(this.dyn),!this.a[i].sts)return this.a[i]=null,console.log("Pie: "+this.attribute[i]),1;0===i&&(this.attr_type=this.a[0].typeid)}else this.a[i]=null;return this.connected=!0,1},this.disconnect=function(){if(this.connected)for(var t=0;t<this.sectors;t++)null!==this.a[t]&&this.a[t].disconnect(this.dyn)},this.action=function(t,e){return 1},this.scan=function(t){if(this.connected)switch(this.attr_type){case Pwr.eType_Float32:for(var e=new Array(GrowPie.PIE_MAX_SECTORS),i=0;i<this.sectors;i++)e[i]=this.a[i].get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else{var a=0;for(i=0;i<this.sectors;i++)if(Math.abs(this.a[i].oldValue-e[i])>Number.MIN_VALUE){a=1;break}if(0===a)return}if(Math.abs(this.max_value-this.min_value)<Number.MIN_VALUE)return;var s=new Array(GrowPie.PIE_MAX_SECTORS);if(0!=this.fix_range||1==this.sectors)for(i=0;i<this.sectors;i++)s[i]=e[i]-this.min_value;else{var o=0;for(i=0;i<this.sectors;i++)o+=e[i]-this.min_value;for(i=0;i<this.sectors;i++)Math.abs(o)<Number.MIN_VALUE?s[i]=0:s[i]=(e[i]-this.min_value)/o*(this.max_value-this.min_value)}t.set_values(s);for(i=0;i<this.sectors;i++)this.a[i].oldValue=e[i];break;case Pwr.eType_Int32:}}}function DynBarChart(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_BarChart,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_BarChart,this.instance_mask=0,this.instance=0,this.a,this.attribute=new Array(GrowBarChart.BARCHART_MAX_BARSEGMENTS),this.bars,this.barsegments,this.min_value,this.max_value,this.fix_range,this.valueF,this.valueI,this.oldValueF,this.oldValueI,this.attr_type,this.firstScan=!0,this.connected=!1,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynBarChart : "+t[i]),o){case DynC.eSave_BarChart:break;case DynC.eSave_BarChart_fix_range:this.fix_range=parseInt(s[1],10);break;case DynC.eSave_BarChart_attribute1:1<s.length&&(this.attribute[0]=s[1]);break;case DynC.eSave_BarChart_attribute2:1<s.length&&(this.attribute[1]=s[1]);break;case DynC.eSave_BarChart_attribute3:1<s.length&&(this.attribute[2]=s[1]);break;case DynC.eSave_BarChart_attribute4:1<s.length&&(this.attribute[3]=s[1]);break;case DynC.eSave_BarChart_attribute5:1<s.length&&(this.attribute[4]=s[1]);break;case DynC.eSave_BarChart_attribute6:1<s.length&&(this.attribute[5]=s[1]);break;case DynC.eSave_BarChart_attribute7:1<s.length&&(this.attribute[6]=s[1]);break;case DynC.eSave_BarChart_attribute8:1<s.length&&(this.attribute[7]=s[1]);break;case DynC.eSave_BarChart_attribute9:1<s.length&&(this.attribute[8]=s[1]);break;case DynC.eSave_BarChart_attribute10:1<s.length&&(this.attribute[9]=s[1]);break;case DynC.eSave_BarChart_attribute11:1<s.length&&(this.attribute[10]=s[1]);break;case DynC.eSave_BarChart_attribute12:1<s.length&&(this.attribute[11]=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynBarChart")}if(a)break}return i},this.connect=function(t){var e=t.get_conf();this.min_value=e.min_value,this.max_value=e.max_value,this.bars=e.bars,this.barsegments=e.barsegments,this.a=new Array(this.barsegments);for(var i=0;i<this.barsegments;i++){if(null===this.attribute[i]||""===this.attribute[i].trim())return console.log("BarChart",this.attributes[i]),1;if(this.a[i]=new DynReference(this.dyn,this.attribute[i]),this.a[i].connect(this.dyn),0==this.a[i].elements)return 1;if(this.bars=Math.min(this.bars,this.a[i].elements),0==i)switch(this.attr_type=this.a[i].typeid,this.attr_type){case Pwr.eType_Float32:this.valueF=new Array(this.barsegments);break;case Pwr.eType_Int32:this.valueI=new Array(this.barsegments);break;default:return 1}else if(this.attr_type!=this.a[i].typeid)return console.log("BarChart type",this.attribute[i],this.a[i].typeid),1}return this.connected=!0,1},this.disconnect=function(){if(this.connected)for(var t=0;t<this.barsegments;t++)this.a[t].disconnect(this.dyn)},this.action=function(t,e){return 1},this.scan=function(t){if(this.connected)switch(this.attr_type){case Pwr.eType_Float32:this.valueF=new Array(GrowBarChart.BARCHART_MAX_BARSEGMENTS);for(var e=0;e<this.barsegments;e++)if(this.valueF[e]=this.a[e].get_ref_value(this.dyn),this.valueF[e].length<this.bars){console.log("BarChart, value array to short",this.valueF[e].length);break}if(this.firstScan)this.firstScan=!1;else{var i=0;if(null!=this.oldValueF){for(e=0;e<this.barsegments&&null!=this.valueF[e]&&(null!==this.oldValueF[e]&&null!==this.valueF[e]);e++){for(var a=0;a<this.bars;a++)if(Math.abs(this.oldValueF[e][a]-this.valueF[e][a])>Number.MIN_VALUE){i=1;break}if(1==i)break}if(0==i)return}}if(Math.abs(this.max_value-this.min_value)<Number.MIN_VALUE)return;t.set_values(this.valueF[0],this.valueF[1],this.valueF[2],this.valueF[3],this.valueF[4],this.valueF[5],this.valueF[6],this.valueF[7],this.valueF[8],this.valueF[9],this.valueF[10],this.valueF[11]),this.oldValueF=this.valueF;break;case Pwr.eType_Int32:}}}function DynTable(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_Table,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Table,this.instance_mask=0,this.instance=0,this.attribute=new Array(12),this.format=new Array(12),this.sel_attribute=new Array(12),this.cFormat,this.firstScan=!0,this.oldValueB,this.oldValueF,this.oldValueI,this.oldValueS,this.p,this.hp=null,this.db,this.elements,this.type_id,this.size,this.headerRef,this.columns,this.rows,this.sel_p,this.sel_elements,this.bitmask,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynTable : "+t[i]),o){case DynC.eSave_Table:break;case DynC.eSave_Table_attribute1:1<s.length&&(this.attribute[0]=s[1]);break;case DynC.eSave_Table_format1:1<s.length&&(this.format[0]=s[1]);break;case DynC.eSave_Table_sel_attribute1:1<s.length&&(this.sel_attribute[0]=s[1]);break;case DynC.eSave_Table_attribute2:1<s.length&&(this.attribute[1]=s[1]);break;case DynC.eSave_Table_format2:1<s.length&&(this.format[1]=s[1]);break;case DynC.eSave_Table_sel_attribute2:1<s.length&&(this.sel_attribute[1]=s[1]);break;case DynC.eSave_Table_attribute3:1<s.length&&(this.attribute[2]=s[1]);break;case DynC.eSave_Table_format3:1<s.length&&(this.format[2]=s[1]);break;case DynC.eSave_Table_sel_attribute3:1<s.length&&(this.sel_attribute[2]=s[1]);break;case DynC.eSave_Table_attribute4:1<s.length&&(this.attribute[3]=s[1]);break;case DynC.eSave_Table_format4:1<s.length&&(this.format[3]=s[1]);break;case DynC.eSave_Table_sel_attribute4:1<s.length&&(this.sel_attribute[3]=s[1]);break;case DynC.eSave_Table_attribute5:1<s.length&&(this.attribute[4]=s[1]);break;case DynC.eSave_Table_format5:1<s.length&&(this.format[4]=s[1]);break;case DynC.eSave_Table_sel_attribute5:1<s.length&&(this.sel_attribute[4]=s[1]);break;case DynC.eSave_Table_attribute6:1<s.length&&(this.attribute[5]=s[1]);break;case DynC.eSave_Table_format6:1<s.length&&(this.format[5]=s[1]);break;case DynC.eSave_Table_sel_attribute6:1<s.length&&(this.sel_attribute[5]=s[1]);break;case DynC.eSave_Table_attribute7:1<s.length&&(this.attribute[6]=s[1]);break;case DynC.eSave_Table_format7:1<s.length&&(this.format[6]=s[1]);break;case DynC.eSave_Table_sel_attribute7:1<s.length&&(this.sel_attribute[6]=s[1]);break;case DynC.eSave_Table_attribute8:1<s.length&&(this.attribute[7]=s[1]);break;case DynC.eSave_Table_format8:1<s.length&&(this.format[7]=s[1]);break;case DynC.eSave_Table_sel_attribute8:1<s.length&&(this.sel_attribute[7]=s[1]);break;case DynC.eSave_Table_attribute9:1<s.length&&(this.attribute[8]=s[1]);break;case DynC.eSave_Table_format9:1<s.length&&(this.format[8]=s[1]);break;case DynC.eSave_Table_sel_attribute9:1<s.length&&(this.sel_attribute[8]=s[1]);break;case DynC.eSave_Table_attribute10:1<s.length&&(this.attribute[9]=s[1]);break;case DynC.eSave_Table_format10:1<s.length&&(this.format[9]=s[1]);break;case DynC.eSave_Table_sel_attribute10:1<s.length&&(this.sel_attribute[9]=s[1]);break;case DynC.eSave_Table_attribute11:1<s.length&&(this.attribute[10]=s[1]);break;case DynC.eSave_Table_format11:1<s.length&&(this.format[10]=s[1]);break;case DynC.eSave_Table_sel_attribute11:1<s.length&&(this.sel_attribute[10]=s[1]);break;case DynC.eSave_Table_attribute12:1<s.length&&(this.attribute[11]=s[1]);break;case DynC.eSave_Table_format12:1<s.length&&(this.format[11]=s[1]);break;case DynC.eSave_Table_sel_attribute12:1<s.length&&(this.sel_attribute[11]=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynTable")}if(a)break}return i},this.connect=function(t){var e=null,i=t.getTableInfo();this.columns=i.columns,this.rows=i.rows,this.db=new Array(this.columns),this.size=new Array(this.columns),this.elements=new Array(this.columns),this.type_id=new Array(this.columns),this.headerRef=new Array(this.columns),this.p=new Array(this.columns);for(var a=0;a<this.columns;a++)this.p[a]=0;this.oldValueB=new Array(this.columns),this.oldValueF=new Array(this.columns),this.oldValueI=new Array(this.columns),this.oldValueS=new Array(this.columns),this.cFormat=new Array(this.columns);for(a=0;a<this.columns;a++)this.cFormat[a]=new GlowCFormat(this.format[a]);this.sel_p=new Array(this.columns),this.sel_elements=new Array(this.columns),this.bitmask=new Array(this.columns);for(a=0;a<this.columns;a++){var s=this.dyn.parseAttrName(this.attribute[a]);if(null!==s&&""!==s.name&&0!=s.elements){if(this.db[a]=s.database,"$header"!=s.tname.substring(0,7)){switch(this.db[a]){case GraphIfc.eDatabase_Gdh:this.p[a]=this.dyn.graph.getGdh().refObjectInfo(s.tname,s.type,s.elements),0===a&&(e=s.name)}if(0===this.p[a])continue;this.size[a]=s.elements,this.type_id[a]=s.type,this.elements[a]=Math.min(s.elements,this.rows),this.bitmask[a]=s.bitmask}else{if(this.headerRef[a]=!0,null==e)continue;for(var o=0;o<this.elements[0];o++){var r="&("+(e+"["+o+"]")+")"+s.tname.substring(7);if(null===this.hp){this.hp=new Array(this.columns);for(var n=0;n<this.columns;n++)this.hp[n]=null}if(null==this.hp[a]){this.hp[a]=new Array(this.elements[0]);for(var _=0;_<this.elements[0];_++)this.hp[a][_]=0}this.hp[a][o]=this.dyn.graph.getGdh().refObjectInfo(r,s.type,s.elements),console.log("Table $header "+a+" hp "+this.hp[a][o]),0===o&&(this.size[a]=s.elements,this.type_id[a]=s.type,this.elements[a]=this.elements[0],this.bitmask[a]=s.bitmask)}}switch(this.type_id[a]){case Pwr.eType_Float32:this.oldValueF[a]=new Array(this.rows);break;case Pwr.eType_Boolean:case GraphIfc.eType_Bit:oldValueB[a]=new Array(this.rows);break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:this.oldValueI[a]=new Array(this.rows);break;case Pwr.eType_String:case Pwr.eType_Objid:case Pwr.eType_AttrRef:case Pwr.eType_Time:case Pwr.eType_DeltaTime:this.oldValueS[a]=new Array(this.rows)}if(this.sel_p[a]=0,null!==(s=this.dyn.parseAttrName(this.sel_attribute[a]))&&""!==s.name&&s.type==Pwr.eType_Boolean)switch(s.database){case GraphIfc.eDatabase_Gdh:if(sel_p[a]=this.dyn.graph.getGdh().refObjectInfo(s.tname,s.type,s.elements),0!==sel_p[a]){if(0==ret.getElements())break;this.sel_elements[a]=s.elements,this.sel_elements[a]>this.elements[a]&&(this.sel_elements[a]=this.elements[a])}}}}return t.setTableInfo(i),1},this.disconnect=function(){for(var t=0;t<this.columns;t++){if(this.headerRef[t])for(var e=0;e<this.elements[t];e++)0!=this.hp[t][e]&&this.dyn.graph.getGdh().unrefObjectInfo(this.hp[t][e]);else 0!=this.p[t]&&this.db[t]==GraphIfc.eDatabase_Gdh&&this.dyn.graph.getGdh().unrefObjectInfo(this.p[t]),this.p[t]=0;switch(this.type_id[t]){case Pwr.eType_Float32:null!==this.oldValueF[t]&&(this.oldValueF[t]=null);break;case Pwr.eType_Boolean:case GraphIfc.eType_Bit:null!==this.oldValueB[t]&&(this.oldValueB[t]=null);break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:null!==this.oldValueI[t]&&(this.oldValueI[t]=null);break;case Pwr.eType_String:case Pwr.eType_Objid:case Pwr.eType_AttrRef:case Pwr.eType_Time:case Pwr.eType_DeltaTime:null!==this.oldValueS[t]&&(this.oldValueS[t]=null)}0!==this.sel_p[t]&&(this.dyn.graph.getGdh().unrefObjectInfo(this.sel_p[t]),this.sel_p[t]=0)}},this.scan=function(t){if(0!=this.p[0]){for(var e=0;e<this.columns;e++)if(this.headerRef[e]){for(i=0;i<this.elements[e];i++)if(0!=this.hp[e][i])switch(this.type_id[e]){case Pwr.eType_Float32:if(void 0===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.hp[e][i])))break;if(this.oldValueF[e][i]!=n||this.firstScan){a=this.cFormat[e].format(n);t.setValue(a,e,i),this.oldValueF[e][i]=n}break;case Pwr.eType_Boolean:if(void 0===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.hp[e][i])))break;!this.firstScan&&this.oldValueB[e][i]==n||(n?t.setValue("1",e,i):t.setValue("0",e,i),t.setValue(a,e,i),this.oldValueB[e][i]=n);break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:if(void 0===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.hp[e][i])))break;if(this.oldValueI[e][i]!=n||this.firstScan){a=this.cFormat[e].format(n);t.setValue(a,e,i),this.oldValueI[e][i]=n}break;case Pwr.eType_String:case Pwr.eType_Objid:case Pwr.eType_AttrRef:case Pwr.eType_Time:case Pwr.eType_DeltaTime:if(void 0===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.hp[e][i])))break;!this.firstScan&&oldValueS[e][i]==n||(t.setValue(n,e,i),this.oldValueS[e][i]=n);break;case GraphIfc.eType_Bit:if(void 0===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.hp[e][i])))break;o=0!=(this.bitmask[e]&n);this.oldValueB[e][i]==o&&!this.firstScan||(o?t.setValue("1",e,i):t.setValue("0",e,i),this.oldValueB[e][i]=o)}}else{if(0===this.p[e])continue;switch(this.type_id[e]){case Pwr.eType_Float32:if(null===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.p[e])))break;for(var i=0;i<Math.min(this.elements[e],n.length);i++)if(this.oldValueF[e][i]!=n[i]||this.firstScan){var a=this.cFormat[e].format(n[i]);t.setValue(a,e,i),this.oldValueF[e][i]=n[i]}break;case Pwr.eType_Boolean:if(null===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.p[e])))break;for(var i=0;i<Math.min(this.elements[e],n.length);i++)!this.firstScan&&this.oldValueB[e][i]==n[i]||(n[i]?t.setValue("1",e,i):t.setValue("0",e,i),oldValueB[e][i]=n[i]);break;case Pwr.eType_Int32:case Pwr.eType_Int16:case Pwr.eType_Int8:case Pwr.eType_UInt32:case Pwr.eType_UInt16:case Pwr.eType_UInt8:if(null==(n=this.dyn.graph.getGdh().getObjectRefInfo(this.p[e])))break;for(i=0;i<Math.min(this.elements[e],n.length);i++)if(this.oldValueI[e][i]!=n[i]||this.firstScan){var a=cFormat[e].format(n[i]);t.setValue(a,e,i),this.oldValueI[e][i]=n[i]}break;case Pwr.eType_String:case Pwr.eType_Objid:case Pwr.eType_AttrRef:case Pwr.eType_Time:case Pwr.eType_DeltaTime:if(null===(n=this.dyn.graph.getGdh().getObjectRefInfo(this.p[e])))break;for(i=0;i<Math.min(this.elements[e],n.length);i++)if(this.firstScan||this.oldValueS[e][i]!=n[i]){switch(this.type_id[e]){case Pwr.eType_AttrRef:case Pwr.eType_Objid:if("%1o"==this.format[e])t.setValue(n[i],e,i);else{var s=n[i].lastIndexOf("-");-1==s?t.setValue(n[i],e,i):t.setValue(n[i].substring(s+1),e,i)}break;default:t.setValue(n[i],e,i)}this.oldValueS[e][i]=n[i]}break;case GraphIfc.eType_Bit:if(null==(n=this.dyn.graph.getGdh().getObjectRefInfo(this.p[e])))break;for(i=0;i<Math.min(this.elements[e],n.length);i++){var o=0!=(this.bitmask[e]&n[i]);this.oldValueB[e][i]==o&&!this.firstScan||(o?t.setValue("1",e,i):t.setValue("0",e,i),this.oldValueB[e][i]=o)}}}var r=!1;for(e=0;e<this.columns;e++){var n;if(0!==this.sel_p[e])if(null!==(n=this.dyn.graph.getGdh().getObjectRefInfo(this.sel_p[e])))for(i=0;i<this.sel_elements[e];i++)n[i]&&(r=!0,t.setSelectedCell(e,i))}r||t.setSelectedCell(-1,-1),this.firstScan&&(this.firstScan=!1)}},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Click:var i,a,s;if(e.type!=Glow.eEventType_Table)break;var o=e;if(a=t.getSelectedCellRow(),i=t.getSelectedCellColumn(),0<=a&&0!==this.sel_p[i]){if(null===(n=this.dyn.parseAttrName(this.sel_attribute[i]))||""===n.name)break;s=!1;var r=n.name+"["+a+"]";this.dyn.graph.getGdh().setObjectInfoBoolean(r,s)}if(0!==this.sel_p[o.column]&&(o.column!=i||o.row!=a)){var n;if(null===(n=this.dyn.parseAttrName(this.sel_attribute[o.column]))||""===n.name)break;s=!0;r=n.name+"["+o.row+"]";this.dyn.graph.getGdh().setObjectInfoBoolean(r,s),t.setSelectedCell(o.column,o.row)}}return 1}}function DynStatusColor(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_StatusColor,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_StatusColor,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.nostatus_color,this.use_colortheme,this.firstScan=!0,this.oldStatus,this.on,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("StatusColor: "+attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts&&!this.dyn.ignoreColor){this.a.database==GraphIfc.eDatabase_Gdh&&(this.a.typeid,Pwr.eType_NetStatus);var e=this.a.get_ref_value(this.dyn);if(this.firstScan||this.oldStatus==DynC.ePwrStatus_Fatal||this.a.oldValue!=e||!this.dyn.resetColor){if(0===(this.a.oldValue=e))e=DynC.ePwrStatus_No;else switch(7&e){case 3:case 1:e=DynC.ePwrStatus_Success;break;case 0:e=DynC.ePwrStatus_Warning;break;case 2:e=DynC.ePwrStatus_Error;break;case 4:e=DynC.ePwrStatus_Fatal;break;default:e=DynC.ePwrStatus_No}if(this.firstScan||this.oldStatus!=e||this.oldStatus==DynC.ePwrStatus_Fatal){if(this.firstScan=!1,0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)){switch(e){case DynC.ePwrStatus_No:this.nostatus_color>=Glow.eDrawTone__?t.setFillColor(this.nostatus_color):t.setColorTone(this.nostatus_color);break;case DynC.ePwrStatus_Success:nostatus_color>=Glow.eDrawTone__&&t.resetFillColor(),t.resetColorTone();break;case DynC.ePwrStatus_Warning:t.setColorTone(0!==this.use_colortheme?Glow.eDrawType_CustomColor42:Glow.eDrawTone_Yellow);break;case DynC.ePwrStatus_Error:t.setColorTone(0!==this.use_colortheme?Glow.eDrawType_CustomColor11:Glow.eDrawTone_Red);break;case DynC.ePwrStatus_Fatal:this.on=!this.on,this.on?t.setColorTone(0!==this.use_colortheme?Glow.eDrawType_CustomColor11:Glow.eDrawTone_Red):this.nostatus_color>=Glow.eDrawTone__?t.setFillColor(this.nostatus_color):t.setColorTone(this.nostatus_color)}this.dyn.repaintNow=!0}else{switch(e){case DynC.ePwrStatus_No:t.setFillColor(this.nostatus_color);break;case DynC.ePwrStatus_Success:t.resetFillColor();break;case DynC.ePwrStatus_Warning:t.setFillColor(Glow.eDrawType_ColorYellow);break;case DynC.ePwrStatus_Error:t.setFillColor(Glow.eDrawType_ColorRed);break;case DynC.ePwrStatus_Fatal:this.on=!this.on,this.on?t.setFillColor(Glow.eDrawType_ColorRed):t.setFillColor(this.nostatus_color)}this.dyn.repaintNow=!0}this.oldStatus=e}}}},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynStatusColor : "+t[i]),null,o){case DynC.eSave_StatusColor:break;case DynC.eSave_StatusColor_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_StatusColor_nostatus_color:this.nostatus_color=parseInt(s[1],10);break;case DynC.eSave_StatusColor_use_colortheme:this.use_colortheme=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynStatusColor")}if(a)break}return i}}function DynAxis(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=DynC.mDynType2_Axis,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_Axis,this.instance_mask=0,this.instance=0,this.minvalue_a,this.maxvalue_a,this.minvalue_attr,this.maxvalue_attr,this.attr_type,this.firstScan=!0,this.keep_settings=0,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynAxis : "+t[i]),null,o){case DynC.eSave_Axis:break;case DynC.eSave_Axis_minvalue_attr:1<s.length&&(this.minvalue_attr=s[1]);break;case DynC.eSave_Axis_maxvalue_attr:1<s.length&&(this.maxvalue_attr=s[1]);break;case DynC.eSave_Axis_keep_settings:this.keep_settings=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynAxis")}if(a)break}return i},this.connect=function(t){return this.minvalue_a=new DynReference(this.dyn,this.minvalue_attr),this.minvalue_a.connect(this.dyn),this.minvalue_a.sts||console.log("Axis: "+this.minvalue_attr),this.maxvalue_a=new DynReference(this.dyn,this.maxvalue_attr),this.maxvalue_a.connect(this.dyn),this.maxvalue_a.sts||console.log("Axis: "+this.maxvalue_attr),this.minvalue_a.sts&&this.maxvalue_a.sts?this.minvalue_a.typeid!=this.maxvalue_a.typeid?this.attr_type=0:this.attr_type=this.maxvalue_a.typeid:this.maxvalue_a.sts?this.attr_type=this.maxvalue_a.typeid:this.minvalue_a.sts&&(this.attr_type=this.minvalue_a.typeid),1},this.disconnect=function(){this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn)},this.scan=function(t){switch(this.attr_type){case Pwr.eType_Float32:if(!this.maxvalue_a.sts&&!this.minvalue_a.sts)return;var e=0,i=0;if(this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value(this.dyn)),this.maxvalue_a.sts&&(i=this.maxvalue_a.get_ref_value(this.dyn)),!(this.firstScan||this.maxvalue_a.sts&&i!=this.maxvalue_a.oldValue||this.minvalue_a.sts&&e!=this.minvalue_a.oldValue))return;if(this.firstScan&&(this.firstScan=!0),this.minvalue_a.sts&&(this.minvalue_a.oldValue=e),this.maxvalue_a.sts&&(this.maxvalue_a.oldValue=i),i==e)return;t.type()==Glow.eObjectType_GrowAxis?t.set_range(e,i,this.keep_settings):t.type()==Glow.eObjectType_GrowAxisArc&&t.set_range(e,i,this.keep_settings)}}}function DynTimeoutColor(t){this.dyn=t,this.dyn_type2=DynC.mDynType2_TimeoutColor,this.dyn_type1=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_TimeoutColor,this.instance_mask=0,this.instance=0,this.time,this.color,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynTimeoutColor : "+t[i]),null,o){case DynC.eSave_TimeoutColor:break;case DynC.eSave_TimeoutColor_time:this.time=Double.valueOf(s[1]);break;case DynC.eSave_TimeoutColor_color:this.color=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynTimeoutColor")}if(a)break}return i}}function DynHostObject(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_HostObject,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_HostObject,this.instance_mask=0,this.instance=0,this.hostobject,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynHostObject : "+t[i]),null,o){case DynC.eSave_HostObject:break;case DynC.eSave_HostObject_object:1<s.length&&(this.hostobject=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynHostObject")}if(a)break}return i}}function DynDigSound(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_DigSound,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_DigSound,this.instance_mask=0,this.instance=0,this.attribute,this.soundobject,this.level,this.interval,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynDigSound : "+t[i]),null,o){case DynC.eSave_DigSound:break;case DynC.eSave_DigSound_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_DigSound_soundobject:1<s.length&&(this.soundobject=s[1]);break;case DynC.eSave_DigSound_level:this.level=parseInt(s[1],10);break;case DynC.eSave_DigSound_interval:this.interval=parseInt(s[1],10);break;case DynC.eSave_DigSound_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_DigSound_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynDigSound")}if(a)break}return i}}function DynFillLevel(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_FillLevel,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_FillLevel,this.instance_mask=0,this.instance=0,this.a=null,this.minvalue_a,this.maxvalue_a,this.attribute,this.color,this.direction,this.max_value,this.min_value,this.minvalue_attr,this.maxvalue_attr,this.firstScan=!0,this.limits_found=!1,this.limit_min,this.limit_max,this.connect=function(t){if(this.color=this.dyn.getColor2(t,this.color),this.color<0||this.color>=Glow.eDrawType__)return 0;if(null===this.attribute.trim())return 0;if(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),!this.a.sts)return console.log("FillLevel: "+attribute),1;0!=(this.dyn.total_dyn_type1&DynC.mDynType1_Tone)?this.color>=Glow.eDrawTone__?t.setLevelFillColor(this.color):t.setLevelColorTone(this.color):t.setLevelFillColor(this.color);var e=t.getLimits();return 0!=(1&e.status)&&(this.limits_found=!0,this.limit_min=e.min,this.limit_max=e.max,this.direction=e.direction),t.setLevelDirection(this.direction),this.minvalue_a=new DynReference(this.dyn,this.minvalue_attr),this.minvalue_a.connect(this.dyn),this.maxvalue_a=new DynReference(this.dyn,this.maxvalue_attr),this.maxvalue_a.connect(this.dyn),1},this.disconnect=function(){null!==this.a&&(this.a.disconnect(this.dyn),this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn))},this.scan=function(t){if(null!==this.a&&this.a.sts){var e,i,a=this.a.get_ref_value(this.dyn);if(this.maxvalue_a.sts&&this.minvalue_a.sts&&(e=this.minvalue_a.get_ref_value(this.dyn),i=this.maxvalue_a.get_ref_value(this.dyn),e==this.min_value&&i==this.max_value||(this.min_value=e,this.max_value=i,this.firstScan=!0)),this.firstScan)this.firstScan=!1;else if(Math.abs(this.a.oldValue-a)<Number.MIN_VALUE)return;if(this.max_value!=this.min_value){var s=0;if(this.limits_found){var o=t.measure();switch(this.direction){case Glow.eDirection_Right:s=((a-this.min_value)/(this.max_value-this.min_value)*(this.limit_max-this.limit_min)+(this.limit_min-o.ll_x))/(o.ur_x-o.ll_x);break;case Glow.eDirection_Left:s=((a-this.min_value)/(this.max_value-this.min_value)*(this.limit_max-this.limit_min)+(o.ur_x-this.limit_max))/(o.ur_x-o.ll_x);break;case Glow.eDirection_Up:s=((a-this.min_value)/(this.max_value-this.min_value)*(this.limit_max-this.limit_min)+(this.limit_min-o.ll_y))/(o.ur_y-o.ll_y);break;case Glow.eDirection_Down:s=((a-this.min_value)/(this.max_value-this.min_value)*(this.limit_max-this.limit_min)+(o.ur_y-this.limit_max))/(o.ur_y-o.ll_y)}}else s=(a-this.min_value)/(this.max_value-this.min_value);t.setFillLevel(s),this.a.oldValue=a}}},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynFillLevel : "+t[i]),null,o){case DynC.eSave_FillLevel:break;case DynC.eSave_FillLevel_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_FillLevel_color:this.color=parseInt(s[1],10);break;case DynC.eSave_FillLevel_direction:this.direction=parseInt(s[1],10);break;case DynC.eSave_FillLevel_min_value:this.min_value=parseFloat(s[1]);break;case DynC.eSave_FillLevel_max_value:this.max_value=parseFloat(s[1]);break;case DynC.eSave_FillLevel_minvalue_attr:1<s.length&&(this.minvalue_attr=s[1]);break;case DynC.eSave_FillLevel_maxvalue_attr:1<s.length&&(this.maxvalue_attr=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynFillLevel")}if(a)break}return i}}function DynSetDig(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_SetDig,this.action_type2=0,this.prio=DynC.eDynPrio_SetDig,this.instance_mask=0,this.instance=0,this.attribute,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i=this.dyn.parseAttrName(this.attribute);if(null===i)return 1;var a=null;switch(i.database){case GraphIfc.eDatabase_Gdh:a=this.dyn.graph.getGdh().setObjectInfoBoolean(i.name,!0);break;case GraphIfc.eDatabase_Local:a=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,i.name,!0)}a.evenSts()&&console.log("SetDig: "+i.name)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynSetDig : "+t[i]),null,o){case DynC.eSave_SetDig:break;case DynC.eSave_SetDig_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_SetDig_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_SetDig_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynSetDig")}if(a)break}return i}}function DynResetDig(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_ResetDig,this.action_type2=0,this.prio=DynC.eDynPrio_ResetDig,this.instance_mask=0,this.instance=0,this.attribute,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i=this.dyn.parseAttrName(this.attribute);if(null===i)return 1;var a=null;switch(i.database){case GraphIfc.eDatabase_Gdh:a=this.dyn.graph.getGdh().setObjectInfoBoolean(i.name,!1);break;case GraphIfc.eDatabase_Local:a=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,i.name,!1)}a.evenSts()&&console.log("ResetDig: "+i.name)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynResetDig : "+t[i]),null,o){case DynC.eSave_ResetDig:break;case DynC.eSave_ResetDig_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_ResetDig_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_ResetDig_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynResetDig")}if(a)break}return i}}function DynToggleDig(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_ToggleDig,this.action_type2=0,this.prio=DynC.eDynPrio_ToggleDig,this.instance_mask=0,this.instance=0,this.attribute,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0,this.dyn.graph.setClickActive(1);break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0,this.dyn.graph.setClickActive(0);break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i=this.dyn.parseAttrName(this.attribute);if(null===i)return 1;var a=null;switch(i.database){case GraphIfc.eDatabase_Gdh:a=this.dyn.graph.getGdh().toggleObjectInfo(i.name);break;case GraphIfc.eDatabase_Local:a=this.dyn.graph.getLdb().toggleObjectInfo(this.dyn.graph,i.name)}a.evenSts()&&console.log("ToggleDig: "+i.name)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynToggleDig : "+t[i]),null,o){case DynC.eSave_ToggleDig:break;case DynC.eSave_ToggleDig_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynToggleDig")}if(a)break}return i}}function DynStoDig(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_StoDig,this.action_type2=0,this.prio=DynC.eDynPrio_StoDig,this.instance_mask=0,this.instance=0,this.attribute,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:if(t.setColorInverse(1),this.dyn.repaintNow=!0,0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i=null;switch((a=this.dyn.parseAttrName(this.attribute)).database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoBoolean(a.name,!0);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,a.name,!0)}i.evenSts()&&console.log("StoDig: "+a.name);break;case Glow.eEvent_MB1Up:if(t.setColorInverse(0),this.dyn.repaintNow=!0,0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var a;i=null;switch((a=this.dyn.parseAttrName(this.attribute)).database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoBoolean(a.name,!1);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,a.name,!1)}i.evenSts()&&console.log("StoDig: "+a.name)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynToggleDig : "+t[i]),o){case DynC.eSave_StoDig:break;case DynC.eSave_StoDig_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynStoDig")}if(a)break}return i}}function DynCommand(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_Command,this.action_type2=0,this.prio=DynC.eDynPrio_Command,this.instance_mask=0,this.instance=0,this.command,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;if(null==this.command)return 1;var i=this.dyn.graph.getCommand(this.command),a=this.dyn.graph.ctx.gdraw.get_clip_rectangle();null!=a&&this.dyn.graph.ctx.gdraw.reset_clip_rectangle(),this.dyn.graph.command(i),null!=a&&this.dyn.graph.ctx.gdraw.set_clip_rectangle(a.x1,a.y1,a.x2,a.y2)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynCommand : "+t[i]),o){case DynC.eSave_Command:break;case DynC.eSave_Command_command:1<s.length&&(this.command=t[i].substring(5));break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynCommand")}if(a)break}return i}}function DynScript(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_Script,this.action_type2=0,this.prio=DynC.eDynPrio_Script,this.instance_mask=0,this.instance=0,this.script,this.script_len,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;if(null==this.script)return 1;this.dyn.graph.script(this.script)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynScript : "+t[i]),o){case DynC.eSave_Script:break;case DynC.eSave_Script_script_len:this.script_len=parseInt(s[1],10);break;case DynC.eSave_Script_script:var r,n=!1;this.script="";var _=t[++i].trim().substring(1);for(r=0;null!=_;){for(;-1!=(r=_.indexOf('"',r));){if(!(0<r&&"\\"==_.charAt(r-1))){_=0<r?_.substring(0,r-1):"",this.script+=_,n=!0;break}_=_.substring(0,r-1)+_.substring(r)}if(n)break;if(this.script+=_+"\n",++i>=t.length)break;_=t[i]}break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynScript")}if(a)break}return console.log('script : "'+this.script+'"'),i}}function DynCommandDoubleClick(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_CommandDoubleClick,this.action_type2=0,this.prio=DynC.eDynPrio_CommandDoubleClick,this.instance_mask=0,this.instance=0,this.command,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1ClickDoubleClick:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;if(null==this.command)return 1;var i=this.dyn.graph.getCommand(this.command);this.dyn.graph.command(i)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynCommandDoubleClick : "+t[i]),o){case DynC.eSave_CommandDC:break;case DynC.eSave_CommandDC_command:1<s.length&&(this.command=t[i].substring(5));break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynCommandDoubleClick")}if(a)break}return i}}function DynConfirm(r){this.dyn=r,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_Confirm,this.action_type2=0,this.prio=DynC.eDynPrio_Confirm,this.instance_mask=0,this.instance=0,this.text,this.on_set,this.on_reset,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(0==(this.dyn.action_type1&DynC.mActionType1_Confirm))return 1;if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:break;case Glow.eEvent_MB1Click:case Glow.eEvent_ValueChanged:var i=0;if((0!=this.on_set&&0==this.on_reset||0!=this.on_reset&&0==this.on_set)&&0!=(this.dyn.total_action_type1&DynC.mActionType1_ToggleDig))for(var a=0;a<this.dyn.elements.length;a++)if(r.elements.get(a).action_type1==DynC.mActionType1_ToggleDig){var s=this.dyn.parseAttrName(this.dyn.elements.get(a).attribute);switch("&"==s.name.substring(0,1)&&(s.name=this.dyn.graph.get_reference_name(s.name)),s.database){case GraphIfc.eDatabase_Gdh:var o=this.dyn.graph.getGdh().getObjectInfoBoolean(s.name);o.oddSts()?(0!=this.on_set&&o.value||0!=this.on_reset&&!o.value)&&(i=1):console.log("Confirm: "+o.getSts());break;case GraphIfc.eDatabase_Ccm:}break}if(0!=i)return this.dyn.confirmedAction(e.event,t),1;this.dyn.graph.openConfirmDialog(this.dyn,this.text,t)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynConfirm : "+t[i]),o){case DynC.eSave_Confirm:break;case DynC.eSave_Confirm_text:1<s.length&&(this.text=t[i].substring(5));break;case DynC.eSave_Confirm_on_set:this.on_set=parseInt(s[1],10);break;case DynC.eSave_Confirm_on_reset:this.on_reset=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynConfirm")}if(a)break}return i}}function DynIncrAnalog(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_IncrAnalog,this.action_type2=0,this.prio=DynC.eDynPrio_IncrAnalog,this.instance_mask=0,this.instance=0,this.attribute,this.increment,this.min_value,this.max_value,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i=this.dyn.parseAttrName(this.attribute);if(null==i)return 1;var a=i.type;switch(i.type<0&&(a=Pwr.eType_Float32),a){case Pwr.eType_Int32:switch(i.database){case GraphIfc.eDatabase_Gdh:this.dyn.graph.getGdh().getObjectInfoInt(i.name,this.action2,this);break;case GraphIfc.eDatabase_Local:var s=this.dyn.graph.getLdb().getObjectInfo(this.dyn.graph,i.name);this.action2(0,this,1,s.value)}break;default:switch(i.database){case GraphIfc.eDatabase_Gdh:this.dyn.graph.getGdh().getObjectInfoFloat(i.name,this.action2,this);break;case GraphIfc.eDatabase_Local:s=this.dyn.graph.getLdb().getObjectInfo(this.dyn.graph,i.name);this.action2(0,this,1,s.value)}}}return 1},this.action2=function(t,e,i,a){if(1&i){var s=e.dyn.parseAttrName(e.attribute);if(null==s)return 1;var o=s.type;switch(s.type<0&&(o=Pwr.eType_Float32),o){case Pwr.eType_Int32:switch(a+=e.increment,0==e.min_value&&0==e.max_value||(a<e.min_value&&(a=Math.floor(e.min_value)),a>e.max_value&&(a=Math.floor(e.max_value))),s.database){case GraphIfc.eDatabase_Gdh:i=e.dyn.graph.getGdh().setObjectInfoInt(s.name,a);break;case GraphIfc.eDatabase_Local:i=e.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,s.name,a)}i.evenSts()&&console.log("IncrAnalog "+s.name);break;default:switch(a+=e.increment,0==e.min_value&&0==e.max_value||(a<e.min_value&&(a=e.min_value),a>e.max_value&&(a=e.max_value)),s.database){case GraphIfc.eDatabase_Gdh:i=e.dyn.graph.getGdh().setObjectInfoFloat(s.name,a);break;case GraphIfc.eDatabase_Local:i=e.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,s.name,a)}i.evenSts()&&console.log("IncrAnalog "+s.name)}return 1}},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynConfirm : "+t[i]),o){case DynC.eSave_IncrAnalog:break;case DynC.eSave_IncrAnalog_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_IncrAnalog_increment:this.increment=parseFloat(s[1]);break;case DynC.eSave_IncrAnalog_min_value:this.min_value=parseFloat(s[1]);break;case DynC.eSave_IncrAnalog_max_value:this.max_value=parseFloat(s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynIncrAnalog")}if(a)break}return i}}function DynRadioButton(t){this.dyn=t,this.dyn_type1=DynC.mDynType1_RadioButton,this.dyn_type2=0,this.action_type1=DynC.mActionType1_RadioButton,this.action_type2=0,this.prio=DynC.eDynPrio_RadioButton,this.instance_mask=0,this.instance=0,this.a,this.attribute,this.firstScan=!0,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts||console.log("RadioButton: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){var e=this.dyn.getDig(this.a.p,this.a.typeid,this.a.bitmask,this.a.database);if(this.a.inverted&&(e=!e),this.firstScan)this.firstScan=!1;else if(this.a.oldValue==e)return;e?t.set_last_nodeclass():t.set_root_nodeclass(),this.a.oldValue=e}},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i,a=this.dyn.graph.getCtx().get_object_group(t);if(null==a)break;for(var s=a.get_object_list(),o=0;o<s.size();o++){var r=s.get(o);if(r!=e.object&&r.type()==Glow.eObjectType_GrowNode){i=!1;var n=r.getUserData();if(0!=(n.total_action_type1&DynC.mActionType1_RadioButton))for(var _=0;_<n.elements.length;_++){var l;if(n.elements[_].action_type1==DynC.mActionType1_RadioButton)switch("&"==(l=this.dyn.parseAttrName(n.elements[_].attribute)).name.substring(0,1)&&(l.name=this.dyn.graph.get_reference_name(l.name)),l.database){case GraphIfc.eDatabase_Gdh:this.dyn.graph.getGdh().setObjectInfoBoolean(l.name,i);break;case GraphIfc.eDatabase_Local:this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,l.name,i);break;case GraphIfc.eDatabase_Ccm:}}}}switch("&"==(l=this.dyn.parseAttrName(this.attribute)).name.substring(0,1)&&(l.name=this.dyn.graph.get_reference_name(l.name)),i=!0,l.database){case GraphIfc.eDatabase_Gdh:this.dyn.graph.getGdh().setObjectInfoBoolean(l.name,i);break;case GraphIfc.eDatabase_Local:this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,l.name,i);break;case GraphIfc.eDatabase_Ccm:}}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynRadioButton : "+t[i]),o){case DynC.eSave_RadioButton:break;case DynC.eSave_RadioButton_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynRadioButton")}if(a)break}return i}}function DynTipText(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_TipText,this.action_type2=0,this.prio=DynC.eDynPrio_TipText,this.instance_mask=0,this.instance=0,this.text,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynTipText : "+t[i]),o){case DynC.eSave_TipText:break;case DynC.eSave_TipText_text:1<s.length&&(this.text=t[i].substring(5));break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynTipText")}if(a)break}return i}}function DynHelp(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_Help,this.action_type2=0,this.prio=DynC.eDynPrio_Help,this.instance_mask=0,this.instance=0,this.topic=null,this.bookmark=null,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(null==this.topic)return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i;i=null!==this.bookmark&&""!==this.bookmark?"help "+this.topic+" /bookmark="+this.bookmark:"help "+this.topic,this.dyn.graph.command(i)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynHelp : "+t[i]),o){case DynC.eSave_Help:break;case DynC.eSave_Help_topic:1<s.length&&(this.topic=s[1]);break;case DynC.eSave_Help_bookmark:1<s.length&&(this.bookmark=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynHelp")}if(a)break}return i}}function DynOpenGraph(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_OpenGraph,this.action_type2=0,this.prio=DynC.eDynPrio_OpenGraph,this.instance_mask=0,this.instance=0,this.graph_object,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i=null;if(null!==this.graph_object&&""!==this.graph_object)i="open graph/object="+this.graph_object;else if(0!=(this.dyn.total_action_type1&DynC.mActionType1_PopupMenu)){for(var a=0;a<this.dyn.elements.length;a++)if(this.dyn.elements[a].action_type1==DynC.mActionType1_PopupMenu){i="open graph/class/instance="+this.dyn.elements[a].ref_object;break}}else if(0!=(this.dyn.total_dyn_type1&DynC.mDynType1_HostObject))for(a=0;a<this.dyn.elements.length;a++)if(this.dyn.elements.get(a).dyn_type1==DynC.mDynType1_HostObject){i="open graph/class/instance="+this.dyn.elements[a].hostobject;break}this.dyn.graph.command(i)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynOpenGraph : "+t[i]),o){case DynC.eSave_OpenGraph:break;case DynC.eSave_OpenGraph_graph_object:1<s.length&&(this.graph_object=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynOpenGraph")}if(a)break}return i}}function DynOpenURL(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_OpenURL,this.action_type2=0,this.prio=DynC.eDynPrio_OpenURL,this.instance_mask=0,this.instance=0,this.url,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var i='open url "'+this.url+'"';this.dyn.graph.command(i)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynOpenURL : "+t[i]),o){case DynC.eSave_OpenURL:break;case DynC.eSave_OpenURL_url:1<s.length&&(this.url=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynOpenURL")}if(a)break}return i}}function DynInputFocus(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_InputFocus,this.action_type2=0,this.prio=DynC.eDynPrio_InputFocus,this.instance_mask=0,this.instance=0,this.initial_focus,this.next_horizontal,this.next_vertical,this.next_tab,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynInputFocus : "+t[i]),o){case DynC.eSave_InputFocus:break;case DynC.eSave_InputFocus_initial_focus:this.initial_focus=parseInt(s[1],10);break;case DynC.eSave_InputFocus_next_horizontal:1<s.length&&(this.next_horizontal=s[1]);break;case DynC.eSave_InputFocus_next_vertical:1<s.length&&(this.next_vertical=s[1]);break;case DynC.eSave_InputFocus_next_tab:1<s.length&&(this.next_tab=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynInputFocus")}if(a)break}return i}}function DynCloseGraph(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_CloseGraph,this.action_type2=0,this.prio=DynC.eDynPrio_CloseGraph,this.instance_mask=0,this.instance=0,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Up:t.setColorInverse(0),this.dyn.repaintNow=!0;break;case Glow.eEvent_MB1Click:if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;this.dyn.graph.closeGraph()}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynCloseGraph : "+t[i]),o){case DynC.eSave_CloseGraph:break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynCloseGraph")}if(a)break}return i}}function DynSlider(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_Slider,this.action_type2=0,this.prio=DynC.eDynPrio_Slider,this.instance_mask=0,this.instance=0,this.a=null,this.maxvalue_a,this.minvalue_a,this.insensitive_a,this.attribute=null,this.minvalue_attr=null,this.maxvalue_attr=null,this.insensitive_attr=null,this.release_attr=null,this.old_value,this.old_ivalue,this.firstScan=!0,this.min_value,this.max_value,this.slider_disabled=!0,this.direction,this.connect=function(t){if(""===this.attribute.trim())return 0;if(this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),!this.a.sts)return console.log("FillLevel: "+attribute),1;var e;if(!t.transformIsStored()){t.storeTransform();var i=t.measure(),a=t.get_info(),s=this.dyn.graph.getCtx().getBackgroundObjectLimits(DynC.mDynType1_SliderBackground,(i.ll_x+i.ur_x)/2,(i.ll_y+i.ur_y)/2);if(0!=(1&s.sts))switch(this.direction=s.direction,e=t.get_origo(a.direction),this.direction){case Glow.eDirection_Down:a.max_position=s.max-e,a.min_position=s.min-e,t.set_info(a),t.move_to(i.ll_x,a.min_position);break;case Glow.eDirection_Up:a.max_position=s.max-(i.ur_y-i.ll_y-e),a.min_position=s.min-(i.ur_y-i.ll_y-e),t.set_info(a),t.move_to(i.ll_x,a.min_position);break;case Glow.eDirection_Left:a.max_position=s.max-(i.ur_x-i.ll_x-e),a.min_position=s.min-(i.ur_x-i.ll_x-e),t.set_info(a),t.move_to(a.min_position,i.ll_y);break;case Glow.eDirection_Right:a.max_position=s.max-e,a.min_position=s.min-e,t.set_info(a),t.move_to(a.min_position,i.ll_y)}else this.direction=a.direction;t.storeTransform()}return this.maxvalue_a=new DynReference(this.dyn,this.maxvalue_attr),this.maxvalue_a.connect(this.dyn),this.minvalue_a=new DynReference(this.dyn,this.minvalue_attr),this.minvalue_a.connect(this.dyn),this.insensitive_a=new DynReference(this.dyn,this.insensitive_attr),this.insensitive_a.connect(this.dyn),1},this.disconnect=function(){null!=this.a&&this.a.sts&&(this.a.disconnect(this.dyn),this.minvalue_a.disconnect(this.dyn),this.maxvalue_a.disconnect(this.dyn),this.insensitive_a.disconnect(this.dyn))},this.scan=function(t){if(null!=this.a&&this.a.sts){var e=0,i=0;switch(this.a.typeid){case Pwr.eType_Float32:void 0===(e=this.a.get_ref_value(this.dyn))&&(e=0);break;case Pwr.eType_Int32:void 0===(i=this.a.get_ref_value(this.dyn))&&(i=0);break;case Pwr.eType_Boolean:var a;void 0===(a=this.a.get_ref_value(this.dyn))&&(a=!1),i=a?1:0}if(this.insensitive_a.sts?(this.slider_disabled=this.insensitive_a.get_ref_value(this.dyn),this.insensitive_a.inverted&&(this.slider_disabled=!this.slider_disabled)):this.slider_disabled=!1,this.maxvalue_a.sts&&this.minvalue_a.sts&&(this.max_value=this.maxvalue_a.get_ref_value(this.dyn),this.min_value=this.minvalue_a.get_ref_value(this.dyn),this.max_value==this.maxvalue_a.oldValue&&this.min_value==this.minvalue_a.oldValue||Math.abs(this.max_value-this.min_value)>Number.MIN_VALUE&&(this.firstScan=!0),this.minvalue_a.oldValue=this.min_value,this.maxvalue_a.oldValue=this.max_value),this.firstScan)this.firstScan=!1;else switch(this.a.typeid){case Pwr.eType_Float32:if(Math.abs(this.old_value-e)<Number.MIN_VALUE)return;break;case Pwr.eType_Int32:case Pwr.eType_Boolean:if(i==this.old_ivalue)return}switch(this.a.typeid){case Pwr.eType_Float32:this.old_value=e;break;case Pwr.eType_Int32:case Pwr.eType_Boolean:this.old_ivalue=i}var s=t.get_info();if(this.maxvalue_a.sts&&this.minvalue_a.sts&&this.max_value!=this.min_value||(this.max_value=s.max_value,this.min_value=s.min_value),s.min_position!=s.max_position&&this.dyn.graph.getCurrentSlider()!=t&&this.max_value!=this.min_value){var o,r;switch(this.a.typeid){case Pwr.eType_Float32:break;default:e=i}switch(this.direction){case Glow.eDirection_Down:(r=(this.max_value-e)/(this.max_value-this.min_value)*(s.max_position-s.min_position))<0?r=0:r>s.max_position-s.min_position&&(r=s.max_position-s.min_position),o=0;break;case Glow.eDirection_Right:(o=s.max_position-s.min_position-(e-this.min_value)/(this.max_value-this.min_value)*(s.max_position-s.min_position))<0?o=0:o>s.max_position-s.min_position&&(o=s.max_position-s.min_position),r=0;break;case Glow.eDirection_Left:(o=s.max_position-s.min_position-(this.max_value-e)/(this.max_value-this.min_value)*(s.max_position-s.min_position))<0?o=0:o>s.max_position-s.min_position&&(o=s.max_position-s.min_position),r=0;break;default:(r=(e-this.min_value)/(this.max_value-this.min_value)*(s.max_position-s.min_position))<0?r=0:r>s.max_position-s.min_position&&(r=s.max_position-s.min_position),o=0}t.set_position(o,r)}}},this.action=function(t,e){if(this.slider_disabled)return 1;switch(e.event){case Glow.eEvent_SliderMoveEnd:if(null!==(o=this.dyn.parseAttrName(this.release_attr))&&""!==o.name){var i=null;switch(o.type){case Pwr.eType_Boolean:switch(o.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoBoolean(o.name,1);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,o.name,1)}}}this.dyn.graph.getCurrentSlider()==t&&this.dyn.graph.setCurrentSlider(null);break;case Glow.eEvent_SliderMoveStart:if(!this.dyn.graph.isAuthorized(this.dyn.access)||this.slider_disabled){this.dyn.graph.getCtx().setMoveRestrictions(Glow.eMoveRestriction_Disable,0,0,null),this.dyn.graph.setCurrentSlider(null);break}var a=t.get_info();this.direction==Glow.eDirection_Right||this.direction==Glow.eDirection_Left?this.dyn.graph.getCtx().setMoveRestrictions(Glow.eMoveRestriction_HorizontalSlider,a.max_position,a.min_position,e.object):this.dyn.graph.getCtx().setMoveRestrictions(Glow.eMoveRestriction_VerticalSlider,a.max_position,a.min_position,e.object),this.dyn.graph.setCurrentSlider(t);break;case Glow.eEvent_SliderMoved:var s;if((a=t.get_info()).min_position!=a.max_position){0!==this.max_value_p&&0!==this.min_value_p&&this.max_value!=this.min_value||(this.max_value=a.max_value,this.min_value=a.min_value);var o,r=t.measure();switch(this.direction){case Glow.eDirection_Down:s=(a.max_position-r.ll_y)/(a.max_position-a.min_position)*(this.max_value-this.min_value)+this.min_value;break;case Glow.eDirection_Right:s=(a.max_position-r.ll_x)/(a.max_position-a.min_position)*(this.max_value-this.min_value)+this.min_value;break;case Glow.eDirection_Left:s=(r.ll_x-a.min_position)/(a.max_position-a.min_position)*(this.max_value-this.min_value)+this.min_value;break;default:s=(r.ll_y-a.min_position)/(a.max_position-a.min_position)*(this.max_value-this.min_value)+this.min_value}if(s>this.max_value&&(s=this.max_value),s<this.min_value&&(s=this.min_value),null===(o=this.dyn.parseAttrName(this.attribute))||""===o.name)return 1;switch(o.type){case Pwr.eType_Float32:switch(o.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoFloat(o.name,s);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,o.name,s)}break;case Pwr.eType_Boolean:var n=.5<s;switch(o.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoBoolean(o.name,n);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,o.name,n)}break;default:var _=Math.floor(0<s?s+.5:s-.5);switch(o.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoInt(o.name,_);break;case GraphIfc.eDatabase_Local:console.log("Set ivalue",_,o.name),i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,o.name,_)}}i.evenSts()&&console.log("Slider error: "+this.attribute)}}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynSlider : "+t[i]),o){case DynC.eSave_Slider:break;case DynC.eSave_Slider_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_Slider_minvalue_attr:1<s.length&&(this.minvalue_attr=s[1]);break;case DynC.eSave_Slider_maxvalue_attr:1<s.length&&(this.maxvalue_attr=s[1]);break;case DynC.eSave_Slider_insensitive_attr:1<s.length&&(this.insensitive_attr=s[1]);break;case DynC.eSave_Slider_release_attr:1<s.length&&(this.release_attr=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynSlider")}if(a)break}return i}}function DynFastCurve(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_FastCurve,this.action_type2=0,this.prio=DynC.eDynPrio_FastCurve,this.instance_mask=0,this.instance=0,this.fast_object,this.curve_index1,this.curve_index2,this.connect=function(t){},this.disconnect=function(){},this.scan=function(t){},this.action=function(t,e){},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynSlider : "+t[i]),o){case DynC.eSave_FastCurve:break;case DynC.eSave_FastCurve_fast_object:1<s.length&&(this.fast_object=s[1]);break;case DynC.eSave_FastCurve_curve_index1:this.curve_index1=parseInt(s[1],10);break;case DynC.eSave_FastCurve_curve_index2:this.curve_index2=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynFastCurve")}if(a)break}return i}}function DynPulldownMenu(r){this.dyn=r,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_PulldownMenu,this.action_type2=0,this.prio=DynC.eDynPrio_PulldownMenu,this.instance_mask=0,this.instance=0,this.button_mask,this.items_text=new Array(32),this.items_dyn=new Array(32),this.menu_object=null,this.text_size;for(var t=0;t<32;t++)this.items_dyn[t]=null;this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Click:if(null!==this.menu_object){for(var i=0;i<32;i++)null!==this.items_dyn[i]&&0!=(this.items_dyn[i].action_type1&DynC.mActionType1_PulldownMenu)&&this.items_dyn[i].action(null,e);this.dyn.graph.getCtx().remove(this.menu_object),this.menu_object=null}else if(null!==t){for(var a=new GlowMenuInfo,s=1,o=0;o<32;o++){if(0!=(s&this.button_mask))if(a.item[o].occupied=!0,a.item[o].text=this.items_text[o],0!=(this.items_dyn[o].action_type1&DynC.mActionType1_PulldownMenu))a.item[o].type=Glow.eMenuItem_PulldownMenu;else if(this.dyn.graph.isAuthorized(this.items_dyn[o].access)){if(a.item[o].type=Glow.eMenuItem_Button,0!=(this.items_dyn[o].dyn_type1&DynC.mDynType1_Invisible)){var r,n=null;for(i=0;i<this.dyn.elements.length;i++)this.dyn.elements[i].dyn_type1==DynC.mDynType1_Invisible&&(n=this.dyn.elements[i]);if(null!==n){var _=this.dyn.parseAttrName(n.attribute);if(null!==_&&""!==_.name&&"$cmd("==_.name.substring(0,5)){var l=_.name.lastIndexOf(")");-1!=l&&(r=_.name.substring(5,l),r=this.dyn.graph.getCommand(r),0==(1&(h=this.dyn.graph.command(r)))&&(a.item[o].type=Glow.eMenuItem_ButtonDisabled))}}}}else a.item[o].type=Glow.eMenuItem_ButtonDisabled;else a.item[o].occupied=!1;s<<=1}var h,c=0,w=0,d=0,u=0,y=0;(h=0)==(1&h)?(u=3,c=Glow.eDrawType_TextHelvetica,y=Glow.eFont_LucidaSans,w=Glow.eDrawType_Line,d=Glow.eDrawType_LightGray):d!=Glow.eDrawType_No&&d!=Glow.eDrawType_Inherit||(d=Glow.eDrawType_LightGray);var f=t.measure();this.menu_object=new GrowMenu(this.dyn.graph.getCtx()),this.menu_object.init("__Menu",a,f.ll_x,f.ur_y,f.ur_x-f.ll_x,Glow.eDrawType_Line,0,1,1,d,u,c,w,Glow.eDrawType_MediumGray,y),this.menu_object.set_scale(1,1,0,0,Glow.eScaleType_LowerLeft),this.dyn.graph.getCtx().insert(this.menu_object)}break;case Glow.eEvent_MenuActivated:if(null==this.menu_object)break;if(e.object==this.menu_object){if(null!==this.items_dyn[e.item]){var p=new GlowEvent;return p.event=Glow.eEvent_MB1Click,this.items_dyn[e.item].action(e.object,p)}}else for(i=0;i<32;i++)null!==this.items_dyn[i]&&0!=(items_dyn[i].action_type1&DynC.mActionType1_PulldownMenu)&&this.items_dyn[i].action(null,e);break;case Glow.eEvent_MenuDelete:if(null==this.menu_object)break;null!=e.object&&e.object!=this.menu_object||(this.dyn.graph.getCtx().remove(this.menu_object),this.menu_object=null)}return 1},this.connect=function(t){},this.disconnect=function(){},this.scan=function(t){},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynPulldownMenu : "+t[i]),o){case DynC.eSave_PulldownMenu:break;case DynC.eSave_PulldownMenu_button_mask:this.button_mask=parseInt(s[1],10);break;case DynC.eSave_PulldownMenu_items_text0:1<s.length&&(this.items_text[0]=s[1]);break;case DynC.eSave_PulldownMenu_items_text1:1<s.length&&(this.items_text[1]=s[1]);break;case DynC.eSave_PulldownMenu_items_text2:1<s.length&&(this.items_text[2]=s[1]);break;case DynC.eSave_PulldownMenu_items_text3:1<s.length&&(this.items_text[3]=s[1]);break;case DynC.eSave_PulldownMenu_items_text4:1<s.length&&(this.items_text[4]=s[1]);break;case DynC.eSave_PulldownMenu_items_text5:1<s.length&&(this.items_text[5]=s[1]);break;case DynC.eSave_PulldownMenu_items_text6:1<s.length&&(this.items_text[6]=s[1]);break;case DynC.eSave_PulldownMenu_items_text7:1<s.length&&(this.items_text[7]=s[1]);break;case DynC.eSave_PulldownMenu_items_text8:1<s.length&&(this.items_text[8]=s[1]);break;case DynC.eSave_PulldownMenu_items_text9:1<s.length&&(this.items_text[9]=s[1]);break;case DynC.eSave_PulldownMenu_items_text10:1<s.length&&(this.items_text[10]=s[1]);break;case DynC.eSave_PulldownMenu_items_text11:1<s.length&&(this.items_text[11]=s[1]);break;case DynC.eSave_PulldownMenu_items_text12:1<s.length&&(this.items_text[12]=s[1]);break;case DynC.eSave_PulldownMenu_items_text13:1<s.length&&(this.items_text[13]=s[1]);break;case DynC.eSave_PulldownMenu_items_text14:1<s.length&&(this.items_text[14]=s[1]);break;case DynC.eSave_PulldownMenu_items_text15:1<s.length&&(this.items_text[15]=s[1]);break;case DynC.eSave_PulldownMenu_items_text16:1<s.length&&(this.items_text[16]=s[1]);break;case DynC.eSave_PulldownMenu_items_text17:1<s.length&&(this.items_text[17]=s[1]);break;case DynC.eSave_PulldownMenu_items_text18:1<s.length&&(this.items_text[18]=s[1]);break;case DynC.eSave_PulldownMenu_items_text19:1<s.length&&(this.items_text[19]=s[1]);break;case DynC.eSave_PulldownMenu_items_text20:1<s.length&&(this.items_text[20]=s[1]);break;case DynC.eSave_PulldownMenu_items_text21:1<s.length&&(this.items_text[21]=s[1]);break;case DynC.eSave_PulldownMenu_items_text22:1<s.length&&(this.items_text[22]=s[1]);break;case DynC.eSave_PulldownMenu_items_text23:1<s.length&&(this.items_text[23]=s[1]);break;case DynC.eSave_PulldownMenu_items_text24:1<s.length&&(this.items_text[24]=s[1]);break;case DynC.eSave_PulldownMenu_items_text25:1<s.length&&(this.items_text[25]=s[1]);break;case DynC.eSave_PulldownMenu_items_text26:1<s.length&&(this.items_text[26]=s[1]);break;case DynC.eSave_PulldownMenu_items_text27:1<s.length&&(this.items_text[27]=s[1]);break;case DynC.eSave_PulldownMenu_items_text28:1<s.length&&(this.items_text[28]=s[1]);break;case DynC.eSave_PulldownMenu_items_text29:1<s.length&&(this.items_text[29]=s[1]);break;case DynC.eSave_PulldownMenu_items_text30:1<s.length&&(this.items_text[30]=s[1]);break;case DynC.eSave_PulldownMenu_items_text31:1<s.length&&(this.items_text[31]=s[1]);break;case DynC.eSave_PulldownMenu_items_dyn0:this.items_dyn[0]=new Dyn(r.graph),i=this.items_dyn[0].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn1:this.items_dyn[1]=new Dyn(r.graph),i=this.items_dyn[1].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn2:this.items_dyn[2]=new Dyn(r.graph),i=this.items_dyn[2].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn3:this.items_dyn[3]=new Dyn(r.graph),i=this.items_dyn[3].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn4:this.items_dyn[4]=new Dyn(r.graph),i=this.items_dyn[4].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn5:this.items_dyn[5]=new Dyn(r.graph),i=this.items_dyn[5].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn6:this.items_dyn[6]=new Dyn(r.graph),i=this.items_dyn[6].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn7:this.items_dyn[7]=new Dyn(r.graph),i=this.items_dyn[7].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn8:this.items_dyn[8]=new Dyn(r.graph),i=this.items_dyn[8].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn9:this.items_dyn[9]=new Dyn(r.graph),i=this.items_dyn[9].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn10:this.items_dyn[10]=new Dyn(r.graph),i=this.items_dyn[10].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn11:this.items_dyn[11]=new Dyn(r.graph),i=this.items_dyn[11].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn12:this.items_dyn[12]=new Dyn(r.graph),i=this.items_dyn[12].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn13:this.items_dyn[13]=new Dyn(r.graph),i=this.items_dyn[13].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn14:this.items_dyn[14]=new Dyn(r.graph),i=this.items_dyn[14].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn15:this.items_dyn[15]=new Dyn(r.graph),i=this.items_dyn[15].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn16:this.items_dyn[16]=new Dyn(r.graph),i=this.items_dyn[16].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn17:this.items_dyn[17]=new Dyn(r.graph),i=this.items_dyn[17].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn18:this.items_dyn[18]=new Dyn(r.graph),i=this.items_dyn[18].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn19:this.items_dyn[19]=new Dyn(r.graph),i=this.items_dyn[19].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn20:this.items_dyn[20]=new Dyn(r.graph),i=this.items_dyn[20].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn21:this.items_dyn[21]=new Dyn(r.graph),i=this.items_dyn[21].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn22:this.items_dyn[22]=new Dyn(r.graph),i=this.items_dyn[22].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn23:this.items_dyn[23]=new Dyn(r.graph),i=this.items_dyn[23].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn24:this.items_dyn[24]=new Dyn(r.graph),i=this.items_dyn[24].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn25:this.items_dyn[25]=new Dyn(r.graph),i=this.items_dyn[25].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn26:this.items_dyn[26]=new Dyn(r.graph),i=this.items_dyn[26].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn27:this.items_dyn[27]=new Dyn(r.graph),i=this.items_dyn[27].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn28:this.items_dyn[28]=new Dyn(r.graph),i=this.items_dyn[28].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn29:this.items_dyn[29]=new Dyn(r.graph),i=this.items_dyn[29].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn30:this.items_dyn[30]=new Dyn(r.graph),i=this.items_dyn[30].open(t,i+1);break;case DynC.eSave_PulldownMenu_items_dyn31:this.items_dyn[31]=new Dyn(r.graph),i=this.items_dyn[31].open(t,i+1);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynPulldownMenu")}if(a)break}return i}}function DynOptionMenu(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_OptionsMenu,this.action_type2=0,this.prio=DynC.eDynPrio_OptionsMenu,this.instance_mask=0,this.instance=0,this.a,this.update_a=null,this.attribute,this.text_attribute,this.size_attribute,this.update_attribute,this.optionmenu_type,this.button_mask,this.items_text=new Array(32),this.items_enum=new Array(32),this.firstScan=!0,this.oldValueF,this.oldValueI,this.menu_object=null,this.text_size,this.connect=function(t){return this.a=new DynReference(this.dyn,this.attribute),this.a.connect(this.dyn),this.a.sts?null===this.text_attribute||""===this.text_attribute||null==this.update_attribute||""===this.update_attribute||(this.update_a=new DynReference(this.dyn,this.update_attribute),this.update_a.connect(this.dyn),this.update_a.sts)||console.log("OptionsMenu: "+this.update_attribute):console.log("OptionMenu: "+this.attribute),1},this.disconnect=function(){this.a.disconnect(this.dyn),null!=this.update_a&&this.update_a.disconnect(this.dyn)},this.scan=function(t){if(this.a.sts){if(null!==this.update_a&&this.update_a.sts){var e=this.dyn.getDig(this.update_a.p,this.update_a.typeid,this.update_a.bitmask,this.update_a.database);this.update_a.inverted&&(e=!e),this.firstScan?!1:this.update_a.oldValue!=e&&!0,this.update_a.oldValue=e}var i=0;switch(this.a.typeid){case Pwr.eType_Float32:e=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(e==this.oldValueF)return;i=Math.floor(e+.5),this.oldValueF=e;break;case Pwr.eType_UInt32:case Pwr.eType_Int32:e=this.a.get_ref_value(this.dyn);if(this.firstScan)this.firstScan=!1;else if(e==this.oldValueI)return;i=e,this.oldValueI=e;break;default:return}if(null===this.update_a||!this.update_a.sts){for(var a=!1,s=0;s<32;s++)if(this.items_enum[s]==i){t.setAnnotation(1,this.items_text[s]),a=!0;break}a||t.setAnnotation(1,"")}}},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Click:if(null!==this.menu_object)this.dyn.graph.getCtx().remove(this.menu_object),this.menu_object=null;else{var i=new GlowMenuInfo;if(null!==this.update_a&&this.update_a.sts)for(s=0;s<32;s++)s<this.text_size?(i.item[s].text=this.items_text[s],i.item[s].type=Glow.eMenuItem_Button,i.item[s].occupied=!0):i.item[s].occupied=!1;else for(var a=1,s=0;s<32;s++)0!=(a&this.button_mask)?(i.item[s].occupied=!0,i.item[s].text=this.items_text[s],i.item[s].type=Glow.eMenuItem_Button):i.item[s].occupied=!1,a<<=1;var o=4,r=Glow.eDrawType_Line,n=Glow.eDrawType_Color32,_=2,l=Glow.eFont_Helvetica;(w=0)==(1&w)?(_=2,o=Glow.eDrawType_TextHelveticaBold,r=Glow.eDrawType_Line,n=Glow.eDrawType_LightGray):n!=Glow.eDrawType_No&&n!=Glow.eDrawType_Inherit||(n=Glow.eDrawType_LightGray);var h=t.measure();this.menu_object=new GrowMenu(this.dyn.graph.getCtx()),this.menu_object.init("__Menu",i,h.ll_x,h.ur_y,h.ur_x-h.ll_x,Glow.eDrawType_Line,0,1,1,n,_,o,r,Glow.eDrawType_MediumGray,l),this.menu_object.set_scale(1,1,0,0,Glow.eScaleType_LowerLeft),this.dyn.graph.getCtx().insert(this.menu_object)}break;case Glow.eEvent_MenuActivated:if(null===this.menu_object)break;if(e.object==this.menu_object){var c=this.dyn.parseAttrName(this.attribute);if(null===c||""===c.name)return 1;var w=null;switch(c.database){case GraphIfc.eDatabase_Gdh:switch(c.type){case Pwr.eType_Float32:var d=this.items_enum[e.item];w=this.dyn.graph.getGdh().setObjectInfoFloat(c.name,d);break;case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Int16:case Pwr.eType_UInt16:case Pwr.eType_Int8:case Pwr.eType_UInt8:d=this.items_enum[e.item];w=this.dyn.graph.getGdh().setObjectInfoInt(c.name,d)}break;case GraphIfc.eDatabase_Local:switch(c.type){case Pwr.eType_Float32:d=this.items_enum[e.item];w=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,c.name,d);break;case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Int16:case Pwr.eType_UInt16:case Pwr.eType_Int8:case Pwr.eType_UInt8:d=this.items_enum[e.item];w=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,c.name,d)}break;case GraphIfc.eDatabase_Ccm:}null!=w&&!w.evenSts()||console.log("Option menu error: "+c.name)}break;case Glow.eEvent_MenuDelete:if(null==this.menu_object)break;null!==e.object&&e.object!=this.menu_object||(this.dyn.graph.getCtx().remove(this.menu_object),this.menu_object=null)}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("OptionsMenu : "+t[i]),o){case DynC.eSave_OptionMenu:break;case DynC.eSave_OptionMenu_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_OptionMenu_text_attribute:1<s.length&&(this.text_attribute=s[1]);break;case DynC.eSave_OptionMenu_size_attribute:1<s.length&&(this.size_attribute=s[1]);break;case DynC.eSave_OptionMenu_update_attribute:1<s.length&&(this.update_attribute=s[1]);break;case DynC.eSave_OptionMenu_optionmenu_type:this.optionmenu_type=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_button_mask:this.button_mask=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_text0:1<s.length&&(this.items_text[0]=s[1]);break;case DynC.eSave_OptionMenu_items_text1:1<s.length&&(this.items_text[1]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text2:1<s.length&&(this.items_text[2]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text3:1<s.length&&(this.items_text[3]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text4:1<s.length&&(this.items_text[4]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text5:1<s.length&&(this.items_text[5]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text6:1<s.length&&(this.items_text[6]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text7:1<s.length&&(this.items_text[7]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text8:1<s.length&&(this.items_text[8]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text9:1<s.length&&(this.items_text[9]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text10:1<s.length&&(this.items_text[10]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text11:1<s.length&&(this.items_text[11]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text12:1<s.length&&(this.items_text[12]=s[1]);break;case DynC.eSave_OptionMenu_items_text13:1<s.length&&(this.items_text[13]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text14:1<s.length&&(this.items_text[14]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text15:1<s.length&&(this.items_text[15]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text16:1<s.length&&(this.items_text[16]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text17:1<s.length&&(this.items_text[17]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text18:1<s.length&&(this.items_text[18]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text19:1<s.length&&(this.items_text[19]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text20:1<s.length&&(this.items_text[20]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text21:1<s.length&&(this.items_text[21]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text22:1<s.length&&(this.items_text[22]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text23:1<s.length&&(this.items_text[23]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text24:1<s.length&&(this.items_text[24]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text25:1<s.length&&(this.items_text[25]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text26:1<s.length&&(this.items_text[26]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text27:1<s.length&&(this.items_text[27]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text28:1<s.length&&(this.items_text[28]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text29:1<s.length&&(this.items_text[29]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text30:1<s.length&&(this.items_text[30]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_text31:1<s.length&&(this.items_text[31]=t[i].substring(5));break;case DynC.eSave_OptionMenu_items_enum0:this.items_enum[0]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum1:this.items_enum[1]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum2:this.items_enum[2]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum3:this.items_enum[3]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum4:this.items_enum[4]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum5:this.items_enum[5]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum6:this.items_enum[6]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum7:this.items_enum[7]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum8:this.items_enum[8]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum9:this.items_enum[9]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum10:this.items_enum[10]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum11:this.items_enum[11]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum12:this.items_enum[12]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum13:this.items_enum[13]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum14:this.items_enum[14]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum15:this.items_enum[15]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum16:this.items_enum[16]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum17:this.items_enum[17]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum18:this.items_enum[18]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum19:this.items_enum[19]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum20:this.items_enum[20]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum21:this.items_enum[21]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum22:this.items_enum[22]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum23:this.items_enum[23]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum24:this.items_enum[24]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum25:this.items_enum[25]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum26:this.items_enum[26]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum27:this.items_enum[27]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum28:this.items_enum[28]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum29:this.items_enum[29]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum30:this.items_enum[30]=parseInt(s[1],10);break;case DynC.eSave_OptionMenu_items_enum31:this.items_enum[31]=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynOptionMenu")}if(a)break}return i}}function DynAnalogText(t){DynOptionMenu.call(this,t),this.optionmenu_open=this.open,this.dyn=t,this.dyn_type1=DynC.mDynType1_AnalogText,this.dyn_type2=0,this.action_type1=0,this.action_type2=0,this.prio=DynC.eDynPrio_AnalogText,this.instance_mask=0,this.instance=0,this.action=function(t,e){return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("AnalogText : "+t[i]),o){case DynC.eSave_AnalogText:break;case DynC.eSave_AnalogText_super:i=this.optionmenu_open(t,i+1);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynAnalogText")}if(a)break}return i}}function DynSetValue(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_SetValue,this.action_type2=0,this.prio=DynC.eDynPrio_SetValue,this.instance_mask=0,this.instance=0,this.attribute,this.value,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("AnalogText : "+t[i]),o){case DynC.eSave_SetValue:break;case DynC.eSave_SetValue_attribute:1<s.length&&(this.attribute=s[1]);break;case DynC.eSave_SetValue_value:1<s.length&&(this.value=s[1]);break;case DynC.eSave_SetValue_instance:this.instance=parseInt(s[1],10);break;case DynC.eSave_SetValue_instance_mask:this.instance_mask=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynSetValue")}if(a)break}return i},this.connect=function(t){},this.disconnect=function(){},this.scan=function(t){},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1);break;case Glow.eEvent_MB1Up:t.setColorInverse(0);break;case Glow.eEvent_MB1Click:var i;if(0!=(this.dyn.action_type1&DynC.mActionType1_Confirm))break;var a=this.dyn.parseAttrName(this.attribute);switch(a.type){case Pwr.eType_Float32:var s=parseFloat(this.value.trim());switch(a.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoFloat(a.name,s);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,a.name,s);break;default:return 0}if(i.evenSts())return console.log("setObjectInfoError "+i),0;break;case Pwr.eType_Int32:case Pwr.eType_UInt32:case Pwr.eType_Int16:case Pwr.eType_UInt16:case Pwr.eType_Int8:case Pwr.eType_UInt8:case Pwr.eType_Mask:case Pwr.eType_Enum:s=parseInt(this.value.trim(),10);switch(a.database){case GraphIfc.eDatabase_Gdh:console.log("SetValue",a.name,s),i=this.dyn.graph.getGdh().setObjectInfoInt(a.name,s);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,a.name,s);break;default:return 0}if(i.evenSts())return console.log("setObjectInfoError "+i),0;break;case Pwr.eType_Boolean:var o=parseInt(this.value.trim(),10);if(0==o)s=!1;else{if(1!=o)break;s=!0}switch(a.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoBoolean(a.name,s);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,a.name,s);break;default:return 0}if(i.evenSts())return console.log("setObjectInfoError "+i),0;break;case Pwr.eType_String:switch(a.database){case GraphIfc.eDatabase_Gdh:i=this.dyn.graph.getGdh().setObjectInfoString(a.name,this.value);break;case GraphIfc.eDatabase_Local:i=this.dyn.graph.getLdb().setObjectInfo(this.dyn.graph,a.name,this.value);break;default:return 0}if(i.evenSts())return console.log("setObjectInfoError "+i),0}break;default:return 0}return 1}}function DynMethodToolbar(o){this.dyn=o,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_MethodToolbar,this.action_type2=0,this.prio=DynC.eDynPrio_MethodToolbar,this.instance_mask=0,this.instance=0,this.method_object,this.toolbar_type,this.pname,this.xm_mask_flags=0,this.xm_mask_opmethods=0,this.xm_mask_mntmethods=0,this.mask_configure=0,this.mask_store=0,this.o,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("MethodToolbar : "+t[i]),o){case DynC.eSave_MethodToolbar:break;case DynC.eSave_MethodToolbar_method_object:1<s.length&&(this.method_object=s[1]);break;case DynC.eSave_MethodToolbar_toolbar_type:this.toolbar_type=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynMethodToolbar")}if(a)break}return i},this.connect=function(t){this.o=t;var e=this.dyn.parseAttrName(this.method_object);if(null===e||""===e.name)return 1;this.pname_name=e.name;var i=this.pname_name+".XttMethodsMask.Flags";this.dyn.graph.getGdh().getObjectInfoInt(i,this.connect2,this)},this.connect2=function(t,e,i,a){if(1&i)if(e.xm_mask_flags=a,0==(e.xm_mask_flags&Pwrb.mXttMethodsFlagsMask_IsConfigured))e.mask_configure=1,e.mask_store=1,e.connect5();else{var s=e.pname_name+".XttMethodsMask.OpMethods";o.graph.getGdh().getObjectInfoInt(s,e.connect3,e)}else e.mask_configure=1,e.connect5()},this.connect3=function(t,e,i,a){1&i?e.xm_mask_opmethods=a:(console.log("DynMethodToolbar: "+e.pname_name),e.mask_configure=1);var s=e.pname_name+".XttMethodsMask.MntMethods";o.graph.getGdh().getObjectInfoInt(s,e.connect4,e)},this.connect4=function(t,e,i,a){1&i?e.xm_mask_mntmethods=a:(console.log("DynMethodToolbar: "+e.pname_name),e.mask_configure=1),e.connect5()},this.connect5=function(){var t;if(0!=this.mask_configure){for(var e=this.xm_mask_opmethods=0;e<DynC.method_toolbar_op_cnt;e++)""!=DynC.method_toolbar_op_methods[e]&&("Parent Object Graph"==DynC.method_toolbar_op_methods[e]?-1!=this.method_object.indexOf(".")&&(this.xm_mask_opmethods|=1<<e):(t='check method/method="'+DynC.method_toolbar_op_methods[e]+'"/object='+this.method_object,t=this.dyn.graph.getCommand(t),0!=(1&this.dyn.graph.command(t))&&(this.xm_mask_opmethods|=1<<e)));for(e=this.xm_mask_mntmethods=0;e<DynC.method_toolbar_mnt_cnt;e++)""!==DynC.method_toolbar_mnt_methods[e]&&(t='check method/method="'+DynC.method_toolbar_mnt_methods[e]+'"/object='+this.method_object,t=this.dyn.graph.getCommand(t),0!=(1&this.dyn.graph.command(t))&&(this.xm_mask_mntmethods|=1<<e));this.xm_mask_flags|=Pwrb.mXttMethodsFlagsMask_IsConfigured}console.log("Method mask: "+this.xm_mask_opmethods+" "+this.xm_mask_mntmethods);var i=this.xm_mask_opmethods,a=this.xm_mask_mntmethods,s=0,o=0;i&=~Pwrb.mXttOpMethodsMask_OpenObjectGraph,this.dyn.graph.isAuthorized(Pwr.mAccess_RtEventsBlock|Pwr.mAccess_System)||(s|=Pwrb.mXttOpMethodsMask_BlockEvents),this.dyn.graph.isAuthorized(Pwr.mAccess_RtNavigator|Pwr.mAccess_System|Pwr.mAccess_RtWrite|Pwr.mAccess_Maintenance|Pwr.mAccess_Process|Pwr.mAccess_Instrument)||(s|=Pwrb.mXttOpMethodsMask_Note),this.dyn.graph.isAuthorized(Pwr.mAccess_RtNavigator|Pwr.mAccess_System)||(o|=Pwrb.mXttMntMethodsMask_RtNavigator),this.dyn.graph.isAuthorized(Pwr.mAccess_RtPlc|Pwr.mAccess_System)||(o|=Pwrb.mXttMntMethodsMask_OpenTrace),this.toolbar_type==DynC.eMethodToolbarType_Simulate&&(i=0),this.o.configure(DynC.method_toolbar_op_subgraph,DynC.method_toolbar_mnt_subgraph,DynC.method_toolbar_op_cnt,DynC.method_toolbar_mnt_cnt,i,a,s,o),(this.mask_store=0)!=this.mask_store&&(parsed_name=this.pname_name+".XttMethodsMask.OpMethods",this.dyn.graph.getGdh().setObjectInfoInt(parsed_name,this.xm_mask_opmethods).evenSts()&&console.log("Set mask error "+parsed_name),parsed_name=this.pname_name+".XttMethodsMask.MntMethods",this.dyn.graph.getGdh().setObjectInfoInt(parsed_name,this.xm_mask_mntmethods).evenSts()&&console.log("Set mask error "+parsed_name),parsed_name=this.pname_name+".XttMethodsMask.Flags",this.dyn.graph.getGdh().setObjectInfoInt(parsed_name,this.xm_mask_flags).evenSts()&&console.log("Set mask error "+parsed_name));return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB1Down:t.setColorInverse(1);break;case Glow.eEvent_MB1Up:t.setColorInverse(0);break;case Glow.eEvent_MB1Click:var i,a=e.idx,s=e.category;console.log("Toolbar action "+s+" "+a),i=1==s?"Parent Object Graph"==DynC.method_toolbar_op_methods[a]?"open graph/class/parent/instance="+this.method_object:'call method/method="'+DynC.method_toolbar_op_methods[a]+'"/object='+this.method_object:'call method/method="'+DynC.method_toolbar_mnt_methods[a]+'"/object='+this.method_object,i=this.dyn.graph.getCommand(i),this.dyn.graph.command(i);break;default:return 0}return 1},this.disconnect=function(){},this.scan=function(t){}}function DynMethodPulldownMenu(d){this.dyn=d,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_MethodPulldownMenu,this.action_type2=0,this.prio=DynC.eDynPrio_MethodPulldownMenu,this.instance_mask=0,this.instance=0,this.method_object,this.menu_type,this.opmask,this.mntmask,this.menu_object=null,this.text_size,this.o,this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("MethodToolbar : "+t[i]),o){case DynC.eSave_MethodPulldownMenu:break;case DynC.eSave_MethodPulldownMenu_method_object:1<s.length&&(this.method_object=s[1]);break;case DynC.eSave_MethodPulldownMenu_menu_type:this.menu_type=parseInt(s[1],10);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynMethodPulldownMenu")}if(a)break}return i},this.pname_name,this.mask_configure=0,this.mask_store=0,this.xm_mask_flags=0,this.xm_mask_opmethods=0,this.xm_mask_mntmethods=0,this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(this.o=t,e.event){case Glow.eEvent_MB1Click:if(null!=this.menu_object)this.dyn.graph.getCtx().remove(this.menu_object),this.menu_object=null;else if(null!=t){var i,a=this.dyn.parseAttrName(this.method_object);if(null==a||""===a.name)return 1;this.pname_name=a.name,i=this.pname_name+".XttMethodsMask.Flags",this.dyn.graph.getGdh().getObjectInfoInt(i,this.action2,this)}break;case Glow.eEvent_MenuActivated:if(null==this.menu_object)break;if(e.object==this.menu_object){for(var s,o=0,r=0,n=0;n<DynC.method_toolbar_op_cnt;n++)if((this.menu_type==DynC.eMethodsMenuType_Help||0!=(DynC.method_toolbar_op_helpmask&1<<n))&&this.menu_type==DynC.eMethodsMenuType_Simulate&&(0!=(this.opmask&1<<n)&&o++,e.item+1==o)){s='call method/method="'+DynC.method_toolbar_op_methods[n]+'"/object='+this.method_object,s=this.dyn.graph.getCommand(s),this.dyn.graph.command(s),r=1;break}if(0==r)for(n=0;n<DynC.method_toolbar_mnt_cnt;n++)if((this.menu_type!=DynC.eMethodsMenuType_Help||0!=(DynC.method_toolbar_mnt_helpmask&1<<n))&&(0!=(this.mntmask&1<<n)&&o++,e.item+1==o)){s='call method/method="'+DynC.method_toolbar_mnt_methods[n]+'"/object='+this.method_object,s=this.dyn.graph.getCommand(s),this.dyn.graph.command(s),r=1;break}}break;case Glow.eEvent_MenuDelete:if(null==this.menu_object)break;null!=e.object&&e.object!=this.menu_object||(this.dyn.graph.getCtx().remove(this.menu_object),this.menu_object=null)}return 1},this.action2=function(t,e,i,a){if(1&i)if(e.xm_mask_flags=a,0==(e.xm_mask_flags&Pwrb.mXttMethodsFlagsMask_IsConfigured))e.mask_configure=1,e.mask_store=1,e.action5();else{var s=e.pname_name+".XttMethodsMask.OpMethods";e.dyn.graph.getGdh().getObjectInfoInt(s,e.action3,e)}else e.mask_configure=1,e.action5()},this.action3=function(t,e,i,a){1&i?e.xm_mask_opmethods=a:(console.log("DynMethodToolbar: "+e.pname__name),e.mask_configure=1);var s=e.pname_name+".XttMethodsMask.MntMethods";e.dyn.graph.getGdh().getObjectInfoInt(s,e.action4,e)},this.action4=function(t,e,i,a){1&i?e.xm_mask_mntmethods=a:(console.log("DynMethodToolbar: "+e.pname_name),e.mask_configure=1),e.action5()},this.action5=function(){var t;if(0!=this.mask_configure){for(var e=this.xm_mask_opmethods=0;e<DynC.method_toolbar_op_cnt;e++)"Parent Object Graph"==DynC.method_toolbar_op_methods[e]?-1!=this.method_object.indexOf(".")&&(this.xm_mask_opmethods|=1<<e):(t='check method/method="'+DynC.method_toolbar_op_methods[e]+'"/object='+this.method_object,t=this.dyn.graph.getCommand(t),0!=(1&(i=this.dyn.graph.command(t)))&&(this.xm_mask_opmethods|=1<<e));for(e=this.xm_mask_mntmethods=0;e<DynC.method_toolbar_mnt_cnt;e++){var i;t='check method/method="'+DynC.method_toolbar_mnt_methods[e]+'"/object='+this.method_object,t=d.graph.getCommand(t),0!=(1&(i=d.graph.command(t)))&&(this.xm_mask_mntmethods|=1<<e)}this.xm_mask_flags|=Pwrb.mXttMethodsFlagsMask_IsConfigured}this.opmask=this.xm_mask_opmethods,this.mntmask=this.xm_mask_mntmethods;var a=0,s=0,o=new GlowMenuInfo;this.opmask&=~Pwrb.mXttOpMethodsMask_OpenObjectGraph,this.dyn.graph.isAuthorized(Pwr.mAccess_RtEventsBlock|Pwr.mAccess_System)||(a|=Pwrb.mXttOpMethodsMask_BlockEvents),this.dyn.graph.isAuthorized(Pwr.mAccess_RtNavigator|Pwr.mAccess_System|Pwr.mAccess_RtWrite|Pwr.mAccess_Maintenance|Pwr.mAccess_Process|Pwr.mAccess_Instrument)||(a|=Pwrb.mXttOpMethodsMask_Note),this.dyn.graph.isAuthorized(Pwr.mAccess_RtNavigator|Pwr.mAccess_System)||(s|=Pwrb.mXttMntMethodsMask_RtNavigator),this.dyn.graph.isAuthorized(Pwr.mAccess_RtPlc|Pwr.mAccess_System)||(s|=Pwrb.mXttMntMethodsMask_OpenTrace);var r=0;for(e=0;e<32;e++)o.item[e].occupied=!1;for(e=0;e<DynC.method_toolbar_op_cnt&&!(32<=r);e++)this.menu_type==DynC.eMethodsMenuType_Help&&0==(DynC.method_toolbar_op_helpmask&1<<e)||this.menu_type!=DynC.eMethodsMenuType_Simulate&&0!=(this.opmask&1<<e)&&(o.item[r].type=Glow.eMenuItem_Button,o.item[r].text=new String(DynC.method_toolbar_op_methods[e]),o.item[r].occupied=!0,0!=(a&1<<e)&&(o.item[r].type=Glow.eMenuItem_ButtonDisabled),r++);for(e=0;e<DynC.method_toolbar_mnt_cnt&&!(32<=r);e++)this.menu_type==DynC.eMethodsMenuType_Help&&0==(DynC.method_toolbar_mnt_helpmask&1<<e)||0!=(this.mntmask&1<<e)&&(o.item[r].type=Glow.eMenuItem_Button,o.item[r].text=DynC.method_toolbar_mnt_methods[e],o.item[r].occupied=!0,0!=(s&1<<e)&&(o.item[r].type=Glow.eMenuItem_ButtonDisabled),r++);var n=0,_=0,l=0,h=0,c=0;(i=0)==(1&i)?(h=3,n=Glow.eDrawType_TextHelvetica,c=Glow.eFont_LucidaSans,_=Glow.eDrawType_Line,l=Glow.eDrawType_LightGray):l!=Glow.eDrawType_No&&l!=Glow.eDrawType_Inherit||(l=Glow.eDrawType_LightGray);var w=this.o.measure();this.menu_object=new GrowMenu(this.dyn.graph.getCtx()),this.menu_object.init("__Menu",o,w.ll_x,w.ur_y,w.ur_x-w.ll_x,Glow.eDrawType_Line,0,1,1,l,h,n,_,Glow.eDrawType_MediumGray,c),this.menu_object.set_scale(1,1,0,0,Glow.eScaleType_LowerLeft),this.dyn.graph.getCtx().insert(this.menu_object)},this.connect=function(t){},this.disconnect=function(){},this.scan=function(t){}}function DynPopupMenu(t){this.dyn=t,this.dyn_type1=0,this.dyn_type2=0,this.action_type1=DynC.mActionType1_PopupMenu,this.action_type2=0,this.prio=DynC.eDynPrio_PopupMenu,this.instance_mask=0,this.instance=0,this.ref_object,this.connect=function(t){return 1},this.disconnect=function(){},this.scan=function(t){return 1},this.action=function(t,e){if(!this.dyn.graph.isAuthorized(this.dyn.access))return 1;switch(e.event){case Glow.eEvent_MB3Press:}return 1},this.open=function(t,e){var i,a=!1;for(i=e;i<t.length;i++){var s=t[i].split(" "),o=parseInt(s[0],10);switch(this.dyn.debug&&console.log("DynResetDig : "+t[i]),null,o){case DynC.eSave_PopupMenu:break;case DynC.eSave_PopupMenu_ref_object:1<s.length&&(this.ref_object=s[1]);break;case DynC.eSave_End:a=!0;break;default:console.log("Syntax error in DynPopupMenu")}if(a)break}return i}}DynAnalogText.prototype=Object.create(DynOptionMenu.prototype);var GraphIfc={eDatabase_Gdh:0,eDatabase_User:1,eDatabase_Local:2,eDatabase_Ccm:3,eType_Bit:32769};function Graph(s){var o=this;this.appl=s,this.ctx,this.baseCtx,this.gdraw,this.gdh,this.ldb,this.currentSlider,this.scan_time=.6,this.fast_scan_time=.15,this.animation_scan_time=.15,this.slow_scan_cnt=0,this.fast_scan_cnt=0,this.ctxStack=new Array(10),this.ctxStackCnt=0,this.clickActive=0,this.priv=0,"undefined"!=typeof InstallTrigger&&(this.scan_time=1,this.fast_scan_time=1,this.animation_scan_time=1),this.frame=new GrowFrame(this),this.priv=sessionStorage.getItem("pwr_privilege"),console.log("pwr_privilege",this.priv),this.read_cb=function(t,e){o.frame.read_func(o.ctx,t,e),o.frame.register_events(o.baseCtx),o.frame.nogdh?(o.priv=5,o.ctx.traceConnect(),o.trace_cyclic()):(o.gdh=new Gdh,o.gdh.open_cb=o.gdh_init_cb,o.gdh.init())},this.frame.readGrowWeb(this.frame.get_filename(),this.read_cb),this.ldb=new GraphLocalDb,this.ldb.setObjectInfo(this,"$local.Demo-Ge-Dynamics-ScrollingText-ScrollingText.ActualValue##String80","ProviewR"),this.ldb.setObjectInfo(this,"$local.Demo-Ge-Subgraphs-DynamicAxis-Av2.ActualValue##Float32",100),this.ldb.setObjectInfo(this,"$local.Demo-Ge-Subgraphs-DynamicAxisArc-Av2.ActualValue##Float32",100),this.gdh_init_cb=function(){null==o.priv&&o.gdh.login("","",o.login_cb,o),o.ctx.traceConnect(),o.gdh.refObjectInfoList(o.trace_connected)},this.login_cb=function(t,e,i,a){console.log("Login:",i,a),o.priv=1&i?a:0},this.trace_connected=function(t,e){o.trace_cyclic()},this.trace_cyclic=function(){o.frame.nogdh?o.trace_scan(0,0):o.gdh.getRefObjectInfoAll(o.trace_scan)},this.trace_scan=function(t,e){o.scan_time=o.ctx.scantime,o.fast_scan_time=o.ctx.fast_scantime,o.animation_scan_time=o.ctx.animation_scantime,o.ctx.traceScan(),o.ctx.draw(),o.slow_scan_cnt++,o.slow_scan_cnt>=o.scan_time/o.animation_scan_time&&(o.slow_scan_cnt=0),o.fast_scan_cnt++,o.fast_scan_cnt>=o.fast_scan_time/o.animation_scan_time&&(o.fast_scan_cnt=0),o.timer=setTimeout(o.trace_cyclic,1e3*o.animation_scan_time)},this.growUserdataOpen=function(t,e,i,a){var s,o=new UserdataCbReturn;switch(a){case Glow.eUserdataCbType_Ctx:"1"!=t[e]?(o.row=e-1,o.userdata=null):((s=new Dyn(this)).userdata=this,o.userdata=s,o.row=s.open(t,e));break;case Glow.eUserdataCbType_Node:(s=new Dyn(this)).userdata=this,o.userdata=s,o.row=s.open(t,e);break;case Glow.eUserdataCbType_NodeClass:s=new Dyn(this),o.row=s.open(t,e),o.userdata=s}return o},this.event_handler=function(t){var e,i,a=!1;switch(t.object_type!=Glow.eObjectType_NoObject&&null!==t.object&&(a=this.ctxPop(t.object.ctx)),t.event){case Glow.eEvent_MB1Click:if(t.object_type==Glow.eObjectType_NoObject||t.object.type()!=Glow.eObjectType_GrowMenu){var s=new GlowEventMenu;s.event=Glow.eEvent_MenuDelete,s.type=Glow.eEventType_Menu,s.object=null;for(var o=this.ctx.get_object_list(),r=0;r<o.size();r++){if(!((i=o.get(r)).type()!=Glow.eObjectType_GrowNode&&i.type()!=Glow.eObjectType_GrowGroup||t.object_type!=Glow.eObjectType_NoObject&&i==t.object))if(null!==(e=i.getUserData())&&e.action(i,s),o.size()!=(o=this.ctx.get_object_list()).size())break}}case Glow.eEvent_MB1Up:case Glow.eEvent_MB1Down:case Glow.eEvent_MB1DoubleClick:case Glow.eEvent_MB3Press:case Glow.eEvent_ValueChanged:case Glow.eEvent_SliderMoveStart:case Glow.eEvent_SliderMoveEnd:case Glow.eEvent_SliderMoved:case Glow.eEvent_Signal:if(null!==t.object)null!==(e=t.object.getUserData())&&e.action(t.object,t);break;case Glow.eEvent_MenuActivated:case Glow.eEvent_MenuCreate:case Glow.eEvent_MenuDelete:for(o=this.ctx.get_object_list(),r=0;r<o.size();r++)if(((i=o.get(r)).type()==Glow.eObjectType_GrowNode||i.type()==Glow.eObjectType_GrowGroup)&&null!==(e=i.getUserData())){if(e.action(i,t)==Glow.GLOW__TERMINATED)return;if(o.size()!=(o=this.ctx.get_object_list()).size())break}}a&&this.ctxPush()},this.ctxPop=function(t){return this.ctx!=t&&(10<=this.ctxStackCnt?(console.log("** Graph ctx stack overflow"),!1):(this.ctxStack[this.ctxStackCnt]=this.ctx,this.ctxStackCnt++,this.ctx=t,!0))},this.ctxPush=function(){0<this.ctxStackCnt&&(--this.ctxStackCnt,this.ctx=this.ctxStack[this.ctxStackCnt])},this.getCtx=function(){return this.ctx},this.setSubwindowSource=function(t,e,i){var a=this.ctx;0<this.ctxStackCnt&&(a=this.ctxStack[this.ctxStackCnt-1]),a.setSubwindowSource(t,e,i)},this.setClickActive=function(t){this.clickActive=t},this.getClickActive=function(){return clickActive},this.stringToType=function(t){var e;return-1!=(e=t.indexOf("#"))&&(t=t.substring(0,e)),"boolean"==t.toLowerCase()?Pwr.eType_Boolean:"float32"==t.toLowerCase()?Pwr.eType_Float32:"float64"==t.toLowerCase()?Pwr.eType_Float64:"char"==t.toLowerCase()?Pwr.eType_Char:"int8"==t.toLowerCase()?Pwr.eType_Int8:"int16"==t.toLowerCase()?Pwr.eType_Int16:"int32"==t.toLowerCase()?Pwr.eType_Int32:"int64"==t.toLowerCase()?Pwr.eType_Int64:"uint8"==t.toLowerCase()?Pwr.eType_UInt8:"uint16"==t.toLowerCase()?Pwr.eType_UInt16:"uint32"==t.toLowerCase()?Pwr.eType_UInt32:"uint64"==t.toLowerCase()?Pwr.eType_UInt64:"objid"==t.toLowerCase()?Pwr.eType_Objid:"time"==t.toLowerCase()?Pwr.eType_Time:"deltatime"==t.toLowerCase()?Pwr.eType_DeltaTime:"attrref"==t.toLowerCase()?Pwr.eType_AttrRef:"status"==t.toLowerCase()?Pwr.eType_Status:"netstatus"==t.toLowerCase()?Pwr.eType_NetStatus:"enum"==t.toLowerCase()?Pwr.eType_Enum:"mask"==t.toLowerCase()?Pwr.eType_Mask:"bit"==t.toLowerCase()?GraphIfc.eType_Bit:6<=t.length&&"string"==t.substring(0,6).toLowerCase()?Pwr.eType_String:0},this.stringToIndex=function(t){var e,i,a;return-1!=(e=t.indexOf("["))&&-1!=(i=t.indexOf("]"))&&e<i?(a=parseInt(t.substring(e+1,i),10),isNaN(a)?(console.log("Element syntax error, "+t),1):a):1},this.parseAttrName=function(t){if(null===t)return null;var e,i,a,s=new DynParsedAttrName,o=t.trim();if(-1!=(e=o.indexOf("$local."))){if(-1==(i=o.indexOf("#")))s.name=o.substring(e+1);else{s.name=o.substring(e+7,i);var r=o.substring(i).toUpperCase();s.type="##FLOAT32"==r?Pwr.eType_Float32:"##FLOAT64"==r?Pwr.eType_Float64:"##INT32"==r?Pwr.eType_Int32:"##BOOLEAN"==r?Pwr.eType_Boolean:Pwr.eType_String}return"!"==o.substring(0,1)?(o=(o=o.substring(1)).trim(),s.inverted=!0):s.inverted=!1,s.database=GraphIfc.eDatabase_Local,s.tname=t,s}if(-1!=(e=o.indexOf("$ccm."))){if(-1==(i=o.indexOf("#")))s.name=o.substring(e+1);else{s.name=o.substring(e+5,i);var n=o.substring(i).toUpperCase();s.type="##FLOAT32"==n?Pwr.eType_Float32:"##INT32"==n?Pwr.eType_Int32:"##BOOLEAN"==n?Pwr.eType_Boolean:Pwr.eType_String}return"!"==o.substring(0,1)?(o=(o=o.substring(1)).trim(),s.inverted=!0):s.inverted=!1,s.database=GraphIfc.eDatabase_Ccm,s.tname=new String(s.name),s}if(-1!=(e=o.indexOf("$object"))&&null!==this.appl){var _=this.ctx.getOwner();o=o.substring(0,e)+_+o.substring(e+7)}if(s.tname=new String(o),-1==(e=o.indexOf("["))?-1!=(a=o.lastIndexOf("#"))&&"#"!=o.charAt(a-1)?(s.elements=parseInt(o.substring(a+1),10),isNaN(s.elements)&&(s.elements=1),o=o.substring(0,a)):s.elements=1:(s.index=this.stringToIndex(o),s.elements=1),-1!=(i=o.indexOf("##"))){if("bit"==o.toLowerCase().substring(i+2,i+5)){var l=o.substring(i+2),h=this.stringToIndex(l);s.bitmask=1<<h,o=o.substring(0,i+5)}s.type=this.stringToType(o.substring(i+2)),o=o.substring(0,i)}else s.type=0;return"!"==o.substring(0,1)?(o=(o=o.substring(1)).trim(),s.inverted=!0,s.tname=s.tname.substring(1),s.tname=s.tname.trim()):s.inverted=!1,s.database=GraphIfc.eDatabase_Gdh,s.name=o,s},this.getLdb=function(){return this.ldb},this.getGdh=function(){return this.gdh},this.isAuthorized=function(t){return!!(this.priv&t)},this.traceConnect=function(t){var e=!1;if(t.ctx!=this.ctx&&(e=this.ctxPop(t.ctx)),null!=t.userdata){var i=t.userdata;if(t.type()==Glow.eObjectType_GrowNode)if(0!=(t.getClassDynType1()&DynC.mDynType1_HostObject)&&0!=(i.dyn_type1&DynC.mDynType1_Inherit)||0!=(i.dyn_type1&DynC.mDynType1_HostObject)){var a=t.getClassUserData();if(i.setTotal(null),null!=a){var s=i;(i=new Dyn(this)).merge(s),i.total_dyn_type1|=DynC.mDynType1_HostObject,i.merge(a),s.cycle!=Glow.eCycle_Inherit&&(i.cycle=s.cycle),s.action_type1==DynC.mActionType1_Inherit&&0==s.action_type2||(i.access=s.access),(t.userdata=i).setTotal(t)}}t.userdata.connect(t),e&&this.ctxPush()}else e&&this.ctxPush()},this.traceDisconnect=function(t){null!==t.userdata&&t.userdata.disconnect(t)},this.traceScan=function(t){if(null!==t.userdata){var e=t.userdata;if(e.cycle==Glow.eCycle_Inherit)return 1;if(e.cycle==Glow.eCycle_Slow&&0!=this.slow_scan_cnt&&!(e.total_dyn_type1&DynC.mDynType1_Animation||e.total_dyn_type2&DynC.mDynType2_ScrollingText))return 1;if(e.cycle==Glow.eCycle_Fast&&0!=this.fast_scan_cnt&&!(e.total_dyn_type1&DynC.mDynType1_Animation||e.total_dyn_type2&DynC.mDynType2_ScrollingText))return 1;t.userdata.scan(t)}},this.openValueInputDialog=function(t,e,i){var a=prompt(e,"");null!==a&&t.valueInputAction(i,a)},this.openConfirmDialog=function(t,e,i){null!=s&&s.openConfirmDialog(t,e,i)},this.getScanTime=function(){return this.scan_time},this.getFastScanTime=function(){return this.fast_scan_time},this.getAnimationScanTime=function(){return this.scan_time<this.animation_scan_time?this.scan_time:this.animation_scan_time},this.command=function(t){return null!=this.appl?this.appl.command(t):0},this.script=function(t){return null!=this.appl?this.appl.script(t):0},this.closeGraph=function(){window.close()},this.getCommand=function(t){for(var e,i=t;-1!=(e=i.indexOf("$object"));)if(null!=s){var a=this.ctx.getOwner();i=i.substring(0,e)+a+i.substring(e+7)}return i},this.setCurrentSlider=function(t){this.currentSlider=t},this.getCurrentSlider=function(){return this.currentSlider},this.loadCtx=function(t,e){return this.frame.readGrowWindow(t,e)}}function LocalSub(t,e,i,a){this.valueFloat=0,this.valueInt=0,this.valueBoolean=!1,this.valueString=null,this.name=e,this.occupied=!0,this.typeId=i,this.refId=a,this.owner=t,this.refCount=0,this.ref=function(){this.refCount++},this.unref=function(){this.refCount--},this.getRefCount=function(){return this.refCount}}function GraphLocalDb(){this.subscriptions=[],this.subscriptionCount=1,this.subscriptions[0]=null,this.refObjectInfo=function(t,e){var a=this.getTypeId(e),s=this.getName(e);if(0===a)return i;var o,r=this.nameToId(t,s);return-1==r?((o=new LocalSub(t,s,a,r=this.subscriptionCount)).ref(),this.subscriptions[r]=o,this.subscriptionCount++):(o=this.subscriptions[r]).ref(),r},this.unrefObjectInfo=function(t){var e=this.subscriptions[t];null!==e&&(e.unref(),e.getRefCount()<=0&&(this.subscriptions[t]=null))},this.getObjectRefInfo=function(t){var e=this.subscriptions[t];return null===e?0:void 0===e.value?0:e.value},this.getObjectInfo=function(t,e){var i=this.getName(e),a=this.nameToId(t,i);return-1==a?new CdhrNumber(0,2):void 0===this.subscriptions[a].value?new CdhrNumber(0,1):new CdhrNumber(this.subscriptions[a].value,1)},this.setObjectInfo=function(t,e,i){var a=this.getName(e),s=this.nameToId(t,a);return-1==s&&(this.refObjectInfo(t,e),s=this.subscriptionCount-1),this.subscriptions[s].value=i,new PwrtStatus(1)},this.toggleObjectInfo=function(t,e){var i=this.getName(e),a=this.nameToId(t,i);return-1==a?new PwrtStatus(2):(this.subscriptions[a].value=!this.subscriptions[a].value,new PwrtStatus(1))},this.nameToId=function(t,e){for(var i=0;i<this.subscriptions.length;i++){var a=this.subscriptions[i];if(null!==a&&t==a.owner&&e.toUpperCase()===a.name.toUpperCase())return i}return-1},this.getName=function(t){"$local."==t.substring(0,7)&&(t=t.substring(7));var e=t.indexOf("##");return-1!=e?t.substring(0,e):t},this.getTypeId=function(t){var e,i,a=t.indexOf("##");return a<0?Pwr.eType_Boolean:(a+=2,e=(i=t.indexOf("#",a))<0?t.substring(a).toUpperCase():t.substring(a,i).toUpperCase(),"BOOLEAN"==(e=(i=t.indexOf("#",a))<0?t.substring(a).toUpperCase():t.substring(a,i).toUpperCase())?Pwr.eType_Boolean:"FLOAT32"==e?Pwr.eType_Float32:"INT32"==e?Pwr.eType_Int32:"UINT32"==e?Pwr.eType_UInt32:"INT16"==e?Pwr.eType_Int16:"UINT16"==e?Pwr.eType_UInt16:"INT8"==e?Pwr.eType_Int8:"UINT8"==e?Pwr.eType_UInt8:"CHAR"==e?Pwr.eType_Char:"FLOAT64"==e?Pwr.eType_Float64:"OBJID"==e?Pwr.eType_Objid:"STRING"==e?Pwr.eType_String:"TIME"==e?Pwr.eType_Time:"DELTATIME"==e?Pwr.eType_DeltaTime:"ATTRREF"==e?Pwr.eType_AttrRef:"STRING"==e.substring(0,6)?Pwr.eType_String:0)}}var cliTable=[new CliTable("OPEN",["cli_arg1","cli_arg2","/NAME","/FILE","/SCROLLBAR","/WIDTH","/HEIGHT","/MENU","/NAVIGATOR","/CENTER","/OBJECT","/INSTANCE","/NEW","/CLASSGRAPH","/ACCESS","/PARENT"]),new CliTable("EXIT",null),new CliTable("HELP",["cli_arg1","cli_arg2","cli_arg3","cli_arg4","/HELPFILE","/POPNAVIGATOR","/BOOKMARK","/INDEX","/BASE","/RETURNCOMMAND","/WIDTH","/HEIGHT","/VERSION"]),new CliTable("SET",["cli_arg1","cli_arg2","/NAME","/VALUE","/BYPASS","/SOURCE","/OBJECT"]),new CliTable("EXAMPLE",["/NAME","/HIERARCHY"]),new CliTable("CHECK",["cli_arg1","/METHOD","/OBJECT"]),new CliTable("CALL",["cli_arg1","/METHOD","/OBJECT"]),new CliTable("SET",["cli_arg1","dcli_arg2","/CONTINUE"])];function Appl(){this.graph=new Graph(this),this.command=function(t){console.log("Command: "+t);if(!this.graph.isAuthorized(Pwr.mAccess_AllRt))return consol.log("Not authorized"),0;if("@"==t.charAt(0))return 1;var e=new Cli(cliTable),i=e.parse(t);if(e.oddSts())if("OPEN"==i){if(e.qualifierFound("cli_arg1")){var a=e.getQualValue("cli_arg1").toUpperCase();if("JGRAPH".length>=a.length&&"JGRAPH".substring(0,a.length)==a)console.log('Command is not implemented, "OPEN JGRAPH"');else if("GRAPH".length>=a.length&&"GRAPH".substring(0,a.length)==a){var s=null,o=null,r=!1;if(e.qualifierFound("/OBJECT"))return e.getQualValue("/OBJECT"),1;if(e.qualifierFound("/INSTANCE"))if(o=e.getQualValue("/INSTANCE"),r=e.qualifierFound("/CLASSGRAPH"),e.qualifierFound("/PARENT")){var n=o.lastIndexOf(".");-1!=n&&0!==n&&(o=o.substring(0,n)),console.log("open graph /parent: "+o)}if(r){console.log("Cmd classGraph");var _=window.open("","_blank");this.graph.gdh.getObjectFromName(o,GdhOp.GET_OP_METHOD_OBJECTGRAPH,this.open_objectgraph_cb,_)}else{if(!e.qualifierFound("cli_arg2"))return console.log("Syntax error"),0;var l;-1==(s=e.getQualValue("cli_arg2").toLowerCase()).charAt(".pwg")&&(s+=".pwg"),l=this.graph.frame.nogdh?null===o?"ge.html?graph="+s+"&instance=no&gdh=no":"ge.html?graph="+s+"&instance="+o+"&gdh=no":null===o?"ge.html?graph="+s:"ge.html?graph="+s+"&instance="+o,console.log("Cmd found: open graph",s,o);_=window.open(l,"_blank")}}else if("URL".length>=a.length&&"URL".substring(0,a.length)==a){var h=e.getQualValue("cli_arg2");"pwrb_"!=h.substring(0,5)&&"pwrs_"!=h.substring(0,5)&&"nmps_"!=h.substring(0,5)&&"profibus_"!=h.substring(0,9)&&"otherio_"!=h.substring(0,8)&&"opc_"!=h.substring(0,4)&&"basecomponent_"!=h.substring(0,14)&&"abb_"!=h.substring(0,4)&&"siemens_"!=h.substring(0,8)&&"ssabox_"!=h.substring(0,7)||(h="$pwr_doc/"+getLang()+"/orm/"+h),console.log("open url "+h),this.openURL(h,null)}else"TREND".length>=a.length&&"TREND".substring(0,a.length)==a?console.log("Cmd open trend"):"FAST".length>=a.length&&"FAST".substring(0,a.length)==a?console.log("Cmd open fast"):"HELP"==i&&console.log("Cmd help")}}else if("SET"==i){if(e.qualifierFound("cli_arg1")){a=e.getQualValue("cli_arg1").toUpperCase();if("SUBWINDOW".length>=a.length&&"SUBWINDOW".substring(0,a.length)==a){var c,w;if(!0,!e.qualifierFound("/NAME"))return console.log("Cmd: name is missing\n"),0;if(c=e.getQualValue("/NAME"),!e.qualifierFound("/SOURCE"))return console.log("Cmd: source is missing\n"),0;if(w=e.getQualValue("/SOURCE"),f=e.qualifierFound("/OBJECT")?e.getQualValue("/OBJECT"):null,!e.qualifierFound("cli_arg2"))return console.log("Syntax error"),0;e.getQualValue("cli_arg2").toLowerCase(),-1==w.indexOf(".")&&(w+=".pwg"),this.graph.setSubwindowSource(c,w,f)}}}else if("HELP"==i){var d="xtt_help_",u=null;e.qualifierFound("/VERSION")?(d=this.pwrHost+"xtt_version_help_version.html",this.openURL(d,null)):(d=e.qualifierFound("/BASE")?this.pwrHost+"help/xtt_help_":"xtt_help_",e.qualifierFound("cli_arg1")&&(d+=e.getQualValue("cli_arg1").toLowerCase()),e.qualifierFound("cli_arg2")&&(d+="_"+e.getQualValue("cli_arg2").toLowerCase()),e.qualifierFound("cli_arg3")&&(d+="_"+e.getQualValue("cli_arg3").toLowerCase()),e.qualifierFound("cli_arg4")&&(d+="_"+e.getQualValue("cli_arg4").toLowerCase()),"pwrb_"!=d.substring(0,5)&&"pwrs_"!=d.substring(0,5)&&"nmps_"!=d.substring(0,5)&&"profibus_"!=d.substring(0,9)&&"otherio_"!=d.substring(0,8)&&"opc_"!=d.substring(0,4)&&"basecomponent_"!=d.substring(0,14)&&"abb_"!=d.substring(0,4)&&"siemens_"!=d.substring(0,8)&&"ssabox_"!=d.substring(0,7)||(d="$pwr_doc/orm/"+d),e.qualifierFound("/BOOKMARK")&&(u=e.getQualValue("/BOOKMARK")),d+=".html",console.log('Loading helpfile "'+d+'"'),this.openURL(d,u)),!0}else{if("CHECK"!=i)return console.log("JopSpider: Parse error "+e.getStsString()),0;if(e.qualifierFound("cli_arg1")){var y="ISATTRIBUTE";a=e.getQualValue("cli_arg1").toUpperCase();if("METHOD".length>=a.length&&"METHOD".substring(0,a.length)==a){if(!e.qualifierFound("/METHOD"))return console.log("Cmd: Method is missing\n"),0;if(e.getQualValue("/METHOD"),!e.qualifierFound("/OBJECT"))return console.log("Cmd: Object is missing\n"),0;f=e.getQualValue("/OBJECT")}else if(y.length>=a.length&&y.substring(0,a.length)==a){if(!e.qualifierFound("/OBJECT"))return console.log("Cmd: Object is missing\n"),0;f=e.getQualValue("/OBJECT")}}else if("CALL"==i){if(e.qualifierFound("cli_arg1")){a=e.getQualValue("cli_arg1").toUpperCase();if("METHOD".length>=a.length&&"METHOD".substring(0,a.length)==a){var f;if(!e.qualifierFound("/METHOD"))return console.log("Cmd: Method is missing\n"),0;if(e.getQualValue("/METHOD"),!e.qualifierFound("/OBJECT"))return console.log("Cmd: Object is missing\n"),0;f=e.getQualValue("/OBJECT")}}}else if("SET"==i)return 1}return 1},this.script=function(t){console.log("Appl.script",t)},this.openURL=function(t,e){console.log("URL: ",t),window.open(t,"_blank")},this.openConfirmDialog=function(t,e,i){confirm(e)&&t.confirmedAction(Glow.eEvent_MB1Click,i)},this.open_objectgraph_cb=function(t,e,i,a){0!=(1&i)?(console.log("param1",a.param1),e.location.href="ge.html?graph="+a.param1+"&instance="+a.fullname,e.document.title=a.param1+" "+a.fullname):e.document.write("Error status "+i)}}var CFormatC={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxXm]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxXm])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function GlowCFormat(t){this.parse_tree,this.format=function(){var t,e,i,a,s,o,r,n,_=arguments,l=0,h=this.parse_tree.length,c="";for(d=0;d<h;d++)if("string"==typeof this.parse_tree[d])c+=this.parse_tree[d];else if("object"==typeof this.parse_tree[d]){if((i=this.parse_tree[d]).keys)for(t=_[l],e=0;e<i.keys.length;e++){if(null==t)throw new Error(sprintf('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[e],i.keys[e-1]));t=t[i.keys[e]]}else t=i.param_no?_[i.param_no]:_[l++];if(CFormatC.not_type.test(i.type)&&CFormatC.not_primitive.test(i.type)&&t instanceof Function&&(t=t()),CFormatC.numeric_arg.test(i.type)&&"number"!=typeof t&&isNaN(t))throw new TypeError("[sprintf] expecting number but found");switch(CFormatC.number.test(i.type)&&(r=0<=t),i.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,i.width?parseInt(i.width,10):0);break;case"e":t=i.precision?parseFloat(t).toExponential(i.precision):parseFloat(t).toExponential();break;case"f":t=i.precision?parseFloat(t).toFixed(i.precision):parseFloat(t);break;case"g":t=i.precision?String(Number(t.toPrecision(i.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=i.precision?t.substring(0,i.precision):t;break;case"t":t=String(!!t),t=i.precision?t.substring(0,i.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=i.precision?t.substring(0,i.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=i.precision?t.substring(0,i.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase();break;case"m":t="Msg: "+parseInt(t,10)}if(CFormatC.json.test(i.type))c+=t;else{!CFormatC.number.test(i.type)||r&&!i.sign?n="":(n=r?"+":"-",t=t.toString().replace(CFormatC.sign,"")),s=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",o=i.width-(n+t).length;for(var w="",d=0;d<o;d++)w+=s;a=i.width&&0<o?w:"",c+=i.align?n+t+a:"0"===s?n+a+t:a+n+t}}return c},this.parse=function(t){for(var e,i=t,a=[],s=0;i;){if(null!==(e=CFormatC.text.exec(i)))a.push(e[0]);else if(null!==(e=CFormatC.modulo.exec(i)))a.push("%");else{if(null===(e=CFormatC.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){s|=1;var o=[],r=e[2],n=[];if(null===(n=CFormatC.key.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(n[1]);""!==(r=r.substring(n[0].length));)if(null!==(n=CFormatC.key_access.exec(r)))o.push(n[1]);else{if(null===(n=CFormatC.index_access.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(n[1])}e[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}i=i.substring(e[0].length)}return a},this.parse_tree=this.parse(t)}var appl=new Appl;