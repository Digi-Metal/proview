!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}({0:function(t,e,n){"use strict";function i(t){return t%2==0}function s(t){return t%2==1}function r(t,e,n){return t>n?n:t<e?e:t}var a,o,l,c,u,_,d,T,O,f,h;n.d(e,"o",function(){return i}),n.d(e,"p",function(){return s}),n.d(e,"n",function(){return r}),n.d(e,"j",function(){return a}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return _}),n.d(e,"l",function(){return d}),n.d(e,"h",function(){return g}),n.d(e,"g",function(){return E}),n.d(e,"c",function(){return p}),n.d(e,"e",function(){return O}),n.d(e,"d",function(){return f}),n.d(e,"f",function(){return b}),n.d(e,"i",function(){return R}),function(t){t[t.Bit=32769]="Bit",t[t.Boolean=98305]="Boolean",t[t.Float32=98306]="Float32",t[t.Float64=98307]="Float64",t[t.Char=98308]="Char",t[t.Int8=98309]="Int8",t[t.Int16=98310]="Int16",t[t.Int32=98311]="Int32",t[t.UInt8=98312]="UInt8",t[t.UInt16=98313]="UInt16",t[t.UInt32=98314]="UInt32",t[t.Objid=98315]="Objid",t[t.Buffer=98316]="Buffer",t[t.String=98317]="String",t[t.Enum=98318]="Enum",t[t.Struct=98319]="Struct",t[t.Mask=98320]="Mask",t[t.Array=98321]="Array",t[t.Time=98322]="Time",t[t.Text=98323]="Text",t[t.AttrRef=98324]="AttrRef",t[t.UInt64=98325]="UInt64",t[t.Int64=98326]="Int64",t[t.ClassId=98327]="ClassId",t[t.TypeId=98328]="TypeId",t[t.VolumeId=98329]="VolumeId",t[t.ObjectIx=98330]="ObjectIx",t[t.RefId=98331]="RefId",t[t.DeltaTime=98332]="DeltaTime",t[t.Status=98333]="Status",t[t.NetStatus=98334]="NetStatus",t[t.CastId=98335]="CastId",t[t.ProString=98336]="ProString",t[t.DisableAttr=98337]="DisableAttr",t[t.DataRef=98338]="DataRef"}(a||(a={})),function(t){t[t.RtRead=1]="RtRead",t[t.RtWrite=2]="RtWrite",t[t.System=4]="System",t[t.Maintenance=8]="Maintenance",t[t.Process=16]="Process",t[t.Instrument=32]="Instrument",t[t.Operator1=64]="Operator1",t[t.Operator2=128]="Operator2",t[t.Operator3=256]="Operator3",t[t.Operator4=512]="Operator4",t[t.Operator5=1024]="Operator5",t[t.Operator6=2048]="Operator6",t[t.Operator7=4096]="Operator7",t[t.Operator8=8192]="Operator8",t[t.Operator9=16384]="Operator9",t[t.Operator10=32768]="Operator10",t[t.RtEventsAck=262144]="RtEventsAck",t[t.RtPlc=524288]="RtPlc",t[t.RtNavigator=1048576]="RtNavigator",t[t.DevRead=2097152]="DevRead",t[t.DevPlc=4194304]="DevPlc",t[t.DevConfig=8388608]="DevConfig",t[t.DevClass=16777216]="DevClass",t[t.RtEventsBlock=33554432]="RtEventsBlock",t[t.Administrator=67108864]="Administrator",t[t.SevRead=134217728]="SevRead",t[t.SevAdmin=268435456]="SevAdmin"}(o||(o={})),function(t){t[t.RtRead=1]="RtRead",t[t.RtWrite=2]="RtWrite",t[t.System=4]="System",t[t.Maintenance=8]="Maintenance",t[t.Process=16]="Process",t[t.Instrument=32]="Instrument",t[t.RtEventsBlock=33554432]="RtEventsBlock",t[t.RtEventsAck=262144]="RtEventsAck",t[t.RtPlc=524288]="RtPlc",t[t.RtNavigator=1048576]="RtNavigator",t[t.AllRt=35454975]="AllRt",t[t.AllOperators=65472]="AllOperators",t[t.AllPwr=-1]="AllPwr"}(l||(l={})),function(t){t[t.Pointer=1]="Pointer",t[t.Array=2]="Array",t[t.Backup=4]="Backup",t[t.Changelog=8]="Changelog",t[t.State=16]="State",t[t.Const=32]="Const",t[t.Rtvirtual=64]="Rtvirtual",t[t.Devbodyref=128]="Devbodyref",t[t.Dynamic=256]="Dynamic",t[t.Publicwrite=512]="Publicwrite",t[t.Noedit=1024]="Noedit",t[t.Invisible=2048]="Invisible",t[t.Refdirect=4096]="Refdirect",t[t.Noinvert=8192]="Noinvert",t[t.Noremove=16384]="Noremove",t[t.Rtdbref=32768]="Rtdbref",t[t.Private=65536]="Private",t[t.Class=131072]="Class",t[t.Superclass=262144]="Superclass",t[t.Buffer=524288]="Buffer",t[t.Nowbl=1048576]="Nowbl",t[t.Alwayswbl=2097152]="Alwayswbl",t[t.Disableattr=4194304]="Disableattr",t[t.Rthide=8388608]="Rthide"}(c||(c={})),function(t){t[t.IsConfigured=1]="IsConfigured"}(u||(u={})),function(t){t[t.OpenGraph=1]="OpenGraph",t[t.OpenObjectGraph=2]="OpenObjectGraph",t[t.OpenTrend=4]="OpenTrend",t[t.OpenHistory=8]="OpenHistory",t[t.OpenFast=16]="OpenFast",t[t.Camera=32]="Camera",t[t.HistEvent=64]="HistEvent",t[t.BlockEvents=128]="BlockEvents",t[t.Help=256]="Help",t[t.Photo=512]="Photo",t[t.Note=1024]="Note",t[t.ParentObjectGraph=2048]="ParentObjectGraph"}(_||(_={})),function(t){t[t.OpenObject=1]="OpenObject",t[t.OpenTrace=2]="OpenTrace",t[t.RtNavigator=4]="RtNavigator",t[t.OpenCrossref=8]="OpenCrossref",t[t.HelpClass=16]="HelpClass",t[t.DataSheet=32]="DataSheet",t[t.CircuitDiagram=64]="CircuitDiagram",t[t.Simulate=-2147483648]="Simulate"}(d||(d={}));class g{constructor(t,e){this.oix=e,this.vid=t}}class E{}class p{constructor(t,e){this.value=t,this.sts=e}}!function(t){t[t.Min=65793]="Min",t[t.Max=16711422]="Max"}(T||(T={}));!function(t){t[t.Solid=0]="Solid",t[t.Dashed1=1]="Dashed1",t[t.Dashed2=2]="Dashed2",t[t.Dashed3=3]="Dashed3",t[t.Dotted=4]="Dotted",t[t.DotDashed1=5]="DotDashed1",t[t.DotDashed2=6]="DotDashed2"}(O||(O={})),function(t){t[t.No=0]="No",t[t.HorizontalUp=1]="HorizontalUp",t[t.HorizontalDown=2]="HorizontalDown",t[t.HorizontalTube1=3]="HorizontalTube1",t[t.HorizontalTube2=4]="HorizontalTube2",t[t.VerticalLeft=5]="VerticalLeft",t[t.VerticalRight=6]="VerticalRight",t[t.VerticalTube1=7]="VerticalTube1",t[t.VerticalTube2=8]="VerticalTube2",t[t.DiagonalUpperLeft=9]="DiagonalUpperLeft",t[t.DiagonalLowerLeft=10]="DiagonalLowerLeft",t[t.DiagonalUpperRight=11]="DiagonalUpperRight",t[t.DiagonalLowerRight=12]="DiagonalLowerRight",t[t.DiagonalUpTube=13]="DiagonalUpTube",t[t.DiagonalDownTube=14]="DiagonalDownTube",t[t.Globe=15]="Globe",t[t.RadialCenter=16]="RadialCenter",t[t.RadialUpperLeft=17]="RadialUpperLeft",t[t.RadialLowerLeft=18]="RadialLowerLeft",t[t.RadialUpperRight=19]="RadialUpperRight",t[t.RadialLowerRight=20]="RadialLowerRight"}(f||(f={}));!function(t){t[t._=0]="_",t[t.UserDefined=1]="UserDefined",t[t.OneSecond=2]="OneSecond",t[t.TenSeconds=3]="TenSeconds",t[t.OneMinute=4]="OneMinute",t[t.TenMinutes=5]="TenMinutes",t[t.OneHour=6]="OneHour",t[t.OneDay=7]="OneDay",t[t.OneWeek=8]="OneWeek",t[t.OneMonth=9]="OneMonth",t[t.OneYear=10]="OneYear",t[t.LastSecond=11]="LastSecond",t[t.LastTenSeconds=12]="LastTenSeconds",t[t.LastMinute=13]="LastMinute",t[t.LastTenMinutes=14]="LastTenMinutes",t[t.LastHour=15]="LastHour",t[t.Today=16]="Today",t[t.Yesterday=17]="Yesterday",t[t.ThisWeek=18]="ThisWeek",t[t.LastWeek=19]="LastWeek",t[t.ThisMonth=20]="ThisMonth",t[t.LastMonth=21]="LastMonth",t[t.ThisYear=22]="ThisYear",t[t.AllTime=23]="AllTime",t[t.__=24]="__"}(h||(h={}));class b{constructor(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}set(t){this.x=t.x,this.y=t.y}static add(t,e){return new b(t.x+e.x,t.y+e.y)}}class R{constructor(t=0,e=0,n=0,i=0){this.ll=new b(t,e),this.ur=new b(n,i)}set(t){this.ll.x=t.ll.x,this.ll.y=t.ll.y,this.ur.x=t.ur.x,this.ur.y=t.ur.y}width(){return this.ur.x-this.ll.x}height(){return this.ur.y-this.ll.y}static hit(t,e){return e.x>=t.ll.x&&e.x<=t.ur.x&&e.y>=t.ll.y&&e.y<=t.ur.y}static union(t,e){return new R(Math.min(t.ll.x,e.ll.x),Math.min(t.ll.y,e.ll.y),Math.max(t.ur.x,e.ur.x),Math.max(t.ur.y,e.ur.y))}}},29:function(t,e,n){"use strict";n.r(e);var i=n(6),s=n(0),r=n(5),a=n(9),o=function(t,e,n,i){return new(n||(n=Promise))(function(s,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function o(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(a,o)}l((i=i.apply(t,e||[])).next())})};new class{constructor(){this.host=window.location.hostname||"localhost",a.a.fetchFromStore(),this.render()}get_opplace(){return window.location.search.substring(1).split("&")[0].substring(8)}init_cb(){let t=this;return r.d.getOpwindMenu(this.get_opplace()).then(e=>{t.info=e.value})}add_menu_button(t,e){let n=Object(i.a)("input",{type:"button",value:e,style:{width:"100%"}});n.addEventListener("click",this.button_cb.bind(this)),Object(i.b)(t,n),Object(i.b)(t,Object(i.a)("br"))}render(){return o(this,void 0,void 0,function*(){if(!a.a.priv)return void new a.a(this.render.bind(this));yield r.d.init(),yield this.init_cb();let t=Object(i.a)("div",{style:{cssFloat:"left",width:"20%"}}),e="http://"+localStorage.getItem("HOST")+"/xtt_help_index.html",n=Object(i.a)("iframe",{src:e,style:{cssFloat:"left",width:"79%",height:"100%",border:"none"}}),s=Object(i.a)("div",{style:{display:"flow-root"}});Object(i.b)(s,Object(i.d)(a.a.user+" on "+this.host));let o=Object(i.a)("input",{type:"button",value:"Logout",style:{cssFloat:"right"}});o.addEventListener("click",()=>{r.d.login("","").then(a.a.logout_cb).then(this.render.bind(this))}),Object(i.b)(s,o),Object(i.b)(t,s),Object(i.b)(t,Object(i.a)("hr")),this.info.enable_language&&this.add_menu_button(t,"Language"),this.info.enable_alarmlist&&(this.add_menu_button(t,"AlarmList"),this.add_menu_button(t,"EventList")),this.info.enable_eventlog&&this.add_menu_button(t,"EventLog"),this.info.enable_navigator&&this.add_menu_button(t,"Navigator"),this.info.disable_help||this.add_menu_button(t,"Help"),this.info.disable_proview||this.add_menu_button(t,"ProviewR");for(let e=0;e<this.info.buttons.length;e++)this.add_menu_button(t,this.info.buttons[e].text);Object(i.c)(document.body,[t,n])})}button_cb(t){let e=t.target.value;if(this.info.enable_language&&"Language"===e)console.log("Language activated");else if(this.info.enable_alarmlist&&"AlarmList"===e)console.log("AlarmList activated"),a.a.is_authorized(s.a.RtRead|s.a.RtWrite|s.a.AllOperators|s.a.System|s.a.Maintenance|s.a.Process|s.a.Instrument)&&window.open("ev.html?list=alarm","_blank");else if(this.info.enable_alarmlist&&"EventList"===e)console.log("EventList activated"),a.a.is_authorized(s.a.RtRead|s.a.RtWrite|s.a.AllOperators|s.a.System|s.a.Maintenance|s.a.Process|s.a.Instrument)&&window.open("ev.html?list=event","_blank");else if(this.info.enable_eventlog&&"EventLog"===e)console.log("EventLog activated"),a.a.is_authorized(s.a.RtRead|s.a.RtWrite|s.a.AllOperators|s.a.System|s.a.Maintenance|s.a.Process|s.a.Instrument)&&window.alert("Not yet implemented");else if(this.info.enable_navigator&&"Navigator"===e)console.log("Navigator activated"),a.a.is_authorized(s.a.RtNavigator|s.a.System|s.a.Maintenance|s.a.Process|s.a.Instrument)&&window.open("xtt.html","_blank");else if(this.info.disable_help||"Help"!==e)if(this.info.disable_proview||"ProviewR"!==e){if(a.a.is_authorized(s.a.RtRead|s.a.RtWrite|s.a.AllOperators|s.a.System|s.a.Maintenance|s.a.Process|s.a.Instrument)){let t=this.info.buttons.find(t=>t.text===e);if(t){console.log("Found",t.text);let e=t.name,n=e.indexOf(".pwg");-1!==n&&(e=e.substring(0,n));let i="ge.html?graph="+e;console.log("url",i),window.open(i,"_blank")}}}else console.log("ProviewR activated"),window.open("http://www.proview.se","_blank");else console.log("Help activated"),window.open("http://"+localStorage.getItem("HOST")+"/xtt_help_index.html","_blank")}}},5:function(t,e,n){"use strict";var i,s,r,a,o,l=n(0);class c{constructor(t){this.offset=0,this.dv=new DataView(t),this.tag=this.getUint8(),this.id=this.getUint32(),this.sts=this.getUint32()}getUint8(){return this.offset+=1,this.dv.getUint8(this.offset-1)}getUint16(){return this.offset+=2,this.dv.getUint16(this.offset-2)}getInt32(){return this.offset+=4,this.dv.getInt32(this.offset-4)}getUint32(){return this.offset+=4,this.dv.getUint32(this.offset-4)}getFloat32(){return this.offset+=4,this.dv.getFloat32(this.offset-4)}getString(){let t=this.getUint16(),e=new Uint8Array(t);for(let n=0;n<t;n++)e[n]=this.getUint8();return String.fromCharCode.apply(null,e)}}class u{constructor(t,e,n=null,i=null){this.ws=null,this.pending=[],this.pack8Bit=t=>this.reqData.push(255&t),this.ws=new WebSocket("ws://"+t+":"+String(e)),this.ws.binaryType="arraybuffer";let s=this;this.ws.onmessage=function(t){let e=new DataView(t.data).getUint32(1);(0,s.pending[e])(new c(t.data)),delete s.pending[e]},this.ws.onopen=function(){null!==n&&n()},this.ws.onclose=function(){s.reset()},this.ws.onerror=function(t){console.error("WebSocket error observed:",t),null!==i&&i()}}sendRequest(){let t=this;return new Promise((e,n)=>{t.pending[u.next_id]=e,u.next_id++,t.ws.send(Uint8Array.from(t.reqData))})}beginRequest(t){this.reqData=[t,0],this.pack32Bit(u.next_id)}reset(){this.pending=[]}pack16Bit(t){this.reqData.push(255&t),this.reqData.push(t>>8&255)}pack32Bit(t){this.reqData.push(255&t),this.reqData.push(t>>8&255),this.reqData.push(t>>16&255),this.reqData.push(t>>24&255)}packString(t){this.pack16Bit(t.length);for(let e=0;e<t.length;e++)this.reqData.push(t.charCodeAt(e))}}u.next_id=1234,n.d(e,"e",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return f}),n.d(e,"f",function(){return a}),n.d(e,"d",function(){return p}),function(t){t[t.Ack=1]="Ack",t[t.Block=2]="Block",t[t.Cancel=3]="Cancel",t[t.CancelBlock=4]="CancelBlock",t[t.Missing=5]="Missing",t[t.Reblock=6]="Reblock",t[t.Return=7]="Return",t[t.Unblock=8]="Unblock",t[t.InfoSuccess=32]="InfoSuccess",t[t.Alarm=64]="Alarm",t[t.MaintenanceAlarm=128]="MaintenanceAlarm",t[t.SystemAlarm=256]="SystemAlarm",t[t.UserAlarm1=512]="UserAlarm1",t[t.UserAlarm2=1024]="UserAlarm2",t[t.UserAlarm3=2048]="UserAlarm3",t[t.UserAlarm4=4096]="UserAlarm4",t[t.Info=8192]="Info"}(i||(i={})),function(t){t[t.D=64]="D",t[t.C=65]="C",t[t.B=66]="B",t[t.A=67]="A"}(s||(s={})),function(t){t[t.NotRet=1]="NotRet",t[t.NotAck=2]="NotAck",t[t.Block=4]="Block"}(r||(r={}));class _{}class d{}class T{}class O{}class f{}class h{}class g{constructor(){this.buttons=[]}}class E{}!function(t){t[t.GET_OP_SELF=1]="GET_OP_SELF",t[t.GET_OP_METHOD_PLC=2]="GET_OP_METHOD_PLC",t[t.GET_OP_METHOD_OBJECTGRAPH=3]="GET_OP_METHOD_OBJECTGRAPH",t[t.GET_OP_METHOD_GRAPH=4]="GET_OP_METHOD_GRAPH",t[t.GET_OP_METHOD_HELPCLASS=5]="GET_OP_METHOD_HELPCLASS"}(a||(a={})),function(t){t[t.SET_OBJECT_INFO_BOOLEAN=1]="SET_OBJECT_INFO_BOOLEAN",t[t.SET_OBJECT_INFO_FLOAT=2]="SET_OBJECT_INFO_FLOAT",t[t.SET_OBJECT_INFO_INT=3]="SET_OBJECT_INFO_INT",t[t.SET_OBJECT_INFO_STRING=4]="SET_OBJECT_INFO_STRING",t[t.GET_OBJECT_INFO_BOOLEAN=5]="GET_OBJECT_INFO_BOOLEAN",t[t.GET_OBJECT_INFO_FLOAT=6]="GET_OBJECT_INFO_FLOAT",t[t.GET_OBJECT_INFO_INT=7]="GET_OBJECT_INFO_INT",t[t.GET_OBJECT_INFO_STRING=8]="GET_OBJECT_INFO_STRING",t[t.TOGGLE_OBJECT_INFO=9]="TOGGLE_OBJECT_INFO",t[t.REF_OBJECT_INFO=10]="REF_OBJECT_INFO",t[t.GET_OBJECT_REF_INFO_BOOLEAN=11]="GET_OBJECT_REF_INFO_BOOLEAN",t[t.GET_OBJECT_REF_INFO_FLOAT=12]="GET_OBJECT_REF_INFO_FLOAT",t[t.GET_OBJECT_REF_INFO_INT=13]="GET_OBJECT_REF_INFO_INT",t[t.GET_OBJECT_REF_INFO_STRING=14]="GET_OBJECT_REF_INFO_STRING",t[t.UNREF_OBJECT_INFO=15]="UNREF_OBJECT_INFO",t[t.NAME_TO_OBJID=16]="NAME_TO_OBJID",t[t.OBJID_TO_NAME=17]="OBJID_TO_NAME",t[t.GET_ROOT_LIST=18]="GET_ROOT_LIST",t[t.GET_NEXT_OBJECT=19]="GET_NEXT_OBJECT",t[t.GET_CHILD=20]="GET_CHILD",t[t.GET_NEXT_SIBLING=21]="GET_NEXT_SIBLING",t[t.GET_OBJECT_CLASS=22]="GET_OBJECT_CLASS",t[t.GET_CLASS_LIST=23]="GET_CLASS_LIST",t[t.CLASS_ID_TO_OBJID=24]="CLASS_ID_TO_OBJID",t[t.GET_OBJECT_REF_INFO_ALL=25]="GET_OBJECT_REF_INFO_ALL",t[t.REF_OBJECT_INFO_LIST=26]="REF_OBJECT_INFO_LIST",t[t.POLL=27]="POLL",t[t.STATISTICS=28]="STATISTICS",t[t.CHECK_USER=29]="CHECK_USER",t[t.GET_NODE_OBJECT=30]="GET_NODE_OBJECT",t[t.LOG_STRING=31]="LOG_STRING",t[t.UNREF_OBJECT_INFO_ALL=32]="UNREF_OBJECT_INFO_ALL",t[t.CREATE_INSTANCE_FILE=33]="CREATE_INSTANCE_FILE",t[t.GET_ATTRIBUTE_CHAR=34]="GET_ATTRIBUTE_CHAR",t[t.GET_CLASS_ATTRIBUTE=35]="GET_CLASS_ATTRIBUTE",t[t.GET_ALL_CLASS_ATTRIBUTES=36]="GET_ALL_CLASS_ATTRIBUTES",t[t.GET_ALL_SIBLINGS=37]="GET_ALL_SIBLINGS",t[t.GET_ALL_XTT_SIBLINGS=38]="GET_ALL_XTT_SIBLINGS",t[t.GET_ALL_XTT_CHILDREN=39]="GET_ALL_XTT_CHILDREN",t[t.REF_OBJECT_INFO_VECTOR=40]="REF_OBJECT_INFO_VECTOR",t[t.GET_SUBSCRIPTIONS=41]="GET_SUBSCRIPTIONS",t[t.CRR_SIGNAL=42]="CRR_SIGNAL",t[t.CRR_OBJECT=43]="CRR_OBJECT",t[t.GET_PARENT=44]="GET_PARENT",t[t.GET_OBJECT_INFO_OBJID=45]="GET_OBJECT_INFO_OBJID",t[t.GET_OBJECT_REF_INFO_BOOLEAN_ARRAY=46]="GET_OBJECT_REF_INFO_BOOLEAN_ARRAY",t[t.GET_OBJECT_REF_INFO_FLOAT_ARRAY=47]="GET_OBJECT_REF_INFO_FLOAT_ARRAY",t[t.GET_OBJECT_REF_INFO_INT_ARRAY=48]="GET_OBJECT_REF_INFO_INT_ARRAY",t[t.GET_OBJECT_REF_INFO_STRING_ARRAY=49]="GET_OBJECT_REF_INFO_STRING_ARRAY",t[t.GET_MSG=50]="GET_MSG",t[t.GET_MSG_TEXT=51]="GET_MSG_TEXT",t[t.NAME_TO_ATTRREF=52]="NAME_TO_ATTRREF",t[t.ATTRREF_TO_NAME=53]="ATTRREF_TO_NAME",t[t.GET_ATTRREF_TID=54]="GET_ATTRREF_TID",t[t.GET_SUPER_CLASS=55]="GET_SUPER_CLASS",t[t.GET_ALL_CLASS_ATTRIBUTES_STRING=56]="GET_ALL_CLASS_ATTRIBUTES_STRING",t[t.GET_OBJECT_INFO_FLOAT_ARRAY=57]="GET_OBJECT_INFO_FLOAT_ARRAY",t[t.GET_OBJECT_INFO_INT_ARRAY=58]="GET_OBJECT_INFO_INT_ARRAY",t[t.GET_CIRCBUFF_INFO=59]="GET_CIRCBUFF_INFO",t[t.UPDATE_CIRCBUFF_INFO=60]="UPDATE_CIRCBUFF_INFO",t[t.GET_ATTRIBUTE_FLAGS=61]="GET_ATTRIBUTE_FLAGS",t[t.CLASSNAME_TO_ID=62]="CLASSNAME_TO_ID",t[t.GET_OBJECT=63]="GET_OBJECT",t[t.GET_OPWIND_MENU=64]="GET_OPWIND_MENU",t[t.GET_OBJECT_FROM_NAME=65]="GET_OBJECT_FROM_NAME",t[t.MH_SYNC=66]="MH_SYNC",t[t.MH_ACK=67]="MH_ACK",t[t.GET_OBJECT_FROM_AREF=68]="GET_OBJECT_FROM_AREF"}(o||(o={}));class p{static init(){return new Promise((t,e)=>{p.ws=new u(localStorage.getItem("HOST"),p.PORT,()=>{t()})})}static getObjectInfoBoolean(t){return p.ws.beginRequest(o.GET_OBJECT_INFO_BOOLEAN),p.ws.packString(t),p.ws.sendRequest().then(function(t){let e=t.getUint8();return{sts:t.sts,value:e}})}static getObjectInfoInt(t){return p.ws.beginRequest(o.GET_OBJECT_INFO_INT),p.ws.packString(t),p.ws.sendRequest().then(function(t){let e=t.getUint32();return{sts:t.sts,value:e}})}static getObjectInfoIntArray(t,e){return p.ws.beginRequest(o.GET_OBJECT_INFO_INT_ARRAY),p.ws.pack32Bit(e),p.ws.packString(t),p.ws.sendRequest().then(function(t){let e=t.getInt32();for(let n=0;n<e;n++)(void 0).push(t.getUint32());return{sts:t.sts,value:void 0}})}static getObjectInfoFloat(t){return p.ws.beginRequest(o.GET_OBJECT_INFO_FLOAT),p.ws.packString(t),p.ws.sendRequest().then(function(t){let e=t.getFloat32();return{sts:t.sts,value:e}})}static getObjectInfoFloatArray(t,e){return p.ws.beginRequest(o.GET_OBJECT_INFO_FLOAT_ARRAY),p.ws.pack32Bit(e),p.ws.packString(t),p.ws.sendRequest().then(function(t){let e=t.getInt32();for(let n=0;n<e;n++)(void 0).push(t.getFloat32());return{sts:t.sts,value:void 0}})}static refObjectInfo(t,e,n){let i=new T;return i.name=t,i.refid=p.subscriptionCount,i.type=e,i.elements=n,p.sub[p.subscriptionCount]=i,p.subscriptionCount++,p.ws.beginRequest(o.REF_OBJECT_INFO),p.ws.pack32Bit(i.refid),p.ws.pack32Bit(i.elements),p.ws.packString(i.name),p.ws.sendRequest(),i.refid}static unrefObjectInfo(t){p.ws.beginRequest(o.UNREF_OBJECT_INFO),p.ws.pack32Bit(t),delete p.sub[t],p.ws.sendRequest()}static getRefObjectInfoAll(t){p.ws.beginRequest(o.GET_OBJECT_REF_INFO_ALL),p.ws.sendRequest().then(function(e){let n=e.getUint32();for(let t=0;t<n;t++){let t=e.getUint32(),n=e.getUint32(),i=p.sub[t];if(void 0!==i){let s;switch(i.type){case l.j.Boolean:if(i.elements<=1)s=e.getUint8();else{let r=n;r!==i.elements&&console.log("Subscription size error",r,i.elements,t),s=new Array(r);for(let t=0;t<r;t++)s[t]=e.getUint8()}break;case l.j.Float32:if(i.elements<=1)s=e.getFloat32();else{let r=n/4;r!==i.elements&&console.log("Subscription size error",r,i.elements,t),s=new Array(r);for(let t=0;t<r;t++)s[t]=e.getFloat32()}break;case l.j.Int8:case l.j.Int16:case l.j.Int32:case l.j.UInt8:case l.j.UInt16:case l.j.UInt32:case l.j.Status:case l.j.NetStatus:case l.j.Mask:case l.j.Enum:case l.j.Bit:if(i.elements<=1)s=e.getInt32();else{let r=n/4;r!==i.elements&&console.log("Subscription size error",r,i.elements,t),s=new Array(r);for(let t=0;t<r;t++)s[t]=e.getInt32()}break;case l.j.String:case l.j.Time:case l.j.DeltaTime:case l.j.AttrRef:case l.j.Objid:if(i.elements<=1)s=e.getString();else{let n=i.elements;n!==i.elements&&console.log("Subscription size error",n,i.elements,t),s=new Array(n);for(let t=0;t<n;t++)s[t]=e.getString()}}p.sub[t].value=s}}t()})}static getObjectRefInfo(t){return p.sub[t].value}static setObjectInfoBoolean(t,e){p.ws.beginRequest(o.SET_OBJECT_INFO_BOOLEAN),p.ws.pack32Bit(e),p.ws.packString(t),p.ws.sendRequest()}static setObjectInfoInt(t,e){p.ws.beginRequest(o.SET_OBJECT_INFO_INT),p.ws.pack32Bit(e),p.ws.packString(t),p.ws.sendRequest()}static setObjectInfoFloat(t,e){p.ws.beginRequest(o.SET_OBJECT_INFO_FLOAT);let n=new ArrayBuffer(4);new Float32Array(n)[0]=e;let i=new Uint8Array(n);p.ws.reqData.push(i[0]),p.ws.reqData.push(i[1]),p.ws.reqData.push(i[2]),p.ws.reqData.push(i[3]),p.ws.packString(t),p.ws.sendRequest()}static setObjectInfoString(t,e){p.ws.beginRequest(o.SET_OBJECT_INFO_STRING),p.ws.packString(e),p.ws.packString(t),p.ws.sendRequest()}static setObjectInfo(t,e,n){n===l.j.Boolean?p.setObjectInfoBoolean(t,e):n===l.j.Float32||n===l.j.Float64?p.setObjectInfoFloat(t,e):n===l.j.String?p.setObjectInfoString(t,e):p.setObjectInfoInt(t,e)}static toggleObjectInfo(t){p.ws.beginRequest(o.TOGGLE_OBJECT_INFO),p.ws.packString(t),p.ws.sendRequest()}static getAllXttChildren(t){return p.ws.beginRequest(o.GET_ALL_XTT_CHILDREN),p.ws.pack32Bit(t.vid),p.ws.pack32Bit(t.oix),p.ws.sendRequest().then(function(t){let e=[],n=t.getUint32();for(let i=0;i<n;i++){let n=new O,i=t.getUint32(),s=t.getUint32();n.objid=new l.h(i,s),n.cid=t.getUint32(),n.has_children=0!==t.getUint16(),n.name=t.getString(),n.description=t.getString(),n.classname=t.getString(),e.push(n)}return{sts:t.sts,value:e}})}static getAllClassAttributes(t,e){return p.ws.beginRequest(o.GET_ALL_CLASS_ATTRIBUTES),p.ws.pack32Bit(t),p.ws.pack32Bit(e.vid),p.ws.pack32Bit(e.oix),p.ws.sendRequest().then(function(t){let e=[],n=t.getUint32();for(let i=0;i<n;i++){let n=new f;n.type=t.getUint32(),n.flags=t.getUint32(),n.size=t.getUint16(),n.elements=t.getUint16(),n.name=t.getString(),n.classname=t.getString(),e.push(n)}return{sts:t.sts,value:e}})}static unpackGetObject(t){let e=null;if(Object(l.p)(t.sts)){e=new O;let n=t.getUint32(),i=t.getUint32();e.objid=new l.h(n,i),e.cid=t.getUint32(),e.has_children=0!==t.getUint16(),e.name=t.getString(),e.fullname=t.getString(),e.classname=t.getString(),e.description=t.getString(),e.param1=t.getString()}return{sts:t.sts,value:e}}static getObject(t,e){return p.ws.beginRequest(o.GET_OBJECT),p.ws.pack16Bit(e),p.ws.pack32Bit(t.vid),p.ws.pack32Bit(t.oix),p.ws.sendRequest().then(p.unpackGetObject)}static getObjectFromAref(t,e){return p.ws.beginRequest(o.GET_OBJECT_FROM_AREF),p.ws.pack16Bit(e),p.ws.pack32Bit(t.objid.vid),p.ws.pack32Bit(t.objid.oix),p.ws.pack32Bit(t.offset),p.ws.pack32Bit(t.body),p.ws.pack32Bit(t.size),p.ws.pack32Bit(t.flags),p.ws.sendRequest().then(p.unpackGetObject)}static getObjectFromName(t,e){return p.ws.beginRequest(o.GET_OBJECT_FROM_NAME),p.ws.pack16Bit(e),p.ws.packString(t),p.ws.sendRequest().then(p.unpackGetObject)}static crrSignal(t){return p.ws.beginRequest(o.CRR_SIGNAL),p.ws.pack32Bit(t.vid),p.ws.pack32Bit(t.oix),p.ws.sendRequest().then(function(t){let e=[];if(Object(l.p)(t.sts)){let n=t.getUint16();for(let i=0;i<n;i++){let n=new E;n.type=t.getUint16();let i=t.getUint32(),s=t.getUint32();n.objid=new l.h(i,s),n.name=t.getString(),n.classname=t.getString(),e.push(n)}}return{sts:t.sts,value:e}})}static getOpwindMenu(t){return p.ws.beginRequest(o.GET_OPWIND_MENU),p.ws.packString(t),p.ws.sendRequest().then(function(t){let e=new g;if(Object(l.p)(t.sts)){e.title=t.getString(),e.text=t.getString(),e.enable_language=t.getUint32(),e.enable_login=t.getUint32(),e.enable_alarmlist=t.getUint32(),e.enable_eventlog=t.getUint32(),e.enable_navigator=t.getUint32(),e.disable_help=t.getUint32(),e.disable_proview=t.getUint32(),e.language=t.getUint32();let n=t.getUint16();for(let i=0;i<n;i++){let n=new h;n.type=t.getUint32(),n.text=t.getString(),n.name=t.getString(),n.url=t.getString(),e.buttons.push(n)}}return{sts:t.sts,value:e}})}static login(t,e){return p.ws.beginRequest(o.CHECK_USER),p.ws.packString(t),p.ws.packString(e),p.ws.sendRequest().then(function(t){let e=Object(l.p)(t.sts)?t.getUint32():0;return{sts:t.sts,value:e}})}static getMsg(t){return p.ws.beginRequest(o.GET_MSG),p.ws.pack32Bit(t),p.ws.sendRequest().then(function(t){let e=Object(l.p)(t.sts)?t.getString():"";return{sts:t.sts,value:e}})}static mhSync(t){return p.ws.beginRequest(o.MH_SYNC),p.ws.pack32Bit(t),p.ws.sendRequest().then(function(t){let e=[],n=t.getUint32();for(let i=0;i<n;i++){let n=new d;n.eventTime=t.getString(),n.eventText=t.getString(),n.eventName=t.getString(),n.eventFlags=t.getUint32(),n.eventStatus=t.getUint32(),n.eventPrio=t.getUint32(),n.eventId=new _,n.eventId.nix=t.getUint32(),n.eventId.idx=t.getUint32(),n.eventId.birthTime=t.getString(),n.targetId=new _,n.targetId.nix=t.getUint32(),n.targetId.idx=t.getUint32(),n.targetId.birthTime=t.getString(),n.eventType=t.getUint32();let i=new l.h(0,0);i.vid=t.getUint32(),i.oix=t.getUint32(),n.object=new l.g,n.object.objid=i,n.object.offset=t.getUint32(),n.object.body=t.getUint32(),n.object.size=t.getUint32(),n.object.flags=t.getUint32();let s=new l.h(0,0);s.vid=t.getUint32(),s.oix=t.getUint32(),n.supObject=new l.g,n.supObject.objid=s,n.supObject.offset=t.getUint32(),n.supObject.body=t.getUint32(),n.supObject.size=t.getUint32(),n.supObject.flags=t.getUint32(),n.eventMoreText=t.getString(),n.syncIdx=t.getUint32(),e.push(n)}return{sts:t.sts,value:e}})}static mhAcknowledge(t){return p.ws.beginRequest(o.MH_ACK),p.ws.pack32Bit(t.nix),p.ws.pack32Bit(t.idx),p.ws.packString(t.birthTime),p.ws.sendRequest().then(t=>t.sts)}}p.sub=[],p.PORT=4448,p.subscriptionCount=1},6:function(t,e,n){"use strict";function i(t,e){var n=function(t){for(var e=!1,n=!1,i="",s="",r="",a=0;a<t.length;a++){var o=t[a];"."===o?(n=!0,e=!1,r.length>0&&(r+=" ")):"#"===o?(e=!0,n=!1):e?s+=o:n?r+=o:i+=o}return{tag:i||"div",id:s,className:r}}(t),i=n.tag,s=n.id,r=n.className,a=e?document.createElementNS(e,i):document.createElement(i);return s&&(a.id=s),r&&(e?a.setAttribute("class",r):a.className=r),a}function s(t,e){var n=g(t),i=g(e);return e===i&&i.__redom_view&&(e=i.__redom_view),i.parentNode&&(r(e,i,n),n.removeChild(i)),e}function r(t,e,n){var i=e.__redom_lifecycle;if(a(i))e.__redom_lifecycle={};else{var s=n;for(e.__redom_mounted&&u(e,"onunmount");s;){var r=s.__redom_lifecycle||{};for(var o in i)r[o]&&(r[o]-=i[o]);a(r)&&(s.__redom_lifecycle=null),s=s.parentNode}}}function a(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}n.d(e,"a",function(){return R}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return O});var o=["onmount","onremount","onunmount"],l="undefined"!=typeof window&&"ShadowRoot"in window;function c(t,e,n,i){var s=g(t),a=g(e);e===a&&a.__redom_view&&(e=a.__redom_view),e!==a&&(a.__redom_view=e);var c=a.__redom_mounted,_=a.parentNode;return c&&_!==s&&r(0,a,_),null!=n?i?s.replaceChild(a,g(n)):s.insertBefore(a,g(n)):s.appendChild(a),function(t,e,n,i){for(var s=e.__redom_lifecycle||(e.__redom_lifecycle={}),r=n===i,a=!1,c=0,_=o;c<_.length;c+=1){var d=_[c];r||t!==e&&d in t&&(s[d]=(s[d]||0)+1),s[d]&&(a=!0)}if(!a)return void(e.__redom_lifecycle={});var T=n,O=!1;(r||T&&T.__redom_mounted)&&(u(e,r?"onremount":"onmount"),O=!0);for(;T;){var f=T.parentNode,h=T.__redom_lifecycle||(T.__redom_lifecycle={});for(var g in s)h[g]=(h[g]||0)+s[g];if(O)break;(T.nodeType===Node.DOCUMENT_NODE||l&&T instanceof ShadowRoot||f&&f.__redom_mounted)&&(u(T,r?"onremount":"onmount"),O=!0),T=f}}(e,a,s,_),e}function u(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var n=t.__redom_lifecycle;if(n){var i=t.__redom_view,s=0;for(var r in i&&i[e]&&i[e](),n)r&&s++;if(s)for(var a=t.firstChild;a;){var o=a.nextSibling;u(a,e),a=o}}}function _(t,e,n){t.style[e]=null==n?"":n}var d="http://www.w3.org/1999/xlink";function T(t,e,n,i){var s=g(t);if("object"==typeof e)for(var r in e)T(s,r,e[r],i);else{var a=s instanceof SVGElement,o="function"==typeof n;if("style"===e&&"object"==typeof n)!function(t,e,n){var i=g(t);if("object"==typeof e)for(var s in e)_(i,s,e[s]);else _(i,e,n)}(s,n);else if(a&&o)s[e]=n;else if("dataset"===e)!function t(e,n,i){if("object"==typeof n)for(var s in n)t(e,s,n[s]);else null!=i?e.dataset[n]=i:delete e.dataset[n]}(s,n);else if(!a&&(e in s||o)&&"list"!==e)s[e]=n;else{if(a&&"xlink"===e)return void function t(e,n,i){if("object"==typeof n)for(var s in n)t(e,s,n[s]);else null!=i?e.setAttributeNS(d,n,i):e.removeAttributeNS(d,n,i)}(s,n);i&&"class"===e&&(n=s.className+" "+n),null==n?s.removeAttribute(e):s.setAttribute(e,n)}}}function O(t){return document.createTextNode(null!=t?t:"")}function f(t,e,n){for(var i=0,s=e;i<s.length;i+=1){var r=s[i];if(0===r||r){var a=typeof r;"function"===a?r(t):"string"===a||"number"===a?t.appendChild(O(r)):E(g(r))?c(t,r):r.length?f(t,r,n):"object"===a&&T(t,r,null,n)}}}function h(t){return"string"==typeof t?b(t):g(t)}function g(t){return t.nodeType&&t||!t.el&&t||g(t.el)}function E(t){return t&&t.nodeType}var p={};function b(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];var s=typeof t;if("string"===s)e=v(t).cloneNode(!1);else if(E(t))e=t.cloneNode(!1);else{if("function"!==s)throw new Error("At least one argument required");var r=t;e=new(Function.prototype.bind.apply(r,[null].concat(n)))}return f(g(e),n,!0),e}var R=b;function v(t){return p[t]||(p[t]=i(t))}function w(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=function t(e,n,i){var s=i;var r=new Array(n.length);for(var a=0;a<n.length;a++)r[a]=n[a]&&g(n[a]);for(var o=0;o<n.length;o++){var l=n[o];if(l){var u=r[o];if(u!==s)if(E(u)){var _=s&&s.nextSibling,d=null!=l.__redom_index,T=d&&_===r[o+1];c(e,l,s,T),T&&(s=_)}else null!=l.length&&(s=t(e,l,s));else s=s.nextSibling}}return s}(t,e,g(t).firstChild);i;){var r=i.nextSibling;s(t,i),i=r}}b.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=v(t);return b.bind.apply(b,[this,i].concat(e))};var S=function(t,e,n){this.View=t,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};S.prototype.update=function(t,e){for(var n=this.View,i=this.key,s=this.initData,r=null!=i,a=this.lookup,o={},l=new Array(t.length),c=this.views,u=0;u<t.length;u++){var _=t[u],d=void 0;if(r){var T=i(_);d=a[T]||new n(s,_,u,t),o[T]=d,d.__redom_id=T}else d=c[u]||new n(s,_,u,t);d.update&&d.update(_,u,t,e),g(d.el).__redom_view=d,l[u]=d}this.oldViews=c,this.views=l,this.oldLookup=a,this.lookup=o};var I=function(t,e,n,i){this.__redom_list=!0,this.View=e,this.initData=i,this.views=[],this.pool=new S(e,n,i),this.el=h(t),this.keySet=null!=n};I.prototype.update=function(t,e){void 0===t&&(t=[]);var n=this.keySet,i=this.views;this.pool.update(t,e);var r=this.pool,a=r.views,o=r.lookup;if(n)for(var l=0;l<i.length;l++){var c=i[l];null==o[c.__redom_id]&&(c.__redom_index=null,s(this,c))}for(var u=0;u<a.length;u++){a[u].__redom_index=u}w(this,a),n&&(this.lookup=o),this.views=a},I.extend=function(t,e,n,i){return I.bind(I,t,e,n,i)},I.extend;var A=function(t,e){this.el=O(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:t.el instanceof Node?(this._el=t,this.view=t):this._View=t,this._initData=e};A.prototype.update=function(t,e){var n=this._placeholder,i=this.el.parentNode;if(t){if(!this.visible)if(this._el)c(i,this._el,n),s(i,n),this.el=g(this._el),this.visible=t;else{var r=new(0,this._View)(this._initData);this.el=g(r),this.view=r,c(i,r,n),s(i,n)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return c(i,n,this._el),s(i,this._el),this.el=n,void(this.visible=t);c(i,n,this.view),s(i,this.view),this.el=n,this.view=null}this.visible=t};var m=function(t,e,n){this.el=h(t),this.Views=e,this.initData=n};m.prototype.update=function(t,e){if(t!==this.route){var n=this.Views[t];this.route=t,n&&(n instanceof Node||n.el instanceof Node)?this.view=n:this.view=n&&new n(this.initData,e),w(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var N="http://www.w3.org/2000/svg",C={};function B(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];var s=typeof t;if("string"===s)e=F(t).cloneNode(!1);else if(E(t))e=t.cloneNode(!1);else{if("function"!==s)throw new Error("At least one argument required");var r=t;e=new(Function.prototype.bind.apply(r,[null].concat(n)))}return f(g(e),n,!0),e}function F(t){return C[t]||(C[t]=i(t,N))}B.extend=function(t){var e=F(t);return B.bind(this,e)},B.ns=N},9:function(t,e,n){"use strict";var i=n(6);class s{static byteToUnsigned(t){let e=Math.floor(t);return e>=0?e:e+256}static fourBytesToInt(t,e){let n=s.byteToUnsigned(t[e++]);return n|=s.byteToUnsigned(t[e++])<<8,n|=s.byteToUnsigned(t[e++])<<16,n|=s.byteToUnsigned(t[e])<<24}static intToFourBytes(t,e){e.push(255&t),e.push(t>>>8&255),e.push(t>>>16&255),e.push(t>>>24&255)}static PERM_OP(t,e,n,i){let s=(t>>>n^e)&i;return[t^=s<<n,e^=s]}static HPERM_OP(t,e,n){let i=(t<<16-e^t)&n;return t^i^i>>>16-e}static des_set_key(t){let e=new Array(2*s.ITERATIONS),n=s.fourBytesToInt(t,0),i=s.fourBytesToInt(t,4);[i,n]=s.PERM_OP(i,n,4,252645135),n=s.HPERM_OP(n,-2,3435921408),i=s.HPERM_OP(i,-2,3435921408),[i,n]=s.PERM_OP(i,n,1,1431655765),[n,i]=s.PERM_OP(n,i,8,16711935),[i,n]=s.PERM_OP(i,n,1,1431655765),i=(255&i)<<16|65280&i|(16711680&i)>>>16|(4026531840&n)>>>4,n&=268435455;let r=0;for(let t=0;t<s.ITERATIONS;t++){s.shifts2[t]?(n=n>>>2|n<<26,i=i>>>2|i<<26):(n=n>>>1|n<<27,i=i>>>1|i<<27),n&=268435455,i&=268435455;let a=s.skb[0][63&n]|s.skb[1][n>>>6&3|n>>>7&60]|s.skb[2][n>>>13&15|n>>>14&48]|s.skb[3][n>>>20&1|n>>>21&6|n>>>22&56],o=s.skb[4][63&i]|s.skb[5][i>>>7&3|i>>>8&60]|s.skb[6][i>>>15&63]|s.skb[7][i>>>21&15|i>>>22&48];e[r++]=4294967295&(o<<16|65535&a),a=(a=a>>>16|4294901760&o)<<4|a>>>28,e[r++]=4294967295&a}return e}static D_ENCRYPT(t,e,n,i,r,a){let o,l,c;return l=(c=e^e>>>16)&i,c&=r,l=l^l<<16^e^a[n],o=(o=c^c<<16^e^a[n+1])>>>4|o<<28,t^=s.SPtrans[1][63&o]|s.SPtrans[3][o>>>8&63]|s.SPtrans[5][o>>>16&63]|s.SPtrans[7][o>>>24&63]|s.SPtrans[0][63&l]|s.SPtrans[2][l>>>8&63]|s.SPtrans[4][l>>>16&63]|s.SPtrans[6][l>>>24&63]}static body(t,e,n){let i=0,r=0,a=0;for(let o=0;o<25;o++){for(let a=0;a<2*s.ITERATIONS;a+=4)i=s.D_ENCRYPT(i,r,a,e,n,t),r=s.D_ENCRYPT(r,i,a+2,e,n,t);a=i,i=r,r=a}return a=r,r=i>>>1|i<<31,i=a>>>1|a<<31,i&=4294967295,r&=4294967295,[r,i]=s.PERM_OP(r,i,1,1431655765),[i,r]=s.PERM_OP(i,r,8,16711935),[r,i]=s.PERM_OP(r,i,2,858993459),[i,r]=s.PERM_OP(i,r,16,65535),[r,i]=s.PERM_OP(r,i,4,252645135),[i,r]}static crypt(t,e){for(;t.length<2;)t+="A";let n,i=t.charAt(0)+"",r=t.charAt(1)+"",a=i.charCodeAt(0),o=r.charCodeAt(0);n=i+r+" ";let l=s.con_salt[a],c=s.con_salt[o]<<4,u=[0,0,0,0,0,0,0,0];for(let t=0;t<u.length&&t<e.length;t++){let n=e.charCodeAt(t);u[t]=n<<1}let _=s.des_set_key(u),d=s.body(_,l,c),T=new Array(9);s.intToFourBytes(d[0],T),s.intToFourBytes(d[1],T),T.push(0);let O=0;for(let t=2,e=128;t<13;t++)for(let i=0,r=0;i<6;i++)r<<=1,0!=(T[O]&e)&&(r|=1),0===(e>>>=1)&&(O++,e=128),n=n.substring(0,t)+String.fromCharCode(s.cov_2char[r])+n.substring(t+1,n.length);return n}}s.ITERATIONS=16,s.con_salt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,0],s.shifts2=[!1,!1,!0,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1],s.skb=[[0,16,536870912,536870928,65536,65552,536936448,536936464,2048,2064,536872960,536872976,67584,67600,536938496,536938512,32,48,536870944,536870960,65568,65584,536936480,536936496,2080,2096,536872992,536873008,67616,67632,536938528,536938544,524288,524304,537395200,537395216,589824,589840,537460736,537460752,526336,526352,537397248,537397264,591872,591888,537462784,537462800,524320,524336,537395232,537395248,589856,589872,537460768,537460784,526368,526384,537397280,537397296,591904,591920,537462816,537462832],[0,33554432,8192,33562624,2097152,35651584,2105344,35659776,4,33554436,8196,33562628,2097156,35651588,2105348,35659780,1024,33555456,9216,33563648,2098176,35652608,2106368,35660800,1028,33555460,9220,33563652,2098180,35652612,2106372,35660804,268435456,301989888,268443648,301998080,270532608,304087040,270540800,304095232,268435460,301989892,268443652,301998084,270532612,304087044,270540804,304095236,268436480,301990912,268444672,301999104,270533632,304088064,270541824,304096256,268436484,301990916,268444676,301999108,270533636,304088068,270541828,304096260],[0,1,262144,262145,16777216,16777217,17039360,17039361,2,3,262146,262147,16777218,16777219,17039362,17039363,512,513,262656,262657,16777728,16777729,17039872,17039873,514,515,262658,262659,16777730,16777731,17039874,17039875,134217728,134217729,134479872,134479873,150994944,150994945,151257088,151257089,134217730,134217731,134479874,134479875,150994946,150994947,151257090,151257091,134218240,134218241,134480384,134480385,150995456,150995457,151257600,151257601,134218242,134218243,134480386,134480387,150995458,150995459,151257602,151257603],[0,1048576,256,1048832,8,1048584,264,1048840,4096,1052672,4352,1052928,4104,1052680,4360,1052936,67108864,68157440,67109120,68157696,67108872,68157448,67109128,68157704,67112960,68161536,67113216,68161792,67112968,68161544,67113224,68161800,131072,1179648,131328,1179904,131080,1179656,131336,1179912,135168,1183744,135424,1184e3,135176,1183752,135432,1184008,67239936,68288512,67240192,68288768,67239944,68288520,67240200,68288776,67244032,68292608,67244288,68292864,67244040,68292616,67244296,68292872],[0,268435456,65536,268500992,4,268435460,65540,268500996,536870912,805306368,536936448,805371904,536870916,805306372,536936452,805371908,1048576,269484032,1114112,269549568,1048580,269484036,1114116,269549572,537919488,806354944,537985024,806420480,537919492,806354948,537985028,806420484,4096,268439552,69632,268505088,4100,268439556,69636,268505092,536875008,805310464,536940544,805376e3,536875012,805310468,536940548,805376004,1052672,269488128,1118208,269553664,1052676,269488132,1118212,269553668,537923584,806359040,537989120,806424576,537923588,806359044,537989124,806424580],[0,134217728,8,134217736,1024,134218752,1032,134218760,131072,134348800,131080,134348808,132096,134349824,132104,134349832,1,134217729,9,134217737,1025,134218753,1033,134218761,131073,134348801,131081,134348809,132097,134349825,132105,134349833,33554432,167772160,33554440,167772168,33555456,167773184,33555464,167773192,33685504,167903232,33685512,167903240,33686528,167904256,33686536,167904264,33554433,167772161,33554441,167772169,33555457,167773185,33555465,167773193,33685505,167903233,33685513,167903241,33686529,167904257,33686537,167904265],[0,256,524288,524544,16777216,16777472,17301504,17301760,16,272,524304,524560,16777232,16777488,17301520,17301776,2097152,2097408,2621440,2621696,18874368,18874624,19398656,19398912,2097168,2097424,2621456,2621712,18874384,18874640,19398672,19398928,512,768,524800,525056,16777728,16777984,17302016,17302272,528,784,524816,525072,16777744,16778e3,17302032,17302288,2097664,2097920,2621952,2622208,18874880,18875136,19399168,19399424,2097680,2097936,2621968,2622224,18874896,18875152,19399184,19399440],[0,67108864,262144,67371008,2,67108866,262146,67371010,8192,67117056,270336,67379200,8194,67117058,270338,67379202,32,67108896,262176,67371040,34,67108898,262178,67371042,8224,67117088,270368,67379232,8226,67117090,270370,67379234,2048,67110912,264192,67373056,2050,67110914,264194,67373058,10240,67119104,272384,67381248,10242,67119106,272386,67381250,2080,67110944,264224,67373088,2082,67110946,264226,67373090,10272,67119136,272416,67381280,10274,67119138,272418,67381282]],s.SPtrans=[[8520192,131072,2155872256,2156003840,8388608,2147615232,2147614720,2155872256,2147615232,8520192,8519680,2147484160,2155872768,8388608,0,2147614720,131072,2147483648,8389120,131584,2156003840,8519680,2147484160,8389120,2147483648,512,131584,2156003328,512,2155872768,2156003328,0,0,2156003840,8389120,2147614720,8520192,131072,2147484160,8389120,2156003328,512,131584,2155872256,2147615232,2147483648,2155872256,8519680,2156003840,131584,8519680,2155872768,8388608,2147484160,2147614720,0,131072,8388608,2155872768,8520192,2147483648,2156003328,512,2147615232],[268705796,0,270336,268697600,268435460,8196,268443648,270336,8192,268697604,4,268443648,262148,268705792,268697600,4,262144,268443652,268697604,8192,270340,268435456,0,262148,268443652,270340,268705792,268435460,268435456,262144,8196,268705796,262148,268705792,268443648,270340,268705796,262148,268435460,0,268435456,8196,262144,268697604,8192,268435456,270340,268443652,268705792,8192,0,268435460,4,268705796,270336,268697600,268697604,262144,8196,268443648,268443652,4,268697600,270336],[1090519040,16842816,64,1090519104,1073807360,16777216,1090519104,65600,16777280,65536,16842752,1073741824,1090584640,1073741888,1073741824,1090584576,0,1073807360,16842816,64,1073741888,1090584640,65536,1090519040,1090584576,16777280,1073807424,16842752,65600,0,16777216,1073807424,16842816,64,1073741824,65536,1073741888,1073807360,16842752,1090519104,0,16842816,65600,1090584576,1073807360,16777216,1090584640,1073741824,1073807424,1090519040,16777216,1090584640,65536,16777280,1090519104,65600,16777280,0,1090584576,1073741888,1090519040,1073807424,64,16842752],[1049602,67109888,2,68158466,0,68157440,67109890,1048578,68158464,67108866,67108864,1026,67108866,1049602,1048576,67108864,68157442,1049600,1024,2,1049600,67109890,68157440,1024,1026,0,1048578,68158464,67109888,68157442,68158466,1048576,68157442,1026,1048576,67108866,1049600,67109888,2,68157440,67109890,0,1024,1048578,0,68157442,68158464,1024,67108864,68158466,1049602,1048576,68158466,2,67109888,1049602,1048578,1049600,68157440,67109890,1026,67108864,67108866,68158464],[33554432,16384,256,33571080,33570824,33554688,16648,33570816,16384,8,33554440,16640,33554696,33570824,33571072,0,16640,33554432,16392,264,33554688,16648,0,33554440,8,33554696,33571080,16392,33570816,256,264,33571072,33571072,33554696,16392,33570816,16384,8,33554440,33554688,33554432,16640,33571080,0,16648,33554432,256,16392,33554696,256,0,33571080,33570824,33571072,264,16384,16640,33570824,33554688,264,8,16648,33570816,33554440],[536870928,524304,0,537397248,524304,2048,536872976,524288,2064,537397264,526336,536870912,536872960,536870928,537395200,526352,524288,536872976,537395216,0,2048,16,537397248,537395216,537397264,537395200,536870912,2064,16,526336,526352,536872960,2064,536870912,536872960,526352,537397248,524304,0,536872960,536870912,2048,537395216,524288,524304,537397264,526336,16,537397264,526336,524288,536872976,536870928,537395200,526352,0,2048,536870928,536872976,537397248,537395200,2064,16,537395216],[4096,128,4194432,4194305,4198529,4097,4224,0,4194304,4194433,129,4198400,1,4198528,4198400,129,4194433,4096,4097,4198529,0,4194432,4194305,4224,4198401,4225,4198528,1,4225,4198401,128,4194304,4225,4198400,4198401,129,4096,128,4194304,4198401,4194433,4225,4224,0,128,4194305,1,4194432,0,4194433,4194432,4224,129,4096,4198529,4194304,4198528,1,4097,4198529,4194305,4198528,4198400,4097],[136314912,136347648,32800,0,134250496,2097184,136314880,136347680,32,134217728,2129920,32800,2129952,134250528,134217760,136314880,32768,2129952,2097184,134250496,136347680,134217760,0,2129920,134217728,2097152,134250528,136314912,2097152,32768,136347648,32,2097152,32768,134217760,136347680,32800,134217728,0,2129920,136314912,134250528,134250496,2097184,136347648,32,2097184,134250496,136347680,2097152,136314880,134217760,2129920,32800,134250528,136314880,32,136347648,2129952,0,134217728,136314912,32768,2129952]],s.cov_2char=[46,47,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122];var r=n(5);n.d(e,"a",function(){return a});class a{constructor(t=(()=>{}),e=(()=>{})){this.bc_success=t,this.bc_cancel=e,this.render()}static is_authorized(t,e=!1){return a.priv&t||e||window.alert("Not authorized for this operation"),!!(a.priv&t)}static fetchFromStore(){a.priv=Number(localStorage.getItem("pwr_privilege")),a.user=localStorage.getItem("pwr_user")}login_cb(t){1&t.sts?(a.priv=t.value,localStorage.setItem("pwr_privilege",String(a.priv)),document.title=a.user+" on "+window.location.hostname||"localhost",console.log("Login",a.user,"Priv",a.priv),this.bc_success&&this.bc_success()):(a.logout_cb(),console.log("Login failure","Priv",a.priv))}static logout_cb(){a.priv=0,a.user="",localStorage.setItem("pwr_privilege",String(a.priv)),document.title=window.location.hostname||"localhost"}render(){let t=Object(i.a)("div",{style:{backgroundColor:"#ddeeff",padding:"10px",display:"block",overflow:"hidden",margin:"auto",width:"max-content"}});Object(i.b)(t,Object(i.d)("Host")),Object(i.b)(t,Object(i.a)("br"));let e=localStorage.getItem("HOST")||"localhost",n=Object(i.a)("input",{value:e});Object(i.b)(t,n),Object(i.b)(t,Object(i.a)("br")),Object(i.b)(t,Object(i.d)("Username")),Object(i.b)(t,Object(i.a)("br"));let o=Object(i.a)("input",{autofocus:!0});Object(i.b)(t,o),Object(i.b)(t,Object(i.a)("br")),Object(i.b)(t,Object(i.d)("Password")),Object(i.b)(t,Object(i.a)("br"));let l=Object(i.a)("input",{type:"password"});Object(i.b)(t,l),Object(i.b)(t,Object(i.a)("br"));let c=Object(i.a)("input",{type:"button",value:"Apply"});Object(i.b)(t,c);let u=Object(i.a)("input",{type:"button",value:"Cancel",style:{cssFloat:"right"}});Object(i.b)(t,u),Object(i.c)(document.body,t);let _=this;c.addEventListener("click",()=>{let t=o.value,e=l.value;e=s.crypt("aa",e),a.user=t,localStorage.setItem("HOST",n.value),r.d.init().then(()=>{r.d.login(t,e).then(_.login_cb.bind(_))})}),u.addEventListener("click",this.bc_cancel)}static reduce_privilege(t){this.priv&=~t,localStorage.setItem("pwr_privilege",String(a.priv))}}a.priv=0,a.user=""}});